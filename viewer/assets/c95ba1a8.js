var lg=Object.defineProperty;var fg=(g,p,a)=>p in g?lg(g,p,{enumerable:!0,configurable:!0,writable:!0,value:a}):g[p]=a;var To=(g,p,a)=>(fg(g,typeof p!="symbol"?p+"":p,a),a);import{c as Ci,b as ai,e as dg,V as pg,p as pi,R as Di,t as L1,u as gg,v as mg,q as _1,l as hg,L as vg,j as yg,k as bg,m as Ag,w as wg,n as xg,o as Sg}from"./index.dc3130ce.js";import{P as Cg,i as Pg}from"./14d330bb.js";(function(g){var p={};function a(u){if(p[u])return p[u].exports;var f=p[u]={i:u,l:!1,exports:{}};return g[u].call(f.exports,f,f.exports,a),f.l=!0,f.exports}a.m=g,a.c=p,a.d=function(u,f,P){a.o(u,f)||Object.defineProperty(u,f,{enumerable:!0,get:P})},a.r=function(u){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},a.t=function(u,f){if(1&f&&(u=a(u)),8&f||4&f&&typeof u=="object"&&u&&u.__esModule)return u;var P=Object.create(null);if(a.r(P),Object.defineProperty(P,"default",{enumerable:!0,value:u}),2&f&&typeof u!="string")for(var U in u)a.d(P,U,function(m){return u[m]}.bind(null,U));return P},a.n=function(u){var f=u&&u.__esModule?function(){return u.default}:function(){return u};return a.d(f,"a",f),f},a.o=function(u,f){return Object.prototype.hasOwnProperty.call(u,f)},a.p="",a(a.s=197)})([function(g,p,a){(function(u){a.d(p,"m",function(){return V}),a.d(p,"n",function(){return d}),a.d(p,"o",function(){return O}),a.d(p,"g",function(){return Y}),a.d(p,"d",function(){return q}),a.d(p,"j",function(){return Ae}),a.d(p,"k",function(){return ce}),a.d(p,"e",function(){return ye}),a.d(p,"l",function(){return j}),a.d(p,"c",function(){return Pe}),a.d(p,"f",function(){return Oe}),a.d(p,"a",function(){return xe}),a.d(p,"h",function(){return X}),a.d(p,"i",function(){return Z});var f=a(19);function P(le,ge){return function(ze){if(Array.isArray(ze))return ze}(le)||function(ze,nt){var st=ze==null?null:typeof Symbol!="undefined"&&ze[Symbol.iterator]||ze["@@iterator"];if(st!=null){var Ge,N,W=[],de=!0,ie=!1;try{for(st=st.call(ze);!(de=(Ge=st.next()).done)&&(W.push(Ge.value),!nt||W.length!==nt);de=!0);}catch(_e){ie=!0,N=_e}finally{try{de||st.return==null||st.return()}finally{if(ie)throw N}}return W}}(le,ge)||C(le,ge)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function U(le){return(U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge})(le)}function m(le,ge){var ze=Object.keys(le);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(le);ge&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(le,st).enumerable})),ze.push.apply(ze,nt)}return ze}function w(le){for(var ge=1;ge<arguments.length;ge++){var ze=arguments[ge]!=null?arguments[ge]:{};ge%2?m(Object(ze),!0).forEach(function(nt){r(le,nt,ze[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(le,Object.getOwnPropertyDescriptors(ze)):m(Object(ze)).forEach(function(nt){Object.defineProperty(le,nt,Object.getOwnPropertyDescriptor(ze,nt))})}return le}function r(le,ge,ze){return ge in le?Object.defineProperty(le,ge,{value:ze,enumerable:!0,configurable:!0,writable:!0}):le[ge]=ze,le}function b(le){return function(ge){if(Array.isArray(ge))return A(ge)}(le)||function(ge){if(typeof Symbol!="undefined"&&ge[Symbol.iterator]!=null||ge["@@iterator"]!=null)return Array.from(ge)}(le)||C(le)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function C(le,ge){if(le){if(typeof le=="string")return A(le,ge);var ze=Object.prototype.toString.call(le).slice(8,-1);return ze==="Object"&&le.constructor&&(ze=le.constructor.name),ze==="Map"||ze==="Set"?Array.from(le):ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ze)?A(le,ge):void 0}}function A(le,ge){(ge==null||ge>le.length)&&(ge=le.length);for(var ze=0,nt=new Array(ge);ze<ge;ze++)nt[ze]=le[ze];return nt}var x=0,E=Symbol("void"),M={};function S(){}["log","debug","info","warn","error","time","timeEnd","group","groupEnd"].forEach(function(le){M[le]=S}),u.console=console.hasOwnProperty("log")?console:M;var D={debug:S,error:u.console.error||S,info:u.console.info||S,log:u.console.log||S,warn:u.console.warn||S};function V(){D.debug.apply(D,arguments)}function d(){D.error.apply(D,arguments)}function O(){D.warn.apply(D,arguments)}var F={},I={Float32Array,Float64Array,Uint8Array,Int8Array,Uint16Array,Int16Array,Uint32Array,Int32Array};function L(le){return le.charAt(0).toUpperCase()+le.slice(1)}function G(le){Object.keys(le).forEach(function(ge){Array.isArray(le[ge])&&(le[ge]=[].concat(le[ge]))})}function z(le){return le.isA?le.getState():le}function B(le){setTimeout(le,0)}function Y(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};G(ge);var ze=[];function nt(st){ze[st]=null}return Number.isInteger(ge.mtime)||(ge.mtime=++x),ge.classHierarchy=["vtkObject"],le.isDeleted=function(){return!!ge.deleted},le.modified=function(st){ge.deleted?d("instance deleted - cannot call any method"):st&&st<le.getMTime()||(ge.mtime=++x,ze.forEach(function(Ge){return Ge&&Ge(le)}))},le.onModified=function(st){if(ge.deleted)return d("instance deleted - cannot call any method"),null;var Ge=ze.length;return ze.push(st),function(N){return Object.freeze({unsubscribe:function(){nt(N)}})}(Ge)},le.getMTime=function(){return ge.mtime},le.isA=function(st){for(var Ge=ge.classHierarchy.length;Ge--;)if(ge.classHierarchy[Ge]===st)return!0;return!1},le.getClassName=function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return ge.classHierarchy[ge.classHierarchy.length-1-st]},le.set=function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ge=arguments.length>1&&arguments[1]!==void 0&&arguments[1],N=arguments.length>2&&arguments[2]!==void 0&&arguments[2],W=!1;return Object.keys(st).forEach(function(de){var ie=N?null:le["set".concat(L(de))];ie&&Array.isArray(st[de])&&ie.length>1?W=ie.apply(void 0,b(st[de]))||W:ie?W=ie(st[de])||W:(["mtime"].indexOf(de)!==-1||Ge||O("Warning: Set value to model directly ".concat(de,", ").concat(st[de])),ge[de]=st[de],W=!0)}),W},le.get=function(){for(var st=arguments.length,Ge=new Array(st),N=0;N<st;N++)Ge[N]=arguments[N];if(!Ge.length)return ge;var W={};return Ge.forEach(function(de){W[de]=ge[de]}),W},le.getReferenceByName=function(st){return ge[st]},le.delete=function(){Object.keys(ge).forEach(function(st){return delete ge[st]}),ze.forEach(function(st,Ge){return nt(Ge)}),ge.deleted=!0},le.getState=function(){var st=w(w({},ge),{},{vtkClass:le.getClassName()});Object.keys(st).forEach(function(N){st[N]===null||st[N]===void 0?delete st[N]:st[N].isA?st[N]=st[N].getState():Array.isArray(st[N])&&(st[N]=st[N].map(z))});var Ge={};return Object.keys(st).sort().forEach(function(N){Ge[N]=st[N]}),Ge.mtime&&delete Ge.mtime,Ge},le.shallowCopy=function(st){var Ge=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(st.getClassName()!==le.getClassName())throw new Error("Cannot ShallowCopy ".concat(st.getClassName()," into ").concat(le.getClassName()));var N=st.get(),W=Object.keys(ge).sort();Object.keys(N).sort().forEach(function(de){var ie=W.indexOf(de);ie===-1?Ge&&V("add ".concat(de," in shallowCopy")):W.splice(ie,1),ge[de]=N[de]}),W.length&&Ge&&V("Untouched keys: ".concat(W.join(", "))),le.modified()},le}function q(le,ge,ze){ze.forEach(function(nt){U(nt)==="object"?le["get".concat(L(nt.name))]=function(){return ge[nt.name]}:le["get".concat(L(nt))]=function(){return ge[nt]}})}var H={enum:function(le,ge,ze){return function(nt){if(typeof nt=="string"){if(ze.enum[nt]!==void 0)return ge[ze.name]!==ze.enum[nt]&&(ge[ze.name]=ze.enum[nt],le.modified(),!0);throw d("Set Enum with invalid argument ".concat(ze,", ").concat(nt)),new RangeError("Set Enum with invalid string argument")}if(typeof nt=="number"){if(ge[ze.name]!==nt){if(Object.keys(ze.enum).map(function(st){return ze.enum[st]}).indexOf(nt)!==-1)return ge[ze.name]=nt,le.modified(),!0;throw d("Set Enum outside numeric range ".concat(ze,", ").concat(nt)),new RangeError("Set Enum outside numeric range")}return!1}throw d("Set Enum with invalid argument (String/Number) ".concat(ze,", ").concat(nt)),new TypeError("Set Enum with invalid argument (String/Number)")}}};function ne(le){if(U(le)==="object"){var ge=H[le.type];if(ge)return function(ze,nt){return ge(ze,nt,le)};throw d("No setter for field ".concat(le)),new TypeError("No setter for field")}return function(ze,nt){return function(st){return nt.deleted?(d("instance deleted - cannot call any method"),!1):nt[le]!==st&&(nt[le]=st,ze.modified(),!0)}}}function Ae(le,ge,ze){ze.forEach(function(nt){U(nt)==="object"?le["set".concat(L(nt.name))]=ne(nt)(le,ge):le["set".concat(L(nt))]=ne(nt)(le,ge)})}function ce(le,ge,ze){q(le,ge,ze),Ae(le,ge,ze)}function ye(le,ge,ze){ze.forEach(function(nt){le["get".concat(L(nt))]=function(){return[].concat(ge[nt])},le["get".concat(L(nt),"ByReference")]=function(){return ge[nt]}})}function K(le,ge,ze,nt){var st=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;ze.forEach(function(Ge){le["set".concat(L(Ge))]=function(){if(ge.deleted)return d("instance deleted - cannot call any method"),!1;for(var N=arguments.length,W=new Array(N),de=0;de<N;de++)W[de]=arguments[de];var ie=W;if(ie.length===1&&Array.isArray(ie[0])&&(ie=ie[0]),ie.length!==nt){if(!(ie.length<nt&&st!==void 0))throw new RangeError("Invalid number of values for array setter (".concat(Ge,")"));for(ie=[].concat(ie);ie.length<nt;)ie.push(st)}var _e=!1;return ge[Ge].forEach(function(Ze,ft){if(Ze!==ie[ft]){if(_e)return;_e=!0}}),!(!_e&&ge[Ge].length===ie.length)&&(ge[Ge]=[].concat(ie),le.modified(),!0)},le["set".concat(L(Ge),"From")]=function(N){var W=ge[Ge];N.forEach(function(de,ie){W[ie]=de})}})}function j(le,ge,ze,nt){var st=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;ye(le,ge,ze),K(le,ge,ze,nt,st)}var ve=Symbol("Event abort");function Pe(le,ge,ze){var nt=[],st=le.delete,Ge=1;function N(W){for(var de=0;de<nt.length;++de)if(P(nt[de],1)[0]===W)return void nt.splice(de,1)}le["invoke".concat(L(ze))]=function(){var W=arguments;if(ge.deleted)d("instance deleted - cannot call any method");else for(var de=nt.slice(),ie=function(ft){var at=P(de[ft],3),ht=at[1],Ct=at[2];if(!ht)return"continue";if(Ct<0)setTimeout(function(){return ht.apply(le,W)},1-Ct);else if(ht.apply(le,W)===ve)return"break"},_e=0;_e<de.length;++_e){var Ze=ie(_e);if(Ze!=="continue"&&Ze==="break")break}},le["on".concat(L(ze))]=function(W){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!W.apply)return console.error("Invalid callback for event ".concat(ze)),null;if(ge.deleted)return d("instance deleted - cannot call any method"),null;var ie=Ge++;return nt.push([ie,W,de]),nt.sort(function(_e,Ze){return Ze[2]-_e[2]}),function(_e){return Object.freeze({unsubscribe:function(){N(_e)}})}(ie)},le.delete=function(){st(),nt.forEach(function(W){return N(P(W,1)[0])})}}function Oe(le,ge){var ze=function(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},st={};return le(st,{},nt),Object.freeze(st)};return ge&&f.a.register(ge,ze),ze}function xe(){for(var le=arguments.length,ge=new Array(le),ze=0;ze<le;ze++)ge[ze]=arguments[ze];return function(){for(var nt=arguments.length,st=new Array(nt),Ge=0;Ge<nt;Ge++)st[Ge]=arguments[Ge];return ge.filter(function(N){return!!N}).map(function(N){return N.apply(void 0,st)})}}function Ve(le){return le&&le.isA&&le.isA("vtkObject")}function me(le,ge){var ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ge.keystore=Object.assign(ge.keystore||{},ze),le.setKey=function(nt,st){ge.keystore[nt]=st},le.getKey=function(nt){return ge.keystore[nt]},le.getAllKeys=function(){return Object.keys(ge.keystore)},le.deleteKey=function(nt){return delete ge.keystore[nt]},le.clearKeystore=function(){return le.getAllKeys().forEach(function(nt){return delete ge.keystore[nt]})}}var pe=1,ke="__root__";function X(le,ge){me(le,ge);var ze=le.delete;ge.proxyId="".concat(pe++),ge.ui=JSON.parse(JSON.stringify(ge.ui||[])),q(le,ge,["proxyId","proxyGroup","proxyName"]),ce(le,ge,["proxyManager"]);var nt={},st={};function Ge(W,de){st[de]||(st[de]=[]);for(var ie=st[de],_e=0;_e<W.length;_e++)ie.push(W[_e].name),nt[W[_e].name]=W[_e],W[_e].children&&W[_e].children.length&&Ge(W[_e].children,W[_e].name)}function N(){for(var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ke,de=[],ie=ge.proxyId,_e=function(){var Kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ke;return st[Kt]}(W)||[],Ze=0;Ze<_e.length;Ze++){var ft=_e[Ze],at=le["get".concat(L(ft))],ht={id:ie,name:ft,value:at?at():void 0},Ct=N(ft);Ct.length&&(ht.children=Ct),de.push(ht)}return de}Ge(ge.ui,ke),le.updateUI=function(W){ge.ui=JSON.parse(JSON.stringify(W||[])),Object.keys(nt).forEach(function(de){return delete nt[de]}),Object.keys(st).forEach(function(de){return delete st[de]}),Ge(ge.ui,ke),le.modified()},le.updateProxyProperty=function(W,de){var ie=nt[W];ie?Object.assign(ie,de):nt[W]=w({},de)},le.activate=function(){if(ge.proxyManager){var W="setActive".concat(L(le.getProxyGroup().slice(0,-1)));ge.proxyManager[W]&&ge.proxyManager[W](le)}},ge.propertyLinkSubscribers={},le.registerPropertyLinkForGC=function(W,de){de in ge.propertyLinkSubscribers||(ge.propertyLinkSubscribers[de]=[]),ge.propertyLinkSubscribers[de].push(W)},le.gcPropertyLinks=function(W){for(var de=ge.propertyLinkSubscribers[W]||[];de.length;)de.pop().unbind(le)},ge.propertyLinkMap={},le.getPropertyLink=function(W){var de=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(ge.propertyLinkMap[W])return ge.propertyLinkMap[W];var ie=null,_e=[],Ze=0,ft=!1;function at(Kt){var nn=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(ft)return null;var oe=[],St=null;for(Ze=_e.length;Ze--;){var Ce=_e[Ze];Ce.instance===Kt?St=Ce:oe.push(Ce)}if(!St)return null;var He=St.instance["get".concat(L(St.propertyName))]();if(!function(Dt,On){if(Dt===On)return!0;if(Array.isArray(Dt)&&Array.isArray(On)){if(Dt.length!==On.length)return!1;for(var Lt=0;Lt<Dt.length;Lt++)if(Dt[Lt]!==On[Lt])return!1;return!0}return!1}(He,ie)||nn){for(ie=He,ft=!0;oe.length;){var Nt=oe.pop();Nt.instance.set(r({},Nt.propertyName,ie))}ft=!1}return ge.propertyLinkMap[W].persistent&&(ge.propertyLinkMap[W].value=He),He}function ht(Kt,nn){var oe=[];for(Ze=_e.length;Ze--;){var St=_e[Ze];St.instance!==Kt||St.propertyName!==nn&&nn!==void 0||(St.subscription.unsubscribe(),oe.push(Ze))}for(;oe.length;)_e.splice(oe.pop(),1)}var Ct={bind:function(Kt,nn){var oe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],St=Kt.onModified(at),Ce=_e[0];return _e.push({instance:Kt,propertyName:nn,subscription:St}),oe&&(ge.propertyLinkMap[W].persistent&&ge.propertyLinkMap[W].value!==void 0?Kt.set(r({},nn,ge.propertyLinkMap[W].value)):Ce&&at(Ce.instance,!0)),{unsubscribe:function(){return ht(Kt,nn)}}},unbind:ht,unsubscribe:function(){for(;_e.length;)_e.pop().subscription.unsubscribe()},persistent:de};return ge.propertyLinkMap[W]=Ct,Ct},le.listPropertyNames=function(){return N().map(function(W){return W.name})},le.getPropertyByName=function(W){return N().find(function(de){return de.name===W})},le.getPropertyDomainByName=function(W){return(nt[W]||{}).domain},le.getProxySection=function(){return{id:ge.proxyId,name:ge.proxyGroup,ui:ge.ui,properties:N()}},le.delete=function(){for(var W=Object.keys(ge.propertyLinkMap),de=W.length;de--;)ge.propertyLinkMap[W[de]].unsubscribe();Object.keys(ge.propertyLinkSubscribers).forEach(le.gcPropertyLinks),ze()},B(function(){if(ge.links)for(var W=0;W<ge.links.length;W++){var de=ge.links[W],ie=de.link,_e=de.property,Ze=de.persistent,ft=de.updateOnBind;if(de.type==="application"){var at=ge.proxyManager.getPropertyLink(ie,Ze);le.registerPropertyLinkForGC(at,"application"),at.bind(le,_e,ft)}}})}function Z(le,ge,ze){for(var nt=le.delete,st=[],Ge=Object.keys(ze),N=Ge.length;N--;){var W=Ge[N],de=ze[W],ie=de.modelKey,_e=de.property,Ze=de.modified,ft=Ze===void 0||Ze,at=L(_e),ht=L(W);le["get".concat(ht)]=ge[ie]["get".concat(at)],le["set".concat(ht)]=ge[ie]["set".concat(at)],ft&&st.push(ge[ie].onModified(le.modified))}le.delete=function(){for(;st.length;)st.pop().unsubscribe();nt()}}var ae=10,Ue=40,Ie=800;p.b={algo:function(le,ge,ze,nt){function st(de){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ge.deleted?d("instance deleted - cannot call any method"):ie>=ge.numberOfInputs?d("algorithm ".concat(le.getClassName()," only has ").concat(ge.numberOfInputs," input ports. To add more input ports, use addInputData()")):(ge.inputData[ie]!==de||ge.inputConnection[ie])&&(ge.inputData[ie]=de,ge.inputConnection[ie]=null,le.modified&&le.modified())}function Ge(de){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(ge.deleted)d("instance deleted - cannot call any method");else{if(ie>=ge.numberOfInputs){var _e="algorithm ".concat(le.getClassName()," only has ");return _e+="".concat(ge.numberOfInputs),void d(_e+=" input ports. To add more input ports, use addInputConnection()")}ge.inputData[ie]=null,ge.inputConnection[ie]=de}}function N(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return ge.deleted?(d("instance deleted - cannot call any method"),null):(le.shouldUpdate()&&le.update(),ge.output[de])}if(ge.inputData?ge.inputData=ge.inputData.map(f.a):ge.inputData=[],ge.inputConnection?ge.inputConnection=ge.inputConnection.map(f.a):ge.inputConnection=[],ge.output?ge.output=ge.output.map(f.a):ge.output=[],ge.inputArrayToProcess?ge.inputArrayToProcess=ge.inputArrayToProcess.map(f.a):ge.inputArrayToProcess=[],ge.numberOfInputs=ze,le.shouldUpdate=function(){for(var de=le.getMTime(),ie=nt,_e=1/0;ie--;){if(!ge.output[ie])return!0;var Ze=ge.output[ie].getMTime();if(Ze<de)return!0;Ze<_e&&(_e=Ze)}for(ie=ge.numberOfInputs;ie--;)if(ge.inputConnection[ie]&&ge.inputConnection[ie].filter.shouldUpdate())return!0;for(ie=ge.numberOfInputs;ie--;)if(le.getInputData(ie)&&le.getInputData(ie).getMTime()>_e)return!0;return!1},ge.numberOfInputs){for(var W=ge.numberOfInputs;W--;)ge.inputData.push(null),ge.inputConnection.push(null);le.setInputData=st,le.setInputConnection=Ge,le.addInputData=function(de){ge.deleted?d("instance deleted - cannot call any method"):(ge.numberOfInputs++,st(de,ge.numberOfInputs-1))},le.addInputConnection=function(de){ge.deleted?d("instance deleted - cannot call any method"):(ge.numberOfInputs++,Ge(de,ge.numberOfInputs-1))},le.getInputData=function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return ge.inputConnection[de]&&(ge.inputData[de]=ge.inputConnection[de]()),ge.inputData[de]},le.getInputConnection=function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return ge.inputConnection[de]}}nt&&(le.getOutputData=N,le.getOutputPort=function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ie=function(){return N(de)};return ie.filter=le,ie}),le.update=function(){var de=[];if(ge.numberOfInputs)for(var ie=0;ie<ge.numberOfInputs;)de[ie]=le.getInputData(ie),ie++;le.shouldUpdate()&&le.requestData&&le.requestData(de,ge.output)},le.getNumberOfInputPorts=function(){return ge.numberOfInputs},le.getNumberOfOutputPorts=function(){return nt||ge.output.length},le.getInputArrayToProcess=function(de){var ie=ge.inputArrayToProcess[de],_e=ge.inputData[de];return ie&&_e?_e["get".concat(ie.fieldAssociation)]().getArray(ie.arrayName):null},le.setInputArrayToProcess=function(de,ie,_e){for(var Ze=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Scalars";ge.inputArrayToProcess.length<de;)ge.inputArrayToProcess.push(null);ge.inputArrayToProcess[de]={arrayName:ie,fieldAssociation:_e,attributeType:Ze}}},capitalize:L,chain:xe,debounce:function(le,ge,ze){var nt,st=this;return function(){for(var Ge=arguments.length,N=new Array(Ge),W=0;W<Ge;W++)N[W]=arguments[W];var de=st,ie=ze&&!nt;clearTimeout(nt),nt=setTimeout(function(){nt=null,ze||le.apply(de,N)},ge),ie&&le.apply(de,N)}},enumToString:function(le,ge){return Object.keys(le).find(function(ze){return le[ze]===ge})},event:Pe,EVENT_ABORT:ve,formatBytesToProperUnit:function(le){for(var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3,nt=["TB","GB","MB","KB"],st=Number(le),Ge="B";st>ze;)st/=ze,Ge=nt.pop();return"".concat(st.toFixed(ge)," ").concat(Ge)},formatNumbersWithThousandSeparator:function(le){for(var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",ze=[],nt=le;nt>1e3;)ze.push("000".concat(nt%1e3).slice(-3)),nt=Math.floor(nt/1e3);return nt>0&&ze.push(nt),ze.reverse(),ze.join(ge)},get:q,getArray:ye,getCurrentGlobalMTime:function(){return x},getStateArrayMapFunc:z,isVtkObject:Ve,keystore:me,newInstance:Oe,normalizeWheel:function(le){var ge=0,ze=0,nt=0,st=0;return"detail"in le&&(ze=le.detail),"wheelDelta"in le&&(ze=-le.wheelDelta/120),"wheelDeltaY"in le&&(ze=-le.wheelDeltaY/120),"wheelDeltaX"in le&&(ge=-le.wheelDeltaX/120),"axis"in le&&le.axis===le.HORIZONTAL_AXIS&&(ge=ze,ze=0),nt=ge*ae,st=ze*ae,"deltaY"in le&&(st=le.deltaY),"deltaX"in le&&(nt=le.deltaX),(nt||st)&&le.deltaMode&&(le.deltaMode===1?(nt*=Ue,st*=Ue):(nt*=Ie,st*=Ie)),nt&&!ge&&(ge=nt<1?-1:1),st&&!ze&&(ze=st<1?-1:1),{spinX:ge,spinY:ze,pixelX:nt,pixelY:st}},obj:Y,proxy:X,proxyPropertyMapping:Z,proxyPropertyState:function(le,ge){var ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};ge.this=le;for(var st=Object.keys(nt),Ge=st.length,N=function(){var W=st[Ge];ge[W]=nt[W];var de=ze[W];le["set".concat(L(W))]=function(ie){ie!==ge[W]&&(ge[W]=ie,function(_e){for(var Ze=Object.keys(_e),ft=Ze.length;ft--;){var at=Ze[ft];ge[at].set(_e[at])}}(de[ie]),le.modified())}};Ge--;)N();st.length&&q(le,ge,st)},safeArrays:G,set:Ae,setArray:K,setGet:ce,setGetArray:j,setImmediate:B,setLoggerFunction:function(le,ge){D[le]&&(D[le]=ge||S)},throttle:function(le,ge){var ze=!1,nt=null;function st(){ze=!1,nt!==null&&(Ge.apply(void 0,b(nt)),nt=null)}function Ge(){for(var N=arguments.length,W=new Array(N),de=0;de<N;de++)W[de]=arguments[de];ze?nt=W:(ze=!0,le.apply(void 0,W),setTimeout(st,ge))}return Ge},traverseInstanceTree:function le(ge,ze){var nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],st=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];if(Ve(ge)){if(st.indexOf(ge)>=0)return nt;st.push(ge);var Ge=ze(ge);Ge!==void 0&&nt.push(Ge);var N=ge.get();Object.keys(N).forEach(function(W){var de=N[W];Array.isArray(de)?de.forEach(function(ie){le(ie,ze,nt,st)}):le(de,ze,nt,st)})}return nt},TYPED_ARRAYS:I,uncapitalize:function(le){return le.charAt(0).toLowerCase()+le.slice(1)},VOID:E,vtkDebugMacro:V,vtkErrorMacro:d,vtkInfoMacro:function(){D.info.apply(D,arguments)},vtkLogMacro:function(){D.log.apply(D,arguments)},vtkOnceErrorMacro:function(le){F[le]||(D.error(le),F[le]=!0)},vtkWarningMacro:O}}).call(this,a(40))},function(g,p,a){var u={};a.r(u),a.d(u,"EPSILON",function(){return r}),a.d(u,"ARRAY_TYPE",function(){return b}),a.d(u,"RANDOM",function(){return C}),a.d(u,"setMatrixArrayType",function(){return A}),a.d(u,"toRadian",function(){return E}),a.d(u,"equals",function(){return M});var f={};a.r(f),a.d(f,"create",function(){return S}),a.d(f,"fromMat4",function(){return D}),a.d(f,"clone",function(){return V}),a.d(f,"copy",function(){return d}),a.d(f,"fromValues",function(){return O}),a.d(f,"set",function(){return F}),a.d(f,"identity",function(){return I}),a.d(f,"transpose",function(){return L}),a.d(f,"invert",function(){return G}),a.d(f,"adjoint",function(){return z}),a.d(f,"determinant",function(){return B}),a.d(f,"multiply",function(){return Y}),a.d(f,"translate",function(){return q}),a.d(f,"rotate",function(){return H}),a.d(f,"scale",function(){return ne}),a.d(f,"fromTranslation",function(){return Ae}),a.d(f,"fromRotation",function(){return ce}),a.d(f,"fromScaling",function(){return ye}),a.d(f,"fromMat2d",function(){return K}),a.d(f,"fromQuat",function(){return j}),a.d(f,"normalFromMat4",function(){return ve}),a.d(f,"projection",function(){return Pe}),a.d(f,"str",function(){return Oe}),a.d(f,"frob",function(){return xe}),a.d(f,"add",function(){return Ve}),a.d(f,"subtract",function(){return me}),a.d(f,"multiplyScalar",function(){return pe}),a.d(f,"multiplyScalarAndAdd",function(){return ke}),a.d(f,"exactEquals",function(){return X}),a.d(f,"equals",function(){return Z}),a.d(f,"mul",function(){return ae}),a.d(f,"sub",function(){return Ue});var P={};a.r(P),a.d(P,"create",function(){return Ie}),a.d(P,"clone",function(){return le}),a.d(P,"copy",function(){return ge}),a.d(P,"fromValues",function(){return ze}),a.d(P,"set",function(){return nt}),a.d(P,"identity",function(){return st}),a.d(P,"transpose",function(){return Ge}),a.d(P,"invert",function(){return N}),a.d(P,"adjoint",function(){return W}),a.d(P,"determinant",function(){return de}),a.d(P,"multiply",function(){return ie}),a.d(P,"translate",function(){return _e}),a.d(P,"scale",function(){return Ze}),a.d(P,"rotate",function(){return ft}),a.d(P,"rotateX",function(){return at}),a.d(P,"rotateY",function(){return ht}),a.d(P,"rotateZ",function(){return Ct}),a.d(P,"fromTranslation",function(){return Kt}),a.d(P,"fromScaling",function(){return nn}),a.d(P,"fromRotation",function(){return oe}),a.d(P,"fromXRotation",function(){return St}),a.d(P,"fromYRotation",function(){return Ce}),a.d(P,"fromZRotation",function(){return He}),a.d(P,"fromRotationTranslation",function(){return Nt}),a.d(P,"fromQuat2",function(){return Dt}),a.d(P,"getTranslation",function(){return On}),a.d(P,"getScaling",function(){return Lt}),a.d(P,"getRotation",function(){return An}),a.d(P,"fromRotationTranslationScale",function(){return dt}),a.d(P,"fromRotationTranslationScaleOrigin",function(){return zt}),a.d(P,"fromQuat",function(){return ur}),a.d(P,"frustum",function(){return Be}),a.d(P,"perspective",function(){return wn}),a.d(P,"perspectiveFromFieldOfView",function(){return gr}),a.d(P,"ortho",function(){return Br}),a.d(P,"lookAt",function(){return nr}),a.d(P,"targetTo",function(){return J}),a.d(P,"str",function(){return Te}),a.d(P,"frob",function(){return Me}),a.d(P,"add",function(){return Ke}),a.d(P,"subtract",function(){return rt}),a.d(P,"multiplyScalar",function(){return yt}),a.d(P,"multiplyScalarAndAdd",function(){return Ot}),a.d(P,"exactEquals",function(){return cn}),a.d(P,"equals",function(){return gn}),a.d(P,"mul",function(){return Pn}),a.d(P,"sub",function(){return kn});var U={};a.r(U),a.d(U,"create",function(){return It}),a.d(U,"clone",function(){return rn}),a.d(U,"length",function(){return bt}),a.d(U,"fromValues",function(){return Et}),a.d(U,"copy",function(){return Ht}),a.d(U,"set",function(){return Mt}),a.d(U,"add",function(){return pn}),a.d(U,"subtract",function(){return Sn}),a.d(U,"multiply",function(){return Gt}),a.d(U,"divide",function(){return ln}),a.d(U,"ceil",function(){return tn}),a.d(U,"floor",function(){return Rn}),a.d(U,"min",function(){return Gn}),a.d(U,"max",function(){return fr}),a.d(U,"round",function(){return qn}),a.d(U,"scale",function(){return dr}),a.d(U,"scaleAndAdd",function(){return Jn}),a.d(U,"distance",function(){return mr}),a.d(U,"squaredDistance",function(){return ar}),a.d(U,"squaredLength",function(){return hr}),a.d(U,"negate",function(){return Vr}),a.d(U,"inverse",function(){return Zr}),a.d(U,"normalize",function(){return Jr}),a.d(U,"dot",function(){return br}),a.d(U,"cross",function(){return Qr}),a.d(U,"lerp",function(){return Nr}),a.d(U,"hermite",function(){return $r}),a.d(U,"bezier",function(){return Yr}),a.d(U,"random",function(){return ra}),a.d(U,"transformMat4",function(){return Ln}),a.d(U,"transformMat3",function(){return Wr}),a.d(U,"transformQuat",function(){return Pr}),a.d(U,"rotateX",function(){return pr}),a.d(U,"rotateY",function(){return kr}),a.d(U,"rotateZ",function(){return Kr}),a.d(U,"angle",function(){return Lr}),a.d(U,"zero",function(){return vr}),a.d(U,"str",function(){return Dr}),a.d(U,"exactEquals",function(){return Ca}),a.d(U,"equals",function(){return Ua}),a.d(U,"sub",function(){return Fr}),a.d(U,"mul",function(){return aa}),a.d(U,"div",function(){return Fn}),a.d(U,"dist",function(){return Ra}),a.d(U,"sqrDist",function(){return ea}),a.d(U,"len",function(){return ya}),a.d(U,"sqrLen",function(){return Va}),a.d(U,"forEach",function(){return ta});var m={};a.r(m),a.d(m,"create",function(){return xa}),a.d(m,"clone",function(){return ba}),a.d(m,"fromValues",function(){return pa}),a.d(m,"copy",function(){return $a}),a.d(m,"set",function(){return Na}),a.d(m,"add",function(){return eo}),a.d(m,"subtract",function(){return Sa}),a.d(m,"multiply",function(){return ga}),a.d(m,"divide",function(){return po}),a.d(m,"ceil",function(){return Qa}),a.d(m,"floor",function(){return ja}),a.d(m,"min",function(){return Ya}),a.d(m,"max",function(){return yo}),a.d(m,"round",function(){return Ga}),a.d(m,"scale",function(){return ao}),a.d(m,"scaleAndAdd",function(){return se}),a.d(m,"distance",function(){return ue}),a.d(m,"squaredDistance",function(){return De}),a.d(m,"length",function(){return $e}),a.d(m,"squaredLength",function(){return et}),a.d(m,"negate",function(){return mt}),a.d(m,"inverse",function(){return _t}),a.d(m,"normalize",function(){return yn}),a.d(m,"dot",function(){return _n}),a.d(m,"cross",function(){return ir}),a.d(m,"lerp",function(){return wr}),a.d(m,"random",function(){return xr}),a.d(m,"transformMat4",function(){return sr}),a.d(m,"transformQuat",function(){return Or}),a.d(m,"zero",function(){return Ur}),a.d(m,"str",function(){return Ta}),a.d(m,"exactEquals",function(){return Xr}),a.d(m,"equals",function(){return za}),a.d(m,"sub",function(){return Eo}),a.d(m,"mul",function(){return oo}),a.d(m,"div",function(){return io}),a.d(m,"dist",function(){return Aa}),a.d(m,"sqrDist",function(){return to}),a.d(m,"len",function(){return ma}),a.d(m,"sqrLen",function(){return Xa}),a.d(m,"forEach",function(){return so});var w={};a.r(w),a.d(w,"create",function(){return Ea}),a.d(w,"identity",function(){return bo}),a.d(w,"setAxisAngle",function(){return zo}),a.d(w,"getAxisAngle",function(){return ii}),a.d(w,"getAngle",function(){return Wo}),a.d(w,"multiply",function(){return Ao}),a.d(w,"rotateX",function(){return Ro}),a.d(w,"rotateY",function(){return go}),a.d(w,"rotateZ",function(){return ha}),a.d(w,"calculateW",function(){return Mo}),a.d(w,"exp",function(){return Wa}),a.d(w,"ln",function(){return wo}),a.d(w,"pow",function(){return mo}),a.d(w,"slerp",function(){return no}),a.d(w,"random",function(){return Ko}),a.d(w,"invert",function(){return xo}),a.d(w,"conjugate",function(){return ko}),a.d(w,"fromMat3",function(){return Ho}),a.d(w,"fromEuler",function(){return Do}),a.d(w,"str",function(){return So}),a.d(w,"clone",function(){return Uo}),a.d(w,"fromValues",function(){return si}),a.d(w,"copy",function(){return Qo}),a.d(w,"set",function(){return Yo}),a.d(w,"add",function(){return Xo}),a.d(w,"mul",function(){return Ka}),a.d(w,"scale",function(){return ho}),a.d(w,"dot",function(){return Bo}),a.d(w,"lerp",function(){return Je}),a.d(w,"length",function(){return lt}),a.d(w,"len",function(){return wt}),a.d(w,"squaredLength",function(){return Pt}),a.d(w,"sqrLen",function(){return jt}),a.d(w,"normalize",function(){return Ft}),a.d(w,"exactEquals",function(){return en}),a.d(w,"equals",function(){return sn}),a.d(w,"rotationTo",function(){return fn}),a.d(w,"sqlerp",function(){return Bn}),a.d(w,"setAxes",function(){return Dn});var r=1e-6,b=typeof Float32Array!="undefined"?Float32Array:Array,C=Math.random;function A(s){b=s}var x=Math.PI/180;function E(s){return s*x}function M(s,k){return Math.abs(s-k)<=r*Math.max(1,Math.abs(s),Math.abs(k))}function S(){var s=new b(9);return b!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[5]=0,s[6]=0,s[7]=0),s[0]=1,s[4]=1,s[8]=1,s}function D(s,k){return s[0]=k[0],s[1]=k[1],s[2]=k[2],s[3]=k[4],s[4]=k[5],s[5]=k[6],s[6]=k[8],s[7]=k[9],s[8]=k[10],s}function V(s){var k=new b(9);return k[0]=s[0],k[1]=s[1],k[2]=s[2],k[3]=s[3],k[4]=s[4],k[5]=s[5],k[6]=s[6],k[7]=s[7],k[8]=s[8],k}function d(s,k){return s[0]=k[0],s[1]=k[1],s[2]=k[2],s[3]=k[3],s[4]=k[4],s[5]=k[5],s[6]=k[6],s[7]=k[7],s[8]=k[8],s}function O(s,k,fe,Re,Ne,Qe,ot,ut,xt){var Tt=new b(9);return Tt[0]=s,Tt[1]=k,Tt[2]=fe,Tt[3]=Re,Tt[4]=Ne,Tt[5]=Qe,Tt[6]=ot,Tt[7]=ut,Tt[8]=xt,Tt}function F(s,k,fe,Re,Ne,Qe,ot,ut,xt,Tt){return s[0]=k,s[1]=fe,s[2]=Re,s[3]=Ne,s[4]=Qe,s[5]=ot,s[6]=ut,s[7]=xt,s[8]=Tt,s}function I(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=1,s[5]=0,s[6]=0,s[7]=0,s[8]=1,s}function L(s,k){if(s===k){var fe=k[1],Re=k[2],Ne=k[5];s[1]=k[3],s[2]=k[6],s[3]=fe,s[5]=k[7],s[6]=Re,s[7]=Ne}else s[0]=k[0],s[1]=k[3],s[2]=k[6],s[3]=k[1],s[4]=k[4],s[5]=k[7],s[6]=k[2],s[7]=k[5],s[8]=k[8];return s}function G(s,k){var fe=k[0],Re=k[1],Ne=k[2],Qe=k[3],ot=k[4],ut=k[5],xt=k[6],Tt=k[7],Bt=k[8],Xt=Bt*ot-ut*Tt,Yt=-Bt*Qe+ut*xt,$t=Tt*Qe-ot*xt,bn=fe*Xt+Re*Yt+Ne*$t;return bn?(bn=1/bn,s[0]=Xt*bn,s[1]=(-Bt*Re+Ne*Tt)*bn,s[2]=(ut*Re-Ne*ot)*bn,s[3]=Yt*bn,s[4]=(Bt*fe-Ne*xt)*bn,s[5]=(-ut*fe+Ne*Qe)*bn,s[6]=$t*bn,s[7]=(-Tt*fe+Re*xt)*bn,s[8]=(ot*fe-Re*Qe)*bn,s):null}function z(s,k){var fe=k[0],Re=k[1],Ne=k[2],Qe=k[3],ot=k[4],ut=k[5],xt=k[6],Tt=k[7],Bt=k[8];return s[0]=ot*Bt-ut*Tt,s[1]=Ne*Tt-Re*Bt,s[2]=Re*ut-Ne*ot,s[3]=ut*xt-Qe*Bt,s[4]=fe*Bt-Ne*xt,s[5]=Ne*Qe-fe*ut,s[6]=Qe*Tt-ot*xt,s[7]=Re*xt-fe*Tt,s[8]=fe*ot-Re*Qe,s}function B(s){var k=s[0],fe=s[1],Re=s[2],Ne=s[3],Qe=s[4],ot=s[5],ut=s[6],xt=s[7],Tt=s[8];return k*(Tt*Qe-ot*xt)+fe*(-Tt*Ne+ot*ut)+Re*(xt*Ne-Qe*ut)}function Y(s,k,fe){var Re=k[0],Ne=k[1],Qe=k[2],ot=k[3],ut=k[4],xt=k[5],Tt=k[6],Bt=k[7],Xt=k[8],Yt=fe[0],$t=fe[1],bn=fe[2],xn=fe[3],Qt=fe[4],Mn=fe[5],Sr=fe[6],Zn=fe[7],Yn=fe[8];return s[0]=Yt*Re+$t*ot+bn*Tt,s[1]=Yt*Ne+$t*ut+bn*Bt,s[2]=Yt*Qe+$t*xt+bn*Xt,s[3]=xn*Re+Qt*ot+Mn*Tt,s[4]=xn*Ne+Qt*ut+Mn*Bt,s[5]=xn*Qe+Qt*xt+Mn*Xt,s[6]=Sr*Re+Zn*ot+Yn*Tt,s[7]=Sr*Ne+Zn*ut+Yn*Bt,s[8]=Sr*Qe+Zn*xt+Yn*Xt,s}function q(s,k,fe){var Re=k[0],Ne=k[1],Qe=k[2],ot=k[3],ut=k[4],xt=k[5],Tt=k[6],Bt=k[7],Xt=k[8],Yt=fe[0],$t=fe[1];return s[0]=Re,s[1]=Ne,s[2]=Qe,s[3]=ot,s[4]=ut,s[5]=xt,s[6]=Yt*Re+$t*ot+Tt,s[7]=Yt*Ne+$t*ut+Bt,s[8]=Yt*Qe+$t*xt+Xt,s}function H(s,k,fe){var Re=k[0],Ne=k[1],Qe=k[2],ot=k[3],ut=k[4],xt=k[5],Tt=k[6],Bt=k[7],Xt=k[8],Yt=Math.sin(fe),$t=Math.cos(fe);return s[0]=$t*Re+Yt*ot,s[1]=$t*Ne+Yt*ut,s[2]=$t*Qe+Yt*xt,s[3]=$t*ot-Yt*Re,s[4]=$t*ut-Yt*Ne,s[5]=$t*xt-Yt*Qe,s[6]=Tt,s[7]=Bt,s[8]=Xt,s}function ne(s,k,fe){var Re=fe[0],Ne=fe[1];return s[0]=Re*k[0],s[1]=Re*k[1],s[2]=Re*k[2],s[3]=Ne*k[3],s[4]=Ne*k[4],s[5]=Ne*k[5],s[6]=k[6],s[7]=k[7],s[8]=k[8],s}function Ae(s,k){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=1,s[5]=0,s[6]=k[0],s[7]=k[1],s[8]=1,s}function ce(s,k){var fe=Math.sin(k),Re=Math.cos(k);return s[0]=Re,s[1]=fe,s[2]=0,s[3]=-fe,s[4]=Re,s[5]=0,s[6]=0,s[7]=0,s[8]=1,s}function ye(s,k){return s[0]=k[0],s[1]=0,s[2]=0,s[3]=0,s[4]=k[1],s[5]=0,s[6]=0,s[7]=0,s[8]=1,s}function K(s,k){return s[0]=k[0],s[1]=k[1],s[2]=0,s[3]=k[2],s[4]=k[3],s[5]=0,s[6]=k[4],s[7]=k[5],s[8]=1,s}function j(s,k){var fe=k[0],Re=k[1],Ne=k[2],Qe=k[3],ot=fe+fe,ut=Re+Re,xt=Ne+Ne,Tt=fe*ot,Bt=Re*ot,Xt=Re*ut,Yt=Ne*ot,$t=Ne*ut,bn=Ne*xt,xn=Qe*ot,Qt=Qe*ut,Mn=Qe*xt;return s[0]=1-Xt-bn,s[3]=Bt-Mn,s[6]=Yt+Qt,s[1]=Bt+Mn,s[4]=1-Tt-bn,s[7]=$t-xn,s[2]=Yt-Qt,s[5]=$t+xn,s[8]=1-Tt-Xt,s}function ve(s,k){var fe=k[0],Re=k[1],Ne=k[2],Qe=k[3],ot=k[4],ut=k[5],xt=k[6],Tt=k[7],Bt=k[8],Xt=k[9],Yt=k[10],$t=k[11],bn=k[12],xn=k[13],Qt=k[14],Mn=k[15],Sr=fe*ut-Re*ot,Zn=fe*xt-Ne*ot,Yn=fe*Tt-Qe*ot,rr=Re*xt-Ne*ut,cr=Re*Tt-Qe*ut,va=Ne*Tt-Qe*xt,fa=Bt*xn-Xt*bn,ca=Bt*Qt-Yt*bn,jr=Bt*Mn-$t*bn,oa=Xt*Qt-Yt*xn,$n=Xt*Mn-$t*xn,Gr=Yt*Mn-$t*Qt,Hn=Sr*Gr-Zn*$n+Yn*oa+rr*jr-cr*ca+va*fa;return Hn?(Hn=1/Hn,s[0]=(ut*Gr-xt*$n+Tt*oa)*Hn,s[1]=(xt*jr-ot*Gr-Tt*ca)*Hn,s[2]=(ot*$n-ut*jr+Tt*fa)*Hn,s[3]=(Ne*$n-Re*Gr-Qe*oa)*Hn,s[4]=(fe*Gr-Ne*jr+Qe*ca)*Hn,s[5]=(Re*jr-fe*$n-Qe*fa)*Hn,s[6]=(xn*va-Qt*cr+Mn*rr)*Hn,s[7]=(Qt*Yn-bn*va-Mn*Zn)*Hn,s[8]=(bn*cr-xn*Yn+Mn*Sr)*Hn,s):null}function Pe(s,k,fe){return s[0]=2/k,s[1]=0,s[2]=0,s[3]=0,s[4]=-2/fe,s[5]=0,s[6]=-1,s[7]=1,s[8]=1,s}function Oe(s){return"mat3("+s[0]+", "+s[1]+", "+s[2]+", "+s[3]+", "+s[4]+", "+s[5]+", "+s[6]+", "+s[7]+", "+s[8]+")"}function xe(s){return Math.hypot(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8])}function Ve(s,k,fe){return s[0]=k[0]+fe[0],s[1]=k[1]+fe[1],s[2]=k[2]+fe[2],s[3]=k[3]+fe[3],s[4]=k[4]+fe[4],s[5]=k[5]+fe[5],s[6]=k[6]+fe[6],s[7]=k[7]+fe[7],s[8]=k[8]+fe[8],s}function me(s,k,fe){return s[0]=k[0]-fe[0],s[1]=k[1]-fe[1],s[2]=k[2]-fe[2],s[3]=k[3]-fe[3],s[4]=k[4]-fe[4],s[5]=k[5]-fe[5],s[6]=k[6]-fe[6],s[7]=k[7]-fe[7],s[8]=k[8]-fe[8],s}function pe(s,k,fe){return s[0]=k[0]*fe,s[1]=k[1]*fe,s[2]=k[2]*fe,s[3]=k[3]*fe,s[4]=k[4]*fe,s[5]=k[5]*fe,s[6]=k[6]*fe,s[7]=k[7]*fe,s[8]=k[8]*fe,s}function ke(s,k,fe,Re){return s[0]=k[0]+fe[0]*Re,s[1]=k[1]+fe[1]*Re,s[2]=k[2]+fe[2]*Re,s[3]=k[3]+fe[3]*Re,s[4]=k[4]+fe[4]*Re,s[5]=k[5]+fe[5]*Re,s[6]=k[6]+fe[6]*Re,s[7]=k[7]+fe[7]*Re,s[8]=k[8]+fe[8]*Re,s}function X(s,k){return s[0]===k[0]&&s[1]===k[1]&&s[2]===k[2]&&s[3]===k[3]&&s[4]===k[4]&&s[5]===k[5]&&s[6]===k[6]&&s[7]===k[7]&&s[8]===k[8]}function Z(s,k){var fe=s[0],Re=s[1],Ne=s[2],Qe=s[3],ot=s[4],ut=s[5],xt=s[6],Tt=s[7],Bt=s[8],Xt=k[0],Yt=k[1],$t=k[2],bn=k[3],xn=k[4],Qt=k[5],Mn=k[6],Sr=k[7],Zn=k[8];return Math.abs(fe-Xt)<=r*Math.max(1,Math.abs(fe),Math.abs(Xt))&&Math.abs(Re-Yt)<=r*Math.max(1,Math.abs(Re),Math.abs(Yt))&&Math.abs(Ne-$t)<=r*Math.max(1,Math.abs(Ne),Math.abs($t))&&Math.abs(Qe-bn)<=r*Math.max(1,Math.abs(Qe),Math.abs(bn))&&Math.abs(ot-xn)<=r*Math.max(1,Math.abs(ot),Math.abs(xn))&&Math.abs(ut-Qt)<=r*Math.max(1,Math.abs(ut),Math.abs(Qt))&&Math.abs(xt-Mn)<=r*Math.max(1,Math.abs(xt),Math.abs(Mn))&&Math.abs(Tt-Sr)<=r*Math.max(1,Math.abs(Tt),Math.abs(Sr))&&Math.abs(Bt-Zn)<=r*Math.max(1,Math.abs(Bt),Math.abs(Zn))}Math.hypot||(Math.hypot=function(){for(var s=0,k=arguments.length;k--;)s+=arguments[k]*arguments[k];return Math.sqrt(s)});var ae=Y,Ue=me;function Ie(){var s=new b(16);return b!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0),s[0]=1,s[5]=1,s[10]=1,s[15]=1,s}function le(s){var k=new b(16);return k[0]=s[0],k[1]=s[1],k[2]=s[2],k[3]=s[3],k[4]=s[4],k[5]=s[5],k[6]=s[6],k[7]=s[7],k[8]=s[8],k[9]=s[9],k[10]=s[10],k[11]=s[11],k[12]=s[12],k[13]=s[13],k[14]=s[14],k[15]=s[15],k}function ge(s,k){return s[0]=k[0],s[1]=k[1],s[2]=k[2],s[3]=k[3],s[4]=k[4],s[5]=k[5],s[6]=k[6],s[7]=k[7],s[8]=k[8],s[9]=k[9],s[10]=k[10],s[11]=k[11],s[12]=k[12],s[13]=k[13],s[14]=k[14],s[15]=k[15],s}function ze(s,k,fe,Re,Ne,Qe,ot,ut,xt,Tt,Bt,Xt,Yt,$t,bn,xn){var Qt=new b(16);return Qt[0]=s,Qt[1]=k,Qt[2]=fe,Qt[3]=Re,Qt[4]=Ne,Qt[5]=Qe,Qt[6]=ot,Qt[7]=ut,Qt[8]=xt,Qt[9]=Tt,Qt[10]=Bt,Qt[11]=Xt,Qt[12]=Yt,Qt[13]=$t,Qt[14]=bn,Qt[15]=xn,Qt}function nt(s,k,fe,Re,Ne,Qe,ot,ut,xt,Tt,Bt,Xt,Yt,$t,bn,xn,Qt){return s[0]=k,s[1]=fe,s[2]=Re,s[3]=Ne,s[4]=Qe,s[5]=ot,s[6]=ut,s[7]=xt,s[8]=Tt,s[9]=Bt,s[10]=Xt,s[11]=Yt,s[12]=$t,s[13]=bn,s[14]=xn,s[15]=Qt,s}function st(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function Ge(s,k){if(s===k){var fe=k[1],Re=k[2],Ne=k[3],Qe=k[6],ot=k[7],ut=k[11];s[1]=k[4],s[2]=k[8],s[3]=k[12],s[4]=fe,s[6]=k[9],s[7]=k[13],s[8]=Re,s[9]=Qe,s[11]=k[14],s[12]=Ne,s[13]=ot,s[14]=ut}else s[0]=k[0],s[1]=k[4],s[2]=k[8],s[3]=k[12],s[4]=k[1],s[5]=k[5],s[6]=k[9],s[7]=k[13],s[8]=k[2],s[9]=k[6],s[10]=k[10],s[11]=k[14],s[12]=k[3],s[13]=k[7],s[14]=k[11],s[15]=k[15];return s}function N(s,k){var fe=k[0],Re=k[1],Ne=k[2],Qe=k[3],ot=k[4],ut=k[5],xt=k[6],Tt=k[7],Bt=k[8],Xt=k[9],Yt=k[10],$t=k[11],bn=k[12],xn=k[13],Qt=k[14],Mn=k[15],Sr=fe*ut-Re*ot,Zn=fe*xt-Ne*ot,Yn=fe*Tt-Qe*ot,rr=Re*xt-Ne*ut,cr=Re*Tt-Qe*ut,va=Ne*Tt-Qe*xt,fa=Bt*xn-Xt*bn,ca=Bt*Qt-Yt*bn,jr=Bt*Mn-$t*bn,oa=Xt*Qt-Yt*xn,$n=Xt*Mn-$t*xn,Gr=Yt*Mn-$t*Qt,Hn=Sr*Gr-Zn*$n+Yn*oa+rr*jr-cr*ca+va*fa;return Hn?(Hn=1/Hn,s[0]=(ut*Gr-xt*$n+Tt*oa)*Hn,s[1]=(Ne*$n-Re*Gr-Qe*oa)*Hn,s[2]=(xn*va-Qt*cr+Mn*rr)*Hn,s[3]=(Yt*cr-Xt*va-$t*rr)*Hn,s[4]=(xt*jr-ot*Gr-Tt*ca)*Hn,s[5]=(fe*Gr-Ne*jr+Qe*ca)*Hn,s[6]=(Qt*Yn-bn*va-Mn*Zn)*Hn,s[7]=(Bt*va-Yt*Yn+$t*Zn)*Hn,s[8]=(ot*$n-ut*jr+Tt*fa)*Hn,s[9]=(Re*jr-fe*$n-Qe*fa)*Hn,s[10]=(bn*cr-xn*Yn+Mn*Sr)*Hn,s[11]=(Xt*Yn-Bt*cr-$t*Sr)*Hn,s[12]=(ut*ca-ot*oa-xt*fa)*Hn,s[13]=(fe*oa-Re*ca+Ne*fa)*Hn,s[14]=(xn*Zn-bn*rr-Qt*Sr)*Hn,s[15]=(Bt*rr-Xt*Zn+Yt*Sr)*Hn,s):null}function W(s,k){var fe=k[0],Re=k[1],Ne=k[2],Qe=k[3],ot=k[4],ut=k[5],xt=k[6],Tt=k[7],Bt=k[8],Xt=k[9],Yt=k[10],$t=k[11],bn=k[12],xn=k[13],Qt=k[14],Mn=k[15];return s[0]=ut*(Yt*Mn-$t*Qt)-Xt*(xt*Mn-Tt*Qt)+xn*(xt*$t-Tt*Yt),s[1]=-(Re*(Yt*Mn-$t*Qt)-Xt*(Ne*Mn-Qe*Qt)+xn*(Ne*$t-Qe*Yt)),s[2]=Re*(xt*Mn-Tt*Qt)-ut*(Ne*Mn-Qe*Qt)+xn*(Ne*Tt-Qe*xt),s[3]=-(Re*(xt*$t-Tt*Yt)-ut*(Ne*$t-Qe*Yt)+Xt*(Ne*Tt-Qe*xt)),s[4]=-(ot*(Yt*Mn-$t*Qt)-Bt*(xt*Mn-Tt*Qt)+bn*(xt*$t-Tt*Yt)),s[5]=fe*(Yt*Mn-$t*Qt)-Bt*(Ne*Mn-Qe*Qt)+bn*(Ne*$t-Qe*Yt),s[6]=-(fe*(xt*Mn-Tt*Qt)-ot*(Ne*Mn-Qe*Qt)+bn*(Ne*Tt-Qe*xt)),s[7]=fe*(xt*$t-Tt*Yt)-ot*(Ne*$t-Qe*Yt)+Bt*(Ne*Tt-Qe*xt),s[8]=ot*(Xt*Mn-$t*xn)-Bt*(ut*Mn-Tt*xn)+bn*(ut*$t-Tt*Xt),s[9]=-(fe*(Xt*Mn-$t*xn)-Bt*(Re*Mn-Qe*xn)+bn*(Re*$t-Qe*Xt)),s[10]=fe*(ut*Mn-Tt*xn)-ot*(Re*Mn-Qe*xn)+bn*(Re*Tt-Qe*ut),s[11]=-(fe*(ut*$t-Tt*Xt)-ot*(Re*$t-Qe*Xt)+Bt*(Re*Tt-Qe*ut)),s[12]=-(ot*(Xt*Qt-Yt*xn)-Bt*(ut*Qt-xt*xn)+bn*(ut*Yt-xt*Xt)),s[13]=fe*(Xt*Qt-Yt*xn)-Bt*(Re*Qt-Ne*xn)+bn*(Re*Yt-Ne*Xt),s[14]=-(fe*(ut*Qt-xt*xn)-ot*(Re*Qt-Ne*xn)+bn*(Re*xt-Ne*ut)),s[15]=fe*(ut*Yt-xt*Xt)-ot*(Re*Yt-Ne*Xt)+Bt*(Re*xt-Ne*ut),s}function de(s){var k=s[0],fe=s[1],Re=s[2],Ne=s[3],Qe=s[4],ot=s[5],ut=s[6],xt=s[7],Tt=s[8],Bt=s[9],Xt=s[10],Yt=s[11],$t=s[12],bn=s[13],xn=s[14],Qt=s[15];return(k*ot-fe*Qe)*(Xt*Qt-Yt*xn)-(k*ut-Re*Qe)*(Bt*Qt-Yt*bn)+(k*xt-Ne*Qe)*(Bt*xn-Xt*bn)+(fe*ut-Re*ot)*(Tt*Qt-Yt*$t)-(fe*xt-Ne*ot)*(Tt*xn-Xt*$t)+(Re*xt-Ne*ut)*(Tt*bn-Bt*$t)}function ie(s,k,fe){var Re=k[0],Ne=k[1],Qe=k[2],ot=k[3],ut=k[4],xt=k[5],Tt=k[6],Bt=k[7],Xt=k[8],Yt=k[9],$t=k[10],bn=k[11],xn=k[12],Qt=k[13],Mn=k[14],Sr=k[15],Zn=fe[0],Yn=fe[1],rr=fe[2],cr=fe[3];return s[0]=Zn*Re+Yn*ut+rr*Xt+cr*xn,s[1]=Zn*Ne+Yn*xt+rr*Yt+cr*Qt,s[2]=Zn*Qe+Yn*Tt+rr*$t+cr*Mn,s[3]=Zn*ot+Yn*Bt+rr*bn+cr*Sr,Zn=fe[4],Yn=fe[5],rr=fe[6],cr=fe[7],s[4]=Zn*Re+Yn*ut+rr*Xt+cr*xn,s[5]=Zn*Ne+Yn*xt+rr*Yt+cr*Qt,s[6]=Zn*Qe+Yn*Tt+rr*$t+cr*Mn,s[7]=Zn*ot+Yn*Bt+rr*bn+cr*Sr,Zn=fe[8],Yn=fe[9],rr=fe[10],cr=fe[11],s[8]=Zn*Re+Yn*ut+rr*Xt+cr*xn,s[9]=Zn*Ne+Yn*xt+rr*Yt+cr*Qt,s[10]=Zn*Qe+Yn*Tt+rr*$t+cr*Mn,s[11]=Zn*ot+Yn*Bt+rr*bn+cr*Sr,Zn=fe[12],Yn=fe[13],rr=fe[14],cr=fe[15],s[12]=Zn*Re+Yn*ut+rr*Xt+cr*xn,s[13]=Zn*Ne+Yn*xt+rr*Yt+cr*Qt,s[14]=Zn*Qe+Yn*Tt+rr*$t+cr*Mn,s[15]=Zn*ot+Yn*Bt+rr*bn+cr*Sr,s}function _e(s,k,fe){var Re,Ne,Qe,ot,ut,xt,Tt,Bt,Xt,Yt,$t,bn,xn=fe[0],Qt=fe[1],Mn=fe[2];return k===s?(s[12]=k[0]*xn+k[4]*Qt+k[8]*Mn+k[12],s[13]=k[1]*xn+k[5]*Qt+k[9]*Mn+k[13],s[14]=k[2]*xn+k[6]*Qt+k[10]*Mn+k[14],s[15]=k[3]*xn+k[7]*Qt+k[11]*Mn+k[15]):(Re=k[0],Ne=k[1],Qe=k[2],ot=k[3],ut=k[4],xt=k[5],Tt=k[6],Bt=k[7],Xt=k[8],Yt=k[9],$t=k[10],bn=k[11],s[0]=Re,s[1]=Ne,s[2]=Qe,s[3]=ot,s[4]=ut,s[5]=xt,s[6]=Tt,s[7]=Bt,s[8]=Xt,s[9]=Yt,s[10]=$t,s[11]=bn,s[12]=Re*xn+ut*Qt+Xt*Mn+k[12],s[13]=Ne*xn+xt*Qt+Yt*Mn+k[13],s[14]=Qe*xn+Tt*Qt+$t*Mn+k[14],s[15]=ot*xn+Bt*Qt+bn*Mn+k[15]),s}function Ze(s,k,fe){var Re=fe[0],Ne=fe[1],Qe=fe[2];return s[0]=k[0]*Re,s[1]=k[1]*Re,s[2]=k[2]*Re,s[3]=k[3]*Re,s[4]=k[4]*Ne,s[5]=k[5]*Ne,s[6]=k[6]*Ne,s[7]=k[7]*Ne,s[8]=k[8]*Qe,s[9]=k[9]*Qe,s[10]=k[10]*Qe,s[11]=k[11]*Qe,s[12]=k[12],s[13]=k[13],s[14]=k[14],s[15]=k[15],s}function ft(s,k,fe,Re){var Ne,Qe,ot,ut,xt,Tt,Bt,Xt,Yt,$t,bn,xn,Qt,Mn,Sr,Zn,Yn,rr,cr,va,fa,ca,jr,oa,$n=Re[0],Gr=Re[1],Hn=Re[2],La=Math.hypot($n,Gr,Hn);return La<r?null:($n*=La=1/La,Gr*=La,Hn*=La,Ne=Math.sin(fe),ot=1-(Qe=Math.cos(fe)),ut=k[0],xt=k[1],Tt=k[2],Bt=k[3],Xt=k[4],Yt=k[5],$t=k[6],bn=k[7],xn=k[8],Qt=k[9],Mn=k[10],Sr=k[11],Zn=$n*$n*ot+Qe,Yn=Gr*$n*ot+Hn*Ne,rr=Hn*$n*ot-Gr*Ne,cr=$n*Gr*ot-Hn*Ne,va=Gr*Gr*ot+Qe,fa=Hn*Gr*ot+$n*Ne,ca=$n*Hn*ot+Gr*Ne,jr=Gr*Hn*ot-$n*Ne,oa=Hn*Hn*ot+Qe,s[0]=ut*Zn+Xt*Yn+xn*rr,s[1]=xt*Zn+Yt*Yn+Qt*rr,s[2]=Tt*Zn+$t*Yn+Mn*rr,s[3]=Bt*Zn+bn*Yn+Sr*rr,s[4]=ut*cr+Xt*va+xn*fa,s[5]=xt*cr+Yt*va+Qt*fa,s[6]=Tt*cr+$t*va+Mn*fa,s[7]=Bt*cr+bn*va+Sr*fa,s[8]=ut*ca+Xt*jr+xn*oa,s[9]=xt*ca+Yt*jr+Qt*oa,s[10]=Tt*ca+$t*jr+Mn*oa,s[11]=Bt*ca+bn*jr+Sr*oa,k!==s&&(s[12]=k[12],s[13]=k[13],s[14]=k[14],s[15]=k[15]),s)}function at(s,k,fe){var Re=Math.sin(fe),Ne=Math.cos(fe),Qe=k[4],ot=k[5],ut=k[6],xt=k[7],Tt=k[8],Bt=k[9],Xt=k[10],Yt=k[11];return k!==s&&(s[0]=k[0],s[1]=k[1],s[2]=k[2],s[3]=k[3],s[12]=k[12],s[13]=k[13],s[14]=k[14],s[15]=k[15]),s[4]=Qe*Ne+Tt*Re,s[5]=ot*Ne+Bt*Re,s[6]=ut*Ne+Xt*Re,s[7]=xt*Ne+Yt*Re,s[8]=Tt*Ne-Qe*Re,s[9]=Bt*Ne-ot*Re,s[10]=Xt*Ne-ut*Re,s[11]=Yt*Ne-xt*Re,s}function ht(s,k,fe){var Re=Math.sin(fe),Ne=Math.cos(fe),Qe=k[0],ot=k[1],ut=k[2],xt=k[3],Tt=k[8],Bt=k[9],Xt=k[10],Yt=k[11];return k!==s&&(s[4]=k[4],s[5]=k[5],s[6]=k[6],s[7]=k[7],s[12]=k[12],s[13]=k[13],s[14]=k[14],s[15]=k[15]),s[0]=Qe*Ne-Tt*Re,s[1]=ot*Ne-Bt*Re,s[2]=ut*Ne-Xt*Re,s[3]=xt*Ne-Yt*Re,s[8]=Qe*Re+Tt*Ne,s[9]=ot*Re+Bt*Ne,s[10]=ut*Re+Xt*Ne,s[11]=xt*Re+Yt*Ne,s}function Ct(s,k,fe){var Re=Math.sin(fe),Ne=Math.cos(fe),Qe=k[0],ot=k[1],ut=k[2],xt=k[3],Tt=k[4],Bt=k[5],Xt=k[6],Yt=k[7];return k!==s&&(s[8]=k[8],s[9]=k[9],s[10]=k[10],s[11]=k[11],s[12]=k[12],s[13]=k[13],s[14]=k[14],s[15]=k[15]),s[0]=Qe*Ne+Tt*Re,s[1]=ot*Ne+Bt*Re,s[2]=ut*Ne+Xt*Re,s[3]=xt*Ne+Yt*Re,s[4]=Tt*Ne-Qe*Re,s[5]=Bt*Ne-ot*Re,s[6]=Xt*Ne-ut*Re,s[7]=Yt*Ne-xt*Re,s}function Kt(s,k){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=k[0],s[13]=k[1],s[14]=k[2],s[15]=1,s}function nn(s,k){return s[0]=k[0],s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=k[1],s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=k[2],s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function oe(s,k,fe){var Re,Ne,Qe,ot=fe[0],ut=fe[1],xt=fe[2],Tt=Math.hypot(ot,ut,xt);return Tt<r?null:(ot*=Tt=1/Tt,ut*=Tt,xt*=Tt,Re=Math.sin(k),Qe=1-(Ne=Math.cos(k)),s[0]=ot*ot*Qe+Ne,s[1]=ut*ot*Qe+xt*Re,s[2]=xt*ot*Qe-ut*Re,s[3]=0,s[4]=ot*ut*Qe-xt*Re,s[5]=ut*ut*Qe+Ne,s[6]=xt*ut*Qe+ot*Re,s[7]=0,s[8]=ot*xt*Qe+ut*Re,s[9]=ut*xt*Qe-ot*Re,s[10]=xt*xt*Qe+Ne,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s)}function St(s,k){var fe=Math.sin(k),Re=Math.cos(k);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=Re,s[6]=fe,s[7]=0,s[8]=0,s[9]=-fe,s[10]=Re,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function Ce(s,k){var fe=Math.sin(k),Re=Math.cos(k);return s[0]=Re,s[1]=0,s[2]=-fe,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=fe,s[9]=0,s[10]=Re,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function He(s,k){var fe=Math.sin(k),Re=Math.cos(k);return s[0]=Re,s[1]=fe,s[2]=0,s[3]=0,s[4]=-fe,s[5]=Re,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function Nt(s,k,fe){var Re=k[0],Ne=k[1],Qe=k[2],ot=k[3],ut=Re+Re,xt=Ne+Ne,Tt=Qe+Qe,Bt=Re*ut,Xt=Re*xt,Yt=Re*Tt,$t=Ne*xt,bn=Ne*Tt,xn=Qe*Tt,Qt=ot*ut,Mn=ot*xt,Sr=ot*Tt;return s[0]=1-($t+xn),s[1]=Xt+Sr,s[2]=Yt-Mn,s[3]=0,s[4]=Xt-Sr,s[5]=1-(Bt+xn),s[6]=bn+Qt,s[7]=0,s[8]=Yt+Mn,s[9]=bn-Qt,s[10]=1-(Bt+$t),s[11]=0,s[12]=fe[0],s[13]=fe[1],s[14]=fe[2],s[15]=1,s}function Dt(s,k){var fe=new b(3),Re=-k[0],Ne=-k[1],Qe=-k[2],ot=k[3],ut=k[4],xt=k[5],Tt=k[6],Bt=k[7],Xt=Re*Re+Ne*Ne+Qe*Qe+ot*ot;return Xt>0?(fe[0]=2*(ut*ot+Bt*Re+xt*Qe-Tt*Ne)/Xt,fe[1]=2*(xt*ot+Bt*Ne+Tt*Re-ut*Qe)/Xt,fe[2]=2*(Tt*ot+Bt*Qe+ut*Ne-xt*Re)/Xt):(fe[0]=2*(ut*ot+Bt*Re+xt*Qe-Tt*Ne),fe[1]=2*(xt*ot+Bt*Ne+Tt*Re-ut*Qe),fe[2]=2*(Tt*ot+Bt*Qe+ut*Ne-xt*Re)),Nt(s,k,fe),s}function On(s,k){return s[0]=k[12],s[1]=k[13],s[2]=k[14],s}function Lt(s,k){var fe=k[0],Re=k[1],Ne=k[2],Qe=k[4],ot=k[5],ut=k[6],xt=k[8],Tt=k[9],Bt=k[10];return s[0]=Math.hypot(fe,Re,Ne),s[1]=Math.hypot(Qe,ot,ut),s[2]=Math.hypot(xt,Tt,Bt),s}function An(s,k){var fe=new b(3);Lt(fe,k);var Re=1/fe[0],Ne=1/fe[1],Qe=1/fe[2],ot=k[0]*Re,ut=k[1]*Ne,xt=k[2]*Qe,Tt=k[4]*Re,Bt=k[5]*Ne,Xt=k[6]*Qe,Yt=k[8]*Re,$t=k[9]*Ne,bn=k[10]*Qe,xn=ot+Bt+bn,Qt=0;return xn>0?(Qt=2*Math.sqrt(xn+1),s[3]=.25*Qt,s[0]=(Xt-$t)/Qt,s[1]=(Yt-xt)/Qt,s[2]=(ut-Tt)/Qt):ot>Bt&&ot>bn?(Qt=2*Math.sqrt(1+ot-Bt-bn),s[3]=(Xt-$t)/Qt,s[0]=.25*Qt,s[1]=(ut+Tt)/Qt,s[2]=(Yt+xt)/Qt):Bt>bn?(Qt=2*Math.sqrt(1+Bt-ot-bn),s[3]=(Yt-xt)/Qt,s[0]=(ut+Tt)/Qt,s[1]=.25*Qt,s[2]=(Xt+$t)/Qt):(Qt=2*Math.sqrt(1+bn-ot-Bt),s[3]=(ut-Tt)/Qt,s[0]=(Yt+xt)/Qt,s[1]=(Xt+$t)/Qt,s[2]=.25*Qt),s}function dt(s,k,fe,Re){var Ne=k[0],Qe=k[1],ot=k[2],ut=k[3],xt=Ne+Ne,Tt=Qe+Qe,Bt=ot+ot,Xt=Ne*xt,Yt=Ne*Tt,$t=Ne*Bt,bn=Qe*Tt,xn=Qe*Bt,Qt=ot*Bt,Mn=ut*xt,Sr=ut*Tt,Zn=ut*Bt,Yn=Re[0],rr=Re[1],cr=Re[2];return s[0]=(1-(bn+Qt))*Yn,s[1]=(Yt+Zn)*Yn,s[2]=($t-Sr)*Yn,s[3]=0,s[4]=(Yt-Zn)*rr,s[5]=(1-(Xt+Qt))*rr,s[6]=(xn+Mn)*rr,s[7]=0,s[8]=($t+Sr)*cr,s[9]=(xn-Mn)*cr,s[10]=(1-(Xt+bn))*cr,s[11]=0,s[12]=fe[0],s[13]=fe[1],s[14]=fe[2],s[15]=1,s}function zt(s,k,fe,Re,Ne){var Qe=k[0],ot=k[1],ut=k[2],xt=k[3],Tt=Qe+Qe,Bt=ot+ot,Xt=ut+ut,Yt=Qe*Tt,$t=Qe*Bt,bn=Qe*Xt,xn=ot*Bt,Qt=ot*Xt,Mn=ut*Xt,Sr=xt*Tt,Zn=xt*Bt,Yn=xt*Xt,rr=Re[0],cr=Re[1],va=Re[2],fa=Ne[0],ca=Ne[1],jr=Ne[2],oa=(1-(xn+Mn))*rr,$n=($t+Yn)*rr,Gr=(bn-Zn)*rr,Hn=($t-Yn)*cr,La=(1-(Yt+Mn))*cr,Fo=(Qt+Sr)*cr,Ia=(bn+Zn)*va,ci=(Qt-Sr)*va,Pi=(1-(Yt+xn))*va;return s[0]=oa,s[1]=$n,s[2]=Gr,s[3]=0,s[4]=Hn,s[5]=La,s[6]=Fo,s[7]=0,s[8]=Ia,s[9]=ci,s[10]=Pi,s[11]=0,s[12]=fe[0]+fa-(oa*fa+Hn*ca+Ia*jr),s[13]=fe[1]+ca-($n*fa+La*ca+ci*jr),s[14]=fe[2]+jr-(Gr*fa+Fo*ca+Pi*jr),s[15]=1,s}function ur(s,k){var fe=k[0],Re=k[1],Ne=k[2],Qe=k[3],ot=fe+fe,ut=Re+Re,xt=Ne+Ne,Tt=fe*ot,Bt=Re*ot,Xt=Re*ut,Yt=Ne*ot,$t=Ne*ut,bn=Ne*xt,xn=Qe*ot,Qt=Qe*ut,Mn=Qe*xt;return s[0]=1-Xt-bn,s[1]=Bt+Mn,s[2]=Yt-Qt,s[3]=0,s[4]=Bt-Mn,s[5]=1-Tt-bn,s[6]=$t+xn,s[7]=0,s[8]=Yt+Qt,s[9]=$t-xn,s[10]=1-Tt-Xt,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function Be(s,k,fe,Re,Ne,Qe,ot){var ut=1/(fe-k),xt=1/(Ne-Re),Tt=1/(Qe-ot);return s[0]=2*Qe*ut,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=2*Qe*xt,s[6]=0,s[7]=0,s[8]=(fe+k)*ut,s[9]=(Ne+Re)*xt,s[10]=(ot+Qe)*Tt,s[11]=-1,s[12]=0,s[13]=0,s[14]=ot*Qe*2*Tt,s[15]=0,s}function wn(s,k,fe,Re,Ne){var Qe,ot=1/Math.tan(k/2);return s[0]=ot/fe,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=ot,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=-1,s[12]=0,s[13]=0,s[15]=0,Ne!=null&&Ne!==1/0?(Qe=1/(Re-Ne),s[10]=(Ne+Re)*Qe,s[14]=2*Ne*Re*Qe):(s[10]=-1,s[14]=-2*Re),s}function gr(s,k,fe,Re){var Ne=Math.tan(k.upDegrees*Math.PI/180),Qe=Math.tan(k.downDegrees*Math.PI/180),ot=Math.tan(k.leftDegrees*Math.PI/180),ut=Math.tan(k.rightDegrees*Math.PI/180),xt=2/(ot+ut),Tt=2/(Ne+Qe);return s[0]=xt,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=Tt,s[6]=0,s[7]=0,s[8]=-(ot-ut)*xt*.5,s[9]=(Ne-Qe)*Tt*.5,s[10]=Re/(fe-Re),s[11]=-1,s[12]=0,s[13]=0,s[14]=Re*fe/(fe-Re),s[15]=0,s}function Br(s,k,fe,Re,Ne,Qe,ot){var ut=1/(k-fe),xt=1/(Re-Ne),Tt=1/(Qe-ot);return s[0]=-2*ut,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*xt,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*Tt,s[11]=0,s[12]=(k+fe)*ut,s[13]=(Ne+Re)*xt,s[14]=(ot+Qe)*Tt,s[15]=1,s}function nr(s,k,fe,Re){var Ne,Qe,ot,ut,xt,Tt,Bt,Xt,Yt,$t,bn=k[0],xn=k[1],Qt=k[2],Mn=Re[0],Sr=Re[1],Zn=Re[2],Yn=fe[0],rr=fe[1],cr=fe[2];return Math.abs(bn-Yn)<r&&Math.abs(xn-rr)<r&&Math.abs(Qt-cr)<r?st(s):(Bt=bn-Yn,Xt=xn-rr,Yt=Qt-cr,Ne=Sr*(Yt*=$t=1/Math.hypot(Bt,Xt,Yt))-Zn*(Xt*=$t),Qe=Zn*(Bt*=$t)-Mn*Yt,ot=Mn*Xt-Sr*Bt,($t=Math.hypot(Ne,Qe,ot))?(Ne*=$t=1/$t,Qe*=$t,ot*=$t):(Ne=0,Qe=0,ot=0),ut=Xt*ot-Yt*Qe,xt=Yt*Ne-Bt*ot,Tt=Bt*Qe-Xt*Ne,($t=Math.hypot(ut,xt,Tt))?(ut*=$t=1/$t,xt*=$t,Tt*=$t):(ut=0,xt=0,Tt=0),s[0]=Ne,s[1]=ut,s[2]=Bt,s[3]=0,s[4]=Qe,s[5]=xt,s[6]=Xt,s[7]=0,s[8]=ot,s[9]=Tt,s[10]=Yt,s[11]=0,s[12]=-(Ne*bn+Qe*xn+ot*Qt),s[13]=-(ut*bn+xt*xn+Tt*Qt),s[14]=-(Bt*bn+Xt*xn+Yt*Qt),s[15]=1,s)}function J(s,k,fe,Re){var Ne=k[0],Qe=k[1],ot=k[2],ut=Re[0],xt=Re[1],Tt=Re[2],Bt=Ne-fe[0],Xt=Qe-fe[1],Yt=ot-fe[2],$t=Bt*Bt+Xt*Xt+Yt*Yt;$t>0&&(Bt*=$t=1/Math.sqrt($t),Xt*=$t,Yt*=$t);var bn=xt*Yt-Tt*Xt,xn=Tt*Bt-ut*Yt,Qt=ut*Xt-xt*Bt;return($t=bn*bn+xn*xn+Qt*Qt)>0&&(bn*=$t=1/Math.sqrt($t),xn*=$t,Qt*=$t),s[0]=bn,s[1]=xn,s[2]=Qt,s[3]=0,s[4]=Xt*Qt-Yt*xn,s[5]=Yt*bn-Bt*Qt,s[6]=Bt*xn-Xt*bn,s[7]=0,s[8]=Bt,s[9]=Xt,s[10]=Yt,s[11]=0,s[12]=Ne,s[13]=Qe,s[14]=ot,s[15]=1,s}function Te(s){return"mat4("+s[0]+", "+s[1]+", "+s[2]+", "+s[3]+", "+s[4]+", "+s[5]+", "+s[6]+", "+s[7]+", "+s[8]+", "+s[9]+", "+s[10]+", "+s[11]+", "+s[12]+", "+s[13]+", "+s[14]+", "+s[15]+")"}function Me(s){return Math.hypot(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8],s[9],s[10],s[11],s[12],s[13],s[14],s[15])}function Ke(s,k,fe){return s[0]=k[0]+fe[0],s[1]=k[1]+fe[1],s[2]=k[2]+fe[2],s[3]=k[3]+fe[3],s[4]=k[4]+fe[4],s[5]=k[5]+fe[5],s[6]=k[6]+fe[6],s[7]=k[7]+fe[7],s[8]=k[8]+fe[8],s[9]=k[9]+fe[9],s[10]=k[10]+fe[10],s[11]=k[11]+fe[11],s[12]=k[12]+fe[12],s[13]=k[13]+fe[13],s[14]=k[14]+fe[14],s[15]=k[15]+fe[15],s}function rt(s,k,fe){return s[0]=k[0]-fe[0],s[1]=k[1]-fe[1],s[2]=k[2]-fe[2],s[3]=k[3]-fe[3],s[4]=k[4]-fe[4],s[5]=k[5]-fe[5],s[6]=k[6]-fe[6],s[7]=k[7]-fe[7],s[8]=k[8]-fe[8],s[9]=k[9]-fe[9],s[10]=k[10]-fe[10],s[11]=k[11]-fe[11],s[12]=k[12]-fe[12],s[13]=k[13]-fe[13],s[14]=k[14]-fe[14],s[15]=k[15]-fe[15],s}function yt(s,k,fe){return s[0]=k[0]*fe,s[1]=k[1]*fe,s[2]=k[2]*fe,s[3]=k[3]*fe,s[4]=k[4]*fe,s[5]=k[5]*fe,s[6]=k[6]*fe,s[7]=k[7]*fe,s[8]=k[8]*fe,s[9]=k[9]*fe,s[10]=k[10]*fe,s[11]=k[11]*fe,s[12]=k[12]*fe,s[13]=k[13]*fe,s[14]=k[14]*fe,s[15]=k[15]*fe,s}function Ot(s,k,fe,Re){return s[0]=k[0]+fe[0]*Re,s[1]=k[1]+fe[1]*Re,s[2]=k[2]+fe[2]*Re,s[3]=k[3]+fe[3]*Re,s[4]=k[4]+fe[4]*Re,s[5]=k[5]+fe[5]*Re,s[6]=k[6]+fe[6]*Re,s[7]=k[7]+fe[7]*Re,s[8]=k[8]+fe[8]*Re,s[9]=k[9]+fe[9]*Re,s[10]=k[10]+fe[10]*Re,s[11]=k[11]+fe[11]*Re,s[12]=k[12]+fe[12]*Re,s[13]=k[13]+fe[13]*Re,s[14]=k[14]+fe[14]*Re,s[15]=k[15]+fe[15]*Re,s}function cn(s,k){return s[0]===k[0]&&s[1]===k[1]&&s[2]===k[2]&&s[3]===k[3]&&s[4]===k[4]&&s[5]===k[5]&&s[6]===k[6]&&s[7]===k[7]&&s[8]===k[8]&&s[9]===k[9]&&s[10]===k[10]&&s[11]===k[11]&&s[12]===k[12]&&s[13]===k[13]&&s[14]===k[14]&&s[15]===k[15]}function gn(s,k){var fe=s[0],Re=s[1],Ne=s[2],Qe=s[3],ot=s[4],ut=s[5],xt=s[6],Tt=s[7],Bt=s[8],Xt=s[9],Yt=s[10],$t=s[11],bn=s[12],xn=s[13],Qt=s[14],Mn=s[15],Sr=k[0],Zn=k[1],Yn=k[2],rr=k[3],cr=k[4],va=k[5],fa=k[6],ca=k[7],jr=k[8],oa=k[9],$n=k[10],Gr=k[11],Hn=k[12],La=k[13],Fo=k[14],Ia=k[15];return Math.abs(fe-Sr)<=r*Math.max(1,Math.abs(fe),Math.abs(Sr))&&Math.abs(Re-Zn)<=r*Math.max(1,Math.abs(Re),Math.abs(Zn))&&Math.abs(Ne-Yn)<=r*Math.max(1,Math.abs(Ne),Math.abs(Yn))&&Math.abs(Qe-rr)<=r*Math.max(1,Math.abs(Qe),Math.abs(rr))&&Math.abs(ot-cr)<=r*Math.max(1,Math.abs(ot),Math.abs(cr))&&Math.abs(ut-va)<=r*Math.max(1,Math.abs(ut),Math.abs(va))&&Math.abs(xt-fa)<=r*Math.max(1,Math.abs(xt),Math.abs(fa))&&Math.abs(Tt-ca)<=r*Math.max(1,Math.abs(Tt),Math.abs(ca))&&Math.abs(Bt-jr)<=r*Math.max(1,Math.abs(Bt),Math.abs(jr))&&Math.abs(Xt-oa)<=r*Math.max(1,Math.abs(Xt),Math.abs(oa))&&Math.abs(Yt-$n)<=r*Math.max(1,Math.abs(Yt),Math.abs($n))&&Math.abs($t-Gr)<=r*Math.max(1,Math.abs($t),Math.abs(Gr))&&Math.abs(bn-Hn)<=r*Math.max(1,Math.abs(bn),Math.abs(Hn))&&Math.abs(xn-La)<=r*Math.max(1,Math.abs(xn),Math.abs(La))&&Math.abs(Qt-Fo)<=r*Math.max(1,Math.abs(Qt),Math.abs(Fo))&&Math.abs(Mn-Ia)<=r*Math.max(1,Math.abs(Mn),Math.abs(Ia))}var Pn=ie,kn=rt;function It(){var s=new b(3);return b!=Float32Array&&(s[0]=0,s[1]=0,s[2]=0),s}function rn(s){var k=new b(3);return k[0]=s[0],k[1]=s[1],k[2]=s[2],k}function bt(s){var k=s[0],fe=s[1],Re=s[2];return Math.hypot(k,fe,Re)}function Et(s,k,fe){var Re=new b(3);return Re[0]=s,Re[1]=k,Re[2]=fe,Re}function Ht(s,k){return s[0]=k[0],s[1]=k[1],s[2]=k[2],s}function Mt(s,k,fe,Re){return s[0]=k,s[1]=fe,s[2]=Re,s}function pn(s,k,fe){return s[0]=k[0]+fe[0],s[1]=k[1]+fe[1],s[2]=k[2]+fe[2],s}function Sn(s,k,fe){return s[0]=k[0]-fe[0],s[1]=k[1]-fe[1],s[2]=k[2]-fe[2],s}function Gt(s,k,fe){return s[0]=k[0]*fe[0],s[1]=k[1]*fe[1],s[2]=k[2]*fe[2],s}function ln(s,k,fe){return s[0]=k[0]/fe[0],s[1]=k[1]/fe[1],s[2]=k[2]/fe[2],s}function tn(s,k){return s[0]=Math.ceil(k[0]),s[1]=Math.ceil(k[1]),s[2]=Math.ceil(k[2]),s}function Rn(s,k){return s[0]=Math.floor(k[0]),s[1]=Math.floor(k[1]),s[2]=Math.floor(k[2]),s}function Gn(s,k,fe){return s[0]=Math.min(k[0],fe[0]),s[1]=Math.min(k[1],fe[1]),s[2]=Math.min(k[2],fe[2]),s}function fr(s,k,fe){return s[0]=Math.max(k[0],fe[0]),s[1]=Math.max(k[1],fe[1]),s[2]=Math.max(k[2],fe[2]),s}function qn(s,k){return s[0]=Math.round(k[0]),s[1]=Math.round(k[1]),s[2]=Math.round(k[2]),s}function dr(s,k,fe){return s[0]=k[0]*fe,s[1]=k[1]*fe,s[2]=k[2]*fe,s}function Jn(s,k,fe,Re){return s[0]=k[0]+fe[0]*Re,s[1]=k[1]+fe[1]*Re,s[2]=k[2]+fe[2]*Re,s}function mr(s,k){var fe=k[0]-s[0],Re=k[1]-s[1],Ne=k[2]-s[2];return Math.hypot(fe,Re,Ne)}function ar(s,k){var fe=k[0]-s[0],Re=k[1]-s[1],Ne=k[2]-s[2];return fe*fe+Re*Re+Ne*Ne}function hr(s){var k=s[0],fe=s[1],Re=s[2];return k*k+fe*fe+Re*Re}function Vr(s,k){return s[0]=-k[0],s[1]=-k[1],s[2]=-k[2],s}function Zr(s,k){return s[0]=1/k[0],s[1]=1/k[1],s[2]=1/k[2],s}function Jr(s,k){var fe=k[0],Re=k[1],Ne=k[2],Qe=fe*fe+Re*Re+Ne*Ne;return Qe>0&&(Qe=1/Math.sqrt(Qe)),s[0]=k[0]*Qe,s[1]=k[1]*Qe,s[2]=k[2]*Qe,s}function br(s,k){return s[0]*k[0]+s[1]*k[1]+s[2]*k[2]}function Qr(s,k,fe){var Re=k[0],Ne=k[1],Qe=k[2],ot=fe[0],ut=fe[1],xt=fe[2];return s[0]=Ne*xt-Qe*ut,s[1]=Qe*ot-Re*xt,s[2]=Re*ut-Ne*ot,s}function Nr(s,k,fe,Re){var Ne=k[0],Qe=k[1],ot=k[2];return s[0]=Ne+Re*(fe[0]-Ne),s[1]=Qe+Re*(fe[1]-Qe),s[2]=ot+Re*(fe[2]-ot),s}function $r(s,k,fe,Re,Ne,Qe){var ot=Qe*Qe,ut=ot*(2*Qe-3)+1,xt=ot*(Qe-2)+Qe,Tt=ot*(Qe-1),Bt=ot*(3-2*Qe);return s[0]=k[0]*ut+fe[0]*xt+Re[0]*Tt+Ne[0]*Bt,s[1]=k[1]*ut+fe[1]*xt+Re[1]*Tt+Ne[1]*Bt,s[2]=k[2]*ut+fe[2]*xt+Re[2]*Tt+Ne[2]*Bt,s}function Yr(s,k,fe,Re,Ne,Qe){var ot=1-Qe,ut=ot*ot,xt=Qe*Qe,Tt=ut*ot,Bt=3*Qe*ut,Xt=3*xt*ot,Yt=xt*Qe;return s[0]=k[0]*Tt+fe[0]*Bt+Re[0]*Xt+Ne[0]*Yt,s[1]=k[1]*Tt+fe[1]*Bt+Re[1]*Xt+Ne[1]*Yt,s[2]=k[2]*Tt+fe[2]*Bt+Re[2]*Xt+Ne[2]*Yt,s}function ra(s,k){k=k||1;var fe=2*C()*Math.PI,Re=2*C()-1,Ne=Math.sqrt(1-Re*Re)*k;return s[0]=Math.cos(fe)*Ne,s[1]=Math.sin(fe)*Ne,s[2]=Re*k,s}function Ln(s,k,fe){var Re=k[0],Ne=k[1],Qe=k[2],ot=fe[3]*Re+fe[7]*Ne+fe[11]*Qe+fe[15];return ot=ot||1,s[0]=(fe[0]*Re+fe[4]*Ne+fe[8]*Qe+fe[12])/ot,s[1]=(fe[1]*Re+fe[5]*Ne+fe[9]*Qe+fe[13])/ot,s[2]=(fe[2]*Re+fe[6]*Ne+fe[10]*Qe+fe[14])/ot,s}function Wr(s,k,fe){var Re=k[0],Ne=k[1],Qe=k[2];return s[0]=Re*fe[0]+Ne*fe[3]+Qe*fe[6],s[1]=Re*fe[1]+Ne*fe[4]+Qe*fe[7],s[2]=Re*fe[2]+Ne*fe[5]+Qe*fe[8],s}function Pr(s,k,fe){var Re=fe[0],Ne=fe[1],Qe=fe[2],ot=fe[3],ut=k[0],xt=k[1],Tt=k[2],Bt=Ne*Tt-Qe*xt,Xt=Qe*ut-Re*Tt,Yt=Re*xt-Ne*ut,$t=Ne*Yt-Qe*Xt,bn=Qe*Bt-Re*Yt,xn=Re*Xt-Ne*Bt,Qt=2*ot;return Bt*=Qt,Xt*=Qt,Yt*=Qt,$t*=2,bn*=2,xn*=2,s[0]=ut+Bt+$t,s[1]=xt+Xt+bn,s[2]=Tt+Yt+xn,s}function pr(s,k,fe,Re){var Ne=[],Qe=[];return Ne[0]=k[0]-fe[0],Ne[1]=k[1]-fe[1],Ne[2]=k[2]-fe[2],Qe[0]=Ne[0],Qe[1]=Ne[1]*Math.cos(Re)-Ne[2]*Math.sin(Re),Qe[2]=Ne[1]*Math.sin(Re)+Ne[2]*Math.cos(Re),s[0]=Qe[0]+fe[0],s[1]=Qe[1]+fe[1],s[2]=Qe[2]+fe[2],s}function kr(s,k,fe,Re){var Ne=[],Qe=[];return Ne[0]=k[0]-fe[0],Ne[1]=k[1]-fe[1],Ne[2]=k[2]-fe[2],Qe[0]=Ne[2]*Math.sin(Re)+Ne[0]*Math.cos(Re),Qe[1]=Ne[1],Qe[2]=Ne[2]*Math.cos(Re)-Ne[0]*Math.sin(Re),s[0]=Qe[0]+fe[0],s[1]=Qe[1]+fe[1],s[2]=Qe[2]+fe[2],s}function Kr(s,k,fe,Re){var Ne=[],Qe=[];return Ne[0]=k[0]-fe[0],Ne[1]=k[1]-fe[1],Ne[2]=k[2]-fe[2],Qe[0]=Ne[0]*Math.cos(Re)-Ne[1]*Math.sin(Re),Qe[1]=Ne[0]*Math.sin(Re)+Ne[1]*Math.cos(Re),Qe[2]=Ne[2],s[0]=Qe[0]+fe[0],s[1]=Qe[1]+fe[1],s[2]=Qe[2]+fe[2],s}function Lr(s,k){var fe=s[0],Re=s[1],Ne=s[2],Qe=k[0],ot=k[1],ut=k[2],xt=Math.sqrt(fe*fe+Re*Re+Ne*Ne)*Math.sqrt(Qe*Qe+ot*ot+ut*ut),Tt=xt&&br(s,k)/xt;return Math.acos(Math.min(Math.max(Tt,-1),1))}function vr(s){return s[0]=0,s[1]=0,s[2]=0,s}function Dr(s){return"vec3("+s[0]+", "+s[1]+", "+s[2]+")"}function Ca(s,k){return s[0]===k[0]&&s[1]===k[1]&&s[2]===k[2]}function Ua(s,k){var fe=s[0],Re=s[1],Ne=s[2],Qe=k[0],ot=k[1],ut=k[2];return Math.abs(fe-Qe)<=r*Math.max(1,Math.abs(fe),Math.abs(Qe))&&Math.abs(Re-ot)<=r*Math.max(1,Math.abs(Re),Math.abs(ot))&&Math.abs(Ne-ut)<=r*Math.max(1,Math.abs(Ne),Math.abs(ut))}var Fr=Sn,aa=Gt,Fn=ln,Ra=mr,ea=ar,ya=bt,Va=hr,ta=function(){var s=It();return function(k,fe,Re,Ne,Qe,ot){var ut,xt;for(fe||(fe=3),Re||(Re=0),xt=Ne?Math.min(Ne*fe+Re,k.length):k.length,ut=Re;ut<xt;ut+=fe)s[0]=k[ut],s[1]=k[ut+1],s[2]=k[ut+2],Qe(s,s,ot),k[ut]=s[0],k[ut+1]=s[1],k[ut+2]=s[2];return k}}();function xa(){var s=new b(4);return b!=Float32Array&&(s[0]=0,s[1]=0,s[2]=0,s[3]=0),s}function ba(s){var k=new b(4);return k[0]=s[0],k[1]=s[1],k[2]=s[2],k[3]=s[3],k}function pa(s,k,fe,Re){var Ne=new b(4);return Ne[0]=s,Ne[1]=k,Ne[2]=fe,Ne[3]=Re,Ne}function $a(s,k){return s[0]=k[0],s[1]=k[1],s[2]=k[2],s[3]=k[3],s}function Na(s,k,fe,Re,Ne){return s[0]=k,s[1]=fe,s[2]=Re,s[3]=Ne,s}function eo(s,k,fe){return s[0]=k[0]+fe[0],s[1]=k[1]+fe[1],s[2]=k[2]+fe[2],s[3]=k[3]+fe[3],s}function Sa(s,k,fe){return s[0]=k[0]-fe[0],s[1]=k[1]-fe[1],s[2]=k[2]-fe[2],s[3]=k[3]-fe[3],s}function ga(s,k,fe){return s[0]=k[0]*fe[0],s[1]=k[1]*fe[1],s[2]=k[2]*fe[2],s[3]=k[3]*fe[3],s}function po(s,k,fe){return s[0]=k[0]/fe[0],s[1]=k[1]/fe[1],s[2]=k[2]/fe[2],s[3]=k[3]/fe[3],s}function Qa(s,k){return s[0]=Math.ceil(k[0]),s[1]=Math.ceil(k[1]),s[2]=Math.ceil(k[2]),s[3]=Math.ceil(k[3]),s}function ja(s,k){return s[0]=Math.floor(k[0]),s[1]=Math.floor(k[1]),s[2]=Math.floor(k[2]),s[3]=Math.floor(k[3]),s}function Ya(s,k,fe){return s[0]=Math.min(k[0],fe[0]),s[1]=Math.min(k[1],fe[1]),s[2]=Math.min(k[2],fe[2]),s[3]=Math.min(k[3],fe[3]),s}function yo(s,k,fe){return s[0]=Math.max(k[0],fe[0]),s[1]=Math.max(k[1],fe[1]),s[2]=Math.max(k[2],fe[2]),s[3]=Math.max(k[3],fe[3]),s}function Ga(s,k){return s[0]=Math.round(k[0]),s[1]=Math.round(k[1]),s[2]=Math.round(k[2]),s[3]=Math.round(k[3]),s}function ao(s,k,fe){return s[0]=k[0]*fe,s[1]=k[1]*fe,s[2]=k[2]*fe,s[3]=k[3]*fe,s}function se(s,k,fe,Re){return s[0]=k[0]+fe[0]*Re,s[1]=k[1]+fe[1]*Re,s[2]=k[2]+fe[2]*Re,s[3]=k[3]+fe[3]*Re,s}function ue(s,k){var fe=k[0]-s[0],Re=k[1]-s[1],Ne=k[2]-s[2],Qe=k[3]-s[3];return Math.hypot(fe,Re,Ne,Qe)}function De(s,k){var fe=k[0]-s[0],Re=k[1]-s[1],Ne=k[2]-s[2],Qe=k[3]-s[3];return fe*fe+Re*Re+Ne*Ne+Qe*Qe}function $e(s){var k=s[0],fe=s[1],Re=s[2],Ne=s[3];return Math.hypot(k,fe,Re,Ne)}function et(s){var k=s[0],fe=s[1],Re=s[2],Ne=s[3];return k*k+fe*fe+Re*Re+Ne*Ne}function mt(s,k){return s[0]=-k[0],s[1]=-k[1],s[2]=-k[2],s[3]=-k[3],s}function _t(s,k){return s[0]=1/k[0],s[1]=1/k[1],s[2]=1/k[2],s[3]=1/k[3],s}function yn(s,k){var fe=k[0],Re=k[1],Ne=k[2],Qe=k[3],ot=fe*fe+Re*Re+Ne*Ne+Qe*Qe;return ot>0&&(ot=1/Math.sqrt(ot)),s[0]=fe*ot,s[1]=Re*ot,s[2]=Ne*ot,s[3]=Qe*ot,s}function _n(s,k){return s[0]*k[0]+s[1]*k[1]+s[2]*k[2]+s[3]*k[3]}function ir(s,k,fe,Re){var Ne=fe[0]*Re[1]-fe[1]*Re[0],Qe=fe[0]*Re[2]-fe[2]*Re[0],ot=fe[0]*Re[3]-fe[3]*Re[0],ut=fe[1]*Re[2]-fe[2]*Re[1],xt=fe[1]*Re[3]-fe[3]*Re[1],Tt=fe[2]*Re[3]-fe[3]*Re[2],Bt=k[0],Xt=k[1],Yt=k[2],$t=k[3];return s[0]=Xt*Tt-Yt*xt+$t*ut,s[1]=-Bt*Tt+Yt*ot-$t*Qe,s[2]=Bt*xt-Xt*ot+$t*Ne,s[3]=-Bt*ut+Xt*Qe-Yt*Ne,s}function wr(s,k,fe,Re){var Ne=k[0],Qe=k[1],ot=k[2],ut=k[3];return s[0]=Ne+Re*(fe[0]-Ne),s[1]=Qe+Re*(fe[1]-Qe),s[2]=ot+Re*(fe[2]-ot),s[3]=ut+Re*(fe[3]-ut),s}function xr(s,k){var fe,Re,Ne,Qe,ot,ut;k=k||1;do ot=(fe=2*C()-1)*fe+(Re=2*C()-1)*Re;while(ot>=1);do ut=(Ne=2*C()-1)*Ne+(Qe=2*C()-1)*Qe;while(ut>=1);var xt=Math.sqrt((1-ot)/ut);return s[0]=k*fe,s[1]=k*Re,s[2]=k*Ne*xt,s[3]=k*Qe*xt,s}function sr(s,k,fe){var Re=k[0],Ne=k[1],Qe=k[2],ot=k[3];return s[0]=fe[0]*Re+fe[4]*Ne+fe[8]*Qe+fe[12]*ot,s[1]=fe[1]*Re+fe[5]*Ne+fe[9]*Qe+fe[13]*ot,s[2]=fe[2]*Re+fe[6]*Ne+fe[10]*Qe+fe[14]*ot,s[3]=fe[3]*Re+fe[7]*Ne+fe[11]*Qe+fe[15]*ot,s}function Or(s,k,fe){var Re=k[0],Ne=k[1],Qe=k[2],ot=fe[0],ut=fe[1],xt=fe[2],Tt=fe[3],Bt=Tt*Re+ut*Qe-xt*Ne,Xt=Tt*Ne+xt*Re-ot*Qe,Yt=Tt*Qe+ot*Ne-ut*Re,$t=-ot*Re-ut*Ne-xt*Qe;return s[0]=Bt*Tt+$t*-ot+Xt*-xt-Yt*-ut,s[1]=Xt*Tt+$t*-ut+Yt*-ot-Bt*-xt,s[2]=Yt*Tt+$t*-xt+Bt*-ut-Xt*-ot,s[3]=k[3],s}function Ur(s){return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s}function Ta(s){return"vec4("+s[0]+", "+s[1]+", "+s[2]+", "+s[3]+")"}function Xr(s,k){return s[0]===k[0]&&s[1]===k[1]&&s[2]===k[2]&&s[3]===k[3]}function za(s,k){var fe=s[0],Re=s[1],Ne=s[2],Qe=s[3],ot=k[0],ut=k[1],xt=k[2],Tt=k[3];return Math.abs(fe-ot)<=r*Math.max(1,Math.abs(fe),Math.abs(ot))&&Math.abs(Re-ut)<=r*Math.max(1,Math.abs(Re),Math.abs(ut))&&Math.abs(Ne-xt)<=r*Math.max(1,Math.abs(Ne),Math.abs(xt))&&Math.abs(Qe-Tt)<=r*Math.max(1,Math.abs(Qe),Math.abs(Tt))}var Eo=Sa,oo=ga,io=po,Aa=ue,to=De,ma=$e,Xa=et,so=function(){var s=xa();return function(k,fe,Re,Ne,Qe,ot){var ut,xt;for(fe||(fe=4),Re||(Re=0),xt=Ne?Math.min(Ne*fe+Re,k.length):k.length,ut=Re;ut<xt;ut+=fe)s[0]=k[ut],s[1]=k[ut+1],s[2]=k[ut+2],s[3]=k[ut+3],Qe(s,s,ot),k[ut]=s[0],k[ut+1]=s[1],k[ut+2]=s[2],k[ut+3]=s[3];return k}}();function Ea(){var s=new b(4);return b!=Float32Array&&(s[0]=0,s[1]=0,s[2]=0),s[3]=1,s}function bo(s){return s[0]=0,s[1]=0,s[2]=0,s[3]=1,s}function zo(s,k,fe){fe*=.5;var Re=Math.sin(fe);return s[0]=Re*k[0],s[1]=Re*k[1],s[2]=Re*k[2],s[3]=Math.cos(fe),s}function ii(s,k){var fe=2*Math.acos(k[3]),Re=Math.sin(fe/2);return Re>r?(s[0]=k[0]/Re,s[1]=k[1]/Re,s[2]=k[2]/Re):(s[0]=1,s[1]=0,s[2]=0),fe}function Wo(s,k){var fe=Bo(s,k);return Math.acos(2*fe*fe-1)}function Ao(s,k,fe){var Re=k[0],Ne=k[1],Qe=k[2],ot=k[3],ut=fe[0],xt=fe[1],Tt=fe[2],Bt=fe[3];return s[0]=Re*Bt+ot*ut+Ne*Tt-Qe*xt,s[1]=Ne*Bt+ot*xt+Qe*ut-Re*Tt,s[2]=Qe*Bt+ot*Tt+Re*xt-Ne*ut,s[3]=ot*Bt-Re*ut-Ne*xt-Qe*Tt,s}function Ro(s,k,fe){fe*=.5;var Re=k[0],Ne=k[1],Qe=k[2],ot=k[3],ut=Math.sin(fe),xt=Math.cos(fe);return s[0]=Re*xt+ot*ut,s[1]=Ne*xt+Qe*ut,s[2]=Qe*xt-Ne*ut,s[3]=ot*xt-Re*ut,s}function go(s,k,fe){fe*=.5;var Re=k[0],Ne=k[1],Qe=k[2],ot=k[3],ut=Math.sin(fe),xt=Math.cos(fe);return s[0]=Re*xt-Qe*ut,s[1]=Ne*xt+ot*ut,s[2]=Qe*xt+Re*ut,s[3]=ot*xt-Ne*ut,s}function ha(s,k,fe){fe*=.5;var Re=k[0],Ne=k[1],Qe=k[2],ot=k[3],ut=Math.sin(fe),xt=Math.cos(fe);return s[0]=Re*xt+Ne*ut,s[1]=Ne*xt-Re*ut,s[2]=Qe*xt+ot*ut,s[3]=ot*xt-Qe*ut,s}function Mo(s,k){var fe=k[0],Re=k[1],Ne=k[2];return s[0]=fe,s[1]=Re,s[2]=Ne,s[3]=Math.sqrt(Math.abs(1-fe*fe-Re*Re-Ne*Ne)),s}function Wa(s,k){var fe=k[0],Re=k[1],Ne=k[2],Qe=k[3],ot=Math.sqrt(fe*fe+Re*Re+Ne*Ne),ut=Math.exp(Qe),xt=ot>0?ut*Math.sin(ot)/ot:0;return s[0]=fe*xt,s[1]=Re*xt,s[2]=Ne*xt,s[3]=ut*Math.cos(ot),s}function wo(s,k){var fe=k[0],Re=k[1],Ne=k[2],Qe=k[3],ot=Math.sqrt(fe*fe+Re*Re+Ne*Ne),ut=ot>0?Math.atan2(ot,Qe)/ot:0;return s[0]=fe*ut,s[1]=Re*ut,s[2]=Ne*ut,s[3]=.5*Math.log(fe*fe+Re*Re+Ne*Ne+Qe*Qe),s}function mo(s,k,fe){return wo(s,k),ho(s,s,fe),Wa(s,s),s}function no(s,k,fe,Re){var Ne,Qe,ot,ut,xt,Tt=k[0],Bt=k[1],Xt=k[2],Yt=k[3],$t=fe[0],bn=fe[1],xn=fe[2],Qt=fe[3];return(Qe=Tt*$t+Bt*bn+Xt*xn+Yt*Qt)<0&&(Qe=-Qe,$t=-$t,bn=-bn,xn=-xn,Qt=-Qt),1-Qe>r?(Ne=Math.acos(Qe),ot=Math.sin(Ne),ut=Math.sin((1-Re)*Ne)/ot,xt=Math.sin(Re*Ne)/ot):(ut=1-Re,xt=Re),s[0]=ut*Tt+xt*$t,s[1]=ut*Bt+xt*bn,s[2]=ut*Xt+xt*xn,s[3]=ut*Yt+xt*Qt,s}function Ko(s){var k=C(),fe=C(),Re=C(),Ne=Math.sqrt(1-k),Qe=Math.sqrt(k);return s[0]=Ne*Math.sin(2*Math.PI*fe),s[1]=Ne*Math.cos(2*Math.PI*fe),s[2]=Qe*Math.sin(2*Math.PI*Re),s[3]=Qe*Math.cos(2*Math.PI*Re),s}function xo(s,k){var fe=k[0],Re=k[1],Ne=k[2],Qe=k[3],ot=fe*fe+Re*Re+Ne*Ne+Qe*Qe,ut=ot?1/ot:0;return s[0]=-fe*ut,s[1]=-Re*ut,s[2]=-Ne*ut,s[3]=Qe*ut,s}function ko(s,k){return s[0]=-k[0],s[1]=-k[1],s[2]=-k[2],s[3]=k[3],s}function Ho(s,k){var fe,Re=k[0]+k[4]+k[8];if(Re>0)fe=Math.sqrt(Re+1),s[3]=.5*fe,fe=.5/fe,s[0]=(k[5]-k[7])*fe,s[1]=(k[6]-k[2])*fe,s[2]=(k[1]-k[3])*fe;else{var Ne=0;k[4]>k[0]&&(Ne=1),k[8]>k[3*Ne+Ne]&&(Ne=2);var Qe=(Ne+1)%3,ot=(Ne+2)%3;fe=Math.sqrt(k[3*Ne+Ne]-k[3*Qe+Qe]-k[3*ot+ot]+1),s[Ne]=.5*fe,fe=.5/fe,s[3]=(k[3*Qe+ot]-k[3*ot+Qe])*fe,s[Qe]=(k[3*Qe+Ne]+k[3*Ne+Qe])*fe,s[ot]=(k[3*ot+Ne]+k[3*Ne+ot])*fe}return s}function Do(s,k,fe,Re){var Ne=.5*Math.PI/180;k*=Ne,fe*=Ne,Re*=Ne;var Qe=Math.sin(k),ot=Math.cos(k),ut=Math.sin(fe),xt=Math.cos(fe),Tt=Math.sin(Re),Bt=Math.cos(Re);return s[0]=Qe*xt*Bt-ot*ut*Tt,s[1]=ot*ut*Bt+Qe*xt*Tt,s[2]=ot*xt*Tt-Qe*ut*Bt,s[3]=ot*xt*Bt+Qe*ut*Tt,s}function So(s){return"quat("+s[0]+", "+s[1]+", "+s[2]+", "+s[3]+")"}var Uo=ba,si=pa,Qo=$a,Yo=Na,Xo=eo,Ka=Ao,ho=ao,Bo=_n,Je=wr,lt=$e,wt=lt,Pt=et,jt=Pt,Ft=yn,en=Xr,sn=za,fn=function(){var s=It(),k=Et(1,0,0),fe=Et(0,1,0);return function(Re,Ne,Qe){var ot=br(Ne,Qe);return ot<-.999999?(Qr(s,k,Ne),ya(s)<1e-6&&Qr(s,fe,Ne),Jr(s,s),zo(Re,s,Math.PI),Re):ot>.999999?(Re[0]=0,Re[1]=0,Re[2]=0,Re[3]=1,Re):(Qr(s,Ne,Qe),Re[0]=s[0],Re[1]=s[1],Re[2]=s[2],Re[3]=1+ot,Ft(Re,Re))}}(),Bn=function(){var s=Ea(),k=Ea();return function(fe,Re,Ne,Qe,ot,ut){return no(s,Re,ot,ut),no(k,Ne,Qe,ut),no(fe,s,k,2*ut*(1-ut)),fe}}(),Dn=function(){var s=S();return function(k,fe,Re,Ne){return s[0]=Re[0],s[3]=Re[1],s[6]=Re[2],s[1]=Ne[0],s[4]=Ne[1],s[7]=Ne[2],s[2]=-fe[0],s[5]=-fe[1],s[8]=-fe[2],Ft(k,Ho(k,s))}}();a.d(p,"a",function(){return u}),a.d(p,"b",function(){return f}),a.d(p,"c",function(){return P}),a.d(p,"d",function(){return w}),a.d(p,"e",function(){return U}),a.d(p,"f",function(){return m})},function(g,p,a){(function(u,f){a.d(p,"a",function(){return Mt}),a.d(p,"b",function(){return Sn}),a.d(p,"c",function(){return W}),a.d(p,"d",function(){return ge}),a.d(p,"e",function(){return tn}),a.d(p,"f",function(){return Jr}),a.d(p,"g",function(){return Qr});var P="An invariant failed, however the error is obfuscated because this is a production build.",U=[];Object.freeze(U);var m={};function w(){return++J.mobxGuid}function r(se){throw b(!1,se),"X"}function b(se,ue){if(!se)throw new Error("[mobx] "+(ue||P))}Object.freeze(m);function C(se){var ue=!1;return function(){if(!ue)return ue=!0,se.apply(this,arguments)}}var A=function(){};function x(se){return se!==null&&typeof se=="object"}function E(se){if(se===null||typeof se!="object")return!1;var ue=Object.getPrototypeOf(se);return ue===Object.prototype||ue===null}function M(se,ue,De){Object.defineProperty(se,ue,{enumerable:!1,writable:!0,configurable:!0,value:De})}function S(se,ue){var De="isMobX"+se;return ue.prototype[De]=!0,function($e){return x($e)&&$e[De]===!0}}function D(se){return se instanceof Map}function V(se){return se instanceof Set}function d(se){var ue=new Set;for(var De in se)ue.add(De);return Object.getOwnPropertySymbols(se).forEach(function($e){Object.getOwnPropertyDescriptor(se,$e).enumerable&&ue.add($e)}),Array.from(ue)}function O(se){return se&&se.toString?se.toString():new String(se).toString()}function F(se){return se===null?null:typeof se=="object"?""+se:se}var I=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(se){return Object.getOwnPropertyNames(se).concat(Object.getOwnPropertySymbols(se))}:Object.getOwnPropertyNames,L=Symbol("mobx administration"),G=function(){function se(ue){ue===void 0&&(ue="Atom@"+w()),this.name=ue,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=nt.NOT_TRACKING}return se.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(ue){return ue()})},se.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(ue){return ue()})},se.prototype.reportObserved=function(){return Ot(this)},se.prototype.reportChanged=function(){rt(),function(ue){ue.lowestObserverState!==nt.STALE&&(ue.lowestObserverState=nt.STALE,ue.observers.forEach(function(De){De.dependenciesState===nt.UP_TO_DATE&&(De.isTracing!==st.NONE&&cn(De,ue),De.onBecomeStale()),De.dependenciesState=nt.STALE}))}(this),yt()},se.prototype.toString=function(){return this.name},se}(),z=S("Atom",G);function B(se,ue,De){ue===void 0&&(ue=A),De===void 0&&(De=A);var $e=new G(se);return ue!==A&&function(et,mt,_t){Gn("onBecomeObserved",et,mt,_t)}($e,ue),De!==A&&Rn($e,De),$e}var Y={identity:function(se,ue){return se===ue},structural:function(se,ue){return ja(se,ue)},default:function(se,ue){return Object.is(se,ue)},shallow:function(se,ue){return ja(se,ue,1)}},q=function(se,ue){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(De,$e){De.__proto__=$e}||function(De,$e){for(var et in $e)$e.hasOwnProperty(et)&&(De[et]=$e[et])})(se,ue)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var H=function(){return(H=Object.assign||function(se){for(var ue,De=1,$e=arguments.length;De<$e;De++)for(var et in ue=arguments[De])Object.prototype.hasOwnProperty.call(ue,et)&&(se[et]=ue[et]);return se}).apply(this,arguments)};function ne(se){var ue=typeof Symbol=="function"&&se[Symbol.iterator],De=0;return ue?ue.call(se):{next:function(){return se&&De>=se.length&&(se=void 0),{value:se&&se[De++],done:!se}}}}function Ae(se,ue){var De=typeof Symbol=="function"&&se[Symbol.iterator];if(!De)return se;var $e,et,mt=De.call(se),_t=[];try{for(;(ue===void 0||ue-- >0)&&!($e=mt.next()).done;)_t.push($e.value)}catch(yn){et={error:yn}}finally{try{$e&&!$e.done&&(De=mt.return)&&De.call(mt)}finally{if(et)throw et.error}}return _t}function ce(){for(var se=[],ue=0;ue<arguments.length;ue++)se=se.concat(Ae(arguments[ue]));return se}var ye=Symbol("mobx did run lazy initializers"),K=Symbol("mobx pending decorators"),j={},ve={};function Pe(se){var ue,De;if(se[ye]!==!0){var $e=se[K];if($e){M(se,ye,!0);var et=ce(Object.getOwnPropertySymbols($e),Object.keys($e));try{for(var mt=ne(et),_t=mt.next();!_t.done;_t=mt.next()){var yn=$e[_t.value];yn.propertyCreator(se,yn.prop,yn.descriptor,yn.decoratorTarget,yn.decoratorArguments)}}catch(_n){ue={error:_n}}finally{try{_t&&!_t.done&&(De=mt.return)&&De.call(mt)}finally{if(ue)throw ue.error}}}}}function Oe(se,ue){return function(){var De,$e=function(et,mt,_t,yn){if(yn===!0)return ue(et,mt,_t,et,De),null;if(!Object.prototype.hasOwnProperty.call(et,K)){var _n=et[K];M(et,K,H({},_n))}return et[K][mt]={prop:mt,propertyCreator:ue,descriptor:_t,decoratorTarget:et,decoratorArguments:De},function(ir,wr){var xr=wr?j:ve;return xr[ir]||(xr[ir]={configurable:!0,enumerable:wr,get:function(){return Pe(this),this[ir]},set:function(sr){Pe(this),this[ir]=sr}})}(mt,se)};return function(et){return(et.length===2||et.length===3)&&(typeof et[1]=="string"||typeof et[1]=="symbol")||et.length===4&&et[3]===!0}(arguments)?(De=U,$e.apply(null,arguments)):(De=Array.prototype.slice.call(arguments),$e)}}function xe(se,ue,De){return ar(se)?se:Array.isArray(se)?ge.array(se,{name:De}):E(se)?ge.object(se,void 0,{name:De}):D(se)?ge.map(se,{name:De}):V(se)?ge.set(se,{name:De}):se}function Ve(se){return se}function me(se){b(se);var ue=Oe(!0,function($e,et,mt,_t,yn){var _n=mt?mt.initializer?mt.initializer.call($e):mt.value:void 0;ba($e).addObservableProp(et,_n,se)}),De=(u!==void 0&&u.env,ue);return De.enhancer=se,De}var pe={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ke(se){return se==null?pe:typeof se=="string"?{name:se,deep:!0,proxy:!0}:se}Object.freeze(pe);var X=me(xe),Z=me(function(se,ue,De){return se==null||Sa(se)||Fr(se)||ea(se)||ta(se)?se:Array.isArray(se)?ge.array(se,{name:De,deep:!1}):E(se)?ge.object(se,void 0,{name:De,deep:!1}):D(se)?ge.map(se,{name:De,deep:!1}):V(se)?ge.set(se,{name:De,deep:!1}):r(!1)}),ae=me(Ve),Ue=me(function(se,ue,De){return ja(se,ue)?ue:se});function Ie(se){return se.defaultDecorator?se.defaultDecorator.enhancer:se.deep===!1?Ve:xe}var le={box:function(se,ue){arguments.length>2&&ze("box");var De=ke(ue);return new dt(se,Ie(De),De.name,!0,De.equals)},array:function(se,ue){arguments.length>2&&ze("array");var De=ke(ue);return function($e,et,mt,_t){mt===void 0&&(mt="ObservableArray@"+w()),_t===void 0&&(_t=!1);var yn=new vr(mt,et,_t);(function(wr,xr,sr){Object.defineProperty(wr,xr,{enumerable:!1,writable:!1,configurable:!0,value:sr})})(yn.values,L,yn);var _n=new Proxy(yn.values,Lr);if(yn.proxy=_n,$e&&$e.length){var ir=Lt(!0);yn.spliceWithArray(0,0,$e),An(ir)}return _n}(se,Ie(De),De.name)},map:function(se,ue){arguments.length>2&&ze("map");var De=ke(ue);return new Ra(se,Ie(De),De.name)},set:function(se,ue){arguments.length>2&&ze("set");var De=ke(ue);return new Va(se,Ie(De),De.name)},object:function(se,ue,De){typeof arguments[1]=="string"&&ze("object");var $e=ke(De);if($e.proxy===!1)return fr({},se,ue,$e);var et=qn($e),mt=function(_t){var yn=new Proxy(_t,ra);return _t[L].proxy=yn,yn}(fr({},void 0,void 0,$e));return dr(mt,se,ue,et),mt},ref:ae,shallow:Z,deep:X,struct:Ue},ge=function(se,ue,De){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return X.apply(null,arguments);if(ar(se))return se;var $e=E(se)?ge.object(se,ue,De):Array.isArray(se)?ge.array(se,ue):D(se)?ge.map(se,ue):V(se)?ge.set(se,ue):se;if($e!==se)return $e;r(!1)};function ze(se){r("Expected one or two arguments to observable."+se+". Did you accidentally try to use observable."+se+" as decorator?")}Object.keys(le).forEach(function(se){return ge[se]=le[se]});var nt,st,Ge=Oe(!1,function(se,ue,De,$e,et){var mt=De.get,_t=De.set,yn=et[0]||{};ba(se).addComputedProp(se,ue,H({get:mt,set:_t,context:se},yn))}),N=Ge({equals:Y.structural}),W=function(se,ue,De){if(typeof ue=="string"||se!==null&&typeof se=="object"&&arguments.length===1)return Ge.apply(null,arguments);var $e=typeof ue=="object"?ue:{};return $e.get=se,$e.set=typeof ue=="function"?ue:$e.set,$e.name=$e.name||se.name||"",new ur($e)};W.struct=N,function(se){se[se.NOT_TRACKING=-1]="NOT_TRACKING",se[se.UP_TO_DATE=0]="UP_TO_DATE",se[se.POSSIBLY_STALE=1]="POSSIBLY_STALE",se[se.STALE=2]="STALE"}(nt||(nt={})),function(se){se[se.NONE=0]="NONE",se[se.LOG=1]="LOG",se[se.BREAK=2]="BREAK"}(st||(st={}));var de=function(){return function(se){this.cause=se}}();function ie(se){return se instanceof de}function _e(se){switch(se.dependenciesState){case nt.UP_TO_DATE:return!1;case nt.NOT_TRACKING:case nt.STALE:return!0;case nt.POSSIBLY_STALE:for(var ue=nn(!0),De=Ct(),$e=se.observing,et=$e.length,mt=0;mt<et;mt++){var _t=$e[mt];if(Be(_t)){if(J.disableErrorBoundaries)_t.get();else try{_t.get()}catch{return Kt(De),oe(ue),!0}if(se.dependenciesState===nt.STALE)return Kt(De),oe(ue),!0}}return St(se),Kt(De),oe(ue),!1}}function Ze(se){var ue=se.observers.size>0;J.computationDepth>0&&ue&&r(!1),J.allowStateChanges||!ue&&J.enforceActions!=="strict"||r(!1)}function ft(se,ue,De){var $e=nn(!0);St(se),se.newObserving=new Array(se.observing.length+100),se.unboundDepsCount=0,se.runId=++J.runId;var et,mt=J.trackingDerivation;if(J.trackingDerivation=se,J.disableErrorBoundaries===!0)et=ue.call(De);else try{et=ue.call(De)}catch(_t){et=new de(_t)}return J.trackingDerivation=mt,function(_t){for(var yn=_t.observing,_n=_t.observing=_t.newObserving,ir=nt.UP_TO_DATE,wr=0,xr=_t.unboundDepsCount,sr=0;sr<xr;sr++){var Or=_n[sr];Or.diffValue===0&&(Or.diffValue=1,wr!==sr&&(_n[wr]=Or),wr++),Or.dependenciesState>ir&&(ir=Or.dependenciesState)}for(_n.length=wr,_t.newObserving=null,xr=yn.length;xr--;){var Or=yn[xr];Or.diffValue===0&&Me(Or,_t),Or.diffValue=0}for(;wr--;){var Or=_n[wr];Or.diffValue===1&&(Or.diffValue=0,Te(Or,_t))}ir!==nt.UP_TO_DATE&&(_t.dependenciesState=ir,_t.onBecomeStale())}(se),oe($e),et}function at(se){var ue=se.observing;se.observing=[];for(var De=ue.length;De--;)Me(ue[De],se);se.dependenciesState=nt.NOT_TRACKING}function ht(se){var ue=Ct();try{return se()}finally{Kt(ue)}}function Ct(){var se=J.trackingDerivation;return J.trackingDerivation=null,se}function Kt(se){J.trackingDerivation=se}function nn(se){var ue=J.allowStateReads;return J.allowStateReads=se,ue}function oe(se){J.allowStateReads=se}function St(se){if(se.dependenciesState!==nt.UP_TO_DATE){se.dependenciesState=nt.UP_TO_DATE;for(var ue=se.observing,De=ue.length;De--;)ue[De].lowestObserverState=nt.UP_TO_DATE}}var Ce=0,He=1,Nt=Object.getOwnPropertyDescriptor(function(){},"name");Nt&&Nt.configurable;function Dt(se,ue,De){var $e=function(){return On(se,ue,De||this,arguments)};return $e.isMobxAction=!0,$e}function On(se,ue,De,$e){var et=function(mt,_t,yn){var _n=!1,ir=0,wr=Ct();rt();var xr=Lt(!0),sr=nn(!0),Or={prevDerivation:wr,prevAllowStateChanges:xr,prevAllowStateReads:sr,notifySpy:_n,startTime:ir,actionId:He++,parentActionId:Ce};return Ce=Or.actionId,Or}();try{return ue.apply(De,$e)}catch(mt){throw et.error=mt,mt}finally{(function(mt){Ce!==mt.actionId&&r("invalid action stack. did you forget to finish an action?"),Ce=mt.parentActionId,mt.error!==void 0&&(J.suppressReactionErrors=!0),An(mt.prevAllowStateChanges),oe(mt.prevAllowStateReads),yt(),Kt(mt.prevDerivation),mt.notifySpy,J.suppressReactionErrors=!1})(et)}}function Lt(se){var ue=J.allowStateChanges;return J.allowStateChanges=se,ue}function An(se){J.allowStateChanges=se}var dt=function(se){function ue(De,$e,et,mt,_t){et===void 0&&(et="ObservableValue@"+w()),_t===void 0&&(_t=Y.default);var yn=se.call(this,et)||this;return yn.enhancer=$e,yn.name=et,yn.equals=_t,yn.hasUnreportedChange=!1,yn.value=$e(De,void 0,et),yn}return function(De,$e){function et(){this.constructor=De}q(De,$e),De.prototype=$e===null?Object.create($e):(et.prototype=$e.prototype,new et)}(ue,se),ue.prototype.dehanceValue=function(De){return this.dehancer!==void 0?this.dehancer(De):De},ue.prototype.set=function(De){this.value,(De=this.prepareNewValue(De))!==J.UNCHANGED&&this.setNewValue(De)},ue.prototype.prepareNewValue=function(De){if(Ze(this),Ln(this)){var $e=Pr(this,{object:this,type:"update",newValue:De});if(!$e)return J.UNCHANGED;De=$e.newValue}return De=this.enhancer(De,this.value,this.name),this.equals(this.value,De)?J.UNCHANGED:De},ue.prototype.setNewValue=function(De){var $e=this.value;this.value=De,this.reportChanged(),pr(this)&&Kr(this,{type:"update",object:this,newValue:De,oldValue:$e})},ue.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},ue.prototype.intercept=function(De){return Wr(this,De)},ue.prototype.observe=function(De,$e){return $e&&De({object:this,type:"update",newValue:this.value,oldValue:void 0}),kr(this,De)},ue.prototype.toJSON=function(){return this.get()},ue.prototype.toString=function(){return this.name+"["+this.value+"]"},ue.prototype.valueOf=function(){return F(this.get())},ue.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},ue}(G),zt=S("ObservableValue",dt),ur=function(){function se(ue){this.dependenciesState=nt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=nt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+w(),this.value=new de(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=st.NONE,b(ue.get,"missing option for computed: get"),this.derivation=ue.get,this.name=ue.name||"ComputedValue@"+w(),ue.set&&(this.setter=Dt(this.name+"-setter",ue.set)),this.equals=ue.equals||(ue.compareStructural||ue.struct?Y.structural:Y.default),this.scope=ue.context,this.requiresReaction=!!ue.requiresReaction,this.keepAlive=!!ue.keepAlive}return se.prototype.onBecomeStale=function(){(function(ue){ue.lowestObserverState===nt.UP_TO_DATE&&(ue.lowestObserverState=nt.POSSIBLY_STALE,ue.observers.forEach(function(De){De.dependenciesState===nt.UP_TO_DATE&&(De.dependenciesState=nt.POSSIBLY_STALE,De.isTracing!==st.NONE&&cn(De,ue),De.onBecomeStale())}))})(this)},se.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(ue){return ue()})},se.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(ue){return ue()})},se.prototype.get=function(){this.isComputing&&r("Cycle detected in computation "+this.name+": "+this.derivation),J.inBatch!==0||this.observers.size!==0||this.keepAlive?(Ot(this),_e(this)&&this.trackAndCompute()&&function(De){De.lowestObserverState!==nt.STALE&&(De.lowestObserverState=nt.STALE,De.observers.forEach(function($e){$e.dependenciesState===nt.POSSIBLY_STALE?$e.dependenciesState=nt.STALE:$e.dependenciesState===nt.UP_TO_DATE&&(De.lowestObserverState=nt.UP_TO_DATE)}))}(this)):_e(this)&&(this.warnAboutUntrackedRead(),rt(),this.value=this.computeValue(!1),yt());var ue=this.value;if(ie(ue))throw ue.cause;return ue},se.prototype.peek=function(){var ue=this.computeValue(!1);if(ie(ue))throw ue.cause;return ue},se.prototype.set=function(ue){if(this.setter){b(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,ue)}finally{this.isRunningSetter=!1}}else b(!1,!1)},se.prototype.trackAndCompute=function(){var ue=this.value,De=this.dependenciesState===nt.NOT_TRACKING,$e=this.computeValue(!0),et=De||ie(ue)||ie($e)||!this.equals(ue,$e);return et&&(this.value=$e),et},se.prototype.computeValue=function(ue){var De;if(this.isComputing=!0,J.computationDepth++,ue)De=ft(this,this.derivation,this.scope);else if(J.disableErrorBoundaries===!0)De=this.derivation.call(this.scope);else try{De=this.derivation.call(this.scope)}catch($e){De=new de($e)}return J.computationDepth--,this.isComputing=!1,De},se.prototype.suspend=function(){this.keepAlive||(at(this),this.value=void 0)},se.prototype.observe=function(ue,De){var $e=this,et=!0,mt=void 0;return Sn(function(){var _t=$e.get();if(!et||De){var yn=Ct();ue({type:"update",object:$e,newValue:_t,oldValue:mt}),Kt(yn)}et=!1,mt=_t})},se.prototype.warnAboutUntrackedRead=function(){},se.prototype.toJSON=function(){return this.get()},se.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},se.prototype.valueOf=function(){return F(this.get())},se.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},se}(),Be=S("ComputedValue",ur),wn=function(){return function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}}(),gr={};function Br(){return typeof window!="undefined"?window:f!==void 0?f:typeof self!="undefined"?self:gr}var nr=!0,J=function(){var se=Br();return se.__mobxInstanceCount>0&&!se.__mobxGlobals&&(nr=!1),se.__mobxGlobals&&se.__mobxGlobals.version!==new wn().version&&(nr=!1),nr?se.__mobxGlobals?(se.__mobxInstanceCount+=1,se.__mobxGlobals.UNCHANGED||(se.__mobxGlobals.UNCHANGED={}),se.__mobxGlobals):(se.__mobxInstanceCount=1,se.__mobxGlobals=new wn):(setTimeout(function(){r("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new wn)}();function Te(se,ue){se.observers.add(ue),se.lowestObserverState>ue.dependenciesState&&(se.lowestObserverState=ue.dependenciesState)}function Me(se,ue){se.observers.delete(ue),se.observers.size===0&&Ke(se)}function Ke(se){se.isPendingUnobservation===!1&&(se.isPendingUnobservation=!0,J.pendingUnobservations.push(se))}function rt(){J.inBatch++}function yt(){if(--J.inBatch==0){It();for(var se=J.pendingUnobservations,ue=0;ue<se.length;ue++){var De=se[ue];De.isPendingUnobservation=!1,De.observers.size===0&&(De.isBeingObserved&&(De.isBeingObserved=!1,De.onBecomeUnobserved()),De instanceof ur&&De.suspend())}J.pendingUnobservations=[]}}function Ot(se){var ue=J.trackingDerivation;return ue!==null?(ue.runId!==se.lastAccessedBy&&(se.lastAccessedBy=ue.runId,ue.newObserving[ue.unboundDepsCount++]=se,se.isBeingObserved||(se.isBeingObserved=!0,se.onBecomeObserved())),!0):(se.observers.size===0&&J.inBatch>0&&Ke(se),!1)}function cn(se,ue){if(console.log("[mobx.trace] '"+se.name+"' is invalidated due to a change in: '"+ue.name+"'"),se.isTracing===st.BREAK){var De=[];(function $e(et,mt,_t){if(mt.length>=1e3)return void mt.push("(and many more)");mt.push(""+new Array(_t).join("	")+et.name),et.dependencies&&et.dependencies.forEach(function(yn){return $e(yn,mt,_t+1)})})(function($e,et){return Jn(ga($e,et))}(se),De,1),new Function(`debugger;
/*
Tracing '`+se.name+`'

You are entering this break point because derivation '`+se.name+"' is being traced and '"+ue.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(se instanceof ur?se.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+De.join(`
`)+`
*/
    `)()}}var gn=function(){function se(ue,De,$e,et){ue===void 0&&(ue="Reaction@"+w()),et===void 0&&(et=!1),this.name=ue,this.onInvalidate=De,this.errorHandler=$e,this.requiresObservable=et,this.observing=[],this.newObserving=[],this.dependenciesState=nt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+w(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=st.NONE}return se.prototype.onBecomeStale=function(){this.schedule()},se.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,J.pendingReactions.push(this),It())},se.prototype.isScheduled=function(){return this._isScheduled},se.prototype.runReaction=function(){if(!this.isDisposed){if(rt(),this._isScheduled=!1,_e(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(ue){this.reportExceptionInDerivation(ue)}}yt()}},se.prototype.track=function(ue){if(!this.isDisposed){rt(),this._isRunning=!0;var De=ft(this,ue,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&at(this),ie(De)&&this.reportExceptionInDerivation(De.cause),yt()}},se.prototype.reportExceptionInDerivation=function(ue){var De=this;if(this.errorHandler)this.errorHandler(ue,this);else{if(J.disableErrorBoundaries)throw ue;var $e="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";J.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error($e,ue),J.globalReactionErrorHandlers.forEach(function(et){return et(ue,De)})}},se.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(rt(),at(this),yt()))},se.prototype.getDisposer=function(){var ue=this.dispose.bind(this);return ue[L]=this,ue},se.prototype.toString=function(){return"Reaction["+this.name+"]"},se.prototype.trace=function(ue){ue===void 0&&(ue=!1),function(){for(var De=[],$e=0;$e<arguments.length;$e++)De[$e]=arguments[$e];var et=!1;typeof De[De.length-1]=="boolean"&&(et=De.pop());var mt=function(_t){switch(_t.length){case 0:return J.trackingDerivation;case 1:return ga(_t[0]);case 2:return ga(_t[0],_t[1])}}(De);if(!mt)return r(!1);mt.isTracing===st.NONE&&console.log("[mobx.trace] '"+mt.name+"' tracing enabled"),mt.isTracing=et?st.BREAK:st.LOG}(this,ue)},se}(),Pn=100,kn=function(se){return se()};function It(){J.inBatch>0||J.isRunningReactions||kn(rn)}function rn(){J.isRunningReactions=!0;for(var se=J.pendingReactions,ue=0;se.length>0;){++ue===Pn&&(console.error("Reaction doesn't converge to a stable state after "+Pn+" iterations. Probably there is a cycle in the reactive function: "+se[0]),se.splice(0));for(var De=se.splice(0),$e=0,et=De.length;$e<et;$e++)De[$e].runReaction()}J.isRunningReactions=!1}var bt=S("Reaction",gn);function Et(){r(!1)}function Ht(se){return function(ue,De,$e){if($e){if($e.value)return{value:Dt(se,$e.value),enumerable:!1,configurable:!0,writable:!0};var et=$e.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Dt(se,et.call(this))}}}return function(mt){return function(_t,yn,_n){Object.defineProperty(_t,yn,{configurable:!0,enumerable:!1,get:function(){},set:function(ir){M(this,yn,Mt(mt,ir))}})}}(se).apply(this,arguments)}}var Mt=function(se,ue,De,$e){return arguments.length===1&&typeof se=="function"?Dt(se.name||"<unnamed action>",se):arguments.length===2&&typeof ue=="function"?Dt(se,ue):arguments.length===1&&typeof se=="string"?Ht(se):$e!==!0?Ht(ue).apply(null,arguments):void M(se,ue,Dt(se.name||ue,De.value,this))};function pn(se,ue,De){M(se,ue,Dt(ue,De.bind(se)))}function Sn(se,ue){ue===void 0&&(ue=m);var De,$e=ue&&ue.name||se.name||"Autorun@"+w();if(!ue.scheduler&&!ue.delay)De=new gn($e,function(){this.track(_t)},ue.onError,ue.requiresObservable);else{var et=ln(ue),mt=!1;De=new gn($e,function(){mt||(mt=!0,et(function(){mt=!1,De.isDisposed||De.track(_t)}))},ue.onError,ue.requiresObservable)}function _t(){se(De)}return De.schedule(),De.getDisposer()}Mt.bound=function(se,ue,De,$e){return $e===!0?(pn(se,ue,De.value),null):De?{configurable:!0,enumerable:!1,get:function(){return pn(this,ue,De.value||De.initializer.call(this)),this[ue]},set:Et}:{enumerable:!1,configurable:!0,set:function(et){pn(this,ue,et)},get:function(){}}};var Gt=function(se){return se()};function ln(se){return se.scheduler?se.scheduler:se.delay?function(ue){return setTimeout(ue,se.delay)}:Gt}function tn(se,ue,De){De===void 0&&(De=m);var $e,et=De.name||"Reaction@"+w(),mt=Mt(et,De.onError?function(Or,Ur){return function(){try{return Ur.apply(this,arguments)}catch(Ta){Or.call(this,Ta)}}}(De.onError,ue):ue),_t=!De.scheduler&&!De.delay,yn=ln(De),_n=!0,ir=!1,wr=De.compareStructural?Y.structural:De.equals||Y.default,xr=new gn(et,function(){_n||_t?sr():ir||(ir=!0,yn(sr))},De.onError,De.requiresObservable);function sr(){if(ir=!1,!xr.isDisposed){var Or=!1;xr.track(function(){var Ur=se(xr);Or=_n||!wr($e,Ur),$e=Ur}),_n&&De.fireImmediately&&mt($e,xr),_n||Or!==!0||mt($e,xr),_n&&(_n=!1)}}return xr.schedule(),xr.getDisposer()}function Rn(se,ue,De){return Gn("onBecomeUnobserved",se,ue,De)}function Gn(se,ue,De,$e){var et=typeof $e=="function"?ga(ue,De):ga(ue),mt=typeof $e=="function"?$e:De,_t=se+"Listeners";return et[_t]?et[_t].add(mt):et[_t]=new Set([mt]),typeof et[se]!="function"?r(!1):function(){var yn=et[_t];yn&&(yn.delete(mt),yn.size===0&&delete et[_t])}}function fr(se,ue,De,$e){var et=qn($e=ke($e));return Pe(se),ba(se,$e.name,et.enhancer),ue&&dr(se,ue,De,et),se}function qn(se){return se.defaultDecorator||(se.deep===!1?ae:X)}function dr(se,ue,De,$e){var et,mt;rt();try{var _t=I(ue);try{for(var yn=ne(_t),_n=yn.next();!_n.done;_n=yn.next()){var ir=_n.value,wr=Object.getOwnPropertyDescriptor(ue,ir),xr=(De&&ir in De?De[ir]:wr.get?Ge:$e)(se,ir,wr,!0);xr&&Object.defineProperty(se,ir,xr)}}catch(sr){et={error:sr}}finally{try{_n&&!_n.done&&(mt=yn.return)&&mt.call(yn)}finally{if(et)throw et.error}}}finally{yt()}}function Jn(se){var ue={name:se.name};return se.observing&&se.observing.length>0&&(ue.dependencies=function(De){var $e=[];return De.forEach(function(et){$e.indexOf(et)===-1&&$e.push(et)}),$e}(se.observing).map(Jn)),ue}function mr(se,ue){return se!=null&&(ue!==void 0?!!Sa(se)&&se[L].values.has(ue):Sa(se)||!!se[L]||z(se)||bt(se)||Be(se))}function ar(se){return arguments.length!==1&&r(!1),mr(se)}function hr(se){return Sa(se)?se[L].getKeys():ea(se)||ta(se)?Array.from(se.keys()):Fr(se)?se.map(function(ue,De){return De}):r(!1)}var Vr={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Zr(se,ue,De,$e){return $e.detectCycles&&se.set(ue,De),De}function Jr(se,ue){var De;return typeof ue=="boolean"&&(ue={detectCycles:ue}),ue||(ue=Vr),ue.detectCycles=ue.detectCycles===void 0?ue.recurseEverything===!0:ue.detectCycles===!0,ue.detectCycles&&(De=new Map),function $e(et,mt,_t){if(!mt.recurseEverything&&!ar(et)||typeof et!="object")return et;if(et===null)return null;if(et instanceof Date)return et;if(zt(et))return $e(et.get(),mt,_t);if(ar(et)&&hr(et),mt.detectCycles===!0&&et!==null&&_t.has(et))return _t.get(et);if(Fr(et)||Array.isArray(et)){var yn=Zr(_t,et,[],mt),_n=et.map(function(Xr){return $e(Xr,mt,_t)});yn.length=_n.length;for(var ir=0,wr=_n.length;ir<wr;ir++)yn[ir]=_n[ir];return yn}if(ta(et)||Object.getPrototypeOf(et)===Set.prototype){if(mt.exportMapsAsObjects===!1){var xr=Zr(_t,et,new Set,mt);return et.forEach(function(Xr){xr.add($e(Xr,mt,_t))}),xr}var sr=Zr(_t,et,[],mt);return et.forEach(function(Xr){sr.push($e(Xr,mt,_t))}),sr}if(ea(et)||Object.getPrototypeOf(et)===Map.prototype){if(mt.exportMapsAsObjects===!1){var Or=Zr(_t,et,new Map,mt);return et.forEach(function(Xr,za){Or.set(za,$e(Xr,mt,_t))}),Or}var Ur=Zr(_t,et,{},mt);return et.forEach(function(Xr,za){Ur[za]=$e(Xr,mt,_t)}),Ur}var Ta=Zr(_t,et,{},mt);return d(et).forEach(function(Xr){Ta[Xr]=$e(et[Xr],mt,_t)}),Ta}(se,ue,De)}function br(se,ue){ue===void 0&&(ue=void 0),rt();try{return se.apply(ue)}finally{yt()}}function Qr(se,ue,De){return arguments.length===1||ue&&typeof ue=="object"?function($e,et){var mt,_t=new Promise(function(yn,_n){var ir=Nr($e,yn,H(H({},et),{onError:_n}));mt=function(){ir(),_n("WHEN_CANCELLED")}});return _t.cancel=mt,_t}(se,ue):Nr(se,ue,De||{})}function Nr(se,ue,De){var $e;typeof De.timeout=="number"&&($e=setTimeout(function(){if(!mt[L].isDisposed){mt();var _t=new Error("WHEN_TIMEOUT");if(!De.onError)throw _t;De.onError(_t)}},De.timeout)),De.name=De.name||"When@"+w();var et=Dt(De.name+"-effect",ue),mt=Sn(function(_t){se()&&(_t.dispose(),$e&&clearTimeout($e),et())},De);return mt}function $r(se){return se[L]}function Yr(se){return typeof se=="string"||typeof se=="number"||typeof se=="symbol"}var ra={has:function(se,ue){if(ue===L||ue==="constructor"||ue===ye)return!0;var De=$r(se);return Yr(ue)?De.has(ue):ue in se},get:function(se,ue){if(ue===L||ue==="constructor"||ue===ye)return se[ue];var De=$r(se),$e=De.values.get(ue);if($e instanceof G){var et=$e.get();return et===void 0&&De.has(ue),et}return Yr(ue)&&De.has(ue),se[ue]},set:function(se,ue,De){return!!Yr(ue)&&(function $e(et,mt,_t){if(arguments.length!==2||ta(et))if(Sa(et)){var yn=et[L];yn.values.get(mt)?yn.write(mt,_t):yn.addObservableProp(mt,_t,yn.defaultEnhancer)}else if(ea(et))et.set(mt,_t);else if(ta(et))et.add(mt);else{if(!Fr(et))return r(!1);typeof mt!="number"&&(mt=parseInt(mt,10)),b(mt>=0,"Not a valid index: '"+mt+"'"),rt(),mt>=et.length&&(et.length=mt+1),et[mt]=_t,yt()}else{rt();var _n=mt;try{for(var ir in _n)$e(et,ir,_n[ir])}finally{yt()}}}(se,ue,De),!0)},deleteProperty:function(se,ue){return!!Yr(ue)&&($r(se).remove(ue),!0)},ownKeys:function(se){return $r(se).keysAtom.reportObserved(),Reflect.ownKeys(se)},preventExtensions:function(se){return r("Dynamic observable objects cannot be frozen"),!1}};function Ln(se){return se.interceptors!==void 0&&se.interceptors.length>0}function Wr(se,ue){var De=se.interceptors||(se.interceptors=[]);return De.push(ue),C(function(){var $e=De.indexOf(ue);$e!==-1&&De.splice($e,1)})}function Pr(se,ue){var De=Ct();try{for(var $e=ce(se.interceptors||[]),et=0,mt=$e.length;et<mt&&(b(!(ue=$e[et](ue))||ue.type,"Intercept handlers should return nothing or a change object"),ue);et++);return ue}finally{Kt(De)}}function pr(se){return se.changeListeners!==void 0&&se.changeListeners.length>0}function kr(se,ue){var De=se.changeListeners||(se.changeListeners=[]);return De.push(ue),C(function(){var $e=De.indexOf(ue);$e!==-1&&De.splice($e,1)})}function Kr(se,ue){var De=Ct(),$e=se.changeListeners;if($e){for(var et=0,mt=($e=$e.slice()).length;et<mt;et++)$e[et](ue);Kt(De)}}var Lr={get:function(se,ue){return ue===L?se[L]:ue==="length"?se[L].getArrayLength():typeof ue=="number"?Dr.get.call(se,ue):typeof ue!="string"||isNaN(ue)?Dr.hasOwnProperty(ue)?Dr[ue]:se[ue]:Dr.get.call(se,parseInt(ue))},set:function(se,ue,De){return ue==="length"&&se[L].setArrayLength(De),typeof ue=="number"&&Dr.set.call(se,ue,De),typeof ue=="symbol"||isNaN(ue)?se[ue]=De:Dr.set.call(se,parseInt(ue),De),!0},preventExtensions:function(se){return r("Observable arrays cannot be frozen"),!1}},vr=function(){function se(ue,De,$e){this.owned=$e,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new G(ue||"ObservableArray@"+w()),this.enhancer=function(et,mt){return De(et,mt,ue+"[..]")}}return se.prototype.dehanceValue=function(ue){return this.dehancer!==void 0?this.dehancer(ue):ue},se.prototype.dehanceValues=function(ue){return this.dehancer!==void 0&&ue.length>0?ue.map(this.dehancer):ue},se.prototype.intercept=function(ue){return Wr(this,ue)},se.prototype.observe=function(ue,De){return De===void 0&&(De=!1),De&&ue({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),kr(this,ue)},se.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},se.prototype.setArrayLength=function(ue){if(typeof ue!="number"||ue<0)throw new Error("[mobx.array] Out of range: "+ue);var De=this.values.length;if(ue!==De)if(ue>De){for(var $e=new Array(ue-De),et=0;et<ue-De;et++)$e[et]=void 0;this.spliceWithArray(De,0,$e)}else this.spliceWithArray(ue,De-ue)},se.prototype.updateArrayLength=function(ue,De){if(ue!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=De},se.prototype.spliceWithArray=function(ue,De,$e){var et=this;Ze(this.atom);var mt=this.values.length;if(ue===void 0?ue=0:ue>mt?ue=mt:ue<0&&(ue=Math.max(0,mt+ue)),De=arguments.length===1?mt-ue:De==null?0:Math.max(0,Math.min(De,mt-ue)),$e===void 0&&($e=U),Ln(this)){var _t=Pr(this,{object:this.proxy,type:"splice",index:ue,removedCount:De,added:$e});if(!_t)return U;De=_t.removedCount,$e=_t.added}$e=$e.length===0?$e:$e.map(function(_n){return et.enhancer(_n,void 0)});var yn=this.spliceItemsIntoValues(ue,De,$e);return De===0&&$e.length===0||this.notifyArraySplice(ue,$e,yn),this.dehanceValues(yn)},se.prototype.spliceItemsIntoValues=function(ue,De,$e){var et;if($e.length<1e4)return(et=this.values).splice.apply(et,ce([ue,De],$e));var mt=this.values.slice(ue,ue+De);return this.values=this.values.slice(0,ue).concat($e,this.values.slice(ue+De)),mt},se.prototype.notifyArrayChildUpdate=function(ue,De,$e){var et=!this.owned&&!1,mt=pr(this),_t=mt||et?{object:this.proxy,type:"update",index:ue,newValue:De,oldValue:$e}:null;this.atom.reportChanged(),mt&&Kr(this,_t)},se.prototype.notifyArraySplice=function(ue,De,$e){var et=!this.owned&&!1,mt=pr(this),_t=mt||et?{object:this.proxy,type:"splice",index:ue,removed:$e,added:De,removedCount:$e.length,addedCount:De.length}:null;this.atom.reportChanged(),mt&&Kr(this,_t)},se}(),Dr={intercept:function(se){return this[L].intercept(se)},observe:function(se,ue){return ue===void 0&&(ue=!1),this[L].observe(se,ue)},clear:function(){return this.splice(0)},replace:function(se){var ue=this[L];return ue.spliceWithArray(0,ue.values.length,se)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(se,ue){for(var De=[],$e=2;$e<arguments.length;$e++)De[$e-2]=arguments[$e];var et=this[L];switch(arguments.length){case 0:return[];case 1:return et.spliceWithArray(se);case 2:return et.spliceWithArray(se,ue)}return et.spliceWithArray(se,ue,De)},spliceWithArray:function(se,ue,De){return this[L].spliceWithArray(se,ue,De)},push:function(){for(var se=[],ue=0;ue<arguments.length;ue++)se[ue]=arguments[ue];var De=this[L];return De.spliceWithArray(De.values.length,0,se),De.values.length},pop:function(){return this.splice(Math.max(this[L].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var se=[],ue=0;ue<arguments.length;ue++)se[ue]=arguments[ue];var De=this[L];return De.spliceWithArray(0,0,se),De.values.length},reverse:function(){var se=this.slice();return se.reverse.apply(se,arguments)},sort:function(se){var ue=this.slice();return ue.sort.apply(ue,arguments)},remove:function(se){var ue=this[L],De=ue.dehanceValues(ue.values).indexOf(se);return De>-1&&(this.splice(De,1),!0)},get:function(se){var ue=this[L];if(ue){if(se<ue.values.length)return ue.atom.reportObserved(),ue.dehanceValue(ue.values[se]);console.warn("[mobx.array] Attempt to read an array index ("+se+") that is out of bounds ("+ue.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(se,ue){var De=this[L],$e=De.values;if(se<$e.length){Ze(De.atom);var et=$e[se];if(Ln(De)){var mt=Pr(De,{type:"update",object:De.proxy,index:se,newValue:ue});if(!mt)return;ue=mt.newValue}(ue=De.enhancer(ue,et))!==et&&($e[se]=ue,De.notifyArrayChildUpdate(se,ue,et))}else{if(se!==$e.length)throw new Error("[mobx.array] Index out of bounds, "+se+" is larger than "+$e.length);De.spliceWithArray(se,0,[ue])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(se){typeof Array.prototype[se]=="function"&&(Dr[se]=function(){var ue=this[L];ue.atom.reportObserved();var De=ue.dehanceValues(ue.values);return De[se].apply(De,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(se){typeof Array.prototype[se]=="function"&&(Dr[se]=function(ue,De){var $e=this,et=this[L];return et.atom.reportObserved(),et.dehanceValues(et.values)[se](function(mt,_t){return ue.call(De,mt,_t,$e)},De)})}),["reduce","reduceRight"].forEach(function(se){Dr[se]=function(){var ue=this,De=this[L];De.atom.reportObserved();var $e=arguments[0];return arguments[0]=function(et,mt,_t){return mt=De.dehanceValue(mt),$e(et,mt,_t,ue)},De.values[se].apply(De.values,arguments)}});var Ca,Ua=S("ObservableArrayAdministration",vr);function Fr(se){return x(se)&&Ua(se[L])}var aa,Fn={},Ra=function(){function se(ue,De,$e){if(De===void 0&&(De=xe),$e===void 0&&($e="ObservableMap@"+w()),this.enhancer=De,this.name=$e,this[Ca]=Fn,this._keysAtom=B(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(ue)}return se.prototype._has=function(ue){return this._data.has(ue)},se.prototype.has=function(ue){var De=this;if(!J.trackingDerivation)return this._has(ue);var $e=this._hasMap.get(ue);if(!$e){var et=$e=new dt(this._has(ue),Ve,this.name+"."+O(ue)+"?",!1);this._hasMap.set(ue,et),Rn(et,function(){return De._hasMap.delete(ue)})}return $e.get()},se.prototype.set=function(ue,De){var $e=this._has(ue);if(Ln(this)){var et=Pr(this,{type:$e?"update":"add",object:this,newValue:De,name:ue});if(!et)return this;De=et.newValue}return $e?this._updateValue(ue,De):this._addValue(ue,De),this},se.prototype.delete=function(ue){var De=this;if(Ze(this._keysAtom),Ln(this)&&!(et=Pr(this,{type:"delete",object:this,name:ue})))return!1;if(this._has(ue)){var $e=pr(this),et=$e?{type:"delete",object:this,oldValue:this._data.get(ue).value,name:ue}:null;return br(function(){De._keysAtom.reportChanged(),De._updateHasMapEntry(ue,!1),De._data.get(ue).setNewValue(void 0),De._data.delete(ue)}),$e&&Kr(this,et),!0}return!1},se.prototype._updateHasMapEntry=function(ue,De){var $e=this._hasMap.get(ue);$e&&$e.setNewValue(De)},se.prototype._updateValue=function(ue,De){var $e=this._data.get(ue);if((De=$e.prepareNewValue(De))!==J.UNCHANGED){var et=pr(this),mt=et?{type:"update",object:this,oldValue:$e.value,name:ue,newValue:De}:null;$e.setNewValue(De),et&&Kr(this,mt)}},se.prototype._addValue=function(ue,De){var $e=this;Ze(this._keysAtom),br(function(){var _t=new dt(De,$e.enhancer,$e.name+"."+O(ue),!1);$e._data.set(ue,_t),De=_t.value,$e._updateHasMapEntry(ue,!0),$e._keysAtom.reportChanged()});var et=pr(this),mt=et?{type:"add",object:this,name:ue,newValue:De}:null;et&&Kr(this,mt)},se.prototype.get=function(ue){return this.has(ue)?this.dehanceValue(this._data.get(ue).get()):this.dehanceValue(void 0)},se.prototype.dehanceValue=function(ue){return this.dehancer!==void 0?this.dehancer(ue):ue},se.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},se.prototype.values=function(){var ue=this,De=this.keys();return Ga({next:function(){var $e=De.next(),et=$e.done,mt=$e.value;return{done:et,value:et?void 0:ue.get(mt)}}})},se.prototype.entries=function(){var ue=this,De=this.keys();return Ga({next:function(){var $e=De.next(),et=$e.done,mt=$e.value;return{done:et,value:et?void 0:[mt,ue.get(mt)]}}})},se.prototype[Ca=L,Symbol.iterator]=function(){return this.entries()},se.prototype.forEach=function(ue,De){var $e,et;try{for(var mt=ne(this),_t=mt.next();!_t.done;_t=mt.next()){var yn=Ae(_t.value,2),_n=yn[0],ir=yn[1];ue.call(De,ir,_n,this)}}catch(wr){$e={error:wr}}finally{try{_t&&!_t.done&&(et=mt.return)&&et.call(mt)}finally{if($e)throw $e.error}}},se.prototype.merge=function(ue){var De=this;return ea(ue)&&(ue=ue.toJS()),br(function(){var $e=Lt(!0);try{E(ue)?d(ue).forEach(function(et){return De.set(et,ue[et])}):Array.isArray(ue)?ue.forEach(function(et){var mt=Ae(et,2),_t=mt[0],yn=mt[1];return De.set(_t,yn)}):D(ue)?(ue.constructor!==Map&&r("Cannot initialize from classes that inherit from Map: "+ue.constructor.name),ue.forEach(function(et,mt){return De.set(mt,et)})):ue!=null&&r("Cannot initialize map from "+ue)}finally{An($e)}}),this},se.prototype.clear=function(){var ue=this;br(function(){ht(function(){var De,$e;try{for(var et=ne(ue.keys()),mt=et.next();!mt.done;mt=et.next()){var _t=mt.value;ue.delete(_t)}}catch(yn){De={error:yn}}finally{try{mt&&!mt.done&&($e=et.return)&&$e.call(et)}finally{if(De)throw De.error}}})})},se.prototype.replace=function(ue){var De=this;return br(function(){var $e,et,mt,_t,yn=function(ma){if(D(ma)||ea(ma))return ma;if(Array.isArray(ma))return new Map(ma);if(E(ma)){var Xa=new Map;for(var so in ma)Xa.set(so,ma[so]);return Xa}return r("Cannot convert to map from '"+ma+"'")}(ue),_n=new Map,ir=!1;try{for(var wr=ne(De._data.keys()),xr=wr.next();!xr.done;xr=wr.next()){var sr=xr.value;if(!yn.has(sr))if(De.delete(sr))ir=!0;else{var Or=De._data.get(sr);_n.set(sr,Or)}}}catch(ma){$e={error:ma}}finally{try{xr&&!xr.done&&(et=wr.return)&&et.call(wr)}finally{if($e)throw $e.error}}try{for(var Ur=ne(yn.entries()),Ta=Ur.next();!Ta.done;Ta=Ur.next()){var Xr=Ae(Ta.value,2),za=(sr=Xr[0],Or=Xr[1],De._data.has(sr));if(De.set(sr,Or),De._data.has(sr)){var Eo=De._data.get(sr);_n.set(sr,Eo),za||(ir=!0)}}}catch(ma){mt={error:ma}}finally{try{Ta&&!Ta.done&&(_t=Ur.return)&&_t.call(Ur)}finally{if(mt)throw mt.error}}if(!ir)if(De._data.size!==_n.size)De._keysAtom.reportChanged();else for(var oo=De._data.keys(),io=_n.keys(),Aa=oo.next(),to=io.next();!Aa.done;){if(Aa.value!==to.value){De._keysAtom.reportChanged();break}Aa=oo.next(),to=io.next()}De._data=_n}),this},Object.defineProperty(se.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),se.prototype.toPOJO=function(){var ue,De,$e={};try{for(var et=ne(this),mt=et.next();!mt.done;mt=et.next()){var _t=Ae(mt.value,2),yn=_t[0],_n=_t[1];$e[typeof yn=="symbol"?yn:O(yn)]=_n}}catch(ir){ue={error:ir}}finally{try{mt&&!mt.done&&(De=et.return)&&De.call(et)}finally{if(ue)throw ue.error}}return $e},se.prototype.toJS=function(){return new Map(this)},se.prototype.toJSON=function(){return this.toPOJO()},se.prototype.toString=function(){var ue=this;return this.name+"[{ "+Array.from(this.keys()).map(function(De){return O(De)+": "+ue.get(De)}).join(", ")+" }]"},se.prototype.observe=function(ue,De){return kr(this,ue)},se.prototype.intercept=function(ue){return Wr(this,ue)},se}(),ea=S("ObservableMap",Ra),ya={},Va=function(){function se(ue,De,$e){if(De===void 0&&(De=xe),$e===void 0&&($e="ObservableSet@"+w()),this.name=$e,this[aa]=ya,this._data=new Set,this._atom=B(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(et,mt){return De(et,mt,$e)},ue&&this.replace(ue)}return se.prototype.dehanceValue=function(ue){return this.dehancer!==void 0?this.dehancer(ue):ue},se.prototype.clear=function(){var ue=this;br(function(){ht(function(){var De,$e;try{for(var et=ne(ue._data.values()),mt=et.next();!mt.done;mt=et.next()){var _t=mt.value;ue.delete(_t)}}catch(yn){De={error:yn}}finally{try{mt&&!mt.done&&($e=et.return)&&$e.call(et)}finally{if(De)throw De.error}}})})},se.prototype.forEach=function(ue,De){var $e,et;try{for(var mt=ne(this),_t=mt.next();!_t.done;_t=mt.next()){var yn=_t.value;ue.call(De,yn,yn,this)}}catch(_n){$e={error:_n}}finally{try{_t&&!_t.done&&(et=mt.return)&&et.call(mt)}finally{if($e)throw $e.error}}},Object.defineProperty(se.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),se.prototype.add=function(ue){var De=this;if(Ze(this._atom),Ln(this)&&!(et=Pr(this,{type:"add",object:this,newValue:ue})))return this;if(!this.has(ue)){br(function(){De._data.add(De.enhancer(ue,void 0)),De._atom.reportChanged()});var $e=pr(this),et=$e?{type:"add",object:this,newValue:ue}:null;$e&&Kr(this,et)}return this},se.prototype.delete=function(ue){var De=this;if(Ln(this)&&!(et=Pr(this,{type:"delete",object:this,oldValue:ue})))return!1;if(this.has(ue)){var $e=pr(this),et=$e?{type:"delete",object:this,oldValue:ue}:null;return br(function(){De._atom.reportChanged(),De._data.delete(ue)}),$e&&Kr(this,et),!0}return!1},se.prototype.has=function(ue){return this._atom.reportObserved(),this._data.has(this.dehanceValue(ue))},se.prototype.entries=function(){var ue=0,De=Array.from(this.keys()),$e=Array.from(this.values());return Ga({next:function(){var et=ue;return ue+=1,et<$e.length?{value:[De[et],$e[et]],done:!1}:{done:!0}}})},se.prototype.keys=function(){return this.values()},se.prototype.values=function(){this._atom.reportObserved();var ue=this,De=0,$e=Array.from(this._data.values());return Ga({next:function(){return De<$e.length?{value:ue.dehanceValue($e[De++]),done:!1}:{done:!0}}})},se.prototype.replace=function(ue){var De=this;return ta(ue)&&(ue=ue.toJS()),br(function(){var $e=Lt(!0);try{Array.isArray(ue)?(De.clear(),ue.forEach(function(et){return De.add(et)})):V(ue)?(De.clear(),ue.forEach(function(et){return De.add(et)})):ue!=null&&r("Cannot initialize set from "+ue)}finally{An($e)}}),this},se.prototype.observe=function(ue,De){return kr(this,ue)},se.prototype.intercept=function(ue){return Wr(this,ue)},se.prototype.toJS=function(){return new Set(this)},se.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},se.prototype[aa=L,Symbol.iterator]=function(){return this.values()},se}(),ta=S("ObservableSet",Va),xa=function(){function se(ue,De,$e,et){De===void 0&&(De=new Map),this.target=ue,this.values=De,this.name=$e,this.defaultEnhancer=et,this.keysAtom=new G($e+".keys")}return se.prototype.read=function(ue){return this.values.get(ue).get()},se.prototype.write=function(ue,De){var $e=this.target,et=this.values.get(ue);if(et instanceof ur)et.set(De);else{if(Ln(this)){if(!(_t=Pr(this,{type:"update",object:this.proxy||$e,name:ue,newValue:De})))return;De=_t.newValue}if((De=et.prepareNewValue(De))!==J.UNCHANGED){var mt=pr(this),_t=mt?{type:"update",object:this.proxy||$e,oldValue:et.value,name:ue,newValue:De}:null;et.setNewValue(De),mt&&Kr(this,_t)}}},se.prototype.has=function(ue){var De=this.pendingKeys||(this.pendingKeys=new Map),$e=De.get(ue);if($e)return $e.get();var et=!!this.values.get(ue);return $e=new dt(et,Ve,this.name+"."+O(ue)+"?",!1),De.set(ue,$e),$e.get()},se.prototype.addObservableProp=function(ue,De,$e){$e===void 0&&($e=this.defaultEnhancer);var et=this.target;if(Ln(this)){var mt=Pr(this,{object:this.proxy||et,name:ue,type:"add",newValue:De});if(!mt)return;De=mt.newValue}var _t=new dt(De,$e,this.name+"."+O(ue),!1);this.values.set(ue,_t),De=_t.value,Object.defineProperty(et,ue,function(yn){return pa[yn]||(pa[yn]={configurable:!0,enumerable:!0,get:function(){return this[L].read(yn)},set:function(_n){this[L].write(yn,_n)}})}(ue)),this.notifyPropertyAddition(ue,De)},se.prototype.addComputedProp=function(ue,De,$e){var et=this.target;$e.name=$e.name||this.name+"."+O(De),this.values.set(De,new ur($e)),(ue===et||function(mt,_t){var yn=Object.getOwnPropertyDescriptor(mt,_t);return!yn||yn.configurable!==!1&&yn.writable!==!1}(ue,De))&&Object.defineProperty(ue,De,function(mt){return $a[mt]||($a[mt]={configurable:J.computedConfigurable,enumerable:!1,get:function(){return Na(this).read(mt)},set:function(_t){Na(this).write(mt,_t)}})}(De))},se.prototype.remove=function(ue){if(this.values.has(ue)){var De=this.target;if(Ln(this)&&!(yn=Pr(this,{object:this.proxy||De,name:ue,type:"remove"})))return;try{rt();var $e=pr(this),et=this.values.get(ue),mt=et&&et.get();if(et&&et.set(void 0),this.keysAtom.reportChanged(),this.values.delete(ue),this.pendingKeys){var _t=this.pendingKeys.get(ue);_t&&_t.set(!1)}delete this.target[ue];var yn=$e?{type:"remove",object:this.proxy||De,oldValue:mt,name:ue}:null;$e&&Kr(this,yn)}finally{yt()}}},se.prototype.illegalAccess=function(ue,De){console.warn("Property '"+De+"' of '"+ue+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},se.prototype.observe=function(ue,De){return kr(this,ue)},se.prototype.intercept=function(ue){return Wr(this,ue)},se.prototype.notifyPropertyAddition=function(ue,De){var $e=pr(this),et=$e?{type:"add",object:this.proxy||this.target,name:ue,newValue:De}:null;if($e&&Kr(this,et),this.pendingKeys){var mt=this.pendingKeys.get(ue);mt&&mt.set(!0)}this.keysAtom.reportChanged()},se.prototype.getKeys=function(){var ue,De;this.keysAtom.reportObserved();var $e=[];try{for(var et=ne(this.values),mt=et.next();!mt.done;mt=et.next()){var _t=Ae(mt.value,2),yn=_t[0];_t[1]instanceof dt&&$e.push(yn)}}catch(_n){ue={error:_n}}finally{try{mt&&!mt.done&&(De=et.return)&&De.call(et)}finally{if(ue)throw ue.error}}return $e},se}();function ba(se,ue,De){if(ue===void 0&&(ue=""),De===void 0&&(De=xe),Object.prototype.hasOwnProperty.call(se,L))return se[L];E(se)||(ue=(se.constructor.name||"ObservableObject")+"@"+w()),ue||(ue="ObservableObject@"+w());var $e=new xa(se,new Map,O(ue),De);return M(se,L,$e),$e}var pa=Object.create(null),$a=Object.create(null);function Na(se){var ue=se[L];return ue||(Pe(se),se[L])}var eo=S("ObservableObjectAdministration",xa);function Sa(se){return!!x(se)&&(Pe(se),eo(se[L]))}function ga(se,ue){if(typeof se=="object"&&se!==null){if(Fr(se))return ue!==void 0&&r(!1),se[L].atom;if(ta(se))return se[L];if(ea(se)){var De=se;return ue===void 0?De._keysAtom:(($e=De._data.get(ue)||De._hasMap.get(ue))||r(!1),$e)}var $e;if(Pe(se),ue&&!se[L]&&se[ue],Sa(se))return ue?(($e=se[L].values.get(ue))||r(!1),$e):r(!1);if(z(se)||Be(se)||bt(se))return se}else if(typeof se=="function"&&bt(se[L]))return se[L];return r(!1)}function po(se,ue){return se||r("Expecting some object"),ue!==void 0?po(ga(se,ue)):z(se)||Be(se)||bt(se)||ea(se)||ta(se)?se:(Pe(se),se[L]?se[L]:void r(!1))}var Qa=Object.prototype.toString;function ja(se,ue,De){return De===void 0&&(De=-1),function $e(et,mt,_t,yn,_n){if(et===mt)return et!==0||1/et==1/mt;if(et==null||mt==null)return!1;if(et!=et)return mt!=mt;var ir=typeof et;if(ir!=="function"&&ir!=="object"&&typeof mt!="object")return!1;var wr=Qa.call(et);if(wr!==Qa.call(mt))return!1;switch(wr){case"[object RegExp]":case"[object String]":return""+et==""+mt;case"[object Number]":return+et!=+et?+mt!=+mt:+et==0?1/+et==1/mt:+et==+mt;case"[object Date]":case"[object Boolean]":return+et==+mt;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(et)===Symbol.valueOf.call(mt);case"[object Map]":case"[object Set]":_t>=0&&_t++}et=Ya(et),mt=Ya(mt);var xr=wr==="[object Array]";if(!xr){if(typeof et!="object"||typeof mt!="object")return!1;var sr=et.constructor,Or=mt.constructor;if(sr!==Or&&!(typeof sr=="function"&&sr instanceof sr&&typeof Or=="function"&&Or instanceof Or)&&"constructor"in et&&"constructor"in mt)return!1}if(_t===0)return!1;_t<0&&(_t=-1),yn=yn||[],_n=_n||[];for(var Ur=yn.length;Ur--;)if(yn[Ur]===et)return _n[Ur]===mt;if(yn.push(et),_n.push(mt),xr){if((Ur=et.length)!==mt.length)return!1;for(;Ur--;)if(!$e(et[Ur],mt[Ur],_t-1,yn,_n))return!1}else{var Ta=Object.keys(et),Xr=void 0;if(Ur=Ta.length,Object.keys(mt).length!==Ur)return!1;for(;Ur--;)if(Xr=Ta[Ur],!yo(mt,Xr)||!$e(et[Xr],mt[Xr],_t-1,yn,_n))return!1}return yn.pop(),_n.pop(),!0}(se,ue,De)}function Ya(se){return Fr(se)?se.slice():D(se)||ea(se)||V(se)||ta(se)?Array.from(se.entries()):se}function yo(se,ue){return Object.prototype.hasOwnProperty.call(se,ue)}function Ga(se){return se[Symbol.iterator]=ao,se}function ao(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(se){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:function(se,ue){return(ue!==void 0?ga(se,ue):Sa(se)||ea(se)||ta(se)?po(se):ga(se)).name}},$mobx:L})}).call(this,a(80),a(40))},function(g,p,a){a.d(p,"y",function(){return C}),a.d(p,"j",function(){return A}),a.d(p,"D",function(){return x}),a.d(p,"n",function(){return E}),a.d(p,"d",function(){return M}),a.d(p,"u",function(){return S}),a.d(p,"r",function(){return D}),a.d(p,"z",function(){return V}),a.d(p,"a",function(){return d}),a.d(p,"G",function(){return O}),a.d(p,"m",function(){return I}),a.d(p,"i",function(){return L}),a.d(p,"v",function(){return G}),a.d(p,"w",function(){return z}),a.d(p,"x",function(){return B}),a.d(p,"l",function(){return Y}),a.d(p,"k",function(){return q}),a.d(p,"t",function(){return H}),a.d(p,"c",function(){return Ae}),a.d(p,"F",function(){return K}),a.d(p,"A",function(){return j}),a.d(p,"o",function(){return ve}),a.d(p,"B",function(){return me}),a.d(p,"s",function(){return pe}),a.d(p,"H",function(){return ke}),a.d(p,"b",function(){return X}),a.d(p,"g",function(){return Z}),a.d(p,"e",function(){return ae}),a.d(p,"f",function(){return Ue}),a.d(p,"E",function(){return Ie}),a.d(p,"p",function(){return le}),a.d(p,"q",function(){return ze}),a.d(p,"h",function(){return nt}),a.d(p,"C",function(){return st}),a(147);var u=a(0);function f(Ge){return function(N){if(Array.isArray(N))return m(N)}(Ge)||function(N){if(typeof Symbol!="undefined"&&N[Symbol.iterator]!=null||N["@@iterator"]!=null)return Array.from(N)}(Ge)||U(Ge)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function P(Ge,N){return function(W){if(Array.isArray(W))return W}(Ge)||function(W,de){var ie=W==null?null:typeof Symbol!="undefined"&&W[Symbol.iterator]||W["@@iterator"];if(ie!=null){var _e,Ze,ft=[],at=!0,ht=!1;try{for(ie=ie.call(W);!(at=(_e=ie.next()).done)&&(ft.push(_e.value),!de||ft.length!==de);at=!0);}catch(Ct){ht=!0,Ze=Ct}finally{try{at||ie.return==null||ie.return()}finally{if(ht)throw Ze}}return ft}}(Ge,N)||U(Ge,N)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function U(Ge,N){if(Ge){if(typeof Ge=="string")return m(Ge,N);var W=Object.prototype.toString.call(Ge).slice(8,-1);return W==="Object"&&Ge.constructor&&(W=Ge.constructor.name),W==="Map"||W==="Set"?Array.from(Ge):W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W)?m(Ge,N):void 0}}function m(Ge,N){(N==null||N>Ge.length)&&(N=Ge.length);for(var W=0,de=new Array(N);W<N;W++)de[W]=Ge[W];return de}u.b.vtkErrorMacro;var w=u.b.vtkWarningMacro,r=1e-12;function b(){for(var Ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3,N=[];N.length<Ge;)N.push(0);return N}function C(Ge){return Ge/180*Math.PI}function A(Ge){return 180*Ge/Math.PI}var x=Math.round,E=Math.floor;function M(Ge){for(var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,de=1/0,ie=-1/0,_e=N,Ze=Ge.length;_e<Ze;_e+=W)Ge[_e]<de&&(de=Ge[_e]),ie<Ge[_e]&&(ie=Ge[_e]);return[de,ie]}function S(Ge){for(var N=1;N<Ge;)N*=2;return N}function D(Ge){return Ge===S(Ge)}function V(){var Ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Ge+((arguments.length>1&&arguments[1]!==void 0?arguments[1]:1)-Ge)*Math.random()}function d(Ge,N,W){return W[0]=Ge[0]+N[0],W[1]=Ge[1]+N[1],W[2]=Ge[2]+N[2],W}function O(Ge,N,W){return W[0]=Ge[0]-N[0],W[1]=Ge[1]-N[1],W[2]=Ge[2]-N[2],W}function F(Ge,N){return Ge[0]*=N,Ge[1]*=N,Ge[2]*=N,Ge}function I(Ge,N){return Ge[0]*N[0]+Ge[1]*N[1]+Ge[2]*N[2]}function L(Ge,N,W){var de=Ge[1]*N[2]-Ge[2]*N[1],ie=Ge[2]*N[0]-Ge[0]*N[2],_e=Ge[0]*N[1]-Ge[1]*N[0];return W[0]=de,W[1]=ie,W[2]=_e,W}function G(Ge){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;switch(N){case 1:return Math.abs(Ge);case 2:return Math.sqrt(Ge[0]*Ge[0]+Ge[1]*Ge[1]);case 3:return Math.sqrt(Ge[0]*Ge[0]+Ge[1]*Ge[1]+Ge[2]*Ge[2]);default:for(var W=0,de=0;de<N;de++)W+=Ge[de]*Ge[de];return Math.sqrt(W)}}function z(Ge){var N=G(Ge);return N!==0&&(Ge[0]/=N,Ge[1]/=N,Ge[2]/=N),N}function B(Ge,N,W){var de=I(N,N);if(de===0)return W[0]=0,W[1]=0,W[2]=0,!1;for(var ie=I(Ge,N)/de,_e=0;_e<3;_e++)W[_e]=N[_e];return F(W,ie),!0}function Y(Ge,N){return(Ge[0]-N[0])*(Ge[0]-N[0])+(Ge[1]-N[1])*(Ge[1]-N[1])+(Ge[2]-N[2])*(Ge[2]-N[2])}function q(){for(var Ge=arguments.length,N=new Array(Ge),W=0;W<Ge;W++)N[W]=arguments[W];return N.length===2?N[0][0]*N[1][1]-N[1][0]*N[0][1]:N.length===4?N[0]*N[3]-N[1]*N[2]:Number.NaN}function H(Ge,N,W){var de=Ge[0][0]*N[0]+Ge[0][1]*N[1]+Ge[0][2]*N[2],ie=Ge[1][0]*N[0]+Ge[1][1]*N[1]+Ge[1][2]*N[2],_e=Ge[2][0]*N[0]+Ge[2][1]*N[1]+Ge[2][2]*N[2];W[0]=de,W[1]=ie,W[2]=_e}function ne(Ge,N){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-6;return!Ge.length===N.length?!1:Ge.every(function(de,ie){return Math.abs(de-N[ie])<W})}var Ae=ne;function ce(Ge,N,W){var de,ie,_e,Ze,ft,at,ht,Ct=0,Kt=b(W);for(de=0;de<W;de++){for(Ze=0,ie=0;ie<W;ie++)(ht=Math.abs(Ge[de][ie]))>Ze&&(Ze=ht);if(Ze===0)return w("Unable to factor linear system"),0;Kt[de]=1/Ze}for(ie=0;ie<W;ie++){for(de=0;de<ie;de++){for(ft=Ge[de][ie],_e=0;_e<de;_e++)ft-=Ge[de][_e]*Ge[_e][ie];Ge[de][ie]=ft}for(Ze=0,de=ie;de<W;de++){for(ft=Ge[de][ie],_e=0;_e<ie;_e++)ft-=Ge[de][_e]*Ge[_e][ie];Ge[de][ie]=ft,(at=Kt[de]*Math.abs(ft))>=Ze&&(Ze=at,Ct=de)}if(ie!==Ct){for(_e=0;_e<W;_e++)at=Ge[Ct][_e],Ge[Ct][_e]=Ge[ie][_e],Ge[ie][_e]=at;Kt[Ct]=Kt[ie]}if(N[ie]=Ct,Math.abs(Ge[ie][ie])<=r)return w("Unable to factor linear system"),0;if(ie!==W-1)for(at=1/Ge[ie][ie],de=ie+1;de<W;de++)Ge[de][ie]*=at}return 1}function ye(Ge,N,W,de){var ie,_e,Ze,ft,at;for(Ze=-1,ie=0;ie<de;ie++){if(at=W[ft=N[ie]],W[ft]=W[ie],Ze>=0)for(_e=Ze;_e<=ie-1;_e++)at-=Ge[ie][_e]*W[_e];else at!==0&&(Ze=ie);W[ie]=at}for(ie=de-1;ie>=0;ie--){for(at=W[ie],_e=ie+1;_e<de;_e++)at-=Ge[ie][_e]*W[_e];W[ie]=at/Ge[ie][ie]}}function K(Ge,N,W){if(W===2){var de=b(2),ie=q(Ge[0][0],Ge[0][1],Ge[1][0],Ge[1][1]);return ie===0?0:(de[0]=(Ge[1][1]*N[0]-Ge[0][1]*N[1])/ie,de[1]=(-Ge[1][0]*N[0]+Ge[0][0]*N[1])/ie,N[0]=de[0],N[1]=de[1],1)}if(W===1)return Ge[0][0]===0?0:(N[0]/=Ge[0][0],1);var _e=b(W);return ce(Ge,_e,W)===0?0:(ye(Ge,_e,N,W),1)}function j(Ge,N){var W,de,ie=P(Ge,3),_e=ie[0],Ze=ie[1],ft=ie[2],at=_e,ht=_e;Ze>at?at=Ze:Ze<ht&&(ht=Ze),ft>at?at=ft:ft<ht&&(ht=ft);var Ct=at;(de=Ct>0?(at-ht)/at:0)>0?(W=_e===at?1/6*(Ze-ft)/(at-ht):Ze===at?1/3+1/6*(ft-_e)/(at-ht):2/3+1/6*(_e-Ze)/(at-ht))<0&&(W+=1):W=0,N[0]=W,N[1]=de,N[2]=Ct}function ve(Ge,N){var W,de,ie,_e=P(Ge,3),Ze=_e[0],ft=_e[1],at=_e[2];Ze>1/6&&Ze<=1/3?(de=1,W=(1/3-Ze)/(1/6),ie=0):Ze>1/3&&Ze<=.5?(de=1,ie=(Ze-1/3)/(1/6),W=0):Ze>.5&&Ze<=2/3?(ie=1,de=(2/3-Ze)/(1/6),W=0):Ze>2/3&&Ze<=5/6?(ie=1,W=(Ze-2/3)/(1/6),de=0):Ze>5/6&&Ze<=1?(W=1,ie=(1-Ze)/(1/6),de=0):(W=1,de=Ze/(1/6),ie=0),W=ft*W+(1-ft),de=ft*de+(1-ft),ie=ft*ie+(1-ft),W*=at,de*=at,ie*=at,N[0]=W,N[1]=de,N[2]=ie}function Pe(Ge,N){var W=P(Ge,3),de=(W[0]+16)/116,ie=W[1]/500+de,_e=de-W[2]/200;de=Math.pow(de,3)>.008856?Math.pow(de,3):(de-16/116)/7.787,ie=Math.pow(ie,3)>.008856?Math.pow(ie,3):(ie-16/116)/7.787,_e=Math.pow(_e,3)>.008856?Math.pow(_e,3):(_e-16/116)/7.787,N[0]=.9505*ie,N[1]=1*de,N[2]=1.089*_e}function Oe(Ge,N){var W=P(Ge,3),de=W[0]/.9505,ie=W[1]/1,_e=W[2]/1.089;de=de>.008856?Math.pow(de,1/3):7.787*de+16/116,ie=ie>.008856?Math.pow(ie,1/3):7.787*ie+16/116,_e=_e>.008856?Math.pow(_e,1/3):7.787*_e+16/116,N[0]=116*ie-16,N[1]=500*(de-ie),N[2]=200*(ie-_e)}function xe(Ge,N){var W=P(Ge,3),de=W[0],ie=W[1],_e=W[2],Ze=3.2406*de+-1.5372*ie+-.4986*_e,ft=-.9689*de+1.8758*ie+.0415*_e,at=.0557*de+-.204*ie+1.057*_e;Ze>.0031308?Ze=1.055*Math.pow(Ze,1/2.4)-.055:Ze*=12.92,ft>.0031308?ft=1.055*Math.pow(ft,1/2.4)-.055:ft*=12.92,at>.0031308?at=1.055*Math.pow(at,1/2.4)-.055:at*=12.92;var ht=Ze;ht<ft&&(ht=ft),ht<at&&(ht=at),ht>1&&(Ze/=ht,ft/=ht,at/=ht),Ze<0&&(Ze=0),ft<0&&(ft=0),at<0&&(at=0),N[0]=Ze,N[1]=ft,N[2]=at}function Ve(Ge,N){var W=P(Ge,3),de=W[0],ie=W[1],_e=W[2];de>.04045?de=Math.pow((de+.055)/1.055,2.4):de/=12.92,ie>.04045?ie=Math.pow((ie+.055)/1.055,2.4):ie/=12.92,_e>.04045?_e=Math.pow((_e+.055)/1.055,2.4):_e/=12.92,N[0]=.4124*de+.3576*ie+.1805*_e,N[1]=.2126*de+.7152*ie+.0722*_e,N[2]=.0193*de+.1192*ie+.9505*_e}function me(Ge,N){var W=[0,0,0];Ve(Ge,W),Oe(W,N)}function pe(Ge,N){var W=[0,0,0];Pe(Ge,W),xe(W,N)}function ke(Ge){Ge[0]=1,Ge[1]=-1,Ge[2]=1,Ge[3]=-1,Ge[4]=1,Ge[5]=-1}function X(Ge){return!(Ge[1]-Ge[0]<0)}function Z(Ge,N,W){W[0]=Math.min(Ge[0],N[0]),W[1]=Math.max(Ge[0],N[0]),W[2]=Math.min(Ge[1],N[1]),W[3]=Math.max(Ge[1],N[1]),W[4]=Math.min(Ge[2],N[2]),W[5]=Math.max(Ge[2],N[2])}function ae(Ge,N,W){return Ge<N?N:Ge>W?W:Ge}function Ue(Ge,N,W){var de=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];return de[0]=ae(Ge[0],N[0],W[0]),de[1]=ae(Ge[1],N[1],W[1]),de[2]=ae(Ge[2],N[2],W[2]),de}function Ie(Ge){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return N[0]=Math.round(Ge[0]),N[1]=Math.round(Ge[1]),N[2]=Math.round(Ge[2]),N}var le=function(Ge){return!Number.isFinite(Ge)},ge=Number.isNaN,ze=ge;function nt(){return[].concat([Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE])}function st(Ge,N,W){var de=f(Ge),ie=f(N);z(de),z(ie);var _e=Math.sin(W),Ze=1-Math.cos(W),ft=[0,0,0];return ft[0]=de[0]*(1-Ze*(ie[2]*ie[2]+ie[1]*ie[1]))+de[1]*(-_e*ie[2]+Ze*ie[0]*ie[1])+de[2]*(_e*ie[1]+Ze*ie[0]*ie[1]),ft[1]=de[0]*(_e*ie[2]+Ze*ie[0]*ie[1])+de[1]*(1-Ze*(ie[0]*ie[0]+ie[2]*ie[2]))+de[2]*(-_e*ie[0]+Ze*ie[1]*ie[2]),ft[2]=de[0]*(-_e*ie[1]+Ze*ie[0]*ie[2])+de[1]*(_e*ie[0]+Ze*ie[1]*ie[2])+de[2]*(1-Ze*(ie[1]*ie[1]+ie[0]*ie[0])),ft}},function(g,p,a){var u=a(247);typeof u=="string"&&(u=[[g.i,u,""]]);var f={hmr:!0,transform:void 0,insertInto:void 0};a(91)(u,f),u.locals&&(g.exports=u.locals)},function(g,p){g.exports=function(a,u,f,P,U){var m={};return Object.keys(P).forEach(function(w){m[w]=P[w]}),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=f.slice().reverse().reduce(function(w,r){return r(a,u,w)||w},m),U&&m.initializer!==void 0&&(m.value=m.initializer?m.initializer.call(U):void 0,m.initializer=void 0),m.initializer===void 0&&(Object.defineProperty(a,u,m),m=null),m},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p,a){g.exports=a(118)},function(g,p,a){var u=a(4),f=a.n(u),P=a(2);p.a=function(U,m,w){Object(P.b)(function(){var r=U.isBackgroundDark,b=r?"DarkBG":"BrightBG",C=r?"BrightBG":"DarkBG",A=f.a["".concat(m).concat(C)];w.classList.contains(A)&&w.classList.remove(A),w.classList.add(f.a["".concat(m).concat(b)])})}},function(g,p,a){var u=a(15),f=a(0),P=a(3);function U(V,d){var O=Object.keys(V);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(V);d&&(F=F.filter(function(I){return Object.getOwnPropertyDescriptor(V,I).enumerable})),O.push.apply(O,F)}return O}function m(V){for(var d=1;d<arguments.length;d++){var O=arguments[d]!=null?arguments[d]:{};d%2?U(Object(O),!0).forEach(function(F){w(V,F,O[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(O)):U(Object(O)).forEach(function(F){Object.defineProperty(V,F,Object.getOwnPropertyDescriptor(O,F))})}return V}function w(V,d,O){return d in V?Object.defineProperty(V,d,{value:O,enumerable:!0,configurable:!0,writable:!0}):V[d]=O,V}var r=[];function b(){var V=Number.MAX_VALUE,d=-Number.MAX_VALUE,O=0,F=0;return{add:function(I){V>I&&(V=I),d<I&&(d=I),O++,F+=I},get:function(){return{min:V,max:d,count:O,sum:F,mean:F/O}},getRange:function(){return{min:V,max:d}}}}function C(V){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,F=b(),I=V.length,L=0;if(d<0&&O>1){for(var G=0;G<I;G+=O){L=0;for(var z=0;z<O;z++)L+=V[G+z]*V[G+z];L=Math.pow(L,.5),F.add(L)}return F.getRange()}for(var B=d<0?0:d;B<I;B+=O)F.add(V[B]);return F.getRange()}function A(V){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=V||[];O.length<=d;)O.push(null);return O}function x(V){return Object.prototype.toString.call(V).slice(8,-1)}var E={computeRange:C,createRangeHelper:b,getDataType:x,getMaxNorm:function(V){for(var d=V.getNumberOfComponents(),O=0,F=0;F<V.getNumberOfTuples();++F){var I=P.v(V.getTuple(F),d);I>O&&(O=I)}return O}},M={name:"",numberOfComponents:1,size:0,dataType:u.c.DefaultDataType,rangeTuple:[0,0]};function S(V,d){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(d,M,O),!d.empty&&!d.values&&!d.size)throw new TypeError("Cannot create vtkDataArray object without: size > 0, values");d.values?Array.isArray(d.values)&&(d.values=window[d.dataType].from(d.values)):d.values=new window[d.dataType](d.size),d.values&&(d.size=d.values.length,d.dataType=x(d.values)),f.g(V,d),f.j(V,d,["name","numberOfComponents"]),function(F,I){function L(){I.ranges=null,F.modified()}I.classHierarchy.push("vtkDataArray"),F.getElementComponentSize=function(){return I.values.BYTES_PER_ELEMENT},F.getComponent=function(G){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return I.values[G*I.numberOfComponents+z]},F.setComponent=function(G,z,B){B!==I.values[G*I.numberOfComponents+z]&&(I.values[G*I.numberOfComponents+z]=B,L())},F.getData=function(){return I.values},F.getRange=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,z=G<0?I.numberOfComponents:G,B=null;return I.ranges||(I.ranges=A(I.ranges,I.numberOfComponents)),(B=I.ranges[z])?(I.rangeTuple[0]=B.min,I.rangeTuple[1]=B.max,I.rangeTuple):(B=C(I.values,G,I.numberOfComponents),I.ranges[z]=B,I.rangeTuple[0]=B.min,I.rangeTuple[1]=B.max,I.rangeTuple)},F.setRange=function(G,z){I.ranges||(I.ranges=A(I.ranges,I.numberOfComponents));var B={min:G.min,max:G.max};return I.ranges[z]=B,I.rangeTuple[0]=B.min,I.rangeTuple[1]=B.max,I.rangeTuple},F.setTuple=function(G,z){for(var B=G*I.numberOfComponents,Y=0;Y<I.numberOfComponents;Y++)I.values[B+Y]=z[Y]},F.getTuple=function(G){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,B=I.numberOfComponents||1;z.length!==B&&(z.length=B);var Y=G*B;if(B===1)z[0]=I.values[Y];else if(B===2)z[0]=I.values[Y],z[1]=I.values[Y+1];else if(B===3)z[0]=I.values[Y],z[1]=I.values[Y+1],z[2]=I.values[Y+2];else if(B===4)z[0]=I.values[Y],z[1]=I.values[Y+1],z[2]=I.values[Y+2],z[3]=I.values[Y+3];else for(var q=0;q<B;q++)z[q]=I.values[Y+q];return z},F.getTupleLocation=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:1)*I.numberOfComponents},F.getNumberOfComponents=function(){return I.numberOfComponents},F.getNumberOfValues=function(){return I.values.length},F.getNumberOfTuples=function(){return I.values.length/I.numberOfComponents},F.getDataType=function(){return I.dataType},F.newClone=function(){return D({empty:!0,name:I.name,dataType:I.dataType,numberOfComponents:I.numberOfComponents})},F.getName=function(){return I.name||(F.modified(),I.name="vtkDataArray".concat(F.getMTime())),I.name},F.setData=function(G,z){I.values=G,I.size=G.length,I.dataType=x(G),z&&(I.numberOfComponents=z),I.size%I.numberOfComponents!=0&&(I.numberOfComponents=1),L()},F.getState=function(){var G=m(m({},I),{},{vtkClass:F.getClassName()});G.values=Array.from(G.values),delete G.buffer,Object.keys(G).forEach(function(B){G[B]||delete G[B]});var z={};return Object.keys(G).sort().forEach(function(B){z[B]=G[B]}),z.mtime&&delete z.mtime,z}}(V,d)}var D=f.f(S,"vtkDataArray");p.a=m(m({newInstance:D,extend:S},E),u.c)},function(g,p){g.exports=function(a,u,f,P){f&&Object.defineProperty(a,u,{enumerable:f.enumerable,configurable:f.configurable,writable:f.writable,value:f.initializer?f.initializer.call(P):void 0})},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p,a){var u=a(0),f=a(97),P=a(3),U={bounds:[1,-1,1,-1,1,-1],center:[0,0,0]},m={extend:function(ve,Pe){var Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(Pe,U,Oe),f.a.extend(ve,Pe,Oe),Pe.bounds||P.H(Pe.bounds),Pe.center||(Pe.center=[0,0,0]),function(xe,Ve){xe.getBounds=function(){return 0},xe.getBounds=function(me){xe.getBounds();for(var pe=0;pe<6;pe++)me[pe]=Ve.bounds[pe]},xe.getCenter=function(){xe.getBounds();for(var me=0;me<3;me++)Ve.center[me]=(Ve.bounds[2*me+1]+Ve.bounds[2*me])/2;return Ve.center.slice()},xe.getLength=function(){var me=0,pe=0;xe.getBounds();for(var ke=0;ke<3;ke++)pe+=(me=Ve.bounds[2*ke+1]-Ve.bounds[2*ke])*me;return Math.sqrt(pe)},xe.getClippingPlaneInDataCoords=function(me,pe,ke){var X=Ve.clippingPlanes,Z=me;if(X){var ae=X.length;if(pe>=0&&pe<ae){var Ue=X[pe],Ie=Ue.getNormal(),le=Ue.getOrigin(),ge=Ie[0],ze=Ie[1],nt=Ie[2],st=-(ge*le[0]+ze*le[1]+nt*le[2]);return ke[0]=ge*Z[0]+ze*Z[4]+nt*Z[8]+st*Z[12],ke[1]=ge*Z[1]+ze*Z[5]+nt*Z[9]+st*Z[13],ke[2]=ge*Z[2]+ze*Z[6]+nt*Z[10]+st*Z[14],void(ke[3]=ge*Z[3]+ze*Z[7]+nt*Z[11]+st*Z[15])}}u.b.vtkErrorMacro("Clipping plane index ".concat(pe," is out of range."))}}(ve,Pe)}},w=a(8),r=a(33),b=a(67),C=a(54),A=a(15),x=u.b.vtkErrorMacro,E=0,M=1,S=2,D={numberOfColors:256,hueRange:[0,.66667],saturationRange:[1,1],valueRange:[1,1],alphaRange:[1,1],nanColor:[.5,0,0,1],belowRangeColor:[0,0,0,1],aboveRangeColor:[1,1,1,1],useAboveRangeColor:!1,useBelowRangeColor:!1,alpha:1};function V(ve,Pe){var Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(Pe,D,Oe),b.a.extend(ve,Pe,Oe),Pe.table||(Pe.table=[]),Pe.buildTime={},u.b.obj(Pe.buildTime),Pe.opaqueFlagBuildTime={},u.b.obj(Pe.opaqueFlagBuildTime,{mtime:0}),Pe.insertTime={},u.b.obj(Pe.insertTime,{mtime:0}),u.b.get(ve,Pe,["buildTime"]),u.b.setGet(ve,Pe,["numberOfColors","useAboveRangeColor","useBelowRangeColor"]),u.b.setArray(ve,Pe,["alphaRange","hueRange","saturationRange","valueRange"],2),u.b.setArray(ve,Pe,["nanColor","belowRangeColor","aboveRangeColor"],4),u.b.getArray(ve,Pe,["hueRange","saturationRange","valueRange","alphaRange","nanColor","belowRangeColor","aboveRangeColor"]),function(xe,Ve){Ve.classHierarchy.push("vtkLookupTable"),xe.isOpaque=function(){if(Ve.opaqueFlagBuildTime.getMTime()<xe.getMTime()){var me=!0;Ve.nanColor[3]<1&&(me=0),Ve.useBelowRangeColor&&Ve.belowRangeColor[3]<1&&(me=0),Ve.useAboveRangeColor&&Ve.aboveRangeColor[3]<1&&(me=0);for(var pe=3;pe<Ve.table.length&&me;pe+=4)Ve.table[pe]<255&&(me=!1);Ve.opaqueFlag=me,Ve.opaqueFlagBuildTime.modified()}return Ve.opaqueFlag},xe.usingLogScale=function(){return!1},xe.getNumberOfAvailableColors=function(){return Ve.table.length},xe.linearIndexLookup=function(me,pe){var ke=0;return ke=me<pe.range[0]?pe.maxIndex+E+1.5:me>pe.range[1]?pe.maxIndex+M+1.5:(ke=(me+pe.shift)*pe.scale)<pe.maxIndex?ke:pe.maxIndex,Math.floor(ke)},xe.linearLookup=function(me,pe,ke){var X=4*(P.q(me)?Math.floor(ke.maxIndex+1.5+S):xe.linearIndexLookup(me,ke));return[pe[X],pe[X+1],pe[X+2],pe[X+3]]},xe.indexedLookupFunction=function(me,pe,ke){var X=xe.getAnnotatedValueIndexInternal(me);X===-1&&(X=Ve.numberOfColors+S);var Z=4*X;return[pe[Z],pe[Z+1],pe[Z+2],pe[Z+3]]},xe.lookupShiftAndScale=function(me,pe){pe.shift=-me[0],pe.scale=Number.MAX_VALUE,me[1]>me[0]&&(pe.scale=(pe.maxIndex+1)/(me[1]-me[0]))},xe.mapScalarsThroughTable=function(me,pe,ke,X){var Z=xe.linearLookup;Ve.indexedLookup&&(Z=xe.indexedLookupFunction);var ae=xe.getMappingRange(),Ue={maxIndex:xe.getNumberOfColors()-1,range:ae,shift:0,scale:0};xe.lookupShiftAndScale(ae,Ue);var Ie=xe.getAlpha(),le=me.getNumberOfTuples(),ge=me.getNumberOfComponents(),ze=pe.getData(),nt=me.getData();if(Ie>=1){if(ke===C.a.RGBA)for(var st=0;st<le;st++){var Ge=Z(nt[st*ge+X],Ve.table,Ue);ze[4*st]=Ge[0],ze[4*st+1]=Ge[1],ze[4*st+2]=Ge[2],ze[4*st+3]=Ge[3]}}else if(ke===C.a.RGBA)for(var N=0;N<le;N++){var W=Z(nt[N*ge+X],Ve.table,Ue);ze[4*N]=W[0],ze[4*N+1]=W[1],ze[4*N+2]=W[2],ze[4*N+3]=Math.floor(W[3]*Ie+.5)}},xe.forceBuild=function(){var me=0,pe=0,ke=0,X=0,Z=Ve.numberOfColors-1;Z&&(me=(Ve.hueRange[1]-Ve.hueRange[0])/Z,pe=(Ve.saturationRange[1]-Ve.saturationRange[0])/Z,ke=(Ve.valueRange[1]-Ve.valueRange[0])/Z,X=(Ve.alphaRange[1]-Ve.alphaRange[0])/Z);for(var ae=[],Ue=[],Ie=0;Ie<=Z;Ie++)ae[0]=Ve.hueRange[0]+Ie*me,ae[1]=Ve.saturationRange[0]+Ie*pe,ae[2]=Ve.valueRange[0]+Ie*ke,P.o(ae,Ue),Ue[3]=Ve.alphaRange[0]+Ie*X,Ve.table[4*Ie]=255*Ue[0]+.5,Ve.table[4*Ie+1]=255*Ue[1]+.5,Ve.table[4*Ie+2]=255*Ue[2]+.5,Ve.table[4*Ie+3]=255*Ue[3]+.5;xe.buildSpecialColors(),Ve.buildTime.modified()},xe.setTable=function(me){if(me.getNumberOfComponents()===4)if(me.getDataType()===A.b.UNSIGNED_CHAR){Ve.numberOfColors=me.getNumberOfTuples();for(var pe=me.getData(),ke=0;ke<pe.length;ke++)Ve.table[ke]=pe[ke];xe.buildSpecialColors(),Ve.insertTime.modified(),xe.modified()}else x("Expected unsigned char values for RGBA colors");else x("Expected 4 components for RGBA colors")},xe.buildSpecialColors=function(){var me=Ve.numberOfColors,pe=Ve.table,ke=4*(me+E);Ve.useBelowRangeColor||me===0?(pe[ke]=255*Ve.belowRangeColor[0]+.5,pe[ke+1]=255*Ve.belowRangeColor[1]+.5,pe[ke+2]=255*Ve.belowRangeColor[2]+.5,pe[ke+3]=255*Ve.belowRangeColor[3]+.5):(pe[ke]=pe[0],pe[ke+1]=pe[1],pe[ke+2]=pe[2],pe[ke+3]=pe[3]),ke=4*(me+M),Ve.useAboveRangeColor||me===0?(pe[ke]=255*Ve.aboveRangeColor[0]+.5,pe[ke+1]=255*Ve.aboveRangeColor[1]+.5,pe[ke+2]=255*Ve.aboveRangeColor[2]+.5,pe[ke+3]=255*Ve.aboveRangeColor[3]+.5):(pe[ke]=pe[4*(me-1)+0],pe[ke+1]=pe[4*(me-1)+1],pe[ke+2]=pe[4*(me-1)+2],pe[ke+3]=pe[4*(me-1)+3]),pe[ke=4*(me+S)]=255*Ve.nanColor[0]+.5,pe[ke+1]=255*Ve.nanColor[1]+.5,pe[ke+2]=255*Ve.nanColor[2]+.5,pe[ke+3]=255*Ve.nanColor[3]+.5},xe.build=function(){(Ve.table.length<1||xe.getMTime()>Ve.buildTime.getMTime()&&Ve.insertTime.getMTime()<=Ve.buildTime.getMTime())&&xe.forceBuild()},Ve.table.length>0&&Ve.insertTime.modified()}(ve,Pe)}var d={newInstance:u.b.newInstance(V,"vtkLookupTable"),extend:V},O=a(52),F=a(45);function I(ve,Pe){var Oe=Object.keys(ve);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ve);Pe&&(xe=xe.filter(function(Ve){return Object.getOwnPropertyDescriptor(ve,Ve).enumerable})),Oe.push.apply(Oe,xe)}return Oe}function L(ve){for(var Pe=1;Pe<arguments.length;Pe++){var Oe=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?I(Object(Oe),!0).forEach(function(xe){G(ve,xe,Oe[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ve,Object.getOwnPropertyDescriptors(Oe)):I(Object(Oe)).forEach(function(xe){Object.defineProperty(ve,xe,Object.getOwnPropertyDescriptor(Oe,xe))})}return ve}function G(ve,Pe,Oe){return Pe in ve?Object.defineProperty(ve,Pe,{value:Oe,enumerable:!0,configurable:!0,writable:!0}):ve[Pe]=Oe,ve}var z=O.b.staticOffsetAPI,B=O.b.otherStaticMethods,Y=F.b.ColorMode,q=F.b.ScalarMode,H=F.b.GetArray,ne=C.b.VectorMode,Ae=w.a.VtkDataTypes;function ce(ve){return function(){return u.b.vtkErrorMacro("vtkMapper::".concat(ve," - NOT IMPLEMENTED"))}}var ye={colorMapColors:null,static:!1,lookupTable:null,scalarVisibility:!0,scalarRange:[0,1],useLookupTableScalarRange:!1,colorMode:0,scalarMode:0,arrayAccessMode:1,renderTime:0,colorByArrayName:null,fieldDataTupleId:-1,interpolateScalarsBeforeMapping:!1,colorCoordinates:null,colorTextureMap:null,forceCompileOnly:0,useInvertibleColors:!1,invertibleScalars:null,viewSpecificProperties:null,customShaderAttributes:[]};function K(ve,Pe){var Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(Pe,ye,Oe),m.extend(ve,Pe,Oe),u.b.get(ve,Pe,["colorCoordinates","colorMapColors","colorTextureMap"]),u.b.setGet(ve,Pe,["colorByArrayName","arrayAccessMode","colorMode","fieldDataTupleId","interpolateScalarsBeforeMapping","lookupTable","renderTime","scalarMode","scalarVisibility","static","useLookupTableScalarRange","viewSpecificProperties","customShaderAttributes"]),u.b.setGetArray(ve,Pe,["scalarRange"],2),Pe.viewSpecificProperties||(Pe.viewSpecificProperties={}),O.b.implementCoincidentTopologyMethods(ve,Pe),function(xe,Ve){Ve.classHierarchy.push("vtkMapper"),xe.getBounds=function(){var me=xe.getInputData();return me?(Ve.static||xe.update(),Ve.bounds=me.getBounds()):Ve.bounds=P.h(),Ve.bounds},xe.setForceCompileOnly=function(me){Ve.forceCompileOnly=me},xe.createDefaultLookupTable=function(){Ve.lookupTable=d.newInstance()},xe.getColorModeAsString=function(){return u.b.enumToString(Y,Ve.colorMode)},xe.setColorModeToDefault=function(){return xe.setColorMode(0)},xe.setColorModeToMapScalars=function(){return xe.setColorMode(1)},xe.setColorModeToDirectScalars=function(){return xe.setColorMode(2)},xe.getScalarModeAsString=function(){return u.b.enumToString(q,Ve.scalarMode)},xe.setScalarModeToDefault=function(){return xe.setScalarMode(0)},xe.setScalarModeToUsePointData=function(){return xe.setScalarMode(1)},xe.setScalarModeToUseCellData=function(){return xe.setScalarMode(2)},xe.setScalarModeToUsePointFieldData=function(){return xe.setScalarMode(3)},xe.setScalarModeToUseCellFieldData=function(){return xe.setScalarMode(4)},xe.setScalarModeToUseFieldData=function(){return xe.setScalarMode(5)},xe.getAbstractScalars=function(me,pe,ke,X,Z){if(!me||!Ve.scalarVisibility)return{scalars:null,cellFLag:!1};var ae=null,Ue=!1;if(pe===q.DEFAULT)(ae=me.getPointData().getScalars())||(ae=me.getCellData().getScalars(),Ue=!0);else if(pe===q.USE_POINT_DATA)ae=me.getPointData().getScalars();else if(pe===q.USE_CELL_DATA)ae=me.getCellData().getScalars(),Ue=!0;else if(pe===q.USE_POINT_FIELD_DATA){var Ie=me.getPointData();ae=ke===H.BY_ID?Ie.getArrayByIndex(X):Ie.getArrayByName(Z)}else if(pe===q.USE_CELL_FIELD_DATA){var le=me.getCellData();Ue=!0,ae=ke===H.BY_ID?le.getArrayByIndex(X):le.getArrayByName(Z)}else if(pe===q.USE_FIELD_DATA){var ge=me.getFieldData();ae=ke===H.BY_ID?ge.getArrayByIndex(X):ge.getArrayByName(Z)}return{scalars:ae,cellFlag:Ue}},xe.mapScalars=function(me,pe){var ke=xe.getAbstractScalars(me,Ve.scalarMode,Ve.arrayAccessMode,Ve.arrayId,Ve.colorByArrayName).scalars;if(!ke)return Ve.colorCoordinates=null,Ve.colorTextureMap=null,void(Ve.colorMapColors=null);if(Ve.useLookupTableScalarRange||xe.getLookupTable().setRange(Ve.scalarRange[0],Ve.scalarRange[1]),xe.canUseTextureMapForColoring(me))xe.mapScalarsToTexture(ke,pe);else{Ve.colorCoordinates=null,Ve.colorTextureMap=null;var X=xe.getLookupTable();X&&(X.build(),Ve.colorMapColors=X.mapScalars(ke,Ve.colorMode,-1))}},xe.scalarToTextureCoordinate=function(me,pe,ke){var X=.5,Z=1;return P.q(me)||(Z=.49,(X=(me-pe)*ke)>1e3?X=1e3:X<-1e3&&(X=-1e3)),{texCoordS:X,texCoordT:Z}},xe.createColorTextureCoordinates=function(me,pe,ke,X,Z,ae,Ue,Ie,le){var ge=(ae[1]-ae[0])/Ie,ze=[];ze[0]=ae[0]-ge,ze[1]=ae[1]+ge;var nt=1/(ze[1]-ze[0]),st=pe.getData(),Ge=me.getData(),N=0,W=0;if(Z<0||Z>=X)for(var de=0;de<ke;++de){for(var ie=0,_e=0;_e<X;++_e)ie+=Ge[N]*Ge[N],N++;var Ze=Math.sqrt(ie);le&&(Ze=d.applyLogScale(Ze,Ue,ae));var ft=xe.scalarToTextureCoordinate(Ze,ze[0],nt);st[W]=ft.texCoordS,st[W+1]=ft.texCoordT,W+=2}else{N+=Z;for(var at=0;at<ke;++at){var ht=Ge[N];le&&(ht=d.applyLogScale(ht,Ue,ae));var Ct=xe.scalarToTextureCoordinate(ht,ze[0],nt);st[W]=Ct.texCoordS,st[W+1]=Ct.texCoordT,W+=2,N+=X}}},xe.mapScalarsToTexture=function(me,pe){var ke=Ve.lookupTable.getRange(),X=Ve.lookupTable.usingLogScale();X&&d.getLogRange(ke,ke);var Z=Ve.lookupTable.getAlpha();if(Ve.colorMapColors=null,Ve.colorTextureMap==null||xe.getMTime()>Ve.colorTextureMap.getMTime()||Ve.lookupTable.getMTime()>Ve.colorTextureMap.getMTime()||Ve.lookupTable.getAlpha()!==pe){Ve.lookupTable.setAlpha(pe),Ve.colorTextureMap=null,Ve.lookupTable.build();var ae=Ve.lookupTable.getNumberOfAvailableColors();ae>4094&&(ae=4094),ae+=2;for(var Ue=(ke[1]-ke[0])/(ae-1-2),Ie=new Float64Array(2*ae),le=0;le<ae;++le)Ie[le]=ke[0]+le*Ue-Ue,X&&(Ie[le]=Math.pow(10,Ie[le]));for(var ge=0;ge<ae;++ge)Ie[ge+ae]=NaN;Ve.colorTextureMap=r.a.newInstance(),Ve.colorTextureMap.setExtent(0,ae-1,0,1,0,0);var ze=w.a.newInstance({numberOfComponents:1,values:Ie});Ve.colorTextureMap.getPointData().setScalars(Ve.lookupTable.mapScalars(ze,Ve.colorMode,0)),Ve.lookupTable.setAlpha(Z)}if(!Ve.colorCoordinates||xe.getMTime()>Ve.colorCoordinates.getMTime()||xe.getInputData(0).getMTime()>Ve.colorCoordinates.getMTime()||Ve.lookupTable.getMTime()>Ve.colorCoordinates.getMTime()){Ve.colorCoordinates=null;var nt=me.getNumberOfComponents(),st=me.getNumberOfTuples();Ve.colorCoordinates=w.a.newInstance({numberOfComponents:2,values:new Float32Array(2*st)});var Ge=Ve.lookupTable.getVectorComponent();Ve.lookupTable.getVectorMode()===ne.MAGNITUDE&&me.getNumberOfComponents()>1&&(Ge=-1),xe.createColorTextureCoordinates(me,Ve.colorCoordinates,st,nt,Ge,ke,Ve.lookupTable.getRange(),Ve.colorTextureMap.getPointData().getScalars().getNumberOfTuples()/2-2,X)}},xe.getIsOpaque=function(){var me=xe.getLookupTable();return!me||(me.build(),me.isOpaque())},xe.canUseTextureMapForColoring=function(me){if(!Ve.interpolateScalarsBeforeMapping||Ve.lookupTable&&Ve.lookupTable.getIndexedLookup())return!1;var pe=xe.getAbstractScalars(me,Ve.scalarMode,Ve.arrayAccessMode,Ve.arrayId,Ve.colorByArrayName),ke=pe.scalars;return!(!ke||pe.cellFlag||Ve.colorMode===Y.DEFAULT&&ke.getDataType()===Ae.UNSIGNED_CHAR||Ve.colorMode===Y.DIRECT_SCALARS)},xe.clearColorArrays=function(){Ve.colorMapColors=null,Ve.colorCoordinates=null,Ve.colorTextureMap=null},xe.getLookupTable=function(){return Ve.lookupTable||xe.createDefaultLookupTable(),Ve.lookupTable},xe.getMTime=function(){var me=Ve.mtime;if(Ve.lookupTable!==null){var pe=Ve.lookupTable.getMTime();me=pe>me?pe:me}return me},xe.getPrimitiveCount=function(){var me=xe.getInputData();return{points:me.getPoints().getNumberOfValues()/3,verts:me.getVerts().getNumberOfValues()-me.getVerts().getNumberOfCells(),lines:me.getLines().getNumberOfValues()-2*me.getLines().getNumberOfCells(),triangles:me.getPolys().getNumberOfValues()-3*me.getLines().getNumberOfCells()}},xe.acquireInvertibleLookupTable=ce("AcquireInvertibleLookupTable"),xe.valueToColor=ce("ValueToColor"),xe.colorToValue=ce("ColorToValue"),xe.useInvertibleColorFor=ce("UseInvertibleColorFor"),xe.clearInvertibleColor=ce("ClearInvertibleColor")}(ve,Pe)}var j=u.b.newInstance(K,"vtkMapper");p.a=L(L(L({newInstance:j,extend:K},z),B),F.b)},function(g,p){function a(u,f,P,U,m,w,r){try{var b=u[w](r),C=b.value}catch(A){return void P(A)}b.done?f(C):Promise.resolve(C).then(U,m)}g.exports=function(u){return function(){var f=this,P=arguments;return new Promise(function(U,m){var w=u.apply(f,P);function r(C){a(w,U,m,r,b,"next",C)}function b(C){a(w,U,m,r,b,"throw",C)}r(void 0)})}},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p,a){p.a=function(u){u.preventDefault(),u.stopPropagation()}},function(g,p,a){var u=a(228),f=a(229),P=a(116),U=a(230);g.exports=function(m){return u(m)||f(m)||P(m)||U()},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p,a){var u=a(3),f=a(0),P=a(28);function U(z,B){var Y=Object.keys(z);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(z);B&&(q=q.filter(function(H){return Object.getOwnPropertyDescriptor(z,H).enumerable})),Y.push.apply(Y,q)}return Y}function m(z,B,Y){return B in z?Object.defineProperty(z,B,{value:Y,enumerable:!0,configurable:!0,writable:!0}):z[B]=Y,z}function w(z){return function(B){if(Array.isArray(B))return C(B)}(z)||function(B){if(typeof Symbol!="undefined"&&B[Symbol.iterator]!=null||B["@@iterator"]!=null)return Array.from(B)}(z)||b(z)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function r(z,B){return function(Y){if(Array.isArray(Y))return Y}(z)||function(Y,q){var H=Y==null?null:typeof Symbol!="undefined"&&Y[Symbol.iterator]||Y["@@iterator"];if(H!=null){var ne,Ae,ce=[],ye=!0,K=!1;try{for(H=H.call(Y);!(ye=(ne=H.next()).done)&&(ce.push(ne.value),!q||ce.length!==q);ye=!0);}catch(j){K=!0,Ae=j}finally{try{ye||H.return==null||H.return()}finally{if(K)throw Ae}}return ce}}(z,B)||b(z,B)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function b(z,B){if(z){if(typeof z=="string")return C(z,B);var Y=Object.prototype.toString.call(z).slice(8,-1);return Y==="Object"&&z.constructor&&(Y=z.constructor.name),Y==="Map"||Y==="Set"?Array.from(z):Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y)?C(z,B):void 0}}function C(z,B){(B==null||B>z.length)&&(B=z.length);for(var Y=0,q=new Array(B);Y<B;Y++)q[Y]=z[Y];return q}var A=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];function x(z){return z[0]<=z[1]&&z[2]<=z[3]&&z[4]<=z[5]}function E(z){return[.5*(z[0]+z[1]),.5*(z[2]+z[3]),.5*(z[4]+z[5])]}function M(z,B){return z[2*B+1]-z[2*B]}function S(z){return[M(z,0),M(z,1),M(z,2)]}function D(z){var B=S(z);return B[0]>B[1]?B[0]>B[2]?B[0]:B[2]:B[1]>B[2]?B[1]:B[2]}function V(z){if(x(z)){var B=S(z);return Math.sqrt(B[0]*B[0]+B[1]*B[1]+B[2]*B[2])}return null}function d(z,B){return z<=0&&B>=0||z>=0&&B<=0}function O(z,B){for(var Y=0,q=0;q<2;q++)for(var H=2;H<4;H++)for(var ne=4;ne<6;ne++)B[Y]=[z[q],z[H],z[ne]],Y++}var F={isValid:x,getCenter:E,getLength:M,getLengths:S,getMaxLength:D,getDiagonalLength:V,getXRange:function(z){return z.slice(0,2)},getYRange:function(z){return z.slice(2,4)},getZRange:function(z){return z.slice(4,6)},getCorners:O,computeCornerPoints:function(z,B,Y){z[0]=Y[0],z[1]=Y[2],z[2]=Y[4],B[0]=Y[1],B[1]=Y[3],B[2]=Y[5]},computeLocalBounds:function(z,B,Y,q){for(var H=[].concat(A),ne=z.getData(),Ae=0;Ae<ne.length;Ae+=3){var ce=[ne[Ae],ne[Ae+1],ne[Ae+2]],ye=u.m(ce,B);H[0]=Math.min(ye,H[0]),H[1]=Math.max(ye,H[1]);var K=u.m(ce,Y);H[2]=Math.min(K,H[2]),H[3]=Math.max(K,H[3]);var j=u.m(ce,q);H[4]=Math.min(j,H[4]),H[5]=Math.max(j,H[5])}return H},computeScale3:function(z){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Y=E(z);return B[0]=z[1]-Y[0],B[1]=z[3]-Y[1],B[2]=z[5]-Y[2],B},INIT_BOUNDS:A},I={type:"vtkBoundingBox",bounds:[].concat(A),corners:[]};function L(z,B){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(B,I,Y),f.b.obj(z,B),f.b.setGet(z,B,["bounds"]),function(q,H){H.classHierarchy.push("vtkBoundingBox"),q.clone=function(){var ne=[].concat(H.bounds);return G({bounds:ne})},q.equals=function(ne){var Ae=H.bounds,ce=ne.getBounds();return Ae[0]===ce[0]&&Ae[1]===ce[1]&&Ae[2]===ce[2]&&Ae[3]===ce[3]&&Ae[4]===ce[4]&&Ae[5]===ce[5]},q.setMinPoint=function(ne,Ae,ce){var ye=r(H.bounds,6),K=ye[0],j=ye[1],ve=ye[2],Pe=ye[3],Oe=ye[4],xe=ye[5];return H.bounds=[ne,ne>j?ne:j,Ae,Ae>Pe?Ae:Pe,ce,ce>xe?ce:xe],K!==ne||ve!==Ae||Oe!==ce},q.setMaxPoint=function(ne,Ae,ce){var ye=r(H.bounds,6),K=ye[0],j=ye[1],ve=ye[2],Pe=ye[3],Oe=ye[4],xe=ye[5];return H.bounds=[ne<K?ne:K,ne,Ae<ve?Ae:ve,Ae,ce<Oe?ce:Oe,ce],j!==ne||Pe!==Ae||xe!==ce},q.addPoint=function(){for(var ne=arguments.length,Ae=new Array(ne),ce=0;ce<ne;ce++)Ae[ce]=arguments[ce];H.bounds=H.bounds.map(function(ye,K){if(K%2==0){var j=K/2;return ye<Ae[j]?ye:Ae[j]}var ve=(K-1)/2;return ye>Ae[ve]?ye:Ae[ve]})},q.addBounds=function(ne,Ae,ce,ye,K,j){var ve=r(H.bounds,6),Pe=ve[0],Oe=ve[1],xe=ve[2],Ve=ve[3],me=ve[4],pe=ve[5];H.bounds=j===void 0?[Math.min(ne[0],Pe),Math.max(ne[1],Oe),Math.min(ne[2],xe),Math.max(ne[3],Ve),Math.min(ne[4],me),Math.max(ne[5],pe)]:[Math.min(ne,Pe),Math.max(Ae,Oe),Math.min(ce,xe),Math.max(ye,Ve),Math.min(K,me),Math.max(j,pe)]},q.addBox=function(ne){q.addBounds(ne.getBounds())},q.isValid=function(){return x(H.bounds)},q.intersect=function(ne){if(!q.isValid()||!ne.isValid())return!1;for(var Ae,ce=[0,0,0,0,0,0],ye=ne.getBounds(),K=0;K<3;K++)if(Ae=!1,ye[2*K]>=H.bounds[2*K]&&ye[2*K]<=H.bounds[2*K+1]?(Ae=!0,ce[2*K]=ye[2*K]):H.bounds[2*K]>=ye[2*K]&&H.bounds[2*K]<=ye[2*K+1]&&(Ae=!0,ce[2*K]=H.bounds[2*K]),ye[2*K+1]>=H.bounds[2*K]&&ye[2*K+1]<=H.bounds[2*K+1]?(Ae=!0,ce[2*K+1]=ne.MaxPnt[K]):H.bounds[2*K+1]>=ne.MinPnt[2*K]&&H.bounds[2*K+1]<=ne.MaxPnt[2*K+1]&&(Ae=!0,ce[2*K+1]=H.bounds[2*K+1]),!Ae)return!1;return H.bounds=ce,!0},q.intersects=function(ne){if(!q.isValid()||!ne.isValid())return!1;for(var Ae=ne.getBounds(),ce=0;ce<3;ce++)if(!(Ae[2*ce]>=H.bounds[2*ce]&&Ae[2*ce]<=H.bounds[2*ce+1]||H.bounds[2*ce]>=Ae[2*ce]&&H.bounds[2*ce]<=Ae[2*ce+1]||Ae[2*ce+1]>=H.bounds[2*ce]&&Ae[2*ce+1]<=H.bounds[2*ce+1]||H.bounds[2*ce+1]>=ne.MinPnt[2*ce]&&H.bounds[2*ce+1]<=ne.MaxPnt[2*ce+1]))return!1;return!0},q.intersectPlane=function(ne,Ae){for(var ce=[[0,1,2,3,4,5,6,7],[0,1,4,5,2,3,6,7],[0,2,4,6,1,3,5,7]],ye=[0,0,0,0,0,0,0,0],K=0,j=0;j<2;j++)for(var ve=2;ve<4;ve++)for(var Pe=4;Pe<6;Pe++){var Oe=[H.bounds[j],H.bounds[ve],H.bounds[Pe]];ye[K++]=P.a.evaluate(Ae,ne,Oe)}for(var xe=2;xe--&&!(d(ye[ce[xe][0]],ye[ce[xe][4]])&&d(ye[ce[xe][1]],ye[ce[xe][5]])&&d(ye[ce[xe][2]],ye[ce[xe][6]])&&d(ye[ce[xe][3]],ye[ce[xe][7]])););if(xe<0)return!1;for(var Ve=Math.sign(Ae[xe]),me=Math.abs((H.bounds[2*xe+1]-H.bounds[2*xe])*Ae[xe]),pe=Ve>0?1:0,ke=0;ke<4;ke++)if(me!==0){var X=Math.abs(ye[ce[xe][ke]])/me;Ve>0&&X<pe&&(pe=X),Ve<0&&X>pe&&(pe=X)}var Z=(1-pe)*H.bounds[2*xe]+pe*H.bounds[2*xe+1];return Ve>0?H.bounds[2*xe]=Z:H.bounds[2*xe+1]=Z,!0},q.containsPoint=function(ne,Ae,ce){return!(ne<H.bounds[0]||ne>H.bounds[1]||Ae<H.bounds[2]||Ae>H.bounds[3]||ce<H.bounds[4]||ce>H.bounds[5])},q.getMinPoint=function(){return[H.bounds[0],H.bounds[2],H.bounds[4]]},q.getMaxPoint=function(){return[H.bounds[1],H.bounds[3],H.bounds[5]]},q.getBound=function(ne){return H.bound[ne]},q.contains=function(ne){return!!q.intersects(ne)&&!!q.containsPoint.apply(q,w(ne.getMinPoint()))&&(!!q.containsPoint.apply(q,w(ne.getMaxPoint()))||0)},q.getCenter=function(){return E(H.bounds)},q.getLength=function(ne){return M(H.bounds,ne)},q.getLengths=function(){return S(H.bounds)},q.getMaxLength=function(){return D(H.bounds)},q.getDiagonalLength=function(){return V(H.bounds)},q.reset=function(){return q.setBounds([].concat(A))},q.inflate=function(ne){H.bounds=H.bounds.map(function(Ae,ce){return ce%2==0?Ae-ne:Ae+ne})},q.getCorners=function(){return O(H.bounds,H.corners),H.corners},q.scale=function(ne,Ae,ce){if(q.isValid()){var ye=[].concat(H.bounds);return ne>=0?(ye[0]*=ne,ye[1]*=ne):(ye[0]=ne*H.bounds[1],ye[1]=ne*H.bounds[0]),Ae>=0?(ye[2]*=Ae,ye[3]*=Ae):(ye[2]=Ae*H.bounds[3],ye[3]=Ae*H.bounds[2]),ce>=0?(ye[4]*=ce,ye[5]*=ce):(ye[4]=ce*H.bounds[5],ye[5]=ce*H.bounds[4]),H.bounds=ye,!0}return!1}}(z,B)}var G=f.b.newInstance(L,"vtkBoundingBox");p.a=function(z){for(var B=1;B<arguments.length;B++){var Y=arguments[B]!=null?arguments[B]:{};B%2?U(Object(Y),!0).forEach(function(q){m(z,q,Y[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(Y)):U(Object(Y)).forEach(function(q){Object.defineProperty(z,q,Object.getOwnPropertyDescriptor(Y,q))})}return z}({newInstance:G,extend:L},F)},function(g,p,a){a.d(p,"a",function(){return u}),a.d(p,"b",function(){return f});var u={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},f={VOID:"",CHAR:"Int8Array",SIGNED_CHAR:"Int8Array",UNSIGNED_CHAR:"Uint8Array",SHORT:"Int16Array",UNSIGNED_SHORT:"Uint16Array",INT:"Int32Array",UNSIGNED_INT:"Uint32Array",FLOAT:"Float32Array",DOUBLE:"Float64Array"},P=f.FLOAT;p.c={DefaultDataType:P,DataTypeByteSize:u,VtkDataTypes:f}},function(g,p,a){var u=a(1),f=a(0),P=a(72),U=a(24);function m(E,M){var S=Object.keys(E);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(E);M&&(D=D.filter(function(V){return Object.getOwnPropertyDescriptor(E,V).enumerable})),S.push.apply(S,D)}return S}function w(E,M,S){return M in E?Object.defineProperty(E,M,{value:S,enumerable:!0,configurable:!0,writable:!0}):E[M]=S,E}var r=f.b.vtkDebugMacro;function b(E,M){M.classHierarchy.push("vtkActor");var S=function(D){for(var V=1;V<arguments.length;V++){var d=arguments[V]!=null?arguments[V]:{};V%2?m(Object(d),!0).forEach(function(O){w(D,O,d[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(d)):m(Object(d)).forEach(function(O){Object.defineProperty(D,O,Object.getOwnPropertyDescriptor(d,O))})}return D}({},E);E.getActors=function(){return E},E.getIsOpaque=function(){if(M.forceOpaque)return!0;if(M.forceTranslucent)return!1;M.property||E.getProperty();var D=M.property.getOpacity()>=1;return D=(D=D&&(!M.texture||!M.texture.isTranslucent()))&&(!M.mapper||M.mapper.getIsOpaque())},E.hasTranslucentPolygonalGeometry=function(){return M.mapper!==null&&(M.property===null&&E.setProperty(E.makeProperty()),!E.getIsOpaque())},E.makeProperty=U.a.newInstance,E.getProperty=function(){return M.property===null&&(M.property=E.makeProperty()),M.property},E.getBounds=function(){if(M.mapper===null)return M.bounds;var D=M.mapper.getBounds();if(!D||D.length!==6)return D;if(D[0]>D[1])return M.mapperBounds=D.concat(),M.bounds=[1,-1,1,-1,1,-1],M.boundsMTime.modified(),D;if(!M.mapperBounds||D[0]!==M.mapperBounds[0]||D[1]!==M.mapperBounds[1]||D[2]!==M.mapperBounds[2]||D[3]!==M.mapperBounds[3]||D[4]!==M.mapperBounds[4]||D[5]!==M.mapperBounds[5]||E.getMTime()>M.boundsMTime.getMTime()){r("Recomputing bounds..."),M.mapperBounds=D.concat();var V=[u.e.fromValues(D[1],D[3],D[5]),u.e.fromValues(D[1],D[2],D[5]),u.e.fromValues(D[0],D[2],D[5]),u.e.fromValues(D[0],D[3],D[5]),u.e.fromValues(D[1],D[3],D[4]),u.e.fromValues(D[1],D[2],D[4]),u.e.fromValues(D[0],D[2],D[4]),u.e.fromValues(D[0],D[3],D[4])];E.computeMatrix();var d=u.c.create();u.c.transpose(d,M.matrix),V.forEach(function(O){return u.e.transformMat4(O,O,d)}),M.bounds[0]=M.bounds[2]=M.bounds[4]=Number.MAX_VALUE,M.bounds[1]=M.bounds[3]=M.bounds[5]=-Number.MAX_VALUE,M.bounds=M.bounds.map(function(O,F){return F%2==0?V.reduce(function(I,L){return I>L[F/2]?L[F/2]:I},O):V.reduce(function(I,L){return I<L[(F-1)/2]?L[(F-1)/2]:I},O)}),M.boundsMTime.modified()}return M.bounds},E.getMTime=function(){var D=S.getMTime();if(M.property!==null){var V=M.property.getMTime();D=V>D?V:D}if(M.backfaceProperty!==null){var d=M.backfaceProperty.getMTime();D=d>D?d:D}return D},E.getRedrawMTime=function(){var D=M.mtime;if(M.mapper!==null){var V=M.mapper.getMTime();D=V>D?V:D,M.mapper.getInput()!==null&&(M.mapper.getInputAlgorithm().update(),D=(V=M.mapper.getInput().getMTime())>D?V:D)}return D},E.getSupportsSelection=function(){return!!M.mapper&&M.mapper.getSupportsSelection()}}var C={mapper:null,property:null,backfaceProperty:null,forceOpaque:!1,forceTranslucent:!1,bounds:[1,-1,1,-1,1,-1]};function A(E,M){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(M,C,S),P.a.extend(E,M,S),M.boundsMTime={},f.b.obj(M.boundsMTime),f.b.set(E,M,["property"]),f.b.setGet(E,M,["backfaceProperty","forceOpaque","forceTranslucent","mapper"]),b(E,M)}var x=f.b.newInstance(A,"vtkActor");p.a={newInstance:x,extend:A}},function(g,p,a){var u=a(0),f=a(19),P=a(8);function U(pe,ke){var X=Object.keys(pe);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(pe);ke&&(Z=Z.filter(function(ae){return Object.getOwnPropertyDescriptor(pe,ae).enumerable})),X.push.apply(X,Z)}return X}function m(pe,ke,X){return ke in pe?Object.defineProperty(pe,ke,{value:X,enumerable:!0,configurable:!0,writable:!0}):pe[ke]=X,pe}function w(pe){var ke=0;return pe.filter(function(X,Z){return Z===ke&&(ke+=X+1,!0)})}var r={extractCellSizes:w,getNumberOfCells:function(pe){return w(pe).length}},b={empty:!0,numberOfComponents:1,dataType:a(15).b.UNSIGNED_INT};function C(pe,ke){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(ke,b,X),P.a.extend(pe,ke,X),function(Z,ae){ae.classHierarchy.push("vtkCellArray"),Z.getNumberOfCells=function(Ie){return(ae.numberOfCells===void 0||Ie)&&(ae.cellSizes=w(ae.values),ae.numberOfCells=ae.cellSizes.length),ae.numberOfCells},Z.getCellSizes=function(Ie){return(ae.cellSizes===void 0||Ie)&&(ae.cellSizes=w(ae.values)),ae.cellSizes};var Ue=Z.setData;Z.setData=function(Ie){Ue(Ie,1),ae.numberOfCells=void 0,ae.cellSizes=void 0},Z.getCell=function(Ie){var le=Ie,ge=ae.values[le++];return ae.values.subarray(le,le+ge)}}(pe,ke)}var A=function(pe){for(var ke=1;ke<arguments.length;ke++){var X=arguments[ke]!=null?arguments[ke]:{};ke%2?U(Object(X),!0).forEach(function(Z){m(pe,Z,X[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(X)):U(Object(X)).forEach(function(Z){Object.defineProperty(pe,Z,Object.getOwnPropertyDescriptor(X,Z))})}return pe}({newInstance:u.b.newInstance(C,"vtkCellArray"),extend:C},r),x=a(66);function E(pe){return function(ke){if(Array.isArray(ke))return M(ke)}(pe)||function(ke){if(typeof Symbol!="undefined"&&ke[Symbol.iterator]!=null||ke["@@iterator"]!=null)return Array.from(ke)}(pe)||function(ke,X){if(!!ke){if(typeof ke=="string")return M(ke,X);var Z=Object.prototype.toString.call(ke).slice(8,-1);if(Z==="Object"&&ke.constructor&&(Z=ke.constructor.name),Z==="Map"||Z==="Set")return Array.from(ke);if(Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return M(ke,X)}}(pe)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function M(pe,ke){(ke==null||ke>pe.length)&&(ke=pe.length);for(var X=0,Z=new Array(ke);X<ke;X++)Z[X]=pe[X];return Z}var S={array:null,maxId:0,extend:0};function D(pe,ke){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(ke,S,X),u.b.obj(pe,ke),function(Z,ae){ae.classHierarchy.push("vtkCellLinks"),Z.buildLinks=function(Ue){var Ie=Ue.getPoints().getNumberOfPoints(),le=Ue.getNumberOfCells(),ge=new Uint32Array(Ie);if(Ue.isA("vtkPolyData")){for(var ze=0;ze<le;++ze)Ue.getCellPoints(ze).cellPointIds.forEach(function(de){Z.incrementLinkCount(de)});Z.allocateLinks(Ie),ae.maxId=Ie-1;for(var nt=function(de){Ue.getCellPoints(de).cellPointIds.forEach(function(ie){Z.insertCellReference(ie,ge[ie]++,de)})},st=0;st<le;++st)nt(st)}else{for(var Ge=0;Ge<le;Ge++)x.a.newInstance().getPointsIds().forEach(function(de){Z.incrementLinkCount(de)});Z.allocateLinks(Ie),ae.maxId=Ie-1;for(var N=function(de){x.a.newInstance().getPointsIds().forEach(function(ie){Z.insertCellReference(ie,ge[ie]++,de)})},W=0;W<le;++W)N(W)}},Z.allocate=function(Ue){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;ae.array=Array(Ue).fill().map(function(){return{ncells:0,cells:null}}),ae.extend=Ie,ae.maxId=-1},Z.initialize=function(){ae.array=null},Z.getLink=function(Ue){return ae.array[Ue]},Z.getNcells=function(Ue){return ae.array[Ue].ncells},Z.getCells=function(Ue){return ae.array[Ue].cells},Z.insertNextPoint=function(Ue){ae.array.push({ncells:Ue,cells:Array(Ue)}),++ae.maxId},Z.insertNextCellReference=function(Ue,Ie){ae.array[Ue].cells[ae.array[Ue].ncells++]=Ie},Z.deletePoint=function(Ue){ae.array[Ue].ncells=0,ae.array[Ue].cells=null},Z.removeCellReference=function(Ue,Ie){ae.array[Ie].cells=ae.array[Ie].cells.filter(function(le){return le!==Ue}),ae.array[Ie].ncells=ae.array[Ie].cells.length},Z.addCellReference=function(Ue,Ie){ae.array[Ie].cells[ae.array[Ie].ncells++]=Ue},Z.resizeCellList=function(Ue,Ie){ae.array[Ue].cells.length=Ie},Z.squeeze=function(){(function(Ue,Ie){var le=Ie;for(Ie>=Ue.array.length&&(le+=Ue.array.length);le>Ue.array.length;)Ue.array.push({ncells:0,cells:null});Ue.array.length=le})(ae,ae.maxId+1)},Z.reset=function(){ae.maxId=-1},Z.deepCopy=function(Ue){ae.array=E(Ue.array),ae.extend=Ue.extend,ae.maxId=Ue.maxId},Z.incrementLinkCount=function(Ue){++ae.array[Ue].ncells},Z.allocateLinks=function(Ue){for(var Ie=0;Ie<Ue;++Ie)ae.array[Ie].cells=new Array(ae.array[Ie].ncells)},Z.insertCellReference=function(Ue,Ie,le){ae.array[Ue].cells[Ie]=le}}(pe,ke)}var V={newInstance:u.b.newInstance(D,"vtkCellLinks"),extend:D},d={VTK_EMPTY_CELL:0,VTK_VERTEX:1,VTK_POLY_VERTEX:2,VTK_LINE:3,VTK_POLY_LINE:4,VTK_TRIANGLE:5,VTK_TRIANGLE_STRIP:6,VTK_POLYGON:7,VTK_PIXEL:8,VTK_QUAD:9,VTK_TETRA:10,VTK_VOXEL:11,VTK_HEXAHEDRON:12,VTK_WEDGE:13,VTK_PYRAMID:14,VTK_PENTAGONAL_PRISM:15,VTK_HEXAGONAL_PRISM:16,VTK_QUADRATIC_EDGE:21,VTK_QUADRATIC_TRIANGLE:22,VTK_QUADRATIC_QUAD:23,VTK_QUADRATIC_POLYGON:36,VTK_QUADRATIC_TETRA:24,VTK_QUADRATIC_HEXAHEDRON:25,VTK_QUADRATIC_WEDGE:26,VTK_QUADRATIC_PYRAMID:27,VTK_BIQUADRATIC_QUAD:28,VTK_TRIQUADRATIC_HEXAHEDRON:29,VTK_QUADRATIC_LINEAR_QUAD:30,VTK_QUADRATIC_LINEAR_WEDGE:31,VTK_BIQUADRATIC_QUADRATIC_WEDGE:32,VTK_BIQUADRATIC_QUADRATIC_HEXAHEDRON:33,VTK_BIQUADRATIC_TRIANGLE:34,VTK_CUBIC_LINE:35,VTK_CONVEX_POINT_SET:41,VTK_POLYHEDRON:42,VTK_PARAMETRIC_CURVE:51,VTK_PARAMETRIC_SURFACE:52,VTK_PARAMETRIC_TRI_SURFACE:53,VTK_PARAMETRIC_QUAD_SURFACE:54,VTK_PARAMETRIC_TETRA_REGION:55,VTK_PARAMETRIC_HEX_REGION:56,VTK_HIGHER_ORDER_EDGE:60,VTK_HIGHER_ORDER_TRIANGLE:61,VTK_HIGHER_ORDER_QUAD:62,VTK_HIGHER_ORDER_POLYGON:63,VTK_HIGHER_ORDER_TETRAHEDRON:64,VTK_HIGHER_ORDER_WEDGE:65,VTK_HIGHER_ORDER_PYRAMID:66,VTK_HIGHER_ORDER_HEXAHEDRON:67,VTK_LAGRANGE_CURVE:68,VTK_LAGRANGE_TRIANGLE:69,VTK_LAGRANGE_QUADRILATERAL:70,VTK_LAGRANGE_TETRAHEDRON:71,VTK_LAGRANGE_HEXAHEDRON:72,VTK_LAGRANGE_WEDGE:73,VTK_LAGRANGE_PYRAMID:74,VTK_NUMBER_OF_CELL_TYPES:75},O=["vtkEmptyCell","vtkVertex","vtkPolyVertex","vtkLine","vtkPolyLine","vtkTriangle","vtkTriangleStrip","vtkPolygon","vtkPixel","vtkQuad","vtkTetra","vtkVoxel","vtkHexahedron","vtkWedge","vtkPyramid","vtkPentagonalPrism","vtkHexagonalPrism","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkQuadraticEdge","vtkQuadraticTriangle","vtkQuadraticQuad","vtkQuadraticTetra","vtkQuadraticHexahedron","vtkQuadraticWedge","vtkQuadraticPyramid","vtkBiQuadraticQuad","vtkTriQuadraticHexahedron","vtkQuadraticLinearQuad","vtkQuadraticLinearWedge","vtkBiQuadraticQuadraticWedge","vtkBiQuadraticQuadraticHexahedron","vtkBiQuadraticTriangle","vtkCubicLine","vtkQuadraticPolygon","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkConvexPointSet","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkParametricCurve","vtkParametricSurface","vtkParametricTriSurface","vtkParametricQuadSurface","vtkParametricTetraRegion","vtkParametricHexRegion","UnknownClass","UnknownClass","UnknownClass","vtkHigherOrderEdge","vtkHigherOrderTriangle","vtkHigherOrderQuad","vtkHigherOrderPolygon","vtkHigherOrderTetrahedron","vtkHigherOrderWedge","vtkHigherOrderPyramid","vtkHigherOrderHexahedron"];function F(pe,ke){var X=Object.keys(pe);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(pe);ke&&(Z=Z.filter(function(ae){return Object.getOwnPropertyDescriptor(pe,ae).enumerable})),X.push.apply(X,Z)}return X}function I(pe,ke,X){return ke in pe?Object.defineProperty(pe,ke,{value:X,enumerable:!0,configurable:!0,writable:!0}):pe[ke]=X,pe}var L={getClassNameFromTypeId:function(pe){return pe<O.length?O[pe]:"UnknownClass"},getTypeIdFromClassName:function(pe){return O.findIndex(pe)},isLinear:function(pe){return pe<d.VTK_QUADRATIC_EDGE||pe===d.VTK_CONVEX_POINT_SET||pe===d.VTK_POLYHEDRON}},G={size:0,maxId:-1,extend:1e3};function z(pe,ke){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(ke,G,X),u.b.obj(pe,ke),u.b.get(pe,ke,["size","maxId","extend"]),u.b.getArray(pe,ke,["typeArray","locationArray"]),function(Z,ae){ae.classHierarchy.push("vtkCellTypes"),Z.allocate=function(){var Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:512,Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;ae.size=Ue>0?Ue:1,ae.extend=Ie>0?Ie:1,ae.maxId=-1,ae.typeArray=new Uint8Array(Ue),ae.locationArray=new Uint32Array(Ue)},Z.insertCell=function(Ue,Ie,le){ae.typeArray[Ue]=Ie,ae.locationArray[Ue]=le,Ue>ae.maxId&&(ae.maxId=Ue)},Z.insertNextCell=function(Ue,Ie){return Z.insertCell(++ae.maxId,Ue,Ie),ae.maxId},Z.setCellTypes=function(Ue,Ie,le){ae.size=Ue,ae.typeArray=Ie,ae.locationArray=le,ae.maxId=Ue-1},Z.getCellLocation=function(Ue){return ae.locationArray[Ue]},Z.deleteCell=function(Ue){ae.typeArray[Ue]=d.VTK_EMPTY_CELL},Z.getNumberOfTypes=function(){return ae.maxId+1},Z.isType=function(Ue){for(var Ie=Z.getNumberOfTypes(),le=0;le<Ie;++le)if(Ue===Z.getCellType(le))return!0;return!1},Z.insertNextType=function(Ue){return Z.insertNextCell(Ue,-1)},Z.getCellType=function(Ue){return ae.typeArray[Ue]},Z.reset=function(){ae.maxId=-1},Z.deepCopy=function(Ue){Z.allocate(Ue.getSize(),Ue.getExtend()),ae.typeArray.set(Ue.getTypeArray()),ae.locationArray.set(Ue.getLocationArray()),ae.maxId=Ue.getMaxId()}}(pe,ke)}var B=function(pe){for(var ke=1;ke<arguments.length;ke++){var X=arguments[ke]!=null?arguments[ke]:{};ke%2?F(Object(X),!0).forEach(function(Z){I(pe,Z,X[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(X)):F(Object(X)).forEach(function(Z){Object.defineProperty(pe,Z,Object.getOwnPropertyDescriptor(X,Z))})}return pe}({newInstance:u.b.newInstance(z,"vtkCellTypes"),extend:z},L),Y=a(26),q=a(78),H=a(53),ne={};function Ae(pe,ke){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(ke,ne,X),q.a.extend(pe,ke,X),u.b.setGet(pe,ke,["points"]),function(Z,ae){ae.classHierarchy.push("vtkPointSet"),ae.points?ae.points=Object(f.a)(ae.points):ae.points=H.a.newInstance(),Z.getNumberOfPoints=function(){return ae.points.getNumberOfPoints()},Z.getBounds=function(){return ae.points.getBounds()},Z.computeBounds=function(){Z.getBounds()};var Ue=Z.shallowCopy;Z.shallowCopy=function(Ie){var le=arguments.length>1&&arguments[1]!==void 0&&arguments[1];Ue(Ie,le),ae.points=H.a.newInstance(),ae.points.shallowCopy(Ie.getPoints())}}(pe,ke)}var ce,ye={newInstance:u.b.newInstance(Ae,"vtkPointSet"),extend:Ae},K=a(83),j=["verts","lines","polys","strips"];function ve(pe,ke,X){return ke in pe?Object.defineProperty(pe,ke,{value:X,enumerable:!0,configurable:!0,writable:!0}):pe[ke]=X,pe}var Pe=u.b.vtkWarningMacro,Oe=(ve(ce={},d.VTK_LINE,Y.a),ve(ce,d.VTK_POLY_LINE,Y.a),ve(ce,d.VTK_TRIANGLE,K.a),ce),xe={};function Ve(pe,ke){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(ke,xe,X),ye.extend(pe,ke,X),u.b.get(pe,ke,["cells","links"]),u.b.setGet(pe,ke,["verts","lines","polys","strips"]),function(Z,ae){ae.classHierarchy.push("vtkPolyData"),j.forEach(function(Ie){Z["getNumberOf".concat(function(le){return le.replace(/(?:^\w|[A-Z]|\b\w)/g,function(ge){return ge.toUpperCase()}).replace(/\s+/g,"")}(Ie))]=function(){return ae[Ie].getNumberOfCells()},ae[Ie]?ae[Ie]=Object(f.a)(ae[Ie]):ae[Ie]=A.newInstance()}),Z.getNumberOfCells=function(){return j.reduce(function(Ie,le){return Ie+ae[le].getNumberOfCells()},0)};var Ue=Z.shallowCopy;Z.shallowCopy=function(Ie){var le=arguments.length>1&&arguments[1]!==void 0&&arguments[1];Ue(Ie,le),j.forEach(function(ge){ae[ge]=A.newInstance(),ae[ge].shallowCopy(Ie.getReferenceByName(ge))})},Z.buildCells=function(){var Ie=Z.getNumberOfVerts(),le=Z.getNumberOfLines(),ge=Z.getNumberOfPolys(),ze=Z.getNumberOfStrips(),nt=Ie+le+ge+ze,st=new Uint8Array(nt),Ge=st,N=new Uint32Array(nt),W=N;if(Ie){var de=0;ae.verts.getCellSizes().forEach(function(ft,at){W[at]=de,Ge[at]=ft>1?d.VTK_POLY_VERTEX:d.VTK_VERTEX,de+=ft+1}),W=W.subarray(Ie),Ge=Ge.subarray(Ie)}if(le){var ie=0;ae.lines.getCellSizes().forEach(function(ft,at){W[at]=ie,Ge[at]=ft>2?d.VTK_POLY_LINE:d.VTK_LINE,ft===1&&Pe("Building VTK_LINE ",at," with only one point, but VTK_LINE needs at least two points. Check the input."),ie+=ft+1}),W=W.subarray(le),Ge=Ge.subarray(le)}if(ge){var _e=0;ae.polys.getCellSizes().forEach(function(ft,at){switch(W[at]=_e,ft){case 3:Ge[at]=d.VTK_TRIANGLE;break;case 4:Ge[at]=d.VTK_QUAD;break;default:Ge[at]=d.VTK_POLYGON}ft<3&&Pe("Building VTK_TRIANGLE ",at," with less than three points, but VTK_TRIANGLE needs at least three points. Check the input."),_e+=ft+1}),W+=W.subarray(ge),Ge+=Ge.subarray(ge)}if(ze){var Ze=0;Ge.fill(d.VTK_TRIANGLE_STRIP,0,ze),ae.strips.getCellSizes().forEach(function(ft,at){W[at]=Ze,Ze+=ft+1})}ae.cells=B.newInstance(),ae.cells.setCellTypes(nt,st,N)},Z.buildLinks=function(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;ae.cells===void 0&&Z.buildCells(),ae.links=V.newInstance(),Ie>0?ae.links.allocate(Ie):ae.links.allocate(Z.getPoints().getNumberOfPoints()),ae.links.buildLinks(Z)},Z.getCellPoints=function(Ie){var le=ae.cells.getCellType(Ie),ge=null;switch(le){case d.VTK_VERTEX:case d.VTK_POLY_VERTEX:ge=ae.verts;break;case d.VTK_LINE:case d.VTK_POLY_LINE:ge=ae.lines;break;case d.VTK_TRIANGLE:case d.VTK_QUAD:case d.VTK_POLYGON:ge=ae.polys;break;case d.VTK_TRIANGLE_STRIP:ge=ae.strips;break;default:return ge=null,{type:0,cellPointIds:null}}var ze=ae.cells.getCellLocation(Ie);return{cellType:le,cellPointIds:ge.getCell(ze)}},Z.getPointCells=function(Ie){return ae.links.getCells(Ie)},Z.getCellEdgeNeighbors=function(Ie,le,ge){var ze=ae.links.getLink(le),nt=ae.links.getLink(ge);return ze.cells.filter(function(st){return st!==Ie&&nt.cells.indexOf(st)!==-1})},Z.getCell=function(Ie){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ge=Z.getCellPoints(Ie),ze=le||Oe[ge.cellType].newInstance();return ze.initialize(Z.getPoints(),ge.cellPointIds),ze}}(pe,ke)}var me=u.b.newInstance(Ve,"vtkPolyData");p.a={newInstance:me,extend:Ve}},function(g,p,a){var u=a(198),f=a(199),P=a(116),U=a(200);g.exports=function(m,w){return u(m)||f(m,w)||P(m,w)||U()},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p,a){(function(u){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(r)}function P(r,b){var C=Object.keys(r);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(r);b&&(A=A.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),C.push.apply(C,A)}return C}function U(r,b,C){return b in r?Object.defineProperty(r,b,{value:C,enumerable:!0,configurable:!0,writable:!0}):r[b]=C,r}a.d(p,"a",function(){return w});var m={vtkObject:function(){return null}};function w(r){if(r==null||r.isA)return r;if(!r.vtkClass)return u.console&&u.console.error&&u.console.error("Invalid VTK object"),null;var b=m[r.vtkClass];if(!b)return u.console&&u.console.error&&u.console.error("No vtk class found for Object of type ".concat(r.vtkClass)),null;var C=function(x){for(var E=1;E<arguments.length;E++){var M=arguments[E]!=null?arguments[E]:{};E%2?P(Object(M),!0).forEach(function(S){U(x,S,M[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(M)):P(Object(M)).forEach(function(S){Object.defineProperty(x,S,Object.getOwnPropertyDescriptor(M,S))})}return x}({},r);Object.keys(C).forEach(function(x){C[x]&&f(C[x])==="object"&&C[x].vtkClass&&(C[x]=w(C[x]))});var A=b(C);return A&&A.modified&&A.modified(),A}w.register=function(r,b){m[r]=b}}).call(this,a(40))},function(g,p,a){var u=a(0),f=a(74),P=a(107);function U(x){return function(E){if(Array.isArray(E))return m(E)}(x)||function(E){if(typeof Symbol!="undefined"&&E[Symbol.iterator]!=null||E["@@iterator"]!=null)return Array.from(E)}(x)||function(E,M){if(!!E){if(typeof E=="string")return m(E,M);var S=Object.prototype.toString.call(E).slice(8,-1);if(S==="Object"&&E.constructor&&(S=E.constructor.name),S==="Map"||S==="Set")return Array.from(E);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return m(E,M)}}(x)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function m(x,E){(E==null||E>x.length)&&(E=x.length);for(var M=0,S=new Array(E);M<E;M++)S[M]=x[M];return S}var w={Preset:0,RGBPoints:1,HSVPoints:2,Nodes:3},r={Preset:"Cool to Warm",RGBPoints:[[0,0,0,0],[1,1,1,1]],HSVPoints:[[0,0,0,0],[1,0,0,1]],Nodes:[{x:0,r:0,g:0,b:0,midpoint:.5,sharpness:0},{x:1,r:1,g:1,b:1,midpoint:.5,sharpness:0}]},b={mode:w.Preset,presetName:r.Preset,rgbPoints:r.RGBPoints,hsvPoints:r.HSVPoints,nodes:r.Nodes,arrayName:"No array associated",arrayLocation:"pointData",dataRange:[0,1]};function C(x,E){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(E,b,M),u.b.obj(x,E),u.b.setGet(x,E,["arrayName"]),u.b.get(x,E,["mode","lookupTable","presetName","rgbPoints","hsvPoints","nodes","dataRange"]),function(S,D){D.classHierarchy.push("vtkLookupTableProxy"),D.lookupTable=D.lookupTable||P.a.newInstance(),D.lookupTable.setVectorModeToMagnitude(),S.setPresetName=function(V){D.presetName!==V&&(D.presetName=V,D.mode=w.Preset,S.applyMode())},S.setRGBPoints=function(V){D.rgbPoints!==V&&(D.rgbPoints=(V||r.RGBPoints).slice(),S.applyMode())},S.setHSVPoints=function(V){D.hsvPoints!==V&&(D.hsvPoints=(V||r.HSVPoints).slice(),S.applyMode())},S.setNodes=function(V){D.nodes!==V&&(D.nodes=(V||r.Nodes).slice(),S.applyMode())},S.setMode=function(V){D.mode!==V&&(D.mode=V,S.applyMode())},S.applyMode=function(){switch(D.mode){case w.Preset:var V=f.a.getPresetByName(D.presetName);V&&D.lookupTable.applyColorMap(V);break;case w.RGBPoints:D.lookupTable.removeAllPoints(),D.rgbPoints.forEach(function(d){var O;return(O=D.lookupTable).addRGBPointLong.apply(O,U(d))});break;case w.HSVPoints:D.lookupTable.removeAllPoints(),D.hsvPoints.forEach(function(d){var O;return(O=D.lookupTable).addHSVPointLong.apply(O,U(d))});break;case w.Nodes:D.lookupTable.setNodes(D.nodes)}D.lookupTable.setMappingRange(D.dataRange[0],D.dataRange[1]),D.lookupTable.updateRange(),S.modified()},S.setDataRange=function(V,d){D.dataRange[0]===V&&D.dataRange[1]===d||(D.dataRange[0]=V,D.dataRange[1]=d,D.lookupTable.setMappingRange(D.dataRange[0],D.dataRange[1]),D.lookupTable.updateRange(),S.applyMode())},S.applyMode()}(x,E),u.b.proxy(x,E)}var A=u.b.newInstance(C,"vtkLookupTableProxy");p.a={newInstance:A,extend:C,Mode:w,Defaults:r}},function(g,p,a){var u=a(0),f={button:1,shift:!1,control:!1,alt:!1,dragEnabled:!0,scrollEnabled:!1};p.a={extend:function(P,U){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(U,f,m),u.b.setGet(P,U,["button","shift","control","alt"]),u.b.set(P,U,["dragEnabled","scrollEnabled"]),function(w,r){r.classHierarchy.push("vtkCompositeMouseManipulator"),w.startInteraction=function(){},w.endInteraction=function(){},w.onButtonDown=function(b,C,A){},w.onButtonUp=function(b){},w.onMouseMove=function(b,C,A){},w.onStartScroll=function(b,C,A){},w.onScroll=function(b,C,A){},w.onEndScroll=function(b){},w.isDragEnabled=function(){return r.dragEnabled},w.isScrollEnabled=function(){return r.scrollEnabled}}(P,U)}}},function(g,p,a){var u=a(0),f=a(96);function P(E,M){var S=Object.keys(E);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(E);M&&(D=D.filter(function(V){return Object.getOwnPropertyDescriptor(E,V).enumerable})),S.push.apply(S,D)}return S}function U(E){for(var M=1;M<arguments.length;M++){var S=arguments[M]!=null?arguments[M]:{};M%2?P(Object(S),!0).forEach(function(D){m(E,D,S[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(S)):P(Object(S)).forEach(function(D){Object.defineProperty(E,D,Object.getOwnPropertyDescriptor(S,D))})}return E}function m(E,M,S){return M in E?Object.defineProperty(E,M,{value:S,enumerable:!0,configurable:!0,writable:!0}):E[M]=S,E}var w=u.b.vtkErrorMacro,r=u.b.VOID,b={computeWorldToDisplay:function(E,M,S,D){return E.getRenderWindow().getViews()[0].worldToDisplay(M,S,D,E)},computeDisplayToWorld:function(E,M,S,D){return E.getRenderWindow().getViews()[0].displayToWorld(M,S,D,E)}},C={enabled:!0,interactor:null,priority:0,processEvents:!0,subscribedEvents:[]};function A(E,M){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(M,C,S),u.b.obj(E,M),u.b.event(E,M,"InteractionEvent"),u.b.event(E,M,"StartInteractionEvent"),u.b.event(E,M,"EndInteractionEvent"),u.b.get(E,M,["interactor","enabled"]),u.b.setGet(E,M,["priority","processEvents"]),function(D,V){V.classHierarchy.push("vtkInteractorObserver");var d=U({},D);function O(){for(;V.subscribedEvents.length;)V.subscribedEvents.pop().unsubscribe()}function F(){f.a.handledEvents.forEach(function(I){D["handle".concat(I)]&&V.subscribedEvents.push(V.interactor["on".concat(I)](function(L){return V.processEvents?D["handle".concat(I)](L):r},V.priority))})}D.setInteractor=function(I){I!==V.interactor&&(O(),V.interactor=I,I&&V.enabled&&F(),D.modified())},D.setEnabled=function(I){I!==V.enabled&&(O(),I&&(V.interactor?F():w(`
          The interactor must be set before subscribing to events
        `)),V.enabled=I,D.modified())},D.computeDisplayToWorld=function(I,L,G,z){return I?V.interactor.getView().displayToWorld(L,G,z,I):null},D.computeWorldToDisplay=function(I,L,G,z){return I?V.interactor.getView().worldToDisplay(L,G,z,I):null},D.setPriority=function(I){d.setPriority(I)&&V.interactor&&(O(),F())}}(E,M)}var x=u.b.newInstance(A,"vtkInteractorObserver");p.a=U({newInstance:x,extend:A},b)},function(g,p,a){var u={};(0,a(55).assign)(u,a(201),a(204),a(123)),g.exports=u},function(g,p,a){var u=a(0),f=a(36);function P(x,E){var M=Object.keys(x);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(x);E&&(S=S.filter(function(D){return Object.getOwnPropertyDescriptor(x,D).enumerable})),M.push.apply(M,S)}return M}function U(x,E,M){return E in x?Object.defineProperty(x,E,{value:M,enumerable:!0,configurable:!0,writable:!0}):x[E]=M,x}var m=f.b.Representation,w=f.b.Interpolation;function r(x){return function(){return u.b.vtkErrorMacro("vtkProperty::".concat(x," - NOT IMPLEMENTED"))}}var b={color:[1,1,1],ambientColor:[1,1,1],diffuseColor:[1,1,1],specularColor:[1,1,1],edgeColor:[0,0,0],ambient:0,diffuse:1,specular:0,specularPower:1,opacity:1,interpolation:w.GOURAUD,representation:m.SURFACE,edgeVisibility:!1,backfaceCulling:!1,frontfaceCulling:!1,pointSize:1,lineWidth:1,lighting:!0,shading:!1,materialName:null};function C(x,E){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(E,b,M),u.b.obj(x,E),u.b.setGet(x,E,["lighting","interpolation","ambient","diffuse","specular","specularPower","opacity","edgeVisibility","lineWidth","pointSize","backfaceCulling","frontfaceCulling","representation"]),u.b.setGetArray(x,E,["ambientColor","specularColor","diffuseColor","edgeColor"],3),function(S,D){D.classHierarchy.push("vtkProperty"),S.setColor=function(V,d,O){Array.isArray(V)?D.color[0]===V[0]&&D.color[1]===V[1]&&D.color[2]===V[2]||(D.color[0]=V[0],D.color[1]=V[1],D.color[2]=V[2],S.modified()):D.color[0]===V&&D.color[1]===d&&D.color[2]===O||(D.color[0]=V,D.color[1]=d,D.color[2]=O,S.modified()),S.setDiffuseColor(D.color),S.setAmbientColor(D.color),S.setSpecularColor(D.color)},S.computeCompositeColor=r("ComputeCompositeColor"),S.getColor=function(){var V=0;D.ambient+D.diffuse+D.specular>0&&(V=1/(D.ambient+D.diffuse+D.specular));for(var d=0;d<3;d++)D.color[d]=V*(D.ambient*D.ambientColor[d]+D.diffuse*D.diffuseColor[d]+D.specular*D.specularColor[d]);return[].concat(D.color)},S.addShaderVariable=r("AddShaderVariable"),S.setInterpolationToFlat=function(){return S.setInterpolation(w.FLAT)},S.setInterpolationToGouraud=function(){return S.setInterpolation(w.GOURAUD)},S.setInterpolationToPhong=function(){return S.setInterpolation(w.PHONG)},S.getInterpolationAsString=function(){return u.b.enumToString(w,D.interpolation)},S.setRepresentationToWireframe=function(){return S.setRepresentation(m.WIREFRAME)},S.setRepresentationToSurface=function(){return S.setRepresentation(m.SURFACE)},S.setRepresentationToPoints=function(){return S.setRepresentation(m.POINTS)},S.getRepresentationAsString=function(){return u.b.enumToString(m,D.representation)}}(x,E)}var A=u.b.newInstance(C,"vtkProperty");p.a=function(x){for(var E=1;E<arguments.length;E++){var M=arguments[E]!=null?arguments[E]:{};E%2?P(Object(M),!0).forEach(function(S){U(x,S,M[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(M)):P(Object(M)).forEach(function(S){Object.defineProperty(x,S,Object.getOwnPropertyDescriptor(M,S))})}return x}({newInstance:A,extend:C},f.b)},function(g,p,a){var u=a(4),f=a.n(u),P=a(150),U=a.n(P),m=a(0),w=a(44),r=a.n(w);function b(h,T){var be=Object.keys(h);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(h);T&&(Q=Q.filter(function(te){return Object.getOwnPropertyDescriptor(h,te).enumerable})),be.push.apply(be,Q)}return be}function C(h){for(var T=1;T<arguments.length;T++){var be=arguments[T]!=null?arguments[T]:{};T%2?b(Object(be),!0).forEach(function(Q){A(h,Q,be[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(be)):b(Object(be)).forEach(function(Q){Object.defineProperty(h,Q,Object.getOwnPropertyDescriptor(be,Q))})}return h}function A(h,T,be){return T in h?Object.defineProperty(h,T,{value:be,enumerable:!0,configurable:!0,writable:!0}):h[T]=be,h}var x=Function.prototype;function E(h){for(var T=[],be=h;be>1e3;)T.push("000".concat(be%1e3).slice(-3)),be=Math.floor(be/1e3);return be>0&&T.push(be),T.reverse(),T.join("'")}var M={bufferSize:200,graphHeight:120,buffer:[60],subscriptions:[],fpsSum:0,orientationClass:r.a.horizontalContainer,canvasVisibility:!0,titleVisibility:!0,infoVisibility:!0};function S(h,T){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(T,M,be),m.b.obj(h,T),m.b.get(h,T,["fpsMonitorContainer","renderWindow","addOnStats"]),m.b.setGet(h,T,["bufferSize","canvasVisibility","infoVisibility","titleVisibility"]),function(Q,te){function je(){if(te.title.style.display=te.titleVisibility?"block":"none",te.titleVisibility){var pt=te.buffer[te.buffer.length-1],Ut="Mean: ".concat(Math.round(te.fpsSum/te.buffer.length)," - Current: ").concat(Math.round(pt));Ut!==te.lastText&&(te.lastText=Ut,te.title.innerHTML=Ut)}}function Le(){if(te.info.style.display=te.infoVisibility?"grid":"none",te.infoVisibility){var pt=[];if(te.renderWindow){var Ut=te.renderWindow.getViews()[0];Ut&&Ut.getSize&&pt.push('<label class="'.concat(r.a.label,'">Resolution</label><span class="').concat(r.a.value,'">').concat(Ut.getSize().join("x"),"</span>"));var Rt=C(C({},te.renderWindow.getStatistics()),te.addOnStats),Wt=Object.keys(Rt);Wt.sort();for(var kt=0;kt<Wt.length;kt++)Wt[kt]!=="str"&&Rt[Wt[kt]]&&pt.push('<label class="'.concat(r.a.label,'">').concat(Wt[kt],'</label><span class="').concat(r.a.value,'">').concat(E(Rt[Wt[kt]]),"</span>"))}te.info.innerHTML=pt.join("")}}function We(){if(te.canvas.style.display=te.canvasVisibility?"block":"none",te.canvasVisibility){te.canvas.setAttribute("width",te.bufferSize),te.canvas.setAttribute("height",te.graphHeight);var pt=te.canvas.getContext("2d"),Ut=te.canvas,Rt=Ut.width,Wt=Ut.height;pt.clearRect(0,0,Rt,Wt),pt.strokeStyle="green",pt.beginPath(),pt.moveTo(0,Wt-te.buffer[0]);for(var kt=1;kt<te.buffer.length;kt++)pt.lineTo(kt,Wt-te.buffer[kt]);pt.stroke(),pt.strokeStyle="black",pt.beginPath(),pt.moveTo(0,Wt-60),pt.lineTo(Rt,Wt-60),pt.stroke()}}function vt(){if(te.interactor){var pt=1/te.interactor.getLastFrameTime();for(te.buffer.push(pt),te.fpsSum+=pt;te.buffer.length>te.bufferSize;)te.fpsSum-=te.buffer.shift();je(),We()}}te.classHierarchy.push("vtkFPSMonitor"),te.fpsMonitorContainer=document.createElement("div"),te.fpsMonitorContainer.setAttribute("class",te.orientationClass),te.fpsMonitorContainer.innerHTML=`
    <div class="`.concat(r.a.leftPane,`">
      <div class="js-title `).concat(r.a.title,`">Mean N/A - Current N/A</div>
      <canvas class="js-graph `).concat(r.a.graph,`"></canvas>
    </div>
    <div class="js-info `).concat(r.a.rightPane,`">
    </div>`),te.canvas=te.fpsMonitorContainer.querySelector(".js-graph"),te.title=te.fpsMonitorContainer.querySelector(".js-title"),te.info=te.fpsMonitorContainer.querySelector(".js-info"),Q.update=function(){Q.render()},Q.setRenderWindow=function(pt){for(;te.subscriptions.length;)te.subscriptions.pop().unsubscribe();te.renderWindow=pt,te.interactor=pt?pt.getInteractor():null,te.interactor&&te.subscriptions.push(te.interactor.onAnimation(vt))},Q.setContainer=function(pt){te.container&&te.container!==pt&&te.container.removeChild(te.fpsMonitorContainer),te.container!==pt&&(te.container=pt,te.container&&(te.container.appendChild(te.fpsMonitorContainer),Q.resize()),Q.modified())},Q.render=function(){je(),Le(),We()},Q.resize=x,Q.setOrientationToHorizontal=function(){te.fpsMonitorContainer.classList.remove(te.orientationClass),te.orientationClass=r.a.horizontalContainer,te.fpsMonitorContainer.classList.add(te.orientationClass)},Q.setOrientationToVertical=function(){te.fpsMonitorContainer.classList.remove(te.orientationClass),te.orientationClass=r.a.verticalContainer,te.fpsMonitorContainer.classList.add(te.orientationClass)},Q.setOrientation=function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"horizontal")==="horizontal"?Q.setOrientationToHorizontal():Q.setOrientationToVertical()},Q.setAddOnStats=function(pt){te.addOnStats||(te.addOnStats={}),Object.assign(te.addOnStats,pt),Le()},Q.setMonitorVisibility=function(){var pt=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],Ut=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],Rt=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];Q.setCanvasVisibility(Ut),Q.setInfoVisibility(Rt),Q.setTitleVisibility(pt)};var ct=Q.delete;Q.delete=function(){Q.setRenderWindow(null),Q.setContainer(null),ct()},te.subscriptions.push(Q.onModified(Q.update))}(h,T)}var D={newInstance:m.b.newInstance(S,"vtkFPSMonitor"),extend:S},V=function(h){var T=new Image;T.src=U.a,T.setAttribute("class",f.a.logo),h.container.appendChild(T),T.addEventListener("contextmenu",function(){if(T.style.display="none",!h.fpsMonitor){var be=D.newInstance();be.getFpsMonitorContainer().setAttribute("class",f.a.fpsMonitor),be.setContainer(h.container),be.setBufferSize(100),be.setRenderWindow(h.renderWindow),be.update(),h.fpsMonitor=be}}),T.addEventListener("click",function(){if(T.style.display="none",!h.appAttribution){var be=document.createElement("div");be.setAttribute("class",f.a.fpsMonitor),be.innerHTML=`
      <p style="border:2px; border-radius: 3px; border-style:solid; border-color:#4488BB; padding: 1em;"><a href="https://kitware.github.io/itk-vtk-viewer/index.html">itk-vtk-viewer</a> development is <br>lead by the hearts and minds at <br> <a href="https://www.kitware.com">Kitware</a>.</p>`,h.container.appendChild(be),h.appAttribution=be}})},d=a(2);function O(h,T){Object.keys(T).forEach(function(be){h.style[be]=T[be]})}var F=function(h,T,be){O(T.container,T.style.containerStyle),h.appendChild(T.container),Object(d.b)(function(){O(T.container,T.style.containerStyle)}),Object(d.b)(function(){T.itkVtkView.setBackground(T.style.backgroundColor)}),be&&(T.style=be)},I=a(71),L=function(h){var T=Object(I.a)(h),be=document.createElement("div");be.setAttribute("class",f.a.loading),T.appendChild(be);var Q=document.createElement("div");return Q.setAttribute("class",f.a.progress),T.appendChild(Q),function(te){var je=Math.floor(100*te.loaded/te.total);Q.innerHTML="".concat(je,"%")}},G=a(151),z=a.n(G),B=a(7),Y=function(h){var T=document.createElement("div");T.className="".concat(f.a.toggleUserInterfaceButton),Object(B.a)(h,"invertibleButton",T),T.id="".concat(h.id,"-toggleUserInterfaceButton"),T.innerHTML="".concat(z.a),T.addEventListener("click",Object(d.a)(function(be){be.preventDefault(),be.stopPropagation(),h.mainUI.collapsed=!h.mainUI.collapsed})),Object(d.e)(function(){return h.mainUI.collapsed},function(be){(function(Q){var te=h.mainUI.uiContainer,je=h.id,Le=te.querySelectorAll(".".concat(je,"-toggle")),We=Le.length;if(Q){for(;We--;)Le[We].style.display="none";for(We=(Le=te.querySelectorAll(".".concat(je,"-toggleCollapse"))).length;We--;)Le[We].style.display="none"}else{for(;We--;)Le[We].style.display="flex";var vt=h.mainUI.viewMode,ct=te.querySelector(".".concat(je,"-x-plane-row")),pt=te.querySelector(".".concat(je,"-y-plane-row")),Ut=te.querySelector(".".concat(je,"-z-plane-row"));switch(vt){case"XPlane":ct.style.display="flex";break;case"YPlane":pt.style.display="flex";break;case"ZPlane":Ut.style.display="flex";break;case"VolumeRendering":h.imageUI.slicingPlanesEnabled&&(ct.style.display="flex",pt.style.display="flex",Ut.style.display="flex");break;default:console.error("Invalid view mode: "+vt)}}})(be)}),h.mainUI.uiContainer.appendChild(T)},q=a(11),H=a.n(q),ne=a(6),Ae=a.n(ne),ce=a(152),ye=a.n(ce),K=function(h,T){var be=document.createElement("div");be.innerHTML='<input id="'.concat(h.d,'-screenshotButton" type="checkbox" checked class="').concat(f.a.toggleInput,'"><label itk-vtk-tooltip itk-vtk-tooltip-top-annotation itk-vtk-tooltip-content="Screenshot" class="').concat(f.a.screenshotButton," ").concat(f.a.toggleButton,'" for="').concat(h.id,'-screenshotButton">').concat(ye.a,"</label>"),be.children[0];var Q=be.children[1];function te(){return(te=H()(Ae.a.mark(function je(){var Le,We;return Ae.a.wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:return Le=h.imageUI.representationProxy,We=null,Le&&((We=Le.getMapper()).setAutoAdjustSampleDistances(!1),We.setImageSampleDistance(.1)),vt.next=5,h.itkVtkView.openCaptureImage();case 5:Le&&We.setAutoAdjustSampleDistances(!0),be.checked=!0;case 7:case"end":return vt.stop()}},je)}))).apply(this,arguments)}Object(B.a)(h,"invertibleButton",Q),be.addEventListener("click",function(){return te.apply(this,arguments)}),T.appendChild(be)},j=a(153),ve=a.n(j),Pe=function(h,T,be){var Q=document.querySelector("body"),te=null;if([["requestFullscreen","exitFullscreen","fullscreenchange","fullscreen"],["mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozFullScreen"],["msRequestFullscreen","msExitFullscreen","MSFullscreenChange","msFullscreenEnabled"],["webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitIsFullScreen"]].forEach(function(pt){Q[pt[0]]&&!te&&(te=pt)}),te){var je=document.createElement("div");je.innerHTML='<input id="'.concat(h.id,'-toggleFullscreenButton" type="checkbox" class="').concat(f.a.toggleInput,'"><label itk-vtk-tooltip itk-vtk-tooltip-top-annotation itk-vtk-tooltip-content="Fullscreen[f]" class="').concat(f.a.fullscreenButton," ").concat(f.a.toggleButton,'" for="').concat(h.id,'-toggleFullscreenButton">').concat(ve.a,"</label>");var Le=je.children[0];je.children[1],Object(B.a)(h,"invertibleButton",je);var We=T.children[0],vt=We.style.width,ct=We.style.height;je.addEventListener("change",function(pt){pt.preventDefault(),pt.stopPropagation(),h.mainUI.fullscreenEnabled=!h.mainUI.fullscreenEnabled}),Object(d.e)(function(){return h.mainUI.fullscreenEnabled},function(pt){(function(Ut){Le.checked=Ut,Ut?(We.style.width="100vw",We.style.height="100vh",T[te[0]]()):(We.style.width=vt,We.style.height=ct,document[te[1]]())})(pt)}),document.addEventListener(te[2],function(pt){document[te[3]]||(We.style.width=vt,We.style.height=ct,h.mainUI.fullscreenEnabled=!1)}),be.appendChild(je)}},Oe=a(154),xe=a.n(Oe),Ve=function(h,T){var be=document.createElement("div");be.innerHTML='<input id="'.concat(h.id,'-toggleRotateButton" type="checkbox" class="').concat(f.a.toggleInput,'"><label itk-vtk-tooltip itk-vtk-tooltip-top-fullscreen itk-vtk-tooltip-content="Spin in 3D [p]" class="').concat(f.a.rotateButton," ").concat(f.a.toggleButton,'" for="').concat(h.id,'-toggleRotateButton">').concat(xe.a,"</label>");var Q=be.children[0],te=be.children[1];Object(B.a)(h,"invertibleButton",te),Object(d.b)(function(){(function(){var je=h.mainUI.rotateEnabled;Q.checked=je,h.itkVtkView.setRotate(je)})()}),be.addEventListener("change",function(je){je.preventDefault(),je.stopPropagation(),h.mainUI.rotateEnabled=!h.mainUI.rotateEnabled}),T.appendChild(be)},me=a(155),pe=a.n(me),ke=function(h,T){var be=document.createElement("div");be.innerHTML='<input id="'.concat(h.id,'-toggleAnnotationsButton" type="checkbox" class="').concat(f.a.toggleInput,'" checked><label itk-vtk-tooltip itk-vtk-tooltip-top-annotation itk-vtk-tooltip-content="Annotations" class="').concat(f.a.annotationButton," ").concat(f.a.toggleButton,'" for="').concat(h.id,'-toggleAnnotationsButton">').concat(pe.a,"</label>");var Q=be.children[0],te=be.children[1];Object(B.a)(h,"invertibleButton",te),Object(d.b)(function(){(function(){var je=h.mainUI.annotationsEnabled;Q.checked=je,h.itkVtkView.setOrientationAnnotationVisibility(je)})()}),be.addEventListener("change",function(je){je.preventDefault(),je.stopPropagation(),h.mainUI.annotationsEnabled=!h.mainUI.annotationsEnabled}),T.appendChild(be)},X=a(156),Z=a.n(X),ae=function(h,T){var be=document.createElement("div");be.innerHTML='<input id="'.concat(h.id,'-toggleAxesButton" type="checkbox" class="').concat(f.a.toggleInput,'"><label itk-vtk-tooltip itk-vtk-tooltip-top-axes itk-vtk-tooltip-content="Axes" class="').concat(f.a.axesButton," ").concat(f.a.toggleButton,'" for="').concat(h.id,'-toggleAxesButton">').concat(Z.a,"</label>");var Q=be.children[0],te=be.children[1];Object(B.a)(h,"invertibleButton",te),Object(d.b)(function(){(function(){var je=h.mainUI.axesEnabled;Q.checked=je,h.itkVtkView.setEnableAxes(je)})()}),be.addEventListener("change",function(je){je.preventDefault(),je.stopPropagation(),h.mainUI.axesEnabled=!h.mainUI.axesEnabled}),T.appendChild(be)},Ue=a(157),Ie=a.n(Ue),le=function(h,T){var be=document.createElement("div");h.imageUI.labelMap&&(h.mainUI.interpolationEnabled=!1),be.innerHTML='<input id="'.concat(h.id,'-toggleInterpolationButton" type="checkbox" class="').concat(f.a.toggleInput,'" ').concat(h.mainUI.interpolationEnabled?"checked":""," ").concat(h.imageUI.labelMap?"disabled":"",'><label itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="Interpolation" class="').concat(f.a.interpolationButton," ").concat(f.a.toggleButton,'" for="').concat(h.id,'-toggleInterpolationButton">').concat(Ie.a,"</label>");var Q=be.children[1];function te(){var je=h.mainUI.interpolationEnabled;be.checked=je,h.itkVtkView.setPlanesUseLinearInterpolation(je)}Object(B.a)(h,"invertibleButton",Q),Object(d.b)(function(){te()}),Object(d.e)(function(){return h.imageUI.labelMap},function(){var je=be.getElementsByTagName("input")[0];h.imageUI.labelMap?(h.mainUI.interpolationEnabled=!1,je.checked=!1,je.disabled=!0):je.disabled=!1,te()}),be.addEventListener("change",function(je){je.preventDefault(),je.stopPropagation(),h.mainUI.interpolationEnabled=!h.mainUI.interpolationEnabled}),T.appendChild(be),h.imageUI.representationProxy||(be.style.display="none",Object(d.g)(function(){return!!h.imageUI.image},function(){return be.style.display="inline"}),Object(d.g)(function(){return!!h.imageUI.representationProxy},function(){return te()}))},ge=a(158),ze=a.n(ge),nt=a(159),st=a.n(nt),Ge=a(160),N=a.n(Ge),W=a(161),de=a.n(W),ie=function(h,T){var be=h.id,Q=h.mainUI.uiContainer,te=document.createElement("div");h.mainUI.xPlaneButton=te,te.innerHTML='<input id="'.concat(be,'-xPlaneButton" type="checkbox" class="').concat(f.a.toggleInput,'"><label itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="X plane [1]" class="').concat(f.a.viewModeButton," ").concat(f.a.toggleButton,'" for="').concat(be,'-xPlaneButton">').concat(st.a,"</label>");var je=te.children[1];Object(B.a)(h,"tooltipButton",je),te.addEventListener("click",function(Rt){Rt.preventDefault(),Rt.stopPropagation(),h.mainUI.viewMode="XPlane"}),T.appendChild(te);var Le=document.createElement("div");h.mainUI.yPlaneButton=Le,Le.innerHTML='<input id="'.concat(be,'-yPlaneButton" type="checkbox" class="').concat(f.a.toggleInput,'"><label itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="Y plane [2]" class="').concat(f.a.viewModeButton," ").concat(f.a.toggleButton,'" for="').concat(be,'-yPlaneButton">').concat(N.a,"</label>");var We=Le.children[1];Object(B.a)(h,"tooltipButton",We),Le.addEventListener("click",function(Rt){Rt.preventDefault(),Rt.stopPropagation(),h.mainUI.viewMode="YPlane"}),T.appendChild(Le);var vt=document.createElement("div");h.mainUI.zPlaneButton=vt,vt.innerHTML='<input id="'.concat(be,'-zPlaneButton" type="checkbox" class="').concat(f.a.toggleInput,'"><label itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="Z plane [3]" class="').concat(f.a.viewModeButton," ").concat(f.a.toggleButton,'" for="').concat(be,'-zPlaneButton">').concat(de.a,"</label>");var ct=vt.children[1];Object(B.a)(h,"tooltipButton",ct),vt.addEventListener("click",function(Rt){Rt.preventDefault(),Rt.stopPropagation(),h.mainUI.viewMode="ZPlane"}),T.appendChild(vt);var pt=document.createElement("div");h.mainUI.volumeRenderingButton=pt,pt.innerHTML='<input id="'.concat(be,'-volumeRenderingButton" type="checkbox" class="').concat(f.a.toggleInput,'" checked><label itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="Volume [4]" class="').concat(f.a.viewModeButton," ").concat(f.a.toggleButton,'" for="').concat(be,'-volumeRenderingButton">').concat(ze.a,"</label>");var Ut=pt.children[1];Object(B.a)(h,"tooltipButton",Ut),pt.addEventListener("click",function(Rt){Rt.preventDefault(),Rt.stopPropagation(),h.mainUI.viewMode="VolumeRendering"}),T.appendChild(pt),Object(d.e)(function(){return h.mainUI.viewMode},function(Rt){switch(Rt){case"XPlane":h.itkVtkView.setViewMode("XPlane"),h.mainUI.xPlaneButton.checked=!0,h.mainUI.yPlaneButton.checked=!1,h.mainUI.zPlaneButton.checked=!1,h.mainUI.volumeRenderingButton.checked=!1,h.imageUI.representationProxy&&(Q.querySelector(".".concat(be,"-x-plane-row")).style.display="flex",Q.querySelector(".".concat(be,"-y-plane-row")).style.display="none",Q.querySelector(".".concat(be,"-z-plane-row")).style.display="none");break;case"YPlane":h.itkVtkView.setViewMode("YPlane"),h.mainUI.xPlaneButton.checked=!1,h.mainUI.yPlaneButton.checked=!0,h.mainUI.zPlaneButton.checked=!1,h.mainUI.volumeRenderingButton.checked=!1,h.imageUI.representationProxy&&(Q.querySelector(".".concat(be,"-x-plane-row")).style.display="none",Q.querySelector(".".concat(be,"-y-plane-row")).style.display="flex",Q.querySelector(".".concat(be,"-z-plane-row")).style.display="none");break;case"ZPlane":h.itkVtkView.setViewMode("ZPlane"),h.mainUI.xPlaneButton.checked=!1,h.mainUI.yPlaneButton.checked=!1,h.mainUI.zPlaneButton.checked=!0,h.mainUI.volumeRenderingButton.checked=!1,h.imageUI.representationProxy&&(Q.querySelector(".".concat(be,"-x-plane-row")).style.display="none",Q.querySelector(".".concat(be,"-y-plane-row")).style.display="none",Q.querySelector(".".concat(be,"-z-plane-row")).style.display="flex");break;case"VolumeRendering":(function(){if(h.itkVtkView.setViewMode("VolumeRendering"),h.mainUI.xPlaneButton.checked=!1,h.mainUI.yPlaneButton.checked=!1,h.mainUI.zPlaneButton.checked=!1,h.mainUI.volumeRenderingButton.checked=!0,h.imageUI.representationProxy&&h.imageUI.image){var Wt=h.imageUI.slicingPlanesEnabled,kt=Q.querySelector(".".concat(be,"-x-plane-row")),mn=Q.querySelector(".".concat(be,"-y-plane-row")),dn=Q.querySelector(".".concat(be,"-z-plane-row"));Wt?(kt.style.display="flex",mn.style.display="flex",dn.style.display="flex"):(kt.style.display="none",mn.style.display="none",dn.style.display="none")}})();break;default:console.error("Invalid view mode: "+Rt)}})},_e=a(3),Ze=a(28),ft=a(22);function at(h,T){var be=Object.keys(h);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(h);T&&(Q=Q.filter(function(te){return Object.getOwnPropertyDescriptor(h,te).enumerable})),be.push.apply(be,Q)}return be}function ht(h,T,be){return T in h?Object.defineProperty(h,T,{value:be,enumerable:!0,configurable:!0,writable:!0}):h[T]=be,h}function Ct(h,T){T.classHierarchy.push("vtkAbstractWidget");var be=function(Q){for(var te=1;te<arguments.length;te++){var je=arguments[te]!=null?arguments[te]:{};te%2?at(Object(je),!0).forEach(function(Le){ht(Q,Le,je[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(je)):at(Object(je)).forEach(function(Le){Object.defineProperty(Q,Le,Object.getOwnPropertyDescriptor(je,Le))})}return Q}({},h);h.createDefaultRepresentation=function(){},h.setEnabled=function(Q){if(Q!==T.enabled){if(T.interactor){var te=T.interactor.getCurrentRenderer();te&&T.widgetRep&&te.removeViewProp(T.widgetRep)}if(be.setEnabled(Q),Q){if(!T.interactor)return;var je=T.interactor.getCurrentRenderer();if(!je)return;h.createDefaultRepresentation(),T.widgetRep.setRenderer(je),T.widgetRep.buildRepresentation(),je.addViewProp(T.widgetRep)}}},h.render=function(){!T.parent&&T.interactor&&T.interactor.render()}}var Kt={widgetRep:null,parent:null};function nn(h,T){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(T,Kt,be),ft.a.extend(h,T,be),h.setEnabled(!1),h.setPriority(.5),m.b.setGet(h,T,["widgetRep","parent"]),Ct(h,T)}var oe={newInstance:m.b.newInstance(nn,"vtkAbstractWidget"),extend:nn},St=a(108),Ce=a(53),He=a(83),Nt=a(1);function Dt(h,T){var be=Object.keys(h);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(h);T&&(Q=Q.filter(function(te){return Object.getOwnPropertyDescriptor(h,te).enumerable})),be.push.apply(be,Q)}return be}function On(h){for(var T=1;T<arguments.length;T++){var be=arguments[T]!=null?arguments[T]:{};T%2?Dt(Object(be),!0).forEach(function(Q){Lt(h,Q,be[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(be)):Dt(Object(be)).forEach(function(Q){Object.defineProperty(h,Q,Object.getOwnPropertyDescriptor(be,Q))})}return h}function Lt(h,T,be){return T in h?Object.defineProperty(h,T,{value:be,enumerable:!0,configurable:!0,writable:!0}):h[T]=be,h}function An(h,T,be,Q){for(var te={planeId:-1,t1:0,t2:1,intersect:0},je=h.getNumberOfClippingPlanes(),Le=[],We=0;We<je;We++){h.getClippingPlaneInDataCoords(T,We,Le);var vt=Le[0]*be[0]+Le[1]*be[1]+Le[2]*be[2]+Le[3],ct=Le[0]*Q[0]+Le[1]*Q[1]+Le[2]*Q[2]+Le[3];if(vt<0&&ct<0)return 0;if(vt<0||ct<0){var pt=0;if(vt!==0&&(pt=vt/(vt-ct)),vt<0?pt>=te.t1&&(te.t1=pt,te.planeId=We):pt<=te.t2&&(te.t2=pt),te.t1>te.t2)return te.intersect=0,te}}return te.intersect=1,te}var dt={clipLineWithPlane:An};function zt(h,T){T.classHierarchy.push("vtkCellPicker");var be=On({},h);function Q(){T.dataSet=null,T.mapper=null,T.cellId=-1,T.pCoords[0]=0,T.pCoords[1]=0,T.pCoords[2]=0,T.cellIJK[0]=0,T.cellIJK[1]=0,T.cellIJK[2]=0,T.mapperNormal[0]=0,T.mapperNormal[1]=0,T.mapperNormal[2]=1,T.pickNormal[0]=0,T.pickNormal[1]=0,T.pickNormal[2]=1}h.initialize=function(){Q(),be.initialize()},h.computeSurfaceNormal=function(te,je,Le,We){var vt=te.getPointData().getNormals();if(!vt)return 0;We[0]=0,We[1]=0,We[2]=0;for(var ct=[],pt=0;pt<3;pt++)vt.getTuple(je.getPointsIds()[pt],ct),We[0]+=ct[0]*Le[pt],We[1]+=ct[1]*Le[pt],We[2]+=ct[2]*Le[pt];return _e.w(We),1},h.pick=function(te,je){h.initialize();var Le=be.pick(te,je);if(Le){var We=je.getActiveCamera(),vt=[];if(We.getPosition(vt),We.getParallelProjection()){var ct=[];We.getFocalPoint(ct),T.pickNormal[0]=vt[0]-ct[0],T.pickNormal[1]=vt[1]-ct[1],T.pickNormal[2]=vt[2]-ct[2]}else T.pickNormal[0]=vt[0]-T.pickPosition[0],T.pickNormal[1]=vt[1]-T.pickPosition[1],T.pickNormal[2]=vt[2]-T.pickPosition[2];_e.w(T.pickNormal)}return Le},h.intersectWithLine=function(te,je,Le,We){var vt=Number.MAX_VALUE,ct=An(We,T.transformMatrix,te,je);if(We&&!ct.intersect)return Number.MAX_VALUE;if(We.isA("vtkImageMapper")){var pt=We.intersectWithLineForCellPicking(te,je);pt&&(vt=pt.t,T.cellIJK=pt.ijk,T.pCoords=pt.pCoords)}else We.isA("vtkMapper")&&(vt=h.intersectActorWithLine(te,je,0,1,Le,We));if(vt<T.globalTMin){if(T.globalTMin=vt,Math.abs(vt-0)<1e-14&&ct.clippingPlaneId>=0){T.mapperPosition[0]=1*te[0]+0*je[0],T.mapperPosition[1]=1*te[1]+0*je[1],T.mapperPosition[2]=1*te[2]+0*je[2];var Ut=[];We.getClippingPlaneInDataCoords(T.transformMatrix,ct.clippingPlaneId,Ut),_e.w(Ut),T.mapperNormal[0]=-Ut[0],T.mapperNormal[1]=-Ut[1],T.mapperNormal[2]=-Ut[2]}Nt.e.transformMat4(T.pickPosition,T.mapperPosition,T.transformMatrix);var Rt=T.transformMatrix;T.mapperNormal[0]=Rt[0]*T.pickNormal[0]+Rt[4]*T.pickNormal[1]+Rt[8]*T.pickNormal[2],T.mapperNormal[1]=Rt[1]*T.pickNormal[0]+Rt[5]*T.pickNormal[1]+Rt[9]*T.pickNormal[2],T.mapperNormal[2]=Rt[2]*T.pickNormal[0]+Rt[6]*T.pickNormal[1]+Rt[10]*T.pickNormal[2]}return vt},h.intersectActorWithLine=function(te,je,Le,We,vt,ct){var pt=Number.MAX_VALUE,Ut=[0,0,0],Rt=Number.MAX_VALUE,Wt=[0,0,0],kt=-1,mn=He.a.newInstance(),dn=[],an=ct.getInputData(),In=[0,0,0],Wn=[0,0,0];if(In[0]=te[0],In[1]=te[1],In[2]=te[2],Wn[0]=je[0],Wn[1]=je[1],Wn[2]=je[2],Le!==0||We!==1)for(var Vn=0;Vn<3;Vn++)In[Vn]=te[Vn]*(1-Le)+je[Vn]*Le,Wn[Vn]=te[Vn]*(1-We)+je[Vn]*We;if(an.getPolys)for(var Mr=an.getPolys(),ia=an.getPoints(),lr=Mr.getData(),ua=0,Hr=[-1,-1,-1],_r=He.a.newInstance(),qr=Ce.a.newInstance(),Tr=0;Tr<lr.length;ua++){var na=[0,0,0],qt=lr[Tr++];qr.setNumberOfPoints(qt);for(var Ma=0;Ma<qt;Ma++)Hr[Ma]=lr[Tr++];_r.initialize(ia,Hr);var ka=void 0;if((ka=_r.intersectWithLine(te,je,vt,dn,na)).intersect===1&&ka.t<=pt+T.tolerance&&ka.t>=Le&&ka.t<=We){var ro=_r.getParametricDistance(na);if(ro<Rt||ro===Rt&&ka.t<pt){pt=ka.t,Rt=ro,kt=ua,_r.deepCopy(mn);for(var Za=0;Za<3;Za++)Ut[Za]=dn[Za],Wt[Za]=na[Za]}}}if(kt>=0&&pt<T.globalTMin){Q();for(var Lo=mn.getNumberOfPoints(),co=new Array(Lo),_o=0;_o<Lo;_o++)co[_o]=0;mn.evaluateLocation(Wt,[],co),T.dataSet=an,T.cellId=kt,T.pCoords[0]=Wt[0],T.pCoords[1]=Wt[1],T.pCoords[2]=Wt[2];for(var Zo=0,vi=-1,Ha=0;Ha<Lo;Ha++)co[Ha]>Zo&&(vi=Ha,Zo=co[Ha]);vi!==-1&&(T.pointId=mn.getPointsIds()[vi]),T.mapperPosition[0]=Ut[0],T.mapperPosition[1]=Ut[1],T.mapperPosition[2]=Ut[2],h.computeSurfaceNormal(an,mn,co,T.mapperNormal)||(T.mapperNormal[0]=te[0]-je[0],T.mapperNormal[1]=te[1]-je[1],T.mapperNormal[2]=te[2]-je[2],_e.w(T.mapperNormal))}return pt}}var ur={cellId:-1,pCoords:[],cellIJK:[],pickNormal:[],mapperNormal:[]};function Be(h,T){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(T,ur,be),St.a.extend(h,T,be),m.b.getArray(h,T,["pickNormal","mapperNormal","pCoords","cellIJK"]),m.b.get(h,T,["cellId"]),zt(h,T)}var wn=On({newInstance:m.b.newInstance(Be,"vtkCellPicker"),extend:Be},dt),gr=a(16),Br=a(49),nr=m.b.vtkErrorMacro,J={renderer:null,interactionState:0,startEventPosition:[0,0,0],lastEventPosition:[0,0,0],placeFactor:.5,placed:0,handleSize:.05,validPick:0,initialBounds:[0,1,0,1,0,1],initialLength:0,needToRender:0};function Te(h,T){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(T,J,be),Br.a.extend(h,T,be),m.b.setGet(h,T,["renderer","handleSize","placeFactor","needToRender","interactionState"]),function(Q,te){te.classHierarchy.push("vtkWidgetRepresentation"),Q.getPickedActor=function(je,Le,We,vt){return vt.pick(je,Le,We,te.renderer),vt.getActors[0]},Q.adjustBounds=function(je,Le,We){je.length===6?(We[0]=(je[0]+je[1])/2,We[1]=(je[2]+je[3])/2,We[2]=(je[4]+je[5])/2,Le[0]=We[0]+te.placeFactor*(je[0]-We[0]),Le[1]=We[0]+te.placeFactor*(je[1]-We[0]),Le[2]=We[1]+te.placeFactor*(je[2]-We[1]),Le[3]=We[1]+te.placeFactor*(je[3]-We[1]),Le[4]=We[2]+te.placeFactor*(je[4]-We[2]),Le[5]=We[2]+te.placeFactor*(je[5]-We[2])):nr("vtkWidgetRepresentation::adjustBounds Can't process bounds, not enough values...")},Q.sizeHandlesInPixels=function(je,Le){var We=te.renderer;if(!te.validPick||!We||!We.getActiveCamera())return te.handleSize*je*te.initialLength;var vt=ft.a.computeWorldToDisplay(We,Le[0],Le[1],Le[2]),ct=vt[2],pt=vt[0]-te.handleSize/2,Ut=vt[1]-te.handleSize/2,Rt=ft.a.computeDisplayToWorld(We,pt,Ut,ct);pt=vt[0]+te.handleSize/2,Ut=vt[1]+te.handleSize/2;for(var Wt=ft.a.computeDisplayToWorld(We,pt,Ut,ct),kt=0,mn=0;mn<3;mn++)kt+=(Wt[mn]-Rt[mn])*(Wt[mn]-Rt[mn]);return je*(Math.sqrt(kt)/2)},Q.sizeHandlesRelativeToViewport=function(je,Le){var We=te.renderer;if(!te.validPick||!We||!We.getActiveCamera())return te.handleSize*je*te.initialLength;var vt=We.getViewport(),ct=We.getRenderWindow().getViews()[0].getViewportSize(We),pt=ft.a.computeWorldToDisplay(We,Le[0],Le[1],Le[2])[2],Ut=ct[0]*vt[0],Rt=ct[1]*vt[1],Wt=ft.a.computeDisplayToWorld(We,Ut,Rt,pt);Ut=ct[0]*vt[2],Rt=ct[1]*vt[3];for(var kt=ft.a.computeDisplayToWorld(We,Ut,Rt,pt),mn=0,dn=0;dn<3;dn++)mn+=(kt[dn]-Wt[dn])*(kt[dn]-Wt[dn]);return je*(Math.sqrt(mn)/2)}}(h,T)}var Me={newInstance:m.b.newInstance(Te,"vtkWidgetRepresentation"),extend:Te},Ke=a(10),rt=a(17),yt=a(56),Ot=26,cn={IDLE:0,CROPPING:1},gn=["CroppingPlanesChanged"];function Pn(h){return function(T){if(Array.isArray(T))return kn(T)}(h)||function(T){if(typeof Symbol!="undefined"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}(h)||function(T,be){if(!!T){if(typeof T=="string")return kn(T,be);var Q=Object.prototype.toString.call(T).slice(8,-1);if(Q==="Object"&&T.constructor&&(Q=T.constructor.name),Q==="Map"||Q==="Set")return Array.from(T);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return kn(T,be)}}(h)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kn(h,T){(T==null||T>h.length)&&(T=h.length);for(var be=0,Q=new Array(T);be<T;be++)Q[be]=h[be];return Q}var It=Ot,rn=[2,0,1,2,2,3,2,4,5,2,6,7,2,0,2,2,1,3,2,4,6,2,5,7,2,0,4,2,1,5,2,2,6,2,3,7],bt={activeHandleIndex:-1,handlePositions:Array(It).fill(null),handleSizes:Array(It).fill(0),bboxCorners:Array(8).fill([0,0,0]),edgeColor:[1,1,1]};function Et(h,T){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(T,bt,be),Me.extend(h,T,be),m.b.setGet(h,T,["activeHandleIndex"]),m.b.setGetArray(h,T,["edgeColor"],3),m.b.setGetArray(h,T,["handlePositions"],It),m.b.setGetArray(h,T,["handleSizes"],It),m.b.setGetArray(h,T,["bboxCorners"],8),function(Q,te){te.classHierarchy.push("vtkImageCroppingRegionsRepresentation"),te.placeFactor=1,te.picker=wn.newInstance(),te.picker.setPickFromList(1),te.picker.initializePickList(),te.handles=Array(It).fill(null).map(function(){var je=yt.a.newInstance(),Le=Ke.a.newInstance(),We=gr.a.newInstance();return Le.setInputConnection(je.getOutputPort()),We.setMapper(Le),te.picker.addPickList(We),{source:je,mapper:Le,actor:We}}),te.outline={polydata:rt.a.newInstance(),mapper:Ke.a.newInstance(),actor:gr.a.newInstance()},te.outline.polydata.getPoints().setData(new Float32Array(24),3),te.outline.polydata.getLines().setData(Uint16Array.from(rn)),te.outline.mapper.setInputData(te.outline.polydata),te.outline.actor.setMapper(te.outline.mapper),Q.getActors=function(){for(var je=[te.outline.actor],Le=0;Le<te.handlePositions.length;++Le)te.handlePositions[Le]&&je.push(te.handles[Le].actor);return je},Q.getNestedProps=function(){return Q.getActors()},Q.getMapper=function(){return te.outline.mapper},Q.getEventIntersection=function(je){var Le=je.position,We=Le.x,vt=Le.y,ct=Le.z;te.picker.pick([We,vt,ct],je.pokedRenderer);var pt=te.picker.getActors();if(pt.length){var Ut=0;if(pt.length>1){var Rt=1/0;te.picker.getPickedPositions().map(function(kt){var mn=je.pokedRenderer.getActiveCamera().getPosition();return _e.l(mn,kt)}).forEach(function(kt,mn){Rt>kt&&(Ut=mn,Rt=kt)})}var Wt=pt[Ut];return te.handles.findIndex(function(kt){return kt.actor===Wt})}return-1},Q.placeWidget=function(){for(var je=[],Le=0;Le<arguments.length;Le++)je.push(Le<0||arguments.length<=Le?void 0:arguments[Le]);if(je.length===6){(function(ct){for(var pt=0;pt<6;pt+=2)if(ct[pt]>ct[pt+1]){var Ut=ct[pt+1];ct[pt+1]=ct[pt],ct[pt]=Ut}})(je);var We=[];Q.adjustBounds(je,We,[]);for(var vt=0;vt<6;vt++)te.initialBounds[vt]=We[vt];te.initialLength=Math.sqrt((We[1]-We[0])*(We[1]-We[0])+(We[3]-We[2])*(We[3]-We[2])+(We[5]-We[4])*(We[5]-We[4])),Q.modified()}},Q.updateGeometry=function(){for(var je,Le=te.outline.polydata.getPoints().getData(),We=0;We<te.handles.length;++We)if(te.handlePositions[We]){var vt=te.handles[We],ct=vt.actor,pt=vt.source;pt.setRadius(te.handleSizes[We]),pt.setCenter(te.handlePositions[We]),te.activeHandleIndex===We?ct.getProperty().setColor(0,1,0):ct.getProperty().setColor(1,1,1)}for(var Ut=0;Ut<te.bboxCorners.length;++Ut)Le.set(te.bboxCorners[Ut],3*Ut);(je=te.outline.actor.getProperty()).setEdgeColor.apply(je,Pn(te.edgeColor)),te.outline.polydata.getPoints().modified(),te.outline.polydata.modified()},Q.getBounds=function(){return te.initialBounds},Q.buildRepresentation=function(){te.renderer&&(te.placed||(te.validPick=1,te.placed=1),Q.updateGeometry())},Q.setProperty=function(je){te.actor.setProperty(je)},Q.onModified(Q.updateGeometry)}(h,T)}var Ht={newInstance:m.b.newInstance(Et,"vtkImageCroppingRegionsRepresentation"),extend:Et};function Mt(h){return function(T){if(Array.isArray(T))return pn(T)}(h)||function(T){if(typeof Symbol!="undefined"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}(h)||function(T,be){if(!!T){if(typeof T=="string")return pn(T,be);var Q=Object.prototype.toString.call(T).slice(8,-1);if(Q==="Object"&&T.constructor&&(Q=T.constructor.name),Q==="Map"||Q==="Set")return Array.from(T);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return pn(T,be)}}(h)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pn(h,T){(T==null||T>h.length)&&(T=h.length);for(var be=0,Q=new Array(T);be<T;be++)Q[be]=h[be];return Q}function Sn(h,T){var be=Object.keys(h);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(h);T&&(Q=Q.filter(function(te){return Object.getOwnPropertyDescriptor(h,te).enumerable})),be.push.apply(be,Q)}return be}function Gt(h){for(var T=1;T<arguments.length;T++){var be=arguments[T]!=null?arguments[T]:{};T%2?Sn(Object(be),!0).forEach(function(Q){ln(h,Q,be[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(be)):Sn(Object(be)).forEach(function(Q){Object.defineProperty(h,Q,Object.getOwnPropertyDescriptor(be,Q))})}return h}function ln(h,T,be){return T in h?Object.defineProperty(h,T,{value:be,enumerable:!0,configurable:!0,writable:!0}):h[T]=be,h}var tn=m.b.vtkErrorMacro,Rn=m.b.VOID,Gn=m.b.EVENT_ABORT,fr=Ot,qn=cn,dr=gn,Jn=[[0,0],[0,1],[1,0],[1,1]],mr={handleSize:5,faceHandlesEnabled:!1,edgeHandlesEnabled:!1,cornerHandlesEnabled:!0};function ar(h,T){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(T,mr,be),oe.extend(h,T,mr,be),dr.forEach(function(Q){return m.b.event(h,T,Q)}),m.b.get(h,T,["volumeMapper","handleSize","faceHandlesEnabled","edgeHandlesEnabled","cornerHandlesEnabled"]),function(Q,te){te.classHierarchy.push("vtkImageCroppingRegionsWidget");var je=null;te.indexToWorld=Nt.c.create(),te.worldToIndex=Nt.c.create();var Le=null;function We(ct){var pt=Nt.e.fromValues(ct[0],ct[1],ct[2]),Ut=Nt.e.create();return Nt.e.transformMat4(Ut,pt,te.worldToIndex),[Ut[0],Ut[1],Ut[2]]}function vt(ct){var pt=Nt.e.fromValues(ct[0],ct[1],ct[2]),Ut=Nt.e.create();return Nt.e.transformMat4(Ut,pt,te.indexToWorld),[Ut[0],Ut[1],Ut[2]]}te.widgetState={activeHandleIndex:-1,planes:Array(6).fill(0),controlState:qn.IDLE},Q.createDefaultRepresentation=function(){te.widgetRep||(te.widgetRep=Ht.newInstance(),Q.updateRepresentation())},Q.getWidgetState=function(){return Gt({},te.widgetState)},Q.updateWidgetState=function(ct){if(Object.keys(ct).reduce(function(Ut,Rt){return Ut||te.widgetState[Rt]!==ct[Rt]},!1)){var pt=te.widgetState;te.widgetState=Gt(Gt({},pt),ct),function(Ut,Rt){if(Ut.length===Rt.length){for(var Wt=0;Wt<Ut.length;++Wt)if(Ut[Wt]!==Rt[Wt])return!1;return!0}return!1}(pt.planes,te.widgetState.planes)||(Le=null,Q.invokeCroppingPlanesChanged(te.widgetState.planes)),Q.updateRepresentation(),Q.modified()}},Q.setVolumeMapper=function(ct){ct!==te.volumeMapper&&(te.volumeMapper=ct,Q.resetWidgetState(),te.enabled&&Q.updateRepresentation())},Q.planesToHandles=function(ct){if(!te.volumeMapper||!te.volumeMapper.getInputData())return null;if(Le)return Le;var pt=Array(fr).fill(null);if(te.faceHandlesEnabled)for(var Ut=function(Vn){var Mr=[0,0,0].map(function(ia,lr){return lr===Math.floor(Vn/2)?ct[Vn]:(ct[2*lr]+ct[2*lr+1])/2});pt[Vn]=[Mr[0],Mr[1],Mr[2]]},Rt=0;Rt<6;++Rt)Ut(Rt);if(te.edgeHandlesEnabled)for(var Wt=0;Wt<12;++Wt){for(var kt=Math.floor(Wt/4),mn=Jn[Wt%4].slice(),dn=[],an=0;an<3;++an)an!==kt&&dn.push(ct[2*an+mn.shift()]);dn.splice(kt,0,(ct[2*kt]+ct[2*kt+1])/2),pt[Wt+6]=[dn[0],dn[1],dn[2]]}if(te.cornerHandlesEnabled)for(var In=0;In<8;++In)pt[In+18]=[ct[0+(In>>2&1)],ct[2+(In>>1&1)],ct[4+(In>>0&1)]];for(var Wn=0;Wn<pt.length;++Wn)pt[Wn]&&(pt[Wn]=vt(pt[Wn]));return Le=pt,pt},Q.planesToBBoxCorners=function(ct){return te.volumeMapper&&te.volumeMapper.getInputData()?[[ct[0],ct[2],ct[4]],[ct[0],ct[2],ct[5]],[ct[0],ct[3],ct[4]],[ct[0],ct[3],ct[5]],[ct[1],ct[2],ct[4]],[ct[1],ct[2],ct[5]],[ct[1],ct[3],ct[4]],[ct[1],ct[3],ct[5]]].map(function(pt){return vt(pt)}):null},Q.resetWidgetState=function(){if(te.volumeMapper)if(te.volumeMapper.getInputData()){var ct=te.volumeMapper.getInputData();te.indexToWorld=ct.getIndexToWorld(),te.worldToIndex=ct.getWorldToIndex();var pt=ct.getExtent();Q.setCroppingPlanes.apply(Q,Mt(pt))}else tn("Volume mapper has no input data");else tn("Volume mapper must be set to update representation")},Q.setEnabled=m.b.chain(Q.setEnabled,function(ct){if(je&&je.unsubscribe(),ct){var pt=Q.getInteractor().getCurrentRenderer().getActiveCamera();je=pt.onModified(Q.updateRepresentation),Q.updateRepresentation()}}),Q.setFaceHandlesEnabled=function(ct){te.faceHandlesEnabled!==ct&&(te.faceHandlesEnabled=ct,Q.updateRepresentation(),Q.modified())},Q.setEdgeHandlesEnabled=function(ct){te.edgeHandlesEnabled!==ct&&(te.edgeHandlesEnabled=ct,Q.updateRepresentation(),Q.modified())},Q.setCornerHandlesEnabled=function(ct){te.cornerHandlesEnabled!==ct&&(te.cornerHandlesEnabled=ct,Q.updateRepresentation(),Q.modified())},Q.setHandleSize=function(ct){te.handleSize!==ct&&(te.handleSize=ct,Q.updateRepresentation(),Q.modified())},Q.getCroppingPlanes=function(){return te.widgetState.planes.slice()},Q.setCroppingPlanes=function(){for(var ct=arguments.length,pt=new Array(ct),Ut=0;Ut<ct;Ut++)pt[Ut]=arguments[Ut];Q.updateWidgetState({planes:pt})},Q.updateRepresentation=function(){if(te.widgetRep){var ct,pt=te.volumeMapper.getBounds();(ct=te.widgetRep).placeWidget.apply(ct,Mt(pt));var Ut=te.widgetState,Rt=Ut.activeHandleIndex,Wt=Ut.planes,kt=Q.planesToBBoxCorners(Wt),mn=Q.planesToHandles(Wt),dn=mn.map(function(an){return an?Q.adjustHandleSize(an,te.handleSize):te.handleSize});te.widgetRep.set({activeHandleIndex:Rt,handlePositions:mn,bboxCorners:kt,handleSizes:dn}),Q.render()}},Q.adjustHandleSize=function(ct,pt){var Ut=Q.getInteractor();if(!Ut&&!Ut.getCurrentRenderer())return null;var Rt=Ut.getCurrentRenderer();if(!Rt.getActiveCamera())return null;for(var Wt=Q.computeWorldToDisplay(Rt,ct[0],ct[1],ct[2]),kt=Q.computeDisplayToWorld(Rt,Wt[0]-pt/2,Wt[1]-pt/2,Wt[2]),mn=Q.computeDisplayToWorld(Rt,Wt[0]+pt/2,Wt[1]+pt/2,Wt[2]),dn=0,an=0;an<3;an++)dn+=(mn[an]-kt[an])*(mn[an]-kt[an]);return Math.sqrt(dn)/2},Q.displayToPlane=function(ct,pt,Ut){for(var Rt=Q.getInteractor().getView(),Wt=Q.getInteractor().getCurrentRenderer(),kt=Wt.getActiveCamera(),mn=kt.getFocalPoint(),dn=kt.getPosition(),an=Rt.worldToDisplay.apply(Rt,Mt(mn).concat([Wt])),In=Rt.displayToWorld(ct[0],ct[1],an[2],Wt),Wn=[0,0,0],Vn=0;Vn<3;++Vn)Wn[Vn]=In[Vn]-dn[Vn];var Mr=kt.getDirectionOfProjection();_e.w(Mr);var ia=_e.m(Mr,Wn),lr=kt.getClippingRange(),ua=[0,0,0],Hr=[0,0,0];if(kt.getParallelProjection())for(var _r=lr[0]-ia,qr=lr[1]-ia,Tr=0;Tr<3;Tr++)ua[Tr]=In[Tr]+_r*Mr[Tr],Hr[Tr]=In[Tr]+qr*Mr[Tr];else for(var na=lr[0]/ia,qt=lr[1]/ia,Ma=0;Ma<3;Ma++)ua[Ma]=dn[Ma]+na*Wn[Ma],Hr[Ma]=dn[Ma]+qt*Wn[Ma];var ka=Ze.a.intersectWithLine(ua,Hr,pt,Ut);return ka.intersection?ka.x:null},Q.handleLeftButtonPress=function(ct){return Q.pressAction(ct)},Q.handleLeftButtonRelease=function(ct){return Q.endMoveAction(ct)},Q.handleMiddleButtonPress=function(ct){return Q.pressAction(ct)},Q.handleMiddleButtonRelease=function(ct){return Q.endMoveAction(ct)},Q.handleRightButtonPress=function(ct){return Q.pressAction(ct)},Q.handleRightButtonRelease=function(ct){return Q.endMoveAction(ct)},Q.handleMouseMove=function(ct){return Q.moveAction(ct)},Q.pressAction=function(ct){if(te.widgetState.controlState===qn.IDLE){var pt=te.widgetRep.getEventIntersection(ct);if(pt>-1)return te.activeHandleIndex=pt,Q.updateWidgetState({activeHandleIndex:pt,controlState:qn.CROPPING}),Gn}return Rn},Q.moveAction=function(ct){var pt=te.widgetState,Ut=pt.controlState,Rt=pt.planes,Wt=pt.activeHandleIndex;if(Ut===qn.IDLE||Wt===-1)return Rn;var kt=Q.planesToHandles(Rt),mn=[ct.position.x,ct.position.y],dn=kt[Wt],an=Q.getInteractor().getCurrentRenderer().getActiveCamera().getDirectionOfProjection(),In=Q.displayToPlane(mn,dn,an);if(!In)return Gn;var Wn=Rt.slice();if(Wt<6){var Vn=Math.floor(Wt/2),Mr=3*Vn,ia=te.volumeMapper.getInputData().getDirection().slice(Mr,Mr+3),lr=[0,0,0],ua=[0,0,0],Hr=[0,0,0];_e.G(In,dn,ua),_e.x(ua,ia,Hr),_e.a(dn,Hr,lr);var _r=We(lr);Wn[Wt]=_r[Vn]}else if(Wt<18){var qr=Wt-6,Tr=Math.floor(qr/4),na=3*Tr,qt=te.volumeMapper.getInputData().getDirection().slice(na,na+3),Ma=[0,0,0],ka=[0,0,0],ro=[0,0,0];_e.G(In,dn,ka),Ze.a.projectVector(ka,qt,ro),_e.a(dn,ro,Ma);for(var Za=We(Ma),Lo=Jn[qr%4].slice(),co=[],_o=0;_o<3;++_o)_o!==Tr&&co.push(2*_o+Lo.shift());co.forEach(function(Ha){Wn[Ha]=Za[Math.floor(Ha/2)]})}else{var Zo=Wt-18,vi=We(In);[0+(Zo>>2&1),2+(Zo>>1&1),4+(Zo>>0&1)].forEach(function(Ha){Wn[Ha]=vi[Math.floor(Ha/2)]})}return Q.setCroppingPlanes.apply(Q,Mt(Wn)),Gn},Q.endMoveAction=function(){te.widgetState.activeHandleIndex>-1&&Q.updateWidgetState({activeHandleIndex:-1,controlState:qn.IDLE})}}(h,T)}var hr={newInstance:m.b.newInstance(ar,"vtkImageCroppingRegionsWidget"),extend:ar},Vr=a(162),Zr=a.n(Vr),Jr=a(163),br=a.n(Jr),Qr=function(h,T){var be=h.id,Q=h.eventEmitter;function te(){h.imageUI.croppingWidget=hr.newInstance(),h.imageUI.croppingWidget.setHandleSize(16),h.imageUI.croppingWidget.setFaceHandlesEnabled(!1),h.imageUI.croppingWidget.setEdgeHandlesEnabled(!1),h.imageUI.croppingWidget.setCornerHandlesEnabled(!0),h.imageUI.croppingWidget.setInteractor(h.itkVtkView.getInteractor()),h.imageUI.croppingWidget.setEnabled(!1),h.imageUI.croppingWidget.setVolumeMapper(h.imageUI.representationProxy.getMapper()),h.imageUI.addCroppingPlanesChangedHandler=function(kt){return Q.on("croppingPlanesChanged",kt),Object.freeze({unsubscribe:function(){Q.off("croppingPlanesChanged",kt)}})};var je=!1,Le=m.b.debounce(function(){if(!je){je=!0;var kt=h.imageUI.croppingWidget.getWidgetState().planes;h.imageUI.representationProxy.setCroppingPlanes(kt);var mn=h.imageUI.croppingWidget.planesToBBoxCorners(kt);Q.emit("croppingPlanesChanged",kt,mn),je=!1}},100);h.imageUI.croppingWidget.onCroppingPlanesChanged(Le);var We=document.createElement("div");We.innerHTML='<input id="'.concat(be,'-toggleCroppingPlanesButton" type="checkbox" class="').concat(f.a.toggleInput,'"><label itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="Select ROI [w]" class="').concat(f.a.cropButton," ").concat(f.a.toggleButton,'" for="').concat(be,'-toggleCroppingPlanesButton">').concat(Zr.a,"</label>");var vt=We.children[0],ct=We.children[1];function pt(kt){vt.checked=kt,h.imageUI.croppingWidget.setEnabled(kt),h.renderWindow.render()}Object(B.a)(h,"invertibleButton",ct),Object(d.e)(function(){return h.mainUI.croppingPlanesEnabled},function(kt){pt(kt)}),pt(h.mainUI.croppingPlanesEnabled),We.addEventListener("change",function(kt){kt.preventDefault(),kt.stopPropagation(),h.mainUI.croppingPlanesEnabled=!h.mainUI.croppingPlanesEnabled}),T.appendChild(We);var Ut=document.createElement("div");Ut.innerHTML='<input id="'.concat(be,'-resetCroppingPlanesButton" type="checkbox" class="').concat(f.a.toggleInput,'" checked><label itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="Reset ROI [e]" class="').concat(f.a.resetCropButton," ").concat(f.a.toggleButton,'" for="').concat(be,'-resetCroppingPlanesButton">').concat(br.a,"</label>");var Rt=Ut.children[1];function Wt(){h.imageUI.representationProxy.getCropFilter().reset(),h.imageUI.croppingWidget.resetWidgetState(),Q.emit("resetCrop")}Object(B.a)(h,"invertibleButton",Rt),h.imageUI.addResetCropHandler=function(kt){return Q.on("resetCrop",kt),Object.freeze({unsubscribe:function(){Q.off("resetCrop",kt)}})},Ut.addEventListener("change",function(kt){kt.preventDefault(),kt.stopPropagation(),Wt()}),Ut.addEventListener("click",function(kt){kt.preventDefault(),kt.stopPropagation(),Wt()}),T.appendChild(Ut)}h.imageUI.representationProxy?te():Object(d.g)(function(){return!!h.imageUI.representationProxy},te)},Nr=a(164),$r=a.n(Nr),Yr=function(h,T){var be=h.id,Q=document.createElement("div");Q.innerHTML='<input id="'.concat(be,'-resetCameraButton" type="checkbox" class="').concat(f.a.toggleInput,'" checked><label itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="Reset camera [r]" class="').concat(f.a.resetCameraButton," ").concat(f.a.toggleButton,'" for="').concat(be,'-resetCameraButton">').concat($r.a,"</label>");var te=Q.children[1];function je(){h.itkVtkView.resetCamera()}Object(B.a)(h,"invertibleButton",te),Q.addEventListener("change",function(Le){Le.preventDefault(),Le.stopPropagation(),je()}),Q.addEventListener("click",function(Le){Le.preventDefault(),Le.stopPropagation(),je()}),T.appendChild(Q)},ra=function(h){h.selectedBackgroundColor=(h.selectedBackgroundColor+1)%h.backgroundColors.length,h.style.backgroundColor=h.backgroundColors[h.selectedBackgroundColor],h.itkVtkView.getRenderer().setBackground(h.style.backgroundColor),h.renderWindow.render()},Ln=a(165),Wr=a.n(Ln),Pr=function(h,T){var be=h.id,Q=document.createElement("div");Q.innerHTML='<input id="'.concat(be,'-bgColorButton" type="checkbox" class="').concat(f.a.toggleInput,'" checked><label itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="Toggle Background Color" class="').concat(f.a.bgColorButton," ").concat(f.a.toggleButton,'" for="').concat(be,'-bgColorButton">').concat(Wr.a,"</label>");var te=Q.children[1];Object(B.a)(h,"invertibleButton",te),Q.addEventListener("change",function(je){je.preventDefault(),je.stopPropagation(),ra(h)}),Q.addEventListener("click",function(je){je.preventDefault(),je.stopPropagation(),ra(h)}),T.appendChild(Q)},pr=a(84),kr=function(h,T){var be=h.id,Q=document.createElement("div");Q.innerHTML='<input id="'.concat(be,'-save3DPresetButton" type="checkbox" class="').concat(f.a.toggleInput,'" checked><label itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="Save 3D Preset" class="').concat(f.a.faIconButton," ").concat(f.a.toggleButton,'" for="').concat(be,'-save3DPresetButton"><i class="fa fa-save fa-lg"></i></label>'),Q.children[1];var te={saveToFile:!0,storeTempPreset:!1};Q.addEventListener("change",function(je){je.preventDefault(),je.stopPropagation(),Object(pr.a)(h,te)}),Q.addEventListener("click",function(je){je.preventDefault(),je.stopPropagation(),Object(pr.a)(h,te)}),T.appendChild(Q)};a(85);var Kr=function(h,T,be,Q){Q||(Q=document.createElement("div"),h.appendChild(Q)),T.mainUI.uiContainer=Q,Q.setAttribute("class",f.a.uiContainer);var te=document.createElement("div");te.setAttribute("class",f.a.uiGroup);var je=document.createElement("div");je.setAttribute("class",f.a.mainUIRow),je.className+=" ".concat(T.id,"-toggle"),te.appendChild(je),Y(T),K(T,je),Pe(T,h,je),be||Ve(T,je),ke(T,je),ae(T,je),le(T,je),Pr(T,je);var Le=document.createElement("div");Le.setAttribute("class",f.a.mainUIRow),Le.className+=" ".concat(T.id,"-toggle"),be?(Qr(T,je),Yr(T,je)):(Qr(T,Le),ie(T,Le),Yr(T,Le),te.appendChild(Le));var We=document.createElement("div");We.setAttribute("class",f.a.mainUIRow),We.className+=" ".concat(T.id,"-toggle"),kr(T,We),te.appendChild(We),Q.appendChild(te)},Lr=a(13),vr=a.n(Lr),Dr=a(20),Ca=a(68),Ua=a(18),Fr=a.n(Ua),aa=a(99),Fn=new Map;Fn.set("Viridis (matplotlib)","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAxklEQVQ4T+WTUU4DMQxEnxPbaZseq0fo/c9BuxsHZQOtKoQECJAQH6OZJF+jvJGTnHvyghRH3MFtyozuCpYJU7olwkdOhAmhMv2WmXc6HMKgv2a95659ex8+xE1B0iBroNowbbg2iq6UvLLTlV1e2OvCIV/Z54WaL1uu6bLpmIc/cZSXc7pSpVFFqMk4SEFOco7/Vrh9uLBlmif6H//h9d3CprBh/DWkJ7oT8bt/M9I6sP0c0subwjZ3/JMbjof9ji3/zoafAa6pEjNEHZsCAAAAAElFTkSuQmCC"),Fn.set("Plasma (matplotlib)","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAt0lEQVQ4T9WTy25DIQxEjy9g0yr57nx0AFc87iZKlAh10S5GM2Y3Ooxc880vLfFN5MsjmYh5GMocmE/pyIIhqIAJ00NDo6OpoakOpdi9kJbiQ46x0N9OhVRHDuut30Hn3fOhhaNnLYiue2XRAlaZ3nCr+HDHDaoJLcvyO3LNt7ZbeJT+h4XrbuEtwg90J9lfIpwbru8Jl93Cf5pwdlyff+n7buEtwn2nLzZ87vijDVtB0rndzzf8A9HeIj3mfi1WAAAAAElFTkSuQmCC"),Fn.set("Inferno (matplotlib)","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAv0lEQVQ4T+WTwU4DMQxEX+ys7Syl0P7/l252YxRVVOLUA4gicRi9uY5mpkBNKY5IQ6Wx6IrJ1AvGirMS2fA0Ig0visuU4FJw5Sb5ZOKSmA5cBn7ngeuB6X6n1Y7VHVs6y6R16vS2Uaf3jtqGRkd9Q6aiU2KnRFJCIRwiyNbIWBntxIgTo50Z8Ub6heJXql2w5Z0Cdfy3wMdTA+ut2d9seH9q4B+ddGO014eT7n8p8LJ06vzw5Pzutz58Jv365cMfOKjLEgYA0aMAAAAASUVORK5CYII="),Fn.set("Magma (matplotlib)","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAwElEQVQ4T9WT20oEMRAFqy9JJ7P//7VuJtKJioKswojiQ3E6j8XJEfCpUlHtmHXcOiXRg6oHRW6EHMRMOm0GQSHUCdWNCdVkZSj7rZMw9nvdc6eeG3vNQdggfFAXd0oZlDrwOBfWQBeKLAxpjvQCLanviH1HY7a8M9vKRMDP68JKTbmHwin+IvnHwuO68MWGdRDlNxruq+H7deH/1fDTI2GXG+2LDb/tN7+0QPhPbPiOx/xkw7L3+60N527jw4afARTJfpA8jM5iAAAAAElFTkSuQmCC"),Fn.set("Grayscale","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAYklEQVQ4T8VSSQrAQAjLoOP//9uV3EopRU2hJz1kRQeAw90x5wRnZ+9w/vIbAHY1sMqvllf8WHhTBLpfUS15xSt5WXjNCJgZIuLx7TP8LzF3LeZivowHCy8Z4BtG5VevrfidE8UT6MnfR0YAAAAASUVORK5CYII="),Fn.set("X Ray","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAYUlEQVQ4T8VSSwqAUAj03f/GT21idhER6gStdDFfdAFARJi7G+dkn3D+8lsADjWwyu+WV/xYOBWB6Vd0S17xSl4WjopAZtre+/HtK/wvMXct5mK+igcLewX4hlH53WsrficmEnokOp1YogAAAABJRU5ErkJggg=="),Fn.set("BkMa","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAY0lEQVQ4T8WSSQqAQAwEa5jl//91pW8iIpm04Ck59EpSgKPR6HQ0M3uG85dfAXY3sMufLe/4qfDmCGS/YrbkFe/kVeE1IlCpDMbj20f4X2LuWsqlfBEPFV4iwDeMy5+9tuN3AmHODu0pCn69AAAAAElFTkSuQmCC"),Fn.set("BkCy","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAVklEQVQ4T2NkYGD4z8DCwsDAysoApslhk6NngOxjZGBg+EeWJ5EdPMQ8/HekefgPUR5mZmZgYGPDnuwHOoZB7gK5jwh3gJL0b2IU4lVDhEUU20GlLAQAXNMO7ZdYpGcAAAAASUVORK5CYII="),Fn.set("gray_Matlab","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAZ0lEQVQ4T92TSw6AMAhEy+few739hp0WNZKgMS66IQ3DPBgCsIhIY+bwquos3ISf1TibtdcmM5uPzHrtl4YBTFXG7lLeAn5b2zc8fnXDDoOIdlHLAgonDWDINsn+r8ywqgYIV/HrtVeUThPozHrNVQAAAABJRU5ErkJggg=="),Fn.set("bone_Matlab","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAjElEQVQ4T92T3QqDMAyFz88e2Gtfwgd2c5KOSaWdhYkoXpSEkDQJXw67fnjTgiQobO4vMYJfv5aXaojmP+KqhyWUjzDLeMy3yiUrte0cdv0wpUFri0YTC/S9Fn41yexe2JCZriC/orMIPy9F2IRx7EmP24SDDkoNPwQx1/1vDQfJT48dhG041+2fGp4Be5oT6CFo9DwAAAAASUVORK5CYII="),Fn.set("pink_Matlab","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAlUlEQVQ4T+VTyQ2AMAyzU/b/sAXTsA+n0jS09IM4hIR4IBfHIKW22XftQiEYBIaMiJLT826WtM4njN+UWor9p9ZROQEZ0iMA/Gxo764p58YBivU8c3le6fuunf+28HS4sLqurmzuf9vhsVxYgsX5UqT9Yjz+j0XaI5xjfifSw6HDsYMCrY71e++wpAt6r8MNAE3d+Q6v73kT6FKU6qEAAAAASUVORK5CYII="),Fn.set("2hot","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAlElEQVQ4T+VTyw7DMAgzDdD2G/v/X7FHJq8gRUy7TJ2mqQcLMOFAjKVv6DAAXpAcY+2PPc6ZvMKDUwOaA00L2l6LA1PCgMkA0YgLgHVHj1wYiTl49pOLXJKLuaGWvuF+toVvhyxMRXVQ+iOFqax/XeHrIQvXs57jA3520nHWtEI56Qs0LDH6+J2HaR2+f3o34/94+AHB0CLoaujV1gAAAABJRU5ErkJggg=="),Fn.set("gist_earth","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAm0lEQVQ4T+WTzQrCQBCDv5n99cl66+P25dSOTDu1HgQRqpceQpJZWAgkMkyjNZ1palQl2LVR1GhidFE6QhOhOaNP3c3fEs7N9cKrL3MmzYVkZeUN4UUqUEH8V+fNV9AMmgK66xQ35xT3Rb8gZyjlLWSYxvlsge9nC3w7MvDFlPrvSnuFVfdaf6j09dvAHaXGno/bcAMpsenfbfgBpkt86Bn+d34AAAAASUVORK5CYII="),Fn.set("Haze","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAqklEQVQ4T8VUWxKDIAwMIelFPCjeuyZ2QpBSqy3OaPvBDIib1+4SeEgzogBFBY4KhJr3eaH4t3r2vf/nmGVxi4uS41RsufOz33Xhmnp4hct11DjPmOuclq/tK/AwKuL0/4apDLEd1DUNJ+lmOCgQncGwqWP2IX9SxjUNj1Nl+CX5jyW9ybBJtQzmPEmn+x7DEQVuux42G3gxX5k66GHLGd/ejcWnW+ro9/ADh/80vNSw528AAAAASUVORK5CYII="),Fn.set("Haze_green","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAlElEQVQ4T+VUQQ7DIAxLAqgv6vvYv1vCZAhtinacVk09RAE7gMAxvC65siiFpCSxkEQlCS4wR6RC3LK23AP11fiOoRb4OTa+4ZUYe9v6njt/1nu+Gj7yVBc8jn3s3AM3Prh16/JSlvKkC+dyn8JQhH6u8P4/CuOBnAU+tTSsKZMVri2dt/sU/paHR6dMHk72Z7gLvwEQyDHMFbb/rgAAAABJRU5ErkJggg=="),Fn.set("Haze_lime","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAk0lEQVQ4T81TUQ6FMAjrgGt4CC/tJXXby4BFjPphosv7YqzpoCukeVoqUQFzBbFHKiDPe1T87r7zOPLsfHjXcdZ4jRu296K5hN5CLX1brOcDT/a88zue5mkpYwQDxNk/4SxYuCKpmO8F5zGCzSVzfYDDUkDktYLjzeFtjOD/cXh9W3Aczdd3uO0stWnJEAbSwx3+AWa2MkOC82ICAAAAAElFTkSuQmCC"),Fn.set("Haze_cyan","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAp0lEQVQ4T+VU0Q7DIAikAvXFf3b/PcUF0LZZTLYs7fawBxK9E1A5WHJMTSiArAhCbhURBANI0D2BsFsjgkpsWO1rxdTGOcV3fnDcfT3O0ddi95jOsfGez3ONM+bHHZvmZShHfPPd77TcYpL6kwev0PSDv/3gHFP9twqX9yqMJrHzJH12hV3qLyWdY7pfUmHUfvuwh03m8x4u7PPA+efZwVA0J3Z80sMPESU1z7RU/B0AAAAASUVORK5CYII="),Fn.set("Black, Blue and White","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAXklEQVQ4T92TuwqAMAxFTwvmKtj//1ifgxVEsGToEodwlmQ4uUkCDhBgdGE2kMBaNDCBHvyYmZQpxlVqc3b0JGDvInovLIDwFl54hDKAN+E1vHA9da/w8kvhmvr770+O7xPo4c8kpAAAAABJRU5ErkJggg=="),Fn.set("Black, Orange and White","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAYElEQVQ4T92TywqAMAwEx4K7Cvb/P9YnIj0olPbQSz2EuSSHySYDcBoQ0IQBbJDylMGCFzMzwTMoPuUCtRR7BuBoIpoW1oHw3r3wFGG8069LeOteOJ16pfD6S+GU+ufvL47vE+hPhfMGAAAAAElFTkSuQmCC"),Fn.set("Black-Body Radiation","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAcklEQVQ4T82SyQrAIAxEn1FKl1Ohy/9/Z1dS7MGeDPXgIQTDMPiSccDVAx2g/a1S7yZE01KGnw9KGBFZYs1J917n6cwBpxV4ANrMBdUIfFiBLfoagXcLgGp/XVijrQaFIp4X6RWR6Ym7RnqzAlv0tV34BrWHE+gE36UrAAAAAElFTkSuQmCC"),Fn.set("Cool to Warm","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAx0lEQVQ4T92TMW4DMQwE504idX/yF/xoP8d1kMQnUtIFlIN07hw4SDEYtotdLqfz5ZCtIEXvbIoWmbeWjJQ8rRpOqK53JLygEoAIaD6+GUgaaAp3dG3I2slL2Mk4gpN7JQ8jdyO1SmrG2upk8TuYgYUrR1CNYZWxV3o1engPG74b7Wb4zfHwp2Mfhr079taoV2c5nS/jYeAtIzPo/wrc81bQv9ZwtDybfX7D7eUNDyP5b0/aqdc2J+2PAv/879Mn3VCM9IIf/gLj9LxcOY7OJQAAAABJRU5ErkJggg=="),Fn.set("Warm to Cool","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAA0ElEQVQ4T92Ty27CQBAEy96dGUgiznwB/3/g49iZfUQ2hhtKDkaKcij1uVXd0zVfhp0FPWX0S9BPRT4EOSpyFPKSByU9MZIp88GY1ZhMmdTgiTLEVnq+07LSslGTUmelJiMQKkJ0oY5M9IT3TLSEt5loM14XppUI8JWB+8Cj475RGu4VL5Uoj3S8BHFzomzcCtM1X/q/KrwUvy3FXxduuxdWY2x2/4phL07dDFc7Z/Qk75202H3O7570LwzH7oZ/+HBLhqNUlu/u++HHj19N+hshjKpp+CdA7QAAAABJRU5ErkJggg=="),Fn.set("Cool to Warm (Extended)","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAA30lEQVQ4T+WTu07EMAAEJ46fSUjLt93/F9BBiB3bceygO9HQQHOC4orVNtuMtNPB5VRWop2it5LeKqRTqEEjR3NrNWpuGytR7toK7QzmmuErVuMGyzgNzKNjniyTUYxaMhvJk1EMSjLLk+cuooRAxxda+KD6N9q6UJd3agi0sFF9oK4bx+IpfmPfIslvhHUjhkTyhZx2ci7kWEjpIB8dexXk1pNPTe40GUmmJwtBFj0dXNqjAddHAz7+D/iVFpY/v3S5B7C2muGbw47JyDs4vFJ8/NHhPRbiLw4nIdhFzydAO3orQqN1cQAAAABJRU5ErkJggg=="),Fn.set("Warm to Cool (Extended)","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAA6klEQVQ4T+WTvU7DMBRGz712k+bHLSwdkfJYfXck1KmV2HCakNiOUZgZIgaEYDgPcPR9R850uZJALQmnC04Tbhdpi0DbWOpGqWplf7QUzmCdxbQG0yi2MRin6EqtaLnDVCWmKbH1SoWpDtjqAS0fkfKEFCfEdFzME6954MrMLSVu0XKZLc/jwsuo+CGR+kj0C+IT2Sd0SORxQe4R6RPqwyf4mewD2U8sfiL1MzJO7Od3ah2RMKDxjsYeOdMt/004bRI+WIrDL174LZD7bQvHTcJ/6NLhK2FXBJqNDa8dy7caHrky/VjDEns+AEvpg4p+ccXrAAAAAElFTkSuQmCC"),Fn.set("Blue to Red Rainbow","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAWUlEQVQ4T+WTwQrAIAxDnzDQ7f+/VTfmVil4ck7ZcfRQGpL2EJo6EFmBAGh/wzP9695CBlKtvYN7nM7P+LHuQG5rhi9rhnNr2ANbE+//RToCx+NVNNKnpQsX/Pif8u6bT0gAAAAASUVORK5CYII="),Fn.set("Red to Blue Rainbow","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAWklEQVQ4T+WTUQuAIAyEPyFI+/+/1YqsidZDpBI+yh7GHdvu4djNCAg4wHJji//N+3SBiRVybQ++ea3X2u3RGYFLm+FTm+FQGp6B5RPvsSLtgb3yKinSh6YLRx8gn/KBGWDTAAAAAElFTkSuQmCC"),Fn.set("jet","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAUElEQVQ4T2Ns/1/xn5PhOwMHww8GEI3Mhonhohl+MDAwfGdgoDdNibWM7f8r/o00D/8daR7+Q8jDMHn0pE3zpAzLLmhpmNIk/ZuQh4dTHgYAGGMuhpYUxcAAAAAASUVORK5CYII="),Fn.set("rainbow","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAWUlEQVQ4T+WTzQqAMAyDv4Gw6fs/q244rRQ87YfiUXooDUl7CE0DgqxAArTPsKV/3VsqcLyVB3jE6bzFG3pAuL0ZvrwZrq3hCGxNvH8X6R0o/atopE9PF34Akwef8n4QTNkAAAAASUVORK5CYII="),Fn.set("hsv","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAWUlEQVQ4T2Nk+P//PwPDZwby8BcMfSwM3xl4GRiohlm+Y3EaprVEO5+R4f//f0SrxgiYoenhvyPNw39o5WEeBgYGPhKTN0g9SB8sW9AiSf+mlYepkZep7WEAn+jR8hNeDScAAAAASUVORK5CYII="),Fn.set("Rainbow Desaturated","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAr0lEQVQ4T92TsQ6CMBRFDwkOJUFIEMfyOf3/mUldBSyB0EREQySRIgNs6PByXrud3HcdpdKnMZqm0Yw53lvfhSQCeQAZQTLh0QN9/p7y8xfvGmQISQAymDCE2AUyIB843TPQFeQVFLXNvIaigrZz2Qthje951ttRKu3+STgQAn8kPSf8+DnhPuk+1SHptQm3mxIugOvMeS886SUJ323hEmNuVp/XdfgC+vTu8wY7/ALmVGBoc5I6iwAAAABJRU5ErkJggg=="),Fn.set("Cold and Hot","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAb0lEQVQ4T+WTzQpAUBBGz11Y4EEU74MHd9+CJRYXI39FISQWdzHN9E1NnZqjEBEqoIZNfytb3zEFoMeKyEjQxGgCJwcPcJn60by3v5kpRDrbgFvbgJs/gEMy0p9e2lwCHhwvH7j+hcP+7P/i84nXPT82uO2FaAb2AAAAAElFTkSuQmCC"),Fn.set("Rainbow Blended Black","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAeElEQVQ4T+WUywqAIBBFj61z3+P/P63aS7u0QlBQm1oVQS2G0etrLkdVwAYt0CHnZKxV+RRpmdeqCRguQ2OyU88q0DPgtxuLXGibqbH0uBBp22uxr4D1aDSa92V8z7B7k7BEtgeacOeeIGz/Rnh5k3D6eKRf5G7COyjIqVIQRHJVAAAAAElFTkSuQmCC"),Fn.set("Rainbow Blended Grey","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAfklEQVQ4T+WTOwqAMBBEn9Z+Wj+nsvIW3lrtRciCX6IRQpBYiYXFMLtTDAw7G1R1s4lKEEk5WKWInKwcnRwOFIbt2dbCHmi9iBkerbRlPALarnPY0bYhYqZkMbBnrV17UNXN+rfAy5eB70pSApkp0hsXnr8M7PuOtyo9/SnwDu6XDWHq89sRAAAAAElFTkSuQmCC"),Fn.set("Rainbow Blended White","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAcUlEQVQ4T+WTvQqAMAyEP53t7s/7P5rtXtysnhQUSil1Kg4O4ZIbDj6SdJLkHFgLJU09jcAEzLemfer1DlirZfCvUTHSbECMs5lmnvxAYOG4K+2j98ydpPNvwMeXwKUjWYB4TK02HL4Ern1HK+D9T8AX/1USYcw4csAAAAAASUVORK5CYII="),Fn.set("nic_CubicL","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAApUlEQVQ4T9WTSw6DMAwF59mBXo5TcUOuQ35VQoSKKnXFoiys8UtWT9Zo2dZqFpFFTI0Js71njRxUcCu4CqEzn3mSmBGzxITRc9/V984xAc73tocqvBMc4RXCoBewLKyAZzovOYEnHX/pGG/MQrGiCOwHW6ZxBy3bWu4o/JIIDymc7yj8pAunOwo/6cLxZ2FPBP7A4do8/XB6OPvtsKFYhsPN36vDbya36ax4ixSiAAAAAElFTkSuQmCC"),Fn.set("Spectral_lowBlue","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAgElEQVQ4T+WTQQ7EMAgDnf+/qQ8rBryCNFJ3L+05e7AYcwErZCgPIRNIAuFAEMiqDq2eT9/65fKtmJUBLV/MmD0rzi8uL6r7udgmp49WXLpzr8FrLDXH1/rFBtDVck+QAq36Ak9hKI/8t8CxU+AwwB5e2LcJXKfL55PmNoFf/OEPYpjKesZkFyMAAAAASUVORK5CYII="),Fn.set("Yellow 15","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAnklEQVQ4T+WTsYoDMQwFx7v//7UXIlmy9YKdJdXBXZdii2GMDYZXTJOGpAfSD6UHYDRsW9WhHGn5Yna0cTQcFtMgDaV/rAwUyduxzfK6i3G9TRQT5aJQCkVRIdSLcOFWm9FhBMxc3zQ8Gz0bcXmdPRq2DVYnVgemA28n1k6cgyaNutvgebfB426D83+DY/fMbw2XQTxR9u81fHX9V8Mv8S3IResi7K8AAAAASUVORK5CYII="),Fn.set("Asymmtrical Earth Tones (6_21b)","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAxUlEQVQ4T+WTS27DMAwFxxIp2UqPEeQCuf+lLMof2U0KJWkLdNFVUBTtYvDedvDI7ng6X8OQiOlAS58UNyguKT64Bx2iVzRckACx98TBf2br0ROkIUQVktwZVOhF6N9T/K1HUYJvBNQFfBcfJJw74LoX1mUnZyPnguURG/MtJzOWYsxmzGViKRPzVKhzZVsr21Kpa2Oj1sb+0bvj6Xz5b8Kvf1e43tf9svD+u4UL2Qwbn3fS248Kq6cXJYo8/4enyla//+E3Xh1NOvT2YcEAAAAASUVORK5CYII="),Fn.set("Green-Blue Asymmetric Divergent (62Blbc)","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAA2klEQVQ4T+WTu1IDMRAEW1pJq/MFFEQmcuQv8P//DhHJPVeSeZUPJwQEEPEIpnrTrp1xh9PxNXWK5sSFqYvEHIldICRBkhDUv98qG/WarJ5ePTt19OrI13TRoyGQJW7UoGhMaIhkEVQCSZTgesTtEN/hfcb5TAi3hHRPkRseamEojcEa1hqlnSmtYdPKOs6s08wyTMzDxDJOlNm21KVQV6OZbaxlpdpCmR9xh9Px5b8JP/9V4WpGW4xaP3746WcJ3xHS/vNKnxs2fr3SxRbqtdLn7wtftiu/asNvehtHVE0BanQAAAAASUVORK5CYII="),Fn.set("Muted Blue-Green","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAx0lEQVQ4T92TS27DMAxExxB/QoyeIOfJLvc/RbcSRVl2YbvpOi2KAs3iYUjuBsOZrrf7RmZIrEjEINFzZgURnzcSMAmE+FBlhbIdaiIw2dUwZ8PF8sGc9dxVkIWQJeGihLecMGeAqWKb3lF6gS8NbXS0JRDrglgHYhvwHvBoBzX2+aS1QPNdO7w6SnHU4vCHVofXhvZJj44H0/V2X79lmAVK/9vweMbwnrK+SMLLM4a/XvoFEu7JDPSDDgsr8i91OEaH/0GHPwChV7smZTI6wQAAAABJRU5ErkJggg=="),Fn.set("BkRd","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAYUlEQVQ4T8WSOwqAQAxE3+Lq/e+rrjKdCEqSEaySYr4kDTg6MAOalb3C+cuvAcMN7PKz5R0/Fd4dgepXZEte8U5eFd4iAhOwPLx9hP8l5q6lXMoX8VDhNQJ8w7j87LUdvxO00gny7iMvrwAAAABJRU5ErkJggg=="),Fn.set("BkGn","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAVUlEQVQ4T2NkYGD4z8DCwMDAysAApslhk6NngOxjZGBg+EeWJ5EdPMQ8/HekefgPUR5mZmBgYMOR7Ac6hkHuArmPCHeAkvRvYhTiVUOERRTbQaUsBACv1wnyhDHKpwAAAABJRU5ErkJggg=="),Fn.set("BkBu","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAVUlEQVQ4T2NkYGD4z8DAwsDAwMoAoclhk6NnYOxjZGBg+EeeJ5EdPLQ8/HekefgPcR5mZmBgYMOR7Ac6hkHuArmPsDtASfo3MQrxqyFsEeV2UCcLAQCq3AnypgxRmwAAAABJRU5ErkJggg=="),Fn.set("Purples","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAj0lEQVQ4T+VTWwrDMAyT5N3/AP3oeXqnbd2w0oQWCn2MMUY/gm3ZmBhJ7LvhJREKwXGeR9YTvtKPOn8ykoRIUEDLCf8ha2bufs6VmXmOiiWOqd8wA95Rdzn23TBe7eDnJwdHFDaaOg6w/SuGH9sHC7K8l5L/V0nffchN9st5D6fXi//2vsqwAmm44tcve/gNvYMTu+Wg0JMAAAAASUVORK5CYII="),Fn.set("Oranges","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAhElEQVQ4T9VT0Q6AIAg81P7KX/SLy2oQFA/W1uaaPTDGIeANjmrJG0IEYoJ4b5Fjh0vsMJ+XejPrp7VnTmttFmk/54n7N3CZy7jkAkBtoxvc3lMtee1LeDo+5EkORrj2JaxbTQmgMTe89CX8csMsC1yn/cVJz4+E+RxNU7/RMGudmjrfASUoE1Iv4qLWAAAAAElFTkSuQmCC"),Fn.set("PuBu","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAmUlEQVQ4T+VTQQ7DIAyLk+/3zJP6qXZrFScwtE4TEr1MO1QOxESY2ljKesAgUBUlQmBK5DprR2UvuI6+5odAU2l122NPGs8aP/Ysz9Y57HczP3E4DxD4WUhiX0vcn5zKTVzK+vw3wY9pwfmav/KH9zHBRmveZmkLi32ztNvbrfnOmbX0Nib4muF6oWuGldl65e++DLt4TGT4BCECE6fvwvj3AAAAAElFTkSuQmCC"),Fn.set("BuPu","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAhElEQVQ4T+WTSw6AIAxEZ4pH9lKexgP5DS0tkrjDjbqizJuSFBiO03wMJJIQiYDXuhZ9IApn8KtX1Fs91georue23HTjIoyVRLOv3HRmv/Yg6tyTdWNeV7/zYOM0738beOsaOBGCd73wej+wxDf92pdeul64ZLBm2C/qgQx7vku2n8jwCVBxE6z5mXacAAAAAElFTkSuQmCC"),Fn.set("BuGn","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAjElEQVQ4T+VTSQqAQAxLOv7a73n0R66kVUcUQVBE8VDSHUoalnU1JA6QFUILX2YH+bkePUQiYbSVP+cyLn2IXs1QhpgTKlbNowmpvcps8j6zqin2TsepttnvM2Vd9X87uNsfDCT2tzBciBkis/8ChttDhvXe2L/611+6ufzSFvrJen5KwwkGhJZPangEi8xdZol1lYAAAAAASUVORK5CYII="),Fn.set("GnBu","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAlElEQVQ4T+VTWw6DMAzzo2flZJyEa409lLTAmKYNJDQJTf1w6qQfbmx2Q38vFCxjQcMSTKOsUCgyvJpXfcfoNcz+G67x07xIkITiRA0milrqqFj7yc6INhOI5CsC+nTvhv72b4Kv2wVPG392xPk2PG4XLBQbxvGCHV78kaUvuwR/y7CEkh/ymuHIPpPfm+HM9EEZfgBX1hOn6/4s/AAAAABJRU5ErkJggg=="),Fn.set("PuRd","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAfElEQVQ4T+VTyw7AIAhr0f3rfsuv9LBnRBbN5smDS7YDKdRCJA2MczjgCXgBE7qcK+cIVnlTI6YT5N4UysEw11T+phEBUtDQaj741NvQklAtr3farILU2VUd57A3F57sox9ceBvrsBT3X3J4/ZvDy1iHqzvvcbi++Y4bPgEMFROEHSZGdgAAAABJRU5ErkJggg=="),Fn.set("RdPu","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAnElEQVQ4T+VTWw7DIAyzDTsq9+NG3T26wUQCVVmlaR/dpGkfKOSBURKbS8q1BqFEwmx4sj1+yEWvpQQGAqLZ2Re4i8Pycx2DoBELjqWOOd8dS+MPwrHYDtya73fDHHHL9Zol5fKy4QtRpeMwfrjh+79t+Pb5DTsdB6UbLbHR9suUvqa8lrM0HJtu9pp+V8PtDdD0PHRrQ5n0fI6GH7KlXmuUkZHCAAAAAElFTkSuQmCC"),Fn.set("RdOr","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAjUlEQVQ4T9VT0Q6DMAi8o/3JfpRfbKdLEbRdfJBkW/SBAAchOQ5Yp7IiJeyWE6i5HFhfH2IBpDPyyOk4gT0Wi62PCWgm5i2m9o+Yzhh6LXdcvYA686y24axTWeKEsy3kmYRfccJ+EUa4XYNu9VcK5232lxSuccJ3U9gXcu2k5zjhD4X9j0MKd7/2xx9+A3wmE2GgDJ73AAAAAElFTkSuQmCC"),Fn.set("BuRd","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAq0lEQVQ4T+VTMQ7DQAjz9f/vPSmATUVpmg4d0uoydUA2iMWyPeaceUsCDAzFgQoMBiAHwgHWxBvve4Yh3Zp78/2W7pA7aAFZ88LH/rrHY++fg9OLE3Q11mw9YYJTMBYmPHr3SFgIpoQxsRXqQMvEmHPq3wRziWA60q5wuFwV6ITK3QUOxxLBiyJdsY6K9leR5jPa5yLtnwUTo3p7cYdzF/hLh6u7OtthwRK4A4HRK8JPJN7MAAAAAElFTkSuQmCC"),Fn.set("GnRP","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAApklEQVQ4T+VTQQrDMAxz///fHCrJHYqTtgw2NjrYYAcjWclFyFpaa1tkRCpj09YnO9Zu7rdkhsyZtQ8u62N44qK6TiO0o/VdQ711bXL/7ZyhVZFrYU1xgjVEkMbTDgasayDRd4hBIZbWWv6bYV02rAzBaR5p/2LCGAnzsmGfOTPwDcM+bZ/rPPEXThpPDefo7V2H3e/qrnH29dMJZ+SKtzqMafxBh28D+XLa7dKmVQAAAABJRU5ErkJggg=="),Fn.set("GYPi","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAl0lEQVQ4T+VTywoCMRBL//9/rbuTZKSdouhBRPew4CHk0VPopPV+yWYABpoTcKL84PITSqQeGvLMkyM3kgtTV+YQMgQHX3jkhPdC7rrr8uttI7wRug4OuHNCG0EWJJWO5UMIEWGCk1V6cev94n8rrMMLj2vgeX+Yhxc++UnHx4XXlsee328YSI3t/rphze1+v+FA2E8bvgEqfyiJNWxHKwAAAABJRU5ErkJggg=="),Fn.set("GBBr","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAmElEQVQ4T+VTyw7DMAhz/v9308PAwERCo3aXrdoOm3ZAfnCywK1vPVoYEARC0RI9+dQxtCIOc9ROgdvD7B4Fpje4FOrE4Q0usLFTcNeFVEJpIB2kFU9d3AJqDmWAxSfmoDwMnh59Yutb938LbNcC58VlXfwXL8xrgfX04iuwCxb/8pfWjwQ+9viVwNnv7O/TDs8ezz6/3+E7c0Y70T8nz20AAAAASUVORK5CYII="),Fn.set("PRGn","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAl0lEQVQ4T+WT0WpDMQxDdf//fwM3kuyi3LTbWzsY7WAEcyyRF8XOMcboQo7h9hfbceDW8kNtrr7uXnqCFV7F5kUTMyXi9Fy86wfjpZg7u5cwKTCl0IuTxtzaMkzDqkVtra3rO1VoGvGOMUb9t8D+WOBMlO+fsF4PXHDzWu+frLSJU39npfkscLWht/3hPIx/+Q8bnZQq3ABoeWf/yz5kpwAAAABJRU5ErkJggg=="),Fn.set("PiYG","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAiElEQVQ4T92TQQ7DQAgDnf//N6sGGyqzG6mnqD12D2gYxMVCHGOcVUgkiIKQJRSIhGl3H5BZnwwIhPIC8wWWeddyXQjNmdl9M5YHSPezaLZ7TyAFKhFm92YuFsiC2k17Lk4XAeneQ8+OMc7cKrADxnNgbRW4L/0cmFsF/uLC8WvgqgD9z3/4w29mxUtY5qAONAAAAABJRU5ErkJggg=="),Fn.set("OrPu","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAApUlEQVQ4T+WTwQ7DMAhDnf//33QJNkw06VppmtZqp2oHy0ByseCVpdYoYShugPcP3lDUgVT+mQ41rOL0Qx1sCHY425DN2kavlBFOg1I23NkhdpACGaACor/qbUZhfUs33+u9z3lZ3+mATS9Lrf4vgeVABtadAosBm5s9veHtCmZg3inwLye9bdhOB/bB8c5w9o/rDCv5fWd48Jssf2E42T5we4XhJ6yo2OFpMEgEAAAAAElFTkSuQmCC"),Fn.set("BrBG","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAfklEQVQ4T+WTsQ4DMQxCuf//3dzQGOyKXHLt0KHdKmWwHuCJgaOdrVQAK8EqqOrW9s7Dl4saeuSZ6Cl06TNJPEj0dfHyziP8i0miD28GggTfb2YrTxIpYpBE+XQRU5uQvUZmfbSz5W6FtVth7lY4fi/sbV9b/osNx9zvFxt+AsjWWUD6OtYJAAAAAElFTkSuQmCC");var Ra=Fn;function ea(h,T){var be=typeof Symbol!="undefined"&&h[Symbol.iterator]||h["@@iterator"];if(!be){if(Array.isArray(h)||(be=function(vt,ct){if(!!vt){if(typeof vt=="string")return ya(vt,ct);var pt=Object.prototype.toString.call(vt).slice(8,-1);if(pt==="Object"&&vt.constructor&&(pt=vt.constructor.name),pt==="Map"||pt==="Set")return Array.from(vt);if(pt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pt))return ya(vt,ct)}}(h))||T&&h&&typeof h.length=="number"){be&&(h=be);var Q=0,te=function(){};return{s:te,n:function(){return Q>=h.length?{done:!0}:{done:!1,value:h[Q++]}},e:function(vt){throw vt},f:te}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var je,Le=!0,We=!1;return{s:function(){be=be.call(h)},n:function(){var vt=be.next();return Le=vt.done,vt},e:function(vt){We=!0,je=vt},f:function(){try{Le||be.return==null||be.return()}finally{if(We)throw je}}}}function ya(h,T){(T==null||T>h.length)&&(T=h.length);for(var be=0,Q=new Array(T);be<T;be++)Q[be]=h[be];return Q}var Va=function(h){var T={selectedIconWidth:230,selectedIconHeight:22,selectedBoxPadding:1,iconsWidth:60,iconsHeight:22,boxIconSpace:1,vectoralIconNumber:3,horizontalIconNumber:20},be=new aa.a("".concat(h.id),h,T);h.style.width="244px";var Q,te=new Array(60),je=0,Le=ea(Ra.entries());try{for(Le.s();!(Q=Le.n()).done;){var We=Fr()(Q.value,2),vt=We[0],ct=We[1];te[3*Math.floor(je%20)+Math.floor(je/20)]={iconFilePath:ct,iconValue:vt},je++}}catch(pt){Le.e(pt)}finally{Le.f()}return be.refresh(te),be},ta=document.createElement("canvas"),xa=240;ta.setAttribute("width",xa),ta.setAttribute("height",20);var ba=function(h,T){for(var be=ta.getContext("2d"),Q=h.getUint8Table(T[0],T[1],xa,4),te=be.getImageData(0,0,xa,256),je=0;je<256;je++)te.data.set(Q,4*je*xa);for(var Le=256*xa*4,We=4*xa,vt=3;vt<Le;vt+=4)te.data[vt]=255-Math.floor(vt/We);return be.putImageData(te,0,0),ta.toDataURL("image/png")},pa=function(h,T){var be=document.createElement("input");be.type="number",be.setAttribute("class",f.a.numberInput);var Q=document.createElement("input");function te(){for(var Ut=h.imageUI.fusedImageLabelMap.getPointData().getScalars(),Rt=h.imageUI.totalIntensityComponents,Wt=0;Wt<Rt;Wt++){var kt=Ut.getRange(Wt);if(be.min=kt[0],be.max=kt[1],Q.min=kt[0],Q.max=kt[1],Ut instanceof Float32Array||Ut instanceof Float64Array){var mn=(kt[1]-kt[0])/1e3;be.step=mn,Q.step=mn}h.imageUI.colorRanges.length-1<Wt&&(be.value=kt[0],Q.value=kt[1],h.imageUI.colorRanges[Wt]=kt)}}function je(){var Ut=h.imageUI.colorRanges[h.imageUI.selectedComponentIndex];Ut[0]!==void 0&&(be.value=Ut[0]),Ut[1]!==void 0&&(Q.value=Ut[1])}Q.type="number",Q.setAttribute("class",f.a.numberInput),Object(d.e)(function(){return h.imageUI.image},function(Ut){te()}),Object(d.e)(function(){return h.imageUI.colorRanges.slice()},function(Ut){je()}),Object(d.e)(function(){return h.imageUI.selectedComponentIndex},function(Ut){je()}),be.addEventListener("change",Object(d.a)(function(Ut){Ut.preventDefault(),Ut.stopPropagation();var Rt=h.imageUI.selectedComponentIndex;h.imageUI.colorRanges[Rt]=[Number(Ut.target.value),h.imageUI.colorRanges[Rt][1]]})),Q.addEventListener("change",Object(d.a)(function(Ut){Ut.preventDefault(),Ut.stopPropagation();var Rt=h.imageUI.selectedComponentIndex;h.imageUI.colorRanges[Rt]=[h.imageUI.colorRanges[Rt][0],Number(Ut.target.value)]})),te(),je();var Le=document.createElement("div");Le.id="".concat(h.id,"-imageColorMapSelector"),T.appendChild(be),T.appendChild(Le),T.appendChild(Q);var We=Va(Le),vt=null;function ct(){var Ut=h.imageUI.selectedComponentIndex,Rt=h.imageUI.colorMaps[Ut],Wt=h.imageUI.lookupTableProxies[Ut],kt=Wt.getLookupTable(),mn=h.imageUI.transferFunctionWidget;if(Rt.startsWith("Custom")){Wt.setMode(Dr.a.Mode.RGBPoints),Object(Ca.a)(h,Ut);var dn=mn.getOpacityRange();dn&&kt.setMappingRange.apply(kt,vr()(dn)),kt.updateRange();var an=We.getIcons();if(vt){if(an[an.length-1].iconValue!==Rt){var In=ba(kt,dn);an[an.length-1].element.src=In,an[an.length-1].iconFilePath=In,an[an.length-1].iconValue=Rt,an[an.length-1].element.setAttribute("icon-value",Rt),an[an.length-1].element.setAttribute("alt",Rt),an[an.length-1].element.setAttribute("title",Rt)}}else{var Wn=ba(kt,dn);vt={iconFilePath:Wn,iconValue:Rt},icons.push(vt),We.refresh(icons)}}else{Wt.setPresetName(Rt),Wt.setMode(Dr.a.Mode.Preset),Object(Ca.a)(h,Ut);var Vn=mn.getOpacityRange();Vn&&kt.setMappingRange.apply(kt,vr()(Vn)),kt.updateRange()}We.setSelectedValue(Rt),mn.render(),h.renderWindow.getInteractor().isAnimating()||h.renderWindow.render()}Object(d.e)(function(){return h.imageUI.colorMaps.slice()},function(Ut){ct()}),Object(d.e)(function(){return h.imageUI.selectedComponentIndex},function(Ut){ct()}),Le.addEventListener("changed",Object(d.a)(function(Ut){Ut.preventDefault(),Ut.stopPropagation();var Rt=h.imageUI.selectedComponentIndex;h.imageUI.colorMaps[Rt]=We.getSelectedValue()})),h.imageUI.independentComponents||(Le.style.display="none");var pt=h.imageUI.selectedComponentIndex;We.setSelectedValue(h.imageUI.colorMaps[pt])},$a=a(167),Na=a.n($a),eo=function(h,T){var be=document.createElement("div");be.innerHTML=`
    <div itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="Blend mode"
      class="`.concat(f.a.blendModeButton,`">
      `).concat(Na.a,`
    </div>
    `);var Q=be.children[0];Object(B.a)(h,"invertibleButton",Q),T.appendChild(be);var te=document.createElement("select");te.setAttribute("class",f.a.selector),te.id="".concat(h.id,"-colorMapSelector"),te.innerHTML=`<option selected value="0">Composite</option>
    <option value="1">Maximum</option>
    <option value="2">Minimum</option>
    <option value="3">Average</option>`,be.appendChild(te),Object(d.e)(function(){return h.imageUI.blendMode},function(je){(function(Le){h.imageUI.representationProxy.getMapper().setBlendMode(Le),h.renderWindow.render(),te.value=Le})(je)}),te.addEventListener("change",function(je){je.preventDefault(),je.stopPropagation(),h.imageUI.blendMode=parseInt(je.target.value)}),T.appendChild(te)},Sa=a(81),ga=a(86),po=function(h,T){var be=h.id,Q=(h.eventEmitter,document.createElement("div"));Q.setAttribute("class",f.a.selector),Q.id="".concat(be,"-componentSelector");var te=document.createElement("div");function je(){var Le=h.imageUI.totalIntensityComponents;Le>1&&h.imageUI.independentComponents?te.style.display="flex":te.style.display="none",Q.innerHTML=new Array(Le).fill(void 0).map(function(We,vt){return vt}).map(function(We,vt){return'<input name="tabs" type="radio" id="tab-'.concat(vt,'" ').concat(We===0?'checked="checked"':"",' class="').concat(f.a.componentTab,'" data-component-index="').concat(vt,'"/><label for="tab-').concat(vt,'" class="').concat(f.a.compTabLabel,'">&nbsp;').concat(vt,'&nbsp;<input type="checkbox" ').concat(h.imageUI.componentVisibilities[We].visible?'checked="checked"':"",' class="').concat(f.a.componentVisibility,'" data-component-index="').concat(vt,'"></label>')}).join(""),Q.value=0,h.imageUI.selectedComponentIndex=0}return te.setAttribute("class",f.a.uiRow),te.setAttribute("style","padding-bottom: 0px;"),te.className+=" ".concat(be,"-volumeComponents ").concat(be,"-toggle"),Object(d.e)(function(){return h.imageUI.fusedImageLabelMap},function(Le){je()}),je(),h.eventEmitter.on("fusingStatusChanged",function(Le){(function(We){Q.querySelectorAll('input[type="checkbox"],label').forEach(function(vt){We?vt.classList.add(f.a.componentDisabled):vt.classList.remove(f.a.componentDisabled)})})(Le)}),Q.addEventListener("change",Object(d.a)(function(Le){Le.preventDefault(),Le.stopPropagation();var We=Number(Le.target.dataset.componentIndex);if(Le.target.type==="radio")h.imageUI.selectedComponentIndex=We;else if(Le.target.type==="checkbox"){var vt=Le.target.checked,ct=h.imageUI.visualizedComponents.indexOf(We),pt=-1;if(vt&&ct<0)if(h.imageUI.visualizedComponents.length>=h.imageUI.maximumIntensityComponents){var Ut=h.imageUI.visualizedComponents.indexOf(h.imageUI.lastComponentVisibilityChanged);pt=Ut,h.imageUI.componentVisibilities[pt].visible=!1}else h.imageUI.visualizedComponents.push(We);h.imageUI.lastComponentVisibilityChanged=We,h.imageUI.componentVisibilities[We].visible=vt,pt>=0&&(h.eventEmitter.emit("fusingStatusChanged",!0),setTimeout(function(){h.imageUI.visualizedComponents.splice(pt,1,We)},0))}})),Object(d.e)(function(){return h.imageUI.componentVisibilities.map(function(Le){return"".concat(Le.visible,",").concat(Le.weight)})},function(Le){(function(vt){vt.forEach(function(ct,pt){Q.querySelector('input[data-component-index="'.concat(pt,'"][type="checkbox"]')).checked=ct})})(h.imageUI.componentVisibilities.map(function(vt){return vt.visible})),Object(Sa.a)(h),Object(ga.a)(h);var We=h.renderWindow;We.getInteractor().isAnimating()||We.render()}),te.appendChild(Q),T.appendChild(te),Q},Qa=a(59),ja=a(100),Ya=function(h,T){if(Object(Ca.a)(h,T),h.imageUI.syncColorMapRangeToOpacityRange){var be=h.imageUI.lookupTableProxies[T].getLookupTable(),Q=h.imageUI.transferFunctionWidget.getOpacityRange();be.setMappingRange.apply(be,vr()(Q)),be.updateRange()}var te=h.renderWindow;te.getInteractor().isAnimating()||te.render()},yo=a(101),Ga=a(87),ao=a(102),se=function(h,T,be){var Q=h.renderWindow,te=ja.a.newInstance({numberOfBins:256,size:[400,150]});h.imageUI.transferFunctionWidget=te,te.setEnableRangeZoom(!0);var je=20;be&&(je=0),te.updateStyle({backgroundColor:"rgba(255, 255, 255, 0.2)",histogramColor:"rgba(30, 30, 30, 0.6)",strokeColor:"rgb(0, 0, 0)",activeColor:"rgb(255, 255, 255)",handleColor:"rgb(70, 70, 150)",buttonDisableFillColor:"rgba(255, 255, 255, 0.5)",buttonDisableStrokeColor:"rgba(0, 0, 0, 0.5)",buttonStrokeColor:"rgba(0, 0, 0, 1)",buttonFillColor:"rgba(255, 255, 255, 1)",strokeWidth:2,activeStrokeWidth:3,buttonStrokeWidth:1.5,handleWidth:2,zoomControlHeight:20,zoomControlColor:"rgba(50, 50, 100, 1)",iconSize:je,padding:10});var Le=h.imageUI.image.getPointData().getScalars();te.setDataArray(Le.getData(),{numberOfComponents:h.imageUI.totalIntensityComponents,component:h.imageUI.selectedComponentIndex});var We=document.createElement("div");We.setAttribute("id","piecewiseWidgetContainer"),We.setAttribute("class",f.a.piecewiseWidget),te.setContainer(We),te.bindMouseListeners(),te.onAnimation(function(dn){dn?Q.getInteractor().requestAnimation(te):(Q.getInteractor().cancelAnimation(te),Q.render())}),te.onOpacityChange(function(){var dn=h.imageUI.selectedComponentIndex;Ya(h,dn)}),Object(d.e)(function(){return h.imageUI.colorRanges.slice()},function(dn){var an=h.imageUI.selectedComponentIndex,In=dn[an],Wn=te.getGaussians(),Vn=Wn.slice(),Mr=h.imageUI.image.getPointData().getScalars().getRange(an),ia=Mr[1]-Mr[0],lr=new Array(2);lr[0]=(In[0]-Mr[0])/ia,lr[1]=(In[1]-Mr[0])/ia;for(var ua=1/0,Hr=-1/0,_r=Wn.length;_r--;){var qr=Vn[_r],Tr=qr.position,na=qr.width,qt=qr.xBias,Ma=qr.yBias;if(Tr-na<lr[0]&&(Tr=lr[0]+na,Vn[_r].position=Tr,Tr+na>lr[1])){var ka=(lr[1]-lr[0])/2;Tr=lr[0]+ka,Vn[_r].position=Tr,Vn[_r].width=ka,Vn[_r].xBias=ka/na*qt,Vn[_r].yBias=ka/na*Ma}if(Tr+na>lr[1]&&(Tr=lr[1]-na,Vn[_r].position=Tr,Tr-na<lr[0])){var ro=(lr[1]-lr[0])/2;Tr=lr[0]+ro,Vn[_r].position=Tr,Vn[_r].width=ro,Vn[_r].xBias=ro/na*qt,Vn[_r].yBias=ro/na*Ma}ua=Math.min(ua,Tr-na),Hr=Math.max(Hr,Tr+na)}if(lr[0]<ua||lr[1]>Hr){var Za=(lr[1]-lr[0])/2,Lo=lr[0]+Za;Vn[0].position=Lo,Vn[0].xBias=Za/Vn[0].width*Vn[0].xBias,Vn[0].yBias=Za/Vn[0].width*Vn[0].yBias,Vn[0].width=Za}te.setRangeZoom(lr),h.imageUI.opacityGaussians[an]=Vn,te.setGaussians(Vn)});var vt=Object(d.a)(function(dn){var an=h.imageUI.selectedComponentIndex,In=h.imageUI.image.getPointData().getScalars().getRange(an),Wn=In[1]-In[0],Vn=new Array(2);Vn[0]=In[0]+dn[0]*Wn,Vn[1]=In[0]+dn[1]*Wn,h.imageUI.colorRanges[an]=Vn});function ct(){for(var dn=h.imageUI.totalIntensityComponents,an=[],In=0;In<dn;In++)h.imageUI.opacityGaussians.length>In?an.push(h.imageUI.opacityGaussians[In]):be?an.push([{position:.5,height:1,width:.5,xBias:0,yBias:3}]):an.push([{position:.5,height:1,width:.5,xBias:.51,yBias:.4}]);h.imageUI.opacityGaussians.replace(an),Object(yo.a)(h)}te.onZoomChange(m.b.throttle(vt,150)),Object(d.e)(function(){return h.imageUI.selectedComponentIndex},function(dn){Object(Ga.a)(h,dn),Object(ao.a)(h,dn),Q.getInteractor().isAnimating()||Q.render()}),Object(d.e)(function(){return h.imageUI.image},function(dn){ct()}),ct();var pt=document.createElement("div");pt.setAttribute("class",f.a.uiRow),pt.setAttribute("style","background: rgba(127, 127, 127, 0.5);"),pt.className+=" ".concat(h.id,"-toggle"),pt.appendChild(We),T.appendChild(pt);var Ut=Qa.a.newInstance({button:1,alt:!0});h.imageUI.transferFunctionManipulator.rangeManipulator=Ut,h.imageUI.transferFunctionManipulator.windowGet=function(){return te.getGaussians()[0].width*h.imageUI.windowMotionScale},h.imageUI.transferFunctionManipulator.windowSet=function(dn){var an=te.getGaussians().slice();an[0].width=dn/h.imageUI.windowMotionScale,h.imageUI.opacityGaussians[h.imageUI.selectedComponentIndex]=an,te.setGaussians(an)},h.imageUI.transferFunctionManipulator.levelGet=function(){return te.getGaussians()[0].position*h.imageUI.levelMotionScale},h.imageUI.transferFunctionManipulator.levelSet=function(dn){var an=te.getGaussians().slice();an[0].position=dn/h.imageUI.levelMotionScale,h.imageUI.opacityGaussians[h.imageUI.selectedComponentIndex]=an,te.setGaussians(an)},h.itkVtkView.getInteractorStyle2D().addMouseManipulator(Ut),h.itkVtkView.getInteractorStyle3D().addMouseManipulator(Ut),Object(Ga.a)(h,h.imageUI.selectedComponentIndex);var Rt=Qa.a.newInstance({button:3,alt:!0}),Wt=Qa.a.newInstance({button:1,shift:!0,alt:!0}),kt=function(){return 200*te.getGaussians()[0].height},mn=function(dn){var an=te.getGaussians().slice();an[0].height=dn/200,h.imageUI.opacityGaussians[h.imageUI.selectedComponentIndex]=an,te.setGaussians(an)};Rt.setVerticalListener(0,200,1,kt,mn),Wt.setVerticalListener(0,200,1,kt,mn),h.itkVtkView.getInteractorStyle3D().addMouseManipulator(Rt),h.itkVtkView.getInteractorStyle3D().addMouseManipulator(Wt)},ue=a(170),De=a.n(ue),$e=function(h,T,be){var Q=h.id,te=document.createElement("div");te.innerHTML='<input id="'.concat(Q,'-toggleSlicingPlanesButton" type="checkbox" class="').concat(f.a.toggleInput,'"><label itk-vtk-tooltip itk-vtk-tooltip-top-annotation itk-vtk-tooltip-content="View planes [s]" class="').concat(f.a.viewPlanesButton," ").concat(f.a.toggleButton,'" for="').concat(Q,'-toggleSlicingPlanesButton">').concat(De.a,"</label>");var je=te.children[0],Le=te.children[1];Object(B.a)(h,"tooltipButton",Le),Object(d.b)(function(){(function(){var We=h.imageUI.slicingPlanesEnabled;je.checked=We,h.itkVtkView.setViewPlanes(We);var vt=h.mainUI.uiContainer,ct=vt.querySelector(".".concat(Q,"-x-plane-row")),pt=vt.querySelector(".".concat(Q,"-y-plane-row")),Ut=vt.querySelector(".".concat(Q,"-z-plane-row"));h.itkVtkView.getViewMode()==="VolumeRendering"&&(We?(ct.style.display="flex",pt.style.display="flex",Ut.style.display="flex"):(ct.style.display="none",pt.style.display="none",Ut.style.display="none"))})()}),te.addEventListener("change",Object(d.a)(function(We){We.preventDefault(),We.stopPropagation(),h.imageUI.slicingPlanesEnabled=!h.imageUI.slicingPlanesEnabled})),be.appendChild(te)},et=a(171),mt=a.n(et),_t=function(h,T){var be=document.createElement("div");be.innerHTML='<input id="'.concat(h.id,'-toggleShadowButton" type="checkbox" class="').concat(f.a.toggleInput,'" checked><label itk-vtk-tooltip itk-vtk-tooltip-top-annotation itk-vtk-tooltip-content="Use shadow" class="').concat(f.a.shadowButton," ").concat(f.a.toggleButton,'" for="').concat(h.id,'-toggleShadowButton">').concat(mt.a,"</label>");var Q=be.children[0],te=be.children[1];Object(B.a)(h,"invertibleButton",te),Object(d.b)(function(){(function(){var je=h.imageUI.useShadow;Q.checked=je,h.imageUI.representationProxy.setUseShadow(je),h.renderWindow.render()})()}),be.addEventListener("change",function(je){je.preventDefault(),je.stopPropagation(),h.imageUI.useShadow=!h.imageUI.useShadow}),T.appendChild(be)},yn=a(172),_n=a.n(yn),ir=a(113),wr=function(h,T){var be=document.createElement("div");be.setAttribute("class",f.a.sliderEntry),be.innerHTML=`
    <div itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="Volume sample distance" class="`.concat(f.a.sampleDistanceButton,`">
      `).concat(_n.a,`
    </div>
    <input type="range" min="0" max="1" value="0.25" step="0.01"
      class="`).concat(f.a.slider," ").concat(h.id,'-spacing" />');var Q=be.querySelector(".".concat(h.id,"-spacing")),te=be.children[0];Object(B.a)(h,"invertibleButton",te),Object(d.e)(function(){return h.imageUI.volumeSampleDistance},m.b.throttle(function(){Q.value=h.imageUI.volumeSampleDistance,Object(ir.a)(h)},20)),Q.addEventListener("input",Object(d.a)(function(je){je.preventDefault(),je.stopPropagation(),h.imageUI.volumeSampleDistance=Number(Q.value)})),T.appendChild(be)},xr=a(64),sr=a(173),Or=a.n(sr),Ur=function(h,T){var be=document.createElement("div");be.setAttribute("class",f.a.sliderEntry),be.innerHTML=`
    <div itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="Gradient opacity" class="`.concat(f.a.gradientOpacitySlider,`">
      `).concat(Or.a,`
    </div>
    <input type="range" min="0" max="1" value="0.2" step="0.01"
      id="`).concat(h.id,`-gradientOpacitySlider"
      class="`).concat(f.a.slider,'" />');var Q=be.querySelector("#".concat(h.id,"-gradientOpacitySlider")),te=be.children[0];Object(B.a)(h,"invertibleButton",te),Object(d.e)(function(){return h.imageUI.gradientOpacity},m.b.throttle(function(){Q.value=h.imageUI.gradientOpacity,Object(xr.a)(h)},20,!1)),Q.addEventListener("input",Object(d.a)(function(je){je.preventDefault(),je.stopPropagation(),h.imageUI.gradientOpacity=Number(Q.value)})),T.appendChild(be)},Ta=a(174),Xr=a.n(Ta),za=a(75),Eo={numberOfPoints:10,center:[0,0,0],radius:.5,pointType:"Float32Array"};function oo(h,T){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(T,Eo,be),m.b.obj(h,T),m.b.setGet(h,T,["numberOfPoints","radius"]),m.b.setGetArray(h,T,["center"],3),m.b.algo(h,T,0,1),function(Q,te){te.classHierarchy.push("vtkPointSource"),Q.requestData=function(je,Le){if(!te.deleted){var We=Le[0],vt=We?We.getPoints().getDataType():"Float32Array",ct=rt.a.newInstance(),pt=te.numberOfPoints,Ut=new window[vt](3*pt);ct.getPoints().setData(Ut,3);var Rt,Wt,kt,mn,dn,an=new Uint32Array(pt+1);ct.getVerts().setData(an,1);for(var In=0;In<pt;In++)Rt=1-2*_e.z(),Wt=Math.sqrt(1-Rt*Rt),mn=(kt=te.radius*Math.pow(_e.z(),.33333333))*Wt,dn=2*Math.PI*_e.z(),Ut[3*In]=te.center[0]+mn*Math.cos(dn),Ut[3*In+1]=te.center[1]+mn*Math.sin(dn),Ut[3*In+2]=te.center[2]+kt*Rt;an[0]=pt;for(var Wn=0;Wn<pt;Wn++)an[Wn+1]=Wn;Le[0]=ct}}}(h,T)}var io={newInstance:m.b.newInstance(oo,"vtkPointSource"),extend:oo},Aa={OUTSIDE:0,NEARBY:1,SELECTING:2,TRANSLATING:3,SCALING:4},to={InteractionState:Aa},ma=a(50),Xa={pixelTolerance:5,worldTolerance:.001};function so(h,T){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(T,Xa,be),m.b.obj(h,T),m.b.setGet(h,T,["pixelTolerance","worldTolerance"]),function(Q,te){te.classHierarchy.push("vtkPointPlacer"),Q.computeWorldPosition=function(je,Le,We){if(je){var vt=ma.a.newInstance();return vt.setCoordinateSystemToDisplay(),vt.setValue(Le[0],Le[1]),We[0]=vt.getComputedWorldValue(je)[0],We[1]=vt.getComputedWorldValue(je)[1],We[2]=vt.getComputedWorldValue(je)[2],1}return 0}}(h,T)}var Ea={newInstance:m.b.newInstance(so,"vtkPointPlacer"),extend:so};function bo(h,T){var be=Object.keys(h);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(h);T&&(Q=Q.filter(function(te){return Object.getOwnPropertyDescriptor(h,te).enumerable})),be.push.apply(be,Q)}return be}function zo(h,T,be){return T in h?Object.defineProperty(h,T,{value:be,enumerable:!0,configurable:!0,writable:!0}):h[T]=be,h}var ii=to.InteractionState,Wo={displayPosition:null,worldPosition:null,tolerance:15,activeRepresentation:0,constrained:0,pointPlacer:null};function Ao(h,T){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(T,Wo,be),Me.extend(h,T,be),T.displayPosition=ma.a.newInstance(),T.displayPosition.setCoordinateSystemToDisplay(),T.worldPosition=ma.a.newInstance(),T.worldPosition.setCoordinateSystemToWorld(),T.pointPlacer=Ea.newInstance(),T.interactionState=ii.OUTSIDE,m.b.setGet(h,T,["activeRepresentation","tolerance"]),function(Q,te){te.classHierarchy.push("vtkHandleRepresentation"),Q.setDisplayPosition=function(je){if(te.renderer&&te.pointPlacer){var Le=[];te.pointPlacer.computeWorldPosition(te.renderer,je,Le)&&(te.displayPosition.setValue(je),te.worldPosition.setValue(Le))}else te.displayPosition.setValue(je)},Q.getDisplayPosition=function(je){if(te.renderer){var Le=te.worldPosition.getComputedDisplayValue(te.renderer);te.displayPosition.setValue(Le[0],Le[1],0)}je[0]=te.displayPosition.getValue()[0],je[1]=te.displayPosition.getValue()[1],je[2]=te.displayPosition.getValue()[2]},Q.getDisplayPosition=function(){if(te.renderer){var je=te.worldPosition.getComputedDisplayValue(te.renderer);te.displayPosition.setValue(je[0],je[1],0)}return te.displayPosition.getValue()},Q.setWorldPosition=function(je){te.worldPosition.setValue(je)},Q.getWorldPosition=function(je){te.worldPosition.getValue(je)},Q.getWorldPosition=function(){return te.worldPosition.getValue()}}(h,T)}var Ro=function(h){for(var T=1;T<arguments.length;T++){var be=arguments[T]!=null?arguments[T]:{};T%2?bo(Object(be),!0).forEach(function(Q){zo(h,Q,be[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(be)):bo(Object(be)).forEach(function(Q){Object.defineProperty(h,Q,Object.getOwnPropertyDescriptor(be,Q))})}return h}({newInstance:m.b.newInstance(Ao,"vtkHandleRepresentation"),extend:Ao},to),go={LEFT:"LEFT",RIGHT:"RIGHT",CENTER:"CENTER"},ha={TOP:"TOP",BOTTOM:"BOTTOM",CENTER:"CENTER"};function Mo(h,T){var be=Object.keys(h);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(h);T&&(Q=Q.filter(function(te){return Object.getOwnPropertyDescriptor(h,te).enumerable})),be.push.apply(be,Q)}return be}function Wa(h){for(var T=1;T<arguments.length;T++){var be=arguments[T]!=null?arguments[T]:{};T%2?Mo(Object(be),!0).forEach(function(Q){wo(h,Q,be[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(be)):Mo(Object(be)).forEach(function(Q){Object.defineProperty(h,Q,Object.getOwnPropertyDescriptor(be,Q))})}return h}function wo(h,T,be){return T in h?Object.defineProperty(h,T,{value:be,enumerable:!0,configurable:!0,writable:!0}):h[T]=be,h}function mo(h,T){T.classHierarchy.push("vtkLabelRepresentation");var be=Wa({},h);h.buildRepresentation=function(){T.labelText!==null&&h.setLabelText(T.labelText),h.modified()},h.getActors=function(){return[T.actor]},h.getNestedProps=function(){return h.getActors()},h.computeInteractionState=function(Q){if(T.canvas){var te=T.canvas.height,je=T.canvas.width,Le=function(){if(T.canvas){var We=window.devicePixelRatio;return{left:Number(T.canvas.style.left.split("px")[0])*We,bottom:Number(T.canvas.style.bottom.split("px")[0])*We}}return null}();Q[0]>=Le.left&&Q[0]<=Le.left+je&&Q[1]>=Le.bottom&&Q[1]<=Le.bottom+te?T.interactionState=Aa.SELECTING:T.interactionState=Aa.OUTSIDE}return T.interactionState},h.startComplexWidgetInteraction=function(Q){T.startEventPosition[0]=Q[0],T.startEventPosition[1]=Q[1],T.startEventPosition[2]=0,T.lastEventPosition[0]=Q[0],T.lastEventPosition[1]=Q[1]},h.complexWidgetInteraction=function(Q){if(T.interactionState===Aa.SELECTING){var te=T.point.getCenter(),je=ft.a.computeWorldToDisplay(T.renderer,te[0],te[1],te[2])[2],Le=ft.a.computeDisplayToWorld(T.renderer,T.lastEventPosition[0],T.lastEventPosition[1],je),We=ft.a.computeDisplayToWorld(T.renderer,Q[0],Q[1],je);h.moveFocus(Le,We),T.lastEventPosition[0]=Q[0],T.lastEventPosition[1]=Q[1],h.modified()}},h.setWorldPosition=function(Q){T.point.setCenter(Q),be.setWorldPosition(T.point.getCenter()),h.modified()},h.setDisplayPosition=function(Q){be.setDisplayPosition(Q),h.setWorldPosition(T.worldPosition.getValue())},h.moveFocus=function(Q,te){var je=[];_e.G(te,Q,je);var Le=T.point.getCenter();_e.a(Le,je,Le),h.setWorldPosition(Le)},h.getBounds=function(){var Q=T.point.getCenter(),te=[];return te[0]=T.placeFactor*(Q[0]-1),te[1]=T.placeFactor*(Q[0]+1),te[2]=T.placeFactor*(Q[1]-1),te[3]=T.placeFactor*(Q[1]+1),te[4]=T.placeFactor*(Q[2]-1),te[5]=T.placeFactor*(Q[2]+1),te},h.setContainer=function(Q){T.container&&T.container!==Q&&T.container.removeChild(T.canvas),T.container!==Q&&(T.container=Q,T.container&&T.container.appendChild(T.canvas),h.modified())},h.setLabelStyle=function(Q){T.labelStyle=Wa(Wa({},T.labelStyle),Q),h.modified()},h.setSelectLabelStyle=function(Q){T.selectLabelStyle=Wa(Wa({},T.selectLabelStyle),Q),h.modified()},h.computeTextDimensions=function(Q){var te=T.highlight?T.selectLabelStyle:T.labelStyle,je=/\r?\n/.exec(Q),Le=je!==null?je[0]:null,We=Q.split(Le),vt=te.fontSize*(1+te.lineSpace),ct=te.fontSize/4,pt=2*ct+te.fontSize+(We.length-1)*vt;return{width:We.reduce(function(Ut,Rt){return Math.max(Ut,Math.round(T.context.measureText(Rt).width))},0),height:pt,lineSpace:vt,padding:ct,lines:We}},h.updateLabel=function(){if(T.context&&T.canvas&&(T.context.clearRect(0,0,T.canvas.width,T.canvas.height),T.actor.getVisibility())){var Q=T.highlight?T.selectLabelStyle:T.labelStyle,te=h.computeTextDimensions(T.labelText),je=te.width,Le=te.height,We=te.lineSpace,vt=te.padding,ct=te.lines;T.canvas.height=Math.round(Le),T.canvas.width=je+2*vt,T.context.strokeStyle=Q.strokeColor,T.context.lineWidth=Q.strokeSize,T.context.fillStyle=Q.fontColor,T.context.font="".concat(Q.fontStyle," ").concat(Q.fontSize,"px ").concat(Q.fontFamily);var pt=vt,Ut=Q.fontSize;ct.forEach(function(Rt){var Wt=0;T.textAlign===go.RIGHT?Wt=je-Math.round(T.context.measureText(Rt).width):T.textAlign===go.CENTER&&(Wt=.5*(je-Math.round(T.context.measureText(Rt).width))),T.context.strokeText(Rt,pt+Wt,Ut),T.context.fillText(Rt,pt+Wt,Ut),Ut+=We})}},h.highlight=function(Q){T.highlight=Q,h.modified()},h.getCanvasSize=function(){return T.canvas?{height:T.canvas.height,width:T.canvas.width}:null}}var no={container:null,labelStyle:{fontColor:"white",fontStyle:"normal",fontSize:15,fontFamily:"Arial",strokeColor:"black",strokeSize:1,lineSpace:.2},labelText:"",textAlign:go.LEFT,verticalAlign:ha.BOTTOM,selectLabelStyle:{fontColor:"rgb(0, 255, 0)",fontStyle:"normal",fontSize:15,fontFamily:"Arial",strokeColor:"black",strokeSize:1,lineSpace:.2}};function Ko(h,T){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(T,no,be),Ro.extend(h,T,be),h.setPlaceFactor(1),T.canvas=document.createElement("canvas"),T.canvas.style.position="absolute",T.context=T.canvas.getContext("2d"),T.point=io.newInstance(),T.point.setNumberOfPoints(1),T.point.setRadius(0),T.mapper=za.a.newInstance(),T.mapper.setInputConnection(T.point.getOutputPort()),T.mapper.setCallback(function(Q){if(T.canvas){var te=0;T.verticalAlign===ha.BOTTOM?te=-T.canvas.height:T.verticalAlign===ha.CENTER&&(te=-.5*T.canvas.height);var je=window.devicePixelRatio;T.canvas.style.left="".concat(Math.round(Q[0][0])/je,"px"),T.canvas.style.bottom="".concat(Math.round(Q[0][1]+te)/je,"px"),h.modified()}}),T.actor=gr.a.newInstance(),T.actor.setMapper(T.mapper),T.actorVisibility=!0,T.highlight=!1,T.actor.onModified(function(){T.actorVisibility!==T.actor.getVisibility()&&(T.actorVisibility=T.actor.getVisibility(),h.modified())}),h.onModified(function(){h.updateLabel()}),m.b.setGet(h,T,["labelText","textAlign","verticalAlign"]),m.b.get(h,T,["container","labelStyle"]),mo(h,T)}var xo={newInstance:m.b.newInstance(Ko,"vtkLabelRepresentation"),extend:Ko},ko={OUTSIDE:0,ONP1:1,ONP2:2,TRANSLATINGP1:3,TRANSLATINGP2:4,ONLINE:5,SCALING:6},Ho=ko,Do={NONE:0,X:1,Y:2,Z:3},So=a(79),Uo=a(26),si=m.b.vtkWarningMacro,Qo={resolution:10,point1:[-1,0,0],point2:[1,0,0],pointType:"Float32Array"};function Yo(h,T){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(T,Qo,be),m.b.obj(h,T),m.b.setGet(h,T,["resolution"]),m.b.setGetArray(h,T,["point1","point2"],3),m.b.algo(h,T,0,1),function(Q,te){te.classHierarchy.push("vtkLineSource"),Q.requestData=function(je,Le){if(!te.deleted){var We=Le[0],vt=We?We.getPoints().getDataType():"Float32Array",ct=rt.a.newInstance(),pt=new Float32Array(3);if(_e.G(te.point2,te.point1,pt),_e.v(pt)<=0)si("Zero-length line definition");else{var Ut=te.resolution,Rt=Ut+1,Wt=new window[vt](3*Rt);ct.getPoints().setData(Wt,3);var kt=new Uint32Array(Rt+1);ct.getLines().setData(kt,1);for(var mn=0,dn=0,an=0;an<Ut+1;an++)dn=an/Ut,Wt[3*mn]=te.point1[0]+dn*pt[0],Wt[3*mn+1]=te.point1[1]+dn*pt[1],Wt[3*mn+2]=te.point1[2]+dn*pt[2],mn++;mn=0,kt[0]=Rt;for(var In=0;In<Rt;In++)kt[In+1]=In;Le[0]=ct}}}}(h,T)}var Xo={newInstance:m.b.newInstance(Yo,"vtkLineSource"),extend:Yo},Ka=a(24);function ho(h,T){var be=Object.keys(h);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(h);T&&(Q=Q.filter(function(te){return Object.getOwnPropertyDescriptor(h,te).enumerable})),be.push.apply(be,Q)}return be}function Bo(h,T,be){return T in h?Object.defineProperty(h,T,{value:be,enumerable:!0,configurable:!0,writable:!0}):h[T]=be,h}function Je(h,T){T.classHierarchy.push("vtkSphereHandleRepresentation");var be=function(Q){for(var te=1;te<arguments.length;te++){var je=arguments[te]!=null?arguments[te]:{};te%2?ho(Object(je),!0).forEach(function(Le){Bo(Q,Le,je[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(je)):ho(Object(je)).forEach(function(Le){Object.defineProperty(Q,Le,Object.getOwnPropertyDescriptor(je,Le))})}return Q}({},h);h.getActors=function(){return[T.actor]},h.getNestedProps=function(){return h.getActors()},h.placeWidget=function(){var Q=[];if(Array.isArray(arguments.length<=0?void 0:arguments[0]))Q=arguments.length<=0?void 0:arguments[0];else for(var te=0;te<arguments.length;te++)Q.push(te<0||arguments.length<=te?void 0:arguments[te]);if(Q.length===6){var je=[],Le=[];h.adjustBounds(Q,je,Le),h.setWorldPosition(Le);for(var We=0;We<6;We++)T.initialBounds[We]=je[We];T.initialLength=Math.sqrt((je[1]-je[0])*(je[1]-je[0])+(je[3]-je[2])*(je[3]-je[2])+(je[5]-je[4])*(je[5]-je[4]))}},h.setSphereRadius=function(Q){T.sphere.setRadius(Q),h.modified()},h.getSphereRadius=function(){return T.sphere.getRadius()},h.getBounds=function(){var Q=T.sphere.getRadius(),te=T.sphere.getCenter(),je=[];return je[0]=T.placeFactor*(te[0]-Q),je[1]=T.placeFactor*(te[0]+Q),je[2]=T.placeFactor*(te[1]-Q),je[3]=T.placeFactor*(te[1]+Q),je[4]=T.placeFactor*(te[2]-Q),je[5]=T.placeFactor*(te[2]+Q),je},h.setWorldPosition=function(Q){T.sphere.setCenter(Q),be.setWorldPosition(T.sphere.getCenter())},h.setDisplayPosition=function(Q){be.setDisplayPosition(Q),h.setWorldPosition(T.worldPosition.getValue())},h.setHandleSize=function(Q){be.setHandleSize(Q),T.currentHandleSize=T.handleSize},h.computeInteractionState=function(Q){T.visibility=1;var te=[Q[0],Q[1],0];return T.cursorPicker.pick(te,T.renderer),T.cursorPicker.getDataSet()?T.interactionState=Aa.SELECTING:(T.interactionState=Aa.OUTSIDE,T.activeRepresentation&&(T.visibility=0)),T.interactionState},h.determineConstraintAxis=function(Q,te){if(!T.constrained)return-1;if(Q>=0&&Q<3)return Q;if(!T.waitingForMotion){var je=T.cursorPicker.getPickPosition(),Le=_e.l(je,T.startEventPosition),We=T.hotSpotSize*T.initialLength;return Le>We*We?(T.waitingForMotion=0,T.cursorPicker.getCellId()):(T.waitingForMotion=1,T.waitCount=0,-1)}if(T.waitingForMotion&&te){T.waitingForMotion=0;var vt=[];return vt[0]=Math.abs(te[0]-T.startEventPosition[0]),vt[1]=Math.abs(te[1]-T.startEventPosition[1]),vt[2]=Math.abs(te[2]-T.startEventPosition[2]),vt[0]>vt[1]?vt[0]>vt[2]?0:2:vt[1]>vt[2]?1:2}return-1},h.startComplexWidgetInteraction=function(Q){T.startEventPosition[0]=Q[0],T.startEventPosition[1]=Q[1],T.startEventPosition[2]=0,T.lastEventPosition[0]=Q[0],T.lastEventPosition[1]=Q[1];var te=[Q[0],Q[1],0];T.cursorPicker.pick(te,T.renderer),T.cursorPicker.getDataSet()?(T.interactionState=Aa.SELECTING,T.constraintAxis=h.determineConstraintAxis(-1,null),T.lastPickPosition=T.cursorPicker.getPickPosition()):(T.interactionState=Aa.OUTSIDE,T.constraintAxis=-1)},h.displayToWorld=function(Q,te){return ft.a.computeDisplayToWorld(T.renderer,Q[0],Q[1],te)},h.complexWidgetInteraction=function(Q){var te=ft.a.computeWorldToDisplay(T.renderer,T.lastPickPosition[0],T.lastPickPosition[1],T.lastPickPosition[2])[2],je=h.displayToWorld(T.lastEventPosition,te),Le=h.displayToWorld(Q,te);T.interactionState===Aa.SELECTING||T.interactionState===Aa.TRANSLATING?(!T.waitingForMotion||T.waitCount++>3)&&(T.constraintAxis=h.determineConstraintAxis(T.constraintAxis,Le),T.interactionState!==Aa.SELECTING||T.translationMode?h.translate(je,Le):h.moveFocus(je,Le)):T.interactionState===Aa.SCALING&&h.scale(je,Le,Q),T.lastEventPosition[0]=Q[0],T.lastEventPosition[1]=Q[1],h.modified()},h.moveFocus=function(Q,te){var je=[];je[0]=te[0]-Q[0],je[1]=te[1]-Q[1],je[2]=te[2]-Q[2];var Le=T.sphere.getCenter();T.constraintAxis>=0?Le[T.constraintAxis]+=je[T.constraintAxis]:(Le[0]+=je[0],Le[1]+=je[1],Le[2]+=je[2]),h.setWorldPosition(Le)},h.translate=function(Q,te){var je=[];je[0]=te[0]-Q[0],je[1]=te[1]-Q[1],je[2]=te[2]-Q[2];var Le=T.sphere.getCenter();if(T.constraintAxis>=0)for(var We=0;We<3;We++)We!==T.constraintAxis&&(je[We]=0);for(var vt=[],ct=0;ct<3;ct++)vt[ct]=Le[ct]+je[ct];h.setWorldPosition(vt);var pt=h.sizeHandlesInPixels(1,vt);pt*=T.currentHandleSize/T.handleSize,T.sphere.setRadius(pt)},h.sizeBounds=function(){var Q=T.sphere.getCenter(),te=h.sizeHandlesInPixels(1,Q);te*=T.currentHandleSize/T.handleSize,T.sphere.setRadius(te)},h.scale=function(Q,te,je){var Le=[];Le[0]=te[0]-Q[0],Le[1]=te[1]-Q[1],Le[2]=te[2]-Q[2];var We=h.getBounds(),vt=_e.v(Le)/Math.sqrt((We[1]-We[0])*(We[1]-We[0])+(We[3]-We[2])*(We[3]-We[2])+(We[5]-We[4])*(We[5]-We[4]));je[1]>T.lastEventPosition[1]?vt+=1:vt=1-vt,T.currentHandleSize*=vt,T.currentHandleSize=T.currentHandleSize<.001?.001:T.currentHandleSize,h.sizeBounds()},h.highlight=function(Q){Q?h.applyProperty(T.selectProperty):h.applyProperty(T.property)},h.buildRepresentation=function(){T.renderer&&(T.placed||(T.validPick=1,T.placed=1),h.sizeBounds(),T.sphere.update(),h.modified())},h.applyProperty=function(Q){T.actor.setProperty(Q)}}var lt={actor:null,mapper:null,sphere:null,cursorPicker:null,lastPickPosition:[0,0,0],lastEventPosition:[0,0],constraintAxis:-1,translationMode:1,property:null,selectProperty:null,placeFactor:1,waitingForMotion:0,hotSpotSize:.05};function wt(h,T){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(T,lt,be),Ro.extend(h,T,be),m.b.setGet(h,T,["translationMode","property","selectProperty"]),m.b.get(h,T,["actor"]),T.sphere=yt.a.newInstance(),T.sphere.setThetaResolution(16),T.sphere.setPhiResolution(8),T.mapper=Ke.a.newInstance(),T.mapper.setInputConnection(T.sphere.getOutputPort()),T.actor=gr.a.newInstance(),T.actor.setMapper(T.mapper),h.setHandleSize(15),T.currentHandleSize=T.handleSize,T.cursorPicker=wn.newInstance(),T.cursorPicker.setPickFromList(1),T.cursorPicker.initializePickList(),T.cursorPicker.addPickList(T.actor),T.property=Ka.a.newInstance(),T.property.setColor(1,1,1),T.selectProperty=Ka.a.newInstance(),T.selectProperty.setColor(0,1,0),T.actor.setProperty(T.property),Je(h,T)}var Pt={newInstance:m.b.newInstance(wt,"vtkSphereHandleRepresentation"),extend:wt};function jt(h){return function(T){if(Array.isArray(T))return Ft(T)}(h)||function(T){if(typeof Symbol!="undefined"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}(h)||function(T,be){if(!!T){if(typeof T=="string")return Ft(T,be);var Q=Object.prototype.toString.call(T).slice(8,-1);if(Q==="Object"&&T.constructor&&(Q=T.constructor.name),Q==="Map"||Q==="Set")return Array.from(T);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return Ft(T,be)}}(h)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ft(h,T){(T==null||T>h.length)&&(T=h.length);for(var be=0,Q=new Array(T);be<T;be++)Q[be]=h[be];return Q}function en(h,T){var be=Object.keys(h);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(h);T&&(Q=Q.filter(function(te){return Object.getOwnPropertyDescriptor(h,te).enumerable})),be.push.apply(be,Q)}return be}function sn(h,T,be){return T in h?Object.defineProperty(h,T,{value:be,enumerable:!0,configurable:!0,writable:!0}):h[T]=be,h}var fn=Ho,Bn=Do;function Dn(h,T){T.classHierarchy.push("vtkLineRepresentation");var be=function(Q){for(var te=1;te<arguments.length;te++){var je=arguments[te]!=null?arguments[te]:{};te%2?en(Object(je),!0).forEach(function(Le){sn(Q,Le,je[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(je)):en(Object(je)).forEach(function(Le){Object.defineProperty(Q,Le,Object.getOwnPropertyDescriptor(je,Le))})}return Q}({},h);h.setResolution=function(Q){T.lineSource.setResolution(Q)},h.setLineVisibility=function(Q){T.lineActor.setVisibility(Q)},h.setPoint1Visibility=function(Q){T.point1Representation.getActors()[0].setVisibility(Q)},h.setPoint2Visibility=function(Q){T.point2Representation.getActors()[0].setVisibility(Q)},h.getResolution=function(){return T.lineSource.getResolution()},h.getPoint1WorldPosition=function(){return T.point1Representation.getWorldPosition()},h.getPoint2WorldPosition=function(){return T.point2Representation.getWorldPosition()},h.getPoint1DisplayPosition=function(){return T.point1Representation.getDisplayPosition()},h.getPoint2DisplayPosition=function(){return T.point2Representation.getDisplayPosition()},h.setPoint1WorldPosition=function(Q){var te;T.point1Representation.setWorldPosition(Q),(te=T.lineSource).setPoint1.apply(te,jt(Q))},h.setPoint2WorldPosition=function(Q){var te;T.point2Representation.setWorldPosition(Q),(te=T.lineSource).setPoint2.apply(te,jt(Q))},h.setPoint1DisplayPosition=function(Q){T.point1Representation.setDisplayPosition(Q);var te=T.point1Representation.getWorldPosition();T.point1Representation.setWorldPosition(te)},h.setPoint2DisplayPosition=function(Q){T.point2Representation.setDisplayPosition(Q);var te=T.point2Representation.getWorldPosition();T.point2Representation.setWorldPosition(te)},h.setRenderer=function(Q){T.point1Representation.setRenderer(Q),T.point2Representation.setRenderer(Q),be.setRenderer(Q)},h.startComplexWidgetInteraction=function(Q){if(T.startEventPosition[0]=Q[0],T.startEventPosition[1]=Q[1],T.startEventPosition[2]=0,T.lastEventPosition[0]=Q[0],T.lastEventPosition[1]=Q[1],T.lastEventPosition[2]=0,T.startP1=T.point1Representation.getWorldPosition(),T.startP2=T.point2Representation.getWorldPosition(),T.interactionState===fn.SCALING){var te=T.point1Representation.getDisplayPosition(),je=T.point2Representation.getDisplayPosition();T.length=Math.sqrt((te[0]-je[0])*(te[0]-je[0])+(te[1]-je[1])*(te[1]-je[1]))}},h.complexWidgetInteraction=function(Q){if(T.interactionState===fn.ONP1){if(T.restrictFlag!==0){for(var te=T.point1Representation.getWorldPosition(),je=0;je<3;je++)te[je]=T.restrictFlag===je+1?te[je]:T.startP1[je];T.point1Representation.setWorldPosition(te)}}else if(T.interactionState===fn.ONP2){if(T.restrictFlag!==0){for(var Le=T.point2Representation.getWorldPosition(),We=0;We<3;We++)Le[We]=T.restrictFlag===We+1?Le[We]:T.startP2[We];T.point2Representation.setWorldPosition(Le)}}else if(T.interactionState!==fn.ONLINE){if(T.interactionState!==fn.SCALING){if(T.interactionState===fn.TRANSLATINGP1){for(var vt=T.point1Representation.getWorldPosition(),ct=[],pt=0;pt<3;pt++)ct[pt]=T.startP2[pt]+(vt[pt]-T.startP1[pt]);T.point1Representation.setWorldPosition(ct)}else if(T.interactionState===fn.TRANSLATINGP2){for(var Ut=T.point2Representation.getWorldPosition(),Rt=[],Wt=0;Wt<3;Wt++)Rt[Wt]=T.startP1[Wt]+(Ut[Wt]-T.startP2[Wt]);T.point2Representation.setWorldPosition(Rt)}}}T.lastEventPosition[0]=Q[0],T.lastEventPosition[1]=Q[1],T.lastEventPosition[2]=0,h.modified()},h.placeWidget=function(){var Q=[];if(Array.isArray(arguments.length<=0?void 0:arguments[0]))Q=arguments.length<=0?void 0:arguments[0];else for(var te=0;te<arguments.length;te++)Q.push(te<0||arguments.length<=te?void 0:arguments[te]);if(Q.length===6){var je=T.placeFactor;T.placeFactor=1;var Le=[],We=[];h.adjustBounds(Q,Le,We),T.placeFactor=je;for(var vt=0;vt<6;vt++)T.initialBounds[vt]=Le[vt];T.initialLength=Math.sqrt((Le[1]-Le[0])*(Le[1]-Le[0])+(Le[3]-Le[2])*(Le[3]-Le[2])+(Le[5]-Le[4])*(Le[5]-Le[4]));var ct=T.lineSource.getPoint1(),pt=T.lineSource.getPoint2(),Ut=[T.initialLength*(ct[0]-pt[0]),T.initialLength*(ct[1]-pt[1]),T.initialLength*(ct[2]-pt[2])],Rt=[We[0]-Ut[0],We[1]-Ut[1],We[2]-Ut[2]],Wt=[],kt=[];So.a.intersectBox(Q,Rt,Ut,Wt,kt),h.setPoint1WorldPosition(Wt),Ut[0]=T.initialLength*(pt[0]-ct[0]),Ut[1]=T.initialLength*(pt[1]-ct[1]),Ut[2]=T.initialLength*(pt[2]-ct[2]),Rt[0]=We[0]-Ut[0],Rt[1]=We[1]-Ut[1],Rt[2]=We[2]-Ut[2];var mn=[];So.a.intersectBox(Q,Rt,Ut,mn,kt),h.setPoint2WorldPosition(mn),T.placed=1,T.validPick=1,h.buildRepresentation()}},h.computeInteractionState=function(Q){var te=T.point1Representation.computeInteractionState(Q),je=T.point2Representation.computeInteractionState(Q);if(te===Aa.SELECTING?(T.interactionState=fn.ONP1,h.setRepresentationState(fn.ONP1)):je===Aa.SELECTING?(T.interactionState=fn.ONP2,h.setRepresentationState(fn.ONP2)):T.interactionState=fn.OUTSIDE,T.interactionState!==fn.OUTSIDE)return T.interactionState;var Le=h.getPoint1DisplayPosition(),We=h.getPoint2DisplayPosition(),vt=[Q[0],Q[1],0],ct=[Le[0],Le[1],0],pt=[We[0],We[1],0],Ut=T.tolerance*T.tolerance,Rt=Uo.a.distanceToLine(vt,ct,pt);return Rt.distance<=Ut&&Rt.t<1&&Rt.t>0?(T.interactionState=fn.ONLINE,h.setRepresentationState(fn.ONLINE),Le=h.getPoint1WorldPosition(),We=h.getPoint2WorldPosition()):(T.interactionState=fn.OUTSIDE,h.setRepresentationState(fn.OUTSIDE)),T.interactionState},h.setRepresentationState=function(Q){T.representationState!==Q&&(T.representationState=Q,h.modified(),Q===fn.OUTSIDE?(h.highlightPoint(0,0),h.highlightPoint(1,0),h.highlightLine(0)):Q===fn.ONP1?(h.highlightPoint(0,1),h.highlightPoint(1,0),h.highlightLine(0)):Q===fn.ONP2?(h.highlightPoint(0,0),h.highlightPoint(1,1),h.highlightLine(0)):Q===fn.ONLINE?(h.highlightPoint(0,0),h.highlightPoint(1,0),h.highlightLine(1)):(h.highlightPoint(0,1),h.highlightPoint(1,1),h.highlightLine(1)))},h.sizeHandles=function(){},h.buildRepresentation=function(){var Q,te;T.point1Representation.buildRepresentation(),T.point2Representation.buildRepresentation(),T.initializeDisplayPosition===0&&T.renderer&&(h.setPoint1WorldPosition(T.lineSource.getPoint1()),h.setPoint2WorldPosition(T.lineSource.getPoint2()),T.validPick=1,T.initializeDisplayPosition=1),T.point1Representation.setTolerance(T.tolerance),T.point2Representation.setTolerance(T.tolerance);var je=h.getPoint1WorldPosition();(Q=T.lineSource).setPoint1.apply(Q,jt(je)),T.point1Representation.setWorldPosition(je);var Le=h.getPoint2WorldPosition();(te=T.lineSource).setPoint2.apply(te,jt(Le)),T.point2Representation.setWorldPosition(Le),h.sizeHandles(),h.modified()},h.highlightPoint=function(Q,te){Q===0?te?T.point1Representation.applyProperty(T.selectedEndPointProperty):T.point1Representation.applyProperty(T.endPointProperty):Q===1&&(te?T.point2Representation.applyProperty(T.selectedEndPoint2Property):T.point2Representation.applyProperty(T.endPoint2Property))},h.highlightLine=function(Q){Q?T.lineActor.setProperty(T.selectedLineProperty):T.lineActor.setProperty(T.lineProperty)},h.setLineColor=function(){var Q=[];if(Array.isArray(arguments.length<=0?void 0:arguments[0]))Q=arguments.length<=0?void 0:arguments[0];else for(var te=0;te<arguments.length;te++)Q.push(te<0||arguments.length<=te?void 0:arguments[te]);Q.length===3&&T.lineActor.getProperty()&&T.lineActor.getProperty().setColor(Q[0],Q[1],Q[2])},h.clampPosition=function(Q){for(var te=0;te<3;te++)Q[te]<T.initialBounds[2*te]&&(Q[te]=T.initialBounds[2*te]),Q[te]>T.initialBounds[2*te+1]&&(Q[te]=T.initialBounds[2*te+1])},h.getBounds=function(){return T.boundingBox.setBounds(T.lineActor.getBounds()),T.boundingBox.addBounds(T.point1Representation.getBounds()),T.boundingBox.addBounds(T.point2Representation.getBounds()),T.boundingBox.getBounds()},h.getActors=function(){var Q=[];return Q.push.apply(Q,jt(T.point1Representation.getActors())),Q.push.apply(Q,jt(T.point2Representation.getActors())),Q.push(T.lineActor),Q},h.getNestedProps=function(){return h.getActors()}}var s={point1Representation:null,point2Representation:null,lineSource:null,lineMapper:null,lineActor:null,endPointProperty:null,selectedEndPointProperty:null,endPoint2Property:null,selectedEndPoint2Property:null,lineProperty:null,selectedLineProperty:null,tolerance:5,placed:0,representationState:fn.OUTSIDE,startP1:[0,0,0],startP2:[0,0,0],length:0,restrictFlag:Bn.NONE,initializeDisplayPosition:0,boundingBox:null};function k(h,T){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(T,s,be),Me.extend(h,T,be),m.b.get(h,T,["point1Representation","point2Representation","endPointProperty","selectedEndPointProperty","endPoint2Property","selectedEndPoint2Property","lineProperty","selectedLineProperty"]),h.setHandleSize(5),T.boundingBox=So.a.newInstance(),T.point1Representation=Pt.newInstance(),T.point2Representation=Pt.newInstance(),T.point1Representation.setHandleSize(10),T.point2Representation.setHandleSize(10),T.lineSource=Xo.newInstance({point1:[-.5,0,0],point2:[.5,0,0],resolution:5}),T.lineSource.setResolution(5),T.lineMapper=Ke.a.newInstance(),T.lineMapper.setInputConnection(T.lineSource.getOutputPort()),T.lineActor=gr.a.newInstance(),T.lineActor.setMapper(T.lineMapper),T.endPointProperty=Ka.a.newInstance(),T.endPointProperty.setColor(1,1,1),T.selectedEndPointProperty=Ka.a.newInstance(),T.selectedEndPointProperty.setColor(0,1,0),T.endPoint2Property=Ka.a.newInstance(),T.endPoint2Property.setColor(1,1,1),T.selectedEndPoint2Property=Ka.a.newInstance(),T.selectedEndPoint2Property.setColor(0,1,0),T.lineProperty=Ka.a.newInstance(),T.lineProperty.setAmbient(1),T.lineProperty.setAmbientColor(1,1,1),T.lineProperty.setLineWidth(2),T.selectedLineProperty=Ka.a.newInstance(),T.selectedLineProperty.setAmbient(1),T.selectedLineProperty.setColor(0,1,0),T.selectedLineProperty.setLineWidth(2),T.point1Representation.applyProperty(T.endPointProperty),T.point2Representation.applyProperty(T.endPoint2Property),T.point1Representation.setWorldPosition(T.lineSource.getPoint1()),T.point2Representation.setWorldPosition(T.lineSource.getPoint2()),T.lineActor.setProperty(T.lineProperty),Dn(h,T)}var fe={newInstance:m.b.newInstance(k,"vtkLineRepresentation"),extend:k};function Re(h){return function(T){if(Array.isArray(T))return Ne(T)}(h)||function(T){if(typeof Symbol!="undefined"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}(h)||function(T,be){if(!!T){if(typeof T=="string")return Ne(T,be);var Q=Object.prototype.toString.call(T).slice(8,-1);if(Q==="Object"&&T.constructor&&(Q=T.constructor.name),Q==="Map"||Q==="Set")return Array.from(T);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return Ne(T,be)}}(h)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ne(h,T){(T==null||T>h.length)&&(T=h.length);for(var be=0,Q=new Array(T);be<T;be++)Q[be]=h[be];return Q}function Qe(h,T){var be=Object.keys(h);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(h);T&&(Q=Q.filter(function(te){return Object.getOwnPropertyDescriptor(h,te).enumerable})),be.push.apply(be,Q)}return be}function ot(h,T,be){return T in h?Object.defineProperty(h,T,{value:be,enumerable:!0,configurable:!0,writable:!0}):h[T]=be,h}function ut(h,T){T.classHierarchy.push("vtkDistanceRepresentation");var be=function(Q){for(var te=1;te<arguments.length;te++){var je=arguments[te]!=null?arguments[te]:{};te%2?Qe(Object(je),!0).forEach(function(Le){ot(Q,Le,je[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(je)):Qe(Object(je)).forEach(function(Le){Object.defineProperty(Q,Le,Object.getOwnPropertyDescriptor(je,Le))})}return Q}({},h);h.setRenderer=function(Q){T.labelRepresentation.setRenderer(Q),be.setRenderer(Q),h.modified()},h.getContainer=function(){return T.labelRepresentation.getContainer()},h.setContainer=function(Q){T.labelRepresentation.setContainer(Q),h.modified()},h.getLabelStyle=function(){return T.labelRepresentation.getLabelStyle()},h.setLabelStyle=function(Q){T.labelRepresentation.setLabelStyle(Q),h.modified()},h.getActors=function(){var Q=be.getActors();return Q=[].concat(Re(Q),Re(T.labelRepresentation.getActors()))},h.getDistance=function(){return Math.sqrt(_e.l(h.getPoint1WorldPosition(),h.getPoint2WorldPosition())).toFixed(T.numberOfDecimals)},h.setPoint1WorldPosition=function(Q){be.setPoint1WorldPosition(Q),h.updateLabelRepresentation(),h.modified()},h.setPoint2WorldPosition=function(Q){be.setPoint2WorldPosition(Q),h.updateLabelRepresentation(),h.modified()},h.updateLabelRepresentation=function(){T.labelRepresentation.setLabelText(h.getDistance());for(var Q=T.point1Representation.getWorldPosition(),te=T.point2Representation.getWorldPosition(),je=[],Le=0;Le<3;Le++)je[Le]=Q[Le]+(te[Le]-Q[Le])*T.labelPositionInLine;T.labelRepresentation.setWorldPosition(je)}}var xt={labelStyle:{fontColor:"white",fontStyle:"normal",fontSize:"15",fontFamily:"Arial",strokeColor:"black",strokeSize:"1"},numberOfDecimals:2,labelPositionInLine:.5,container:null};function Tt(h,T){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(T,xt,be),fe.extend(h,T,be),T.labelRepresentation=xo.newInstance(),m.b.setGet(h,T,["numberOfDecimals","labelPosition"]),m.b.get(h,T,["labelRepresentation"]),ut(h,T)}var Bt={newInstance:m.b.newInstance(Tt,"vtkDistanceRepresentation"),extend:Tt},Xt={WidgetState:{START:0,ACTIVE:1}};function Yt(h,T){var be=Object.keys(h);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(h);T&&(Q=Q.filter(function(te){return Object.getOwnPropertyDescriptor(h,te).enumerable})),be.push.apply(be,Q)}return be}function $t(h,T,be){return T in h?Object.defineProperty(h,T,{value:be,enumerable:!0,configurable:!0,writable:!0}):h[T]=be,h}var bn=m.b.VOID,xn=m.b.EVENT_ABORT,Qt=Ro.InteractionState,Mn=Xt.WidgetState,Sr={allowHandleResize:1,widgetState:Mn.START};function Zn(h,T){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(T,Sr,be),oe.extend(h,T,be),m.b.setGet(h,T,["allowHandleResize"]),function(Q,te){function je(){Q.setCursor(te.widgetRep.getInteractionState()),te.widgetRep.highlight(1),Q.invokeStartInteractionEvent(),Q.render()}te.classHierarchy.push("vtkHandleWidget"),Q.createDefaultRepresentation=function(){te.widgetRep||(te.widgetRep=Pt.newInstance())},Q.handleMouseMove=function(Le){return Q.moveAction(Le)},Q.handleLeftButtonPress=function(Le){return Q.selectAction(Le)},Q.handleLeftButtonRelease=function(Le){return Q.endSelectAction(Le)},Q.handleMiddleButtonPress=function(Le){return Q.translateAction(Le)},Q.handleMiddleButtonRelease=function(Le){return Q.endSelectAction(Le)},Q.handleRightButtonPress=function(Le){return Q.scaleAction(Le)},Q.handleRightButtonRelease=function(Le){return Q.endSelectAction(Le)},Q.setCursor=function(Le){switch(Le){case Qt.OUTSIDE:te.interactor.getView().setCursor("default");break;default:te.interactor.getView().setCursor("pointer")}},Q.selectAction=function(Le){var We=[Le.position.x,Le.position.y];return te.widgetRep.computeInteractionState(We),te.widgetRep.getInteractionState()===Qt.OUTSIDE?bn:(te.widgetRep.startComplexWidgetInteraction(We),te.widgetState=Mn.ACTIVE,te.widgetRep.setInteractionState(Qt.SELECTING),je(),xn)},Q.translateAction=function(Le){var We=[Le.position.x,Le.position.y];return te.widgetRep.computeInteractionState(We),te.widgetRep.getInteractionState()===Qt.OUTSIDE?bn:(te.widgetRep.startComplexWidgetInteraction(We),te.widgetState=Mn.ACTIVE,te.widgetRep.setInteractionState(Qt.TRANSLATING),je(),xn)},Q.scaleAction=function(Le){if(!te.allowHandleResize)return bn;var We=[Le.position.x,Le.position.y];return te.widgetRep.computeInteractionState(We),te.widgetRep.getInteractionState()===Qt.OUTSIDE?bn:(te.widgetRep.startComplexWidgetInteraction(We),te.widgetState=Mn.ACTIVE,te.widgetRep.setInteractionState(Qt.SCALING),je(),xn)},Q.endSelectAction=function(){return te.widgetState!==Mn.ACTIVE?bn:(te.widgetState=Mn.START,te.widgetRep.highlight(0),Q.invokeEndInteractionEvent(),Q.render(),xn)},Q.moveAction=function(Le){var We=[Le.position.x,Le.position.y],vt=te.widgetRep.getInteractionState();return te.widgetState===Mn.START?(te.widgetRep.computeInteractionState(We),vt=te.widgetRep.getInteractionState(),Q.setCursor(vt),te.widgetRep.getActiveRepresentation()&&vt!==te.widgetRep.getInteractionState()&&Q.render(),vt===Qt.OUTSIDE?bn:xn):(Q.setCursor(vt),te.widgetRep.complexWidgetInteraction(We),Q.invokeInteractionEvent(),Q.render(),xn)}}(h,T)}var Yn=function(h){for(var T=1;T<arguments.length;T++){var be=arguments[T]!=null?arguments[T]:{};T%2?Yt(Object(be),!0).forEach(function(Q){$t(h,Q,be[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(be)):Yt(Object(be)).forEach(function(Q){Object.defineProperty(h,Q,Object.getOwnPropertyDescriptor(be,Q))})}return h}({newInstance:m.b.newInstance(Zn,"vtkHandleWidget"),extend:Zn},Xt);function rr(h,T){var be=Object.keys(h);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(h);T&&(Q=Q.filter(function(te){return Object.getOwnPropertyDescriptor(h,te).enumerable})),be.push.apply(be,Q)}return be}function cr(h,T,be){return T in h?Object.defineProperty(h,T,{value:be,enumerable:!0,configurable:!0,writable:!0}):h[T]=be,h}var va=m.b.VOID;function fa(h,T){T.classHierarchy.push("vtkLabelWidget");var be=function(Q){for(var te=1;te<arguments.length;te++){var je=arguments[te]!=null?arguments[te]:{};te%2?rr(Object(je),!0).forEach(function(Le){cr(Q,Le,je[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(je)):rr(Object(je)).forEach(function(Le){Object.defineProperty(Q,Le,Object.getOwnPropertyDescriptor(je,Le))})}return Q}({},h);h.createDefaultRepresentation=function(){T.widgetRep||(T.widgetRep=xo.newInstance())},h.setEnabled=function(Q){if(!Q&&T.widgetRep&&T.widgetRep.setContainer(null),be.setEnabled(Q),Q){var te=T.interactor?T.interactor.getContainer():null;T.widgetRep.setContainer(te)}},h.scaleAction=function(Q){return va}}var ca={};function jr(h,T){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(T,ca,be),Yn.extend(h,T,be),fa(h,T)}var oa={newInstance:m.b.newInstance(jr,"vtkLabelWidget"),extend:jr};function $n(h,T){var be=Object.keys(h);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(h);T&&(Q=Q.filter(function(te){return Object.getOwnPropertyDescriptor(h,te).enumerable})),be.push.apply(be,Q)}return be}function Gr(h,T,be){return T in h?Object.defineProperty(h,T,{value:be,enumerable:!0,configurable:!0,writable:!0}):h[T]=be,h}var Hn={START:0,DEFINE:1,MANIPULATE:2,ACTIVE:3},La=to.InteractionState;function Fo(h,T){T.classHierarchy.push("vtkLineWidget");var be=function(Q){for(var te=1;te<arguments.length;te++){var je=arguments[te]!=null?arguments[te]:{};te%2?$n(Object(je),!0).forEach(function(Le){Gr(Q,Le,je[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(je)):$n(Object(je)).forEach(function(Le){Object.defineProperty(Q,Le,Object.getOwnPropertyDescriptor(je,Le))})}return Q}({},h);h.setCursor=function(Q){switch(Q){case ko.OUTSIDE:T.interactor.getView().setCursor("default");break;default:T.interactor.getView().setCursor("pointer")}},h.setCurrentHandle=function(Q){T.currentHandle=Q},h.setInteractor=function(Q){be.setInteractor(Q),T.point1Widget.setInteractor(T.interactor),T.point2Widget.setInteractor(T.interactor),h.modified()},h.setEnabled=function(Q){be.setEnabled(Q),T.widgetRep&&(T.point1Widget.setWidgetRep(T.widgetRep.getPoint1Representation()),T.point2Widget.setWidgetRep(T.widgetRep.getPoint2Representation()),T.widgetState===Hn.START?(T.point1Widget.setEnabled(0),T.point2Widget.setEnabled(0),T.widgetRep.setLineVisibility(0),T.widgetRep.setPoint1Visibility(1),T.widgetRep.setPoint2Visibility(0)):(T.point1Widget.setEnabled(Q),T.point2Widget.setEnabled(Q),T.widgetRep.setLineVisibility(1),T.widgetRep.setPoint1Visibility(1),T.widgetRep.setPoint2Visibility(1)))},h.setProcessEvents=function(Q){be.setProcessEvents(Q),T.point1Widget.setProcessEvents(Q),T.point2Widget.setProcessEvents(Q)},h.setWidgetStateToStart=function(){T.widgetState=Hn.START,h.setCurrentHandle(0),h.setEnabled(T.enabled)},h.setWidgetStateToManipulate=function(){T.widgetState=Hn.MANIPULATE,h.setCurrentHandle(-1),h.setEnabled(T.enabled)},h.handleMouseMove=function(Q){return h.moveAction(Q)},h.handleLeftButtonPress=function(Q){return h.selectAction(Q)},h.handleLeftButtonRelease=function(Q){return h.endSelectAction(Q)},h.handleMiddleButtonPress=function(Q){return h.translateAction(Q)},h.handleMiddleButtonRelease=function(Q){return h.endSelectAction(Q)},h.handleRightButtonPress=function(Q){return h.scaleAction(Q)},h.handleRightButtonRelease=function(Q){return h.endSelectAction(Q)},h.selectAction=function(Q){var te=[Q.position.x,Q.position.y];if(T.widgetState===Hn.START){var je=T.point1Widget.getWidgetRep().displayToWorld(te,0);T.currentHandle<1?(T.widgetRep.setLineVisibility(1),T.widgetRep.setPoint1WorldPosition(je),je[0]+=1e-9,T.widgetRep.setPoint2WorldPosition(je),h.setCurrentHandle(T.currentHandle+1)):(T.widgetRep.setPoint2Visibility(1),T.widgetRep.setPoint2WorldPosition(je),T.widgetState=Hn.MANIPULATE,h.setCurrentHandle(-1))}else{var Le=T.widgetRep.computeInteractionState(te);if(Le===La.OUTSIDE)return;T.widgetState=Hn.ACTIVE,h.updateHandleWidgets(Le),h.invokeStartInteractionEvent()}T.widgetRep.startComplexWidgetInteraction(te),h.render()},h.translateAction=function(Q){var te=[Q.position.x,Q.position.y];T.widgetRep.computeInteractionState(te)!==La.OUTSIDE&&(T.widgetState=Hn.ACTIVE,T.widgetRep.startComplexWidgetInteraction(te),h.invokeStartInteractionEvent())},h.scaleAction=function(Q){var te=[Q.position.x,Q.position.y];T.widgetRep.computeInteractionState(te)!==La.OUTSIDE&&(T.widgetState=Hn.ACTIVE,T.widgetRep.startComplexWidgetInteraction(te),h.invokeStartInteractionEvent())},h.moveAction=function(Q){var te=[Q.position.x,Q.position.y],je=!1;if(T.widgetState===Hn.MANIPULATE){var Le=T.widgetRep.computeInteractionState(te);je=h.updateHandleWidgets(Le)}else if(T.widgetState===Hn.START){T.widgetRep.complexWidgetInteraction(te);var We=T.point1Widget.getWidgetRep().displayToWorld(te,0);T.currentHandle===0?T.widgetRep.setPoint1WorldPosition(We):T.widgetRep.setPoint2WorldPosition(We),je=!0}else T.widgetState===Hn.ACTIVE&&(T.widgetRep.setPoint1WorldPosition(T.point1Widget.getWidgetRep().getWorldPosition()),T.widgetRep.setPoint2WorldPosition(T.point2Widget.getWidgetRep().getWorldPosition()),je=!0);je&&(h.invokeInteractionEvent(),h.render())},h.endSelectAction=function(Q){if(T.widgetState!==Hn.START){var te=[Q.position.x,Q.position.y];T.widgetRep.complexWidgetInteraction(te),T.widgetRep.setPoint1WorldPosition(T.point1Widget.getWidgetRep().getWorldPosition()),T.widgetRep.setPoint2WorldPosition(T.point2Widget.getWidgetRep().getWorldPosition()),T.widgetState=Hn.MANIPULATE,h.invokeEndInteractionEvent(),h.render()}},h.createDefaultRepresentation=function(){T.widgetRep||(T.widgetRep=fe.newInstance())},h.updateHandleWidgets=function(Q){var te=!1;h.setCursor(Q);var je=Q===ko.ONP1,Le=Q===ko.ONP2;return je!==T.point1Widget.getEnabled()&&(T.point1Widget.setEnabled(je),te=!0),Le!==T.point2Widget.getEnabled()&&(T.point2Widget.setEnabled(Le),te=!0),te}}var Ia={widgetState:Hn.START,managesCursor:1,currentHandle:0,point1Widget:null,point2Widget:null};function ci(h,T){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(T,Ia,be),oe.extend(h,T,be),T.point1Widget=Yn.newInstance(),T.point1Widget.setParent(h),T.point1Widget.createDefaultRepresentation(),T.point2Widget=Yn.newInstance(),T.point2Widget.setParent(h),T.point2Widget.createDefaultRepresentation(),Fo(h,T)}var Pi={newInstance:m.b.newInstance(ci,"vtkLineWidget"),extend:ci};function vo(h,T){var be=Object.keys(h);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(h);T&&(Q=Q.filter(function(te){return Object.getOwnPropertyDescriptor(h,te).enumerable})),be.push.apply(be,Q)}return be}function _a(h,T,be){return T in h?Object.defineProperty(h,T,{value:be,enumerable:!0,configurable:!0,writable:!0}):h[T]=be,h}function Pa(h,T){T.classHierarchy.push("vtkDistanceWidget");var be=function(Q){for(var te=1;te<arguments.length;te++){var je=arguments[te]!=null?arguments[te]:{};te%2?vo(Object(je),!0).forEach(function(Le){_a(Q,Le,je[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(je)):vo(Object(je)).forEach(function(Le){Object.defineProperty(Q,Le,Object.getOwnPropertyDescriptor(je,Le))})}return Q}({},h);h.setInteractor=function(Q){be.setInteractor(Q),T.labelWidget.setInteractor(T.interactor),h.modified()},h.setEnabled=function(Q){be.setEnabled(Q),T.labelWidget.setEnabled(h.computeLabelWidgetVisibility())},h.createDefaultRepresentation=function(){T.widgetRep||h.setWidgetRep(Bt.newInstance())},h.setWidgetRep=function(Q){be.setWidgetRep(Q),T.widgetRep&&T.labelWidget.setWidgetRep(T.widgetRep.getLabelRepresentation())},h.computeLabelWidgetVisibility=function(){return T.currentHandle!==0&&T.enabled},h.setCurrentHandle=function(Q){be.setCurrentHandle(Q),T.labelWidget.setEnabled(h.computeLabelWidgetVisibility())}}var Li={};function qo(h,T){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(T,Li,be),Pi.extend(h,T,be),T.labelWidget=oa.newInstance(),T.labelWidget.setProcessEvents(!1),Pa(h,T)}var _s={newInstance:m.b.newInstance(qo,"vtkDistanceWidget"),extend:qo},Vs=function(h,T){h.imageUI.distanceWidget=_s.newInstance(),h.imageUI.distanceWidget.setInteractor(h.itkVtkView.getInteractor());var be=Bt.newInstance();h.imageUI.distanceWidget.setWidgetRep(be),be.setNumberOfDecimals(3),be.getLineProperty().setColor(1,1,1),be.getEndPointProperty().setColor(1,1,1),be.getEndPoint2Property().setColor(1,1,1),h.imageUI.distanceWidget.setEnabled(!1),h.imageUI.distanceUpdateInProgress=!1,h.imageUI.distanceEnabled=!1;var Q=document.createElement("div");Q.setAttribute("class",f.a.distanceEntry);var te=document.createElement("span");te.innerHTML='<input id="'.concat(h.id,'-toggleDistanceButton" type="checkbox" class="').concat(f.a.toggleInput,'" checked><label itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="Length" class="').concat(f.a.distanceButton," ").concat(f.a.toggleButton,'" for="').concat(h.id,'-toggleDistanceButton">').concat(Xr.a,"</label>"),h.imageUI.distanceButtonInput=te.children[0],h.imageUI.distanceButtonInput.checked=h.imageUI.distanceEnabled;var je=te.children[1];Object(B.a)(h,"invertibleButton",je),te.addEventListener("change",function(vt){vt.preventDefault(),vt.stopPropagation(),h.imageUI.distanceEnabled=!h.imageUI.distanceEnabled,h.imageUI.distanceWidget.getEnabled()!==!0&&(h.imageUI.distanceWidget.setEnabled(!0),h.imageUI.distanceWidget.onInteractionEvent(function(){h.imageUI.distancePoint1=be.getPoint1WorldPosition(),h.imageUI.distancePoint2=be.getPoint2WorldPosition()})),h.imageUI.distanceEnabled?h.imageUI.distanceWidget.setWidgetStateToStart():h.imageUI.distanceWidget.setEnabled(!1),h.renderWindow.render()}),Object(d.e)(function(){return h.mainUI.viewMode},function(vt){h.imageUI.distanceWidget.setEnabled(!1),h.imageUI.distanceEnabled=!1,h.renderWindow.render()}),Q.appendChild(te);var Le=document.createElement("label");Le.setAttribute("class","".concat(f.a.distanceLabelCommon)),Object(B.a)(h,"distanceLabel",Le),Le.setAttribute("for","".concat(h.id,"-distanceValue")),Le.id="".concat(h.id,"-distanceLabel"),Le.innerText="Length:",Q.appendChild(Le);var We=document.createElement("input");We.type="text",We.setAttribute("class",f.a.distanceInput),We.id="".concat(h.id,"-distanceValue"),We.setAttribute("name","length"),We.setAttribute("value","0"),We.setAttribute("disabled",!0),Q.appendChild(We),T.appendChild(Q),Object(d.e)(function(){return h.imageUI.distancePoint1},function(){var vt=h.imageUI.distancePoint1,ct=h.imageUI.distancePoint2,pt=Math.sqrt(_e.l(vt,ct)).toFixed(3);We.setAttribute("value","".concat(pt))})};a(256);var Xi=function(h,T){var be=h.id,Q=document.createElement("div");h.imageUI.imageUIGroup=Q,Q.setAttribute("class",f.a.uiGroup),po(h,Q);var te=!!h.imageUI.image;if(te){var je=h.imageUI.fusedImageLabelMap.getPointData().getScalars(),Le=h.imageUI.numberOfComponents;if(!T||je.getDataType()!=="Uint8Array"||Le!==3&&Le!==4){var We=document.createElement("div");We.setAttribute("class",f.a.uiRow),We.setAttribute("style","background: rgba(127, 127, 127, 0.5);"),pa(h,We),We.className+=" ".concat(be,"-toggle"),Q.appendChild(We)}se(h,Q,T);var vt=document.createElement("div");vt.setAttribute("class",f.a.uiRow),vt.className+=" ".concat(be,"-distanceRuler ").concat(be,"-toggle"),vt.style.display=T?"flex":"none",Vs(h,vt),Q.appendChild(vt),Object(d.e)(function(){return h.mainUI.viewMode},function(Ut){switch(Ut){case"XPlane":case"YPlane":case"ZPlane":vt.style.display="flex";break;case"VolumeRendering":vt.style.display="none";break;default:console.error("Invalid view mode: "+Ut)}})}if(!T&&te){var ct=document.createElement("div");ct.setAttribute("class",f.a.uiRow),ct.className+=" ".concat(be,"-volumeRendering1 ").concat(be,"-toggle"),_t(h,ct),Ur(h,ct),Q.appendChild(ct);var pt=document.createElement("div");pt.setAttribute("class",f.a.uiRow),pt.className+=" ".concat(be,"-volumeRendering2 ").concat(be,"-toggle"),$e(h,Q,pt),wr(h,pt),eo(h,pt),Q.appendChild(pt),Object(d.e)(function(){return h.mainUI.viewMode},function(Ut){switch(Ut){case"XPlane":case"YPlane":case"ZPlane":ct.style.display="none",pt.style.display="none";break;case"VolumeRendering":ct.style.display="flex",pt.style.display="flex";break;default:console.error("Invalid view mode: "+Ut)}}),Object(d.e)(function(){return h.imageUI.blendMode},function(Ut){switch(Ut){case 0:h.mainUI.collapsed||(ct.style.display="flex"),ct.isHidden=!1;break;case 1:case 2:case 3:ct.style.display="none",ct.isHidden=!0;break;default:console.error("Invalid blend mode: "+Ut)}}),Object(d.e)(function(){return h.mainUI.collapsed},function(Ut){Ut?ct.style.display="none":ct.isHidden||(ct.style.display="flex")})}h.mainUI.uiContainer.appendChild(Q)},qa=a(103),qi=a.n(qa),Zi=a(175),_i=a.n(Zi),Ns=a(176),Ji=a.n(Ns),$i=a(177),js=a.n($i),es=function(h,T){var be=h.id,Q=document.createElement("div");Q.innerHTML='<input id="'.concat(be,'-geometryHiddenButton" type="checkbox" class="').concat(f.a.toggleInput,'"><label itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="Hidden" class="').concat(f.a.fullscreenButton," ").concat(f.a.toggleButton,'" for="').concat(be,'-geometryHiddenButton">').concat(qi.a,"</label>"),Q.addEventListener("click",function(an){an.preventDefault(),an.stopPropagation();var In=h.geometriesUI.selectedGeometryIndex;h.geometriesUI.representations[In]="Hidden"}),T.appendChild(Q);var te=Q.children[0],je=Q.children[1];Object(B.a)(h,"tooltipButton",je);var Le=document.createElement("div");Le.innerHTML='<input id="'.concat(be,'-geometryWireframeButton" type="checkbox" class="').concat(f.a.toggleInput,'"><label itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="Wireframe" class="').concat(f.a.fullscreenButton," ").concat(f.a.toggleButton,'" for="').concat(be,'-geometryWireframeButton">').concat(_i.a,"</label>"),Le.addEventListener("click",function(an){an.preventDefault(),an.stopPropagation();var In=h.geometriesUI.selectedGeometryIndex;h.geometriesUI.representations[In]="Wireframe"}),T.appendChild(Le);var We=Le.children[0],vt=Le.children[1];Object(B.a)(h,"tooltipButton",vt);var ct=document.createElement("div");ct.innerHTML='<input id="'.concat(be,'-geometrySurfaceButton" type="checkbox" class="').concat(f.a.toggleInput,'"><label itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="Surface" class="').concat(f.a.fullscreenButton," ").concat(f.a.toggleButton,'" for="').concat(be,'-geometrySurfaceButton">').concat(Ji.a,"</label>"),ct.addEventListener("click",function(an){an.preventDefault(),an.stopPropagation();var In=h.geometriesUI.selectedGeometryIndex;h.geometriesUI.representations[In]="Surface"}),T.appendChild(ct);var pt=ct.children[0],Ut=ct.children[1];Object(B.a)(h,"tooltipButton",Ut);var Rt=document.createElement("div");Rt.innerHTML='<input id="'.concat(be,'-geometrySurfaceWithEdgesButton" type="checkbox" class="').concat(f.a.toggleInput,'"><label itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="Surface with edges" class="').concat(f.a.viewModeButton," ").concat(f.a.toggleButton,'" for="').concat(be,'-geometrySurfaceWithEdgesButton">').concat(js.a,"</label>"),Rt.addEventListener("click",function(an){an.preventDefault(),an.stopPropagation();var In=h.geometriesUI.selectedGeometryIndex;h.geometriesUI.representations[In]="Surface with edges"}),T.appendChild(Rt);var Wt=Rt.children[0],kt=Rt.children[1];function mn(an){switch(an){case"Hidden":te.checked=!0,We.checked=!1,pt.checked=!1,Wt.checked=!1;break;case"Wireframe":te.checked=!1,We.checked=!0,pt.checked=!1,Wt.checked=!1;break;case"Surface":te.checked=!1,We.checked=!1,pt.checked=!0,Wt.checked=!1;break;case"Surface with edges":te.checked=!1,We.checked=!1,pt.checked=!1,Wt.checked=!0;break;default:console.error("Invalid geometry representation: "+an)}}Object(B.a)(h,"tooltipButton",kt),Object(d.e)(function(){return h.geometriesUI.representations.slice()},function(an){var In=h.geometriesUI.selectedGeometryIndex;(function(Wn,Vn){Wn==="Hidden"?h.geometriesUI.representationProxies[Vn].setVisibility(!1):(h.geometriesUI.representationProxies[Vn].setRepresentation(Wn),h.geometriesUI.representationProxies[Vn].setVisibility(!0)),mn(Wn),h.renderWindow.render()})(h.geometriesUI.representations[In],In),h.renderWindow.render()}),Object(d.e)(function(){return h.geometriesUI.selectedGeometryIndex},function(an){mn(h.geometriesUI.representations[an])}),Object(d.e)(function(){return h.geometriesUI.geometries.slice()},function(an){if(an&&an.length!==0){an.forEach(function(Wn,Vn){h.geometriesUI.representations.length<=Vn&&h.geometriesUI.representations.push("Surface")});var In=h.geometriesUI.selectedGeometryIndex;mn(h.geometriesUI.representations[In])}});var dn=new Array(h.geometriesUI.geometries.length);dn.fill("Surface"),mn("Surface"),h.geometriesUI.representations=dn},ts=a(76),Gs=function(h,T){var be=document.createElement("input");function Q(Le){Le.forEach(function(vt,ct){var pt=Object(ts.a)(vt);h.geometriesUI.representationProxies[ct].setColor(pt)}),h.renderWindow.render();var We=h.geometriesUI.selectedGeometryIndex;be.value=Le[We]}be.setAttribute("type","color"),be.id="".concat(h.id,"-geometryColorInput"),Object(d.e)(function(){return h.geometriesUI.geometries.slice()},function(Le){if(Le&&Le.length!==0){var We=h.geometriesUI.selectedGeometryIndex;Le.forEach(function(vt,ct){h.geometriesUI.colors.length<=ct&&h.geometriesUI.colors.push("#ff0000")}),be.value=h.geometriesUI.colors[We]}}),Object(d.e)(function(){return h.geometriesUI.selectedGeometryIndex},function(Le){be.value=h.geometriesUI.colors[Le],h.geometriesUI.hasScalars[Le]?be.style.display="none":be.style.display="inline-block"}),Object(d.e)(function(){return h.geometriesUI.colors.slice()},Q),be.addEventListener("input",function(Le){Le.preventDefault(),Le.stopPropagation();var We=h.geometriesUI.selectedGeometryIndex;h.geometriesUI.colors[We]=Le.target.value});var te=Array(h.geometriesUI.geometries.length);te.fill("#ff0000"),be.value="#ff0000",h.geometriesUI.colors=te,Q(h.geometriesUI.colors);var je=h.geometriesUI.selectedGeometryIndex;h.geometriesUI.hasScalars[je]?be.style.display="none":be.style.display="inline-block",T.appendChild(be)},ns=a(77),rs=a.n(ns),zs=function(h,T){var be=document.createElement("div");be.setAttribute("class",f.a.sliderEntry),be.innerHTML=`
    <div itk-vtk-tooltip itk-vtk-tooltip-bottom itk-vtk-tooltip-content="Opacity" class="`.concat(f.a.gradientOpacitySlider,`">
      `).concat(rs.a,`
    </div>
    <input type="range" min="0" max="1" value="`).concat(1,`" step="0.01"
      id="`).concat(h.id,`-geometryOpacitySlider"
      class="`).concat(f.a.slider,'" />');var Q=be.querySelector("#".concat(h.id,"-geometryOpacitySlider")),te=be.children[0];function je(We){We.forEach(function(ct,pt){h.geometriesUI.representationProxies[pt].setOpacity(ct)}),h.renderWindow.render();var vt=h.geometriesUI.selectedGeometryIndex;Q.value=We[vt]}Object(B.a)(h,"invertibleButton",te),Object(d.e)(function(){return h.geometriesUI.geometries.slice()},function(We){if(We&&We.length!==0){We.forEach(function(ct,pt){h.geometriesUI.opacities.length<=pt&&h.geometriesUI.opacities.push(1)});var vt=h.geometriesUI.selectedGeometryIndex;Q.value=h.geometriesUI.opacities[vt]}}),Object(d.e)(function(){return h.geometriesUI.selectedGeometryIndex},function(We){Q.value=h.geometriesUI.opacities[We]}),Object(d.e)(function(){return h.geometriesUI.opacities.slice()},je),Q.addEventListener("input",Object(d.a)(function(We){We.preventDefault(),We.stopPropagation();var vt=h.geometriesUI.selectedGeometryIndex;h.geometriesUI.opacities[vt]=Number(We.target.value)}));var Le=new Array(h.geometriesUI.geometries.length);Le.fill(1),Q.value=1,h.geometriesUI.opacities=Le,je(h.geometriesUI.opacities),T.appendChild(be)};a(45);var as=function(h,T){var be=document.createElement("select");be.setAttribute("class",f.a.selector),be.id="".concat(h.id,"-colorBySelector"),Object(d.e)(function(){return h.geometriesUI.geometries.slice()},function(Le){if(Le&&Le.length!==0){var We=h.geometriesUI.hasScalars,vt=h.geometriesUI.selectedGeometryIndex,ct=h.geometriesUI.colorByOptions;h.geometriesUI.hasScalars[vt]&&ct[vt].length>1?T.style.display="flex":T.style.display="none";var pt=h.geometriesUI.colorByDefault;Le.forEach(function(Ut,Rt){if(h.geometriesUI.colorBy.length<=Rt)h.geometriesUI.colorBy.push(pt[Rt]);else{var Wt=h.geometriesUI.colorBy[Rt];h.geometriesUI.colorByOptions[Rt]&&!h.geometriesUI.colorByOptions[Rt].filter(function(kt){return kt.label===Wt.label&&kt.value===Wt.value}).length&&(h.geometriesUI.colorBy[Rt]=pt[Rt])}}),We[vt]&&(be.value=h.geometriesUI.colorBy[vt].value)}}),Object(d.e)(function(){return h.geometriesUI.selectedGeometryIndex},function(Le){var We=h.geometriesUI.colorByOptions;We[Le]&&We[Le].length&&(be.innerHTML=We[Le].map(function(vt){var ct=vt.label,pt=vt.value;return'<option value="'.concat(pt,'" >').concat(ct,"</option>")}).join(""),be.value=h.geometriesUI.colorBy[Le].value),h.geometriesUI.hasScalars[Le]&&We[Le].length>1?T.style.display="flex":T.style.display="none"}),Object(d.e)(function(){return h.geometriesUI.colorBy.slice()},function(Le){var We=h.geometriesUI.selectedGeometryIndex;if(Le[We]){var vt=Le[We].value.split(":"),ct=Fr()(vt,2),pt=ct[0],Ut=ct[1],Rt=h.geometriesUI.representationProxies[We],Wt=pt==="pointData";Rt.setInterpolateScalarsBeforeMapping(Wt),Rt.setColorBy(Ut,pt),Rt.getMapper().setColorModeToDefault(),h.renderWindow.render(),h.geometriesUI.hasScalars[We]&&(be.value=h.geometriesUI.colorBy[We].value)}}),be.addEventListener("change",function(Le){Le.preventDefault(),Le.stopPropagation();var We=h.geometriesUI.selectedGeometryIndex,vt=(h.geometriesUI.colorByOptions,h.geometriesUI.colorByOptions[We].filter(function(ct){return ct.value===Le.target.value})[0]);h.geometriesUI.colorBy[We]=vt});var Q=h.geometriesUI.colorByDefault;Q.forEach(function(Le,We){if(Le){var vt=Le.value.split(":"),ct=Fr()(vt,2),pt=ct[0],Ut=ct[1],Rt=h.geometriesUI.representationProxies[We],Wt=pt==="pointData";Rt.setInterpolateScalarsBeforeMapping(Wt),Rt.setColorBy(Ut,pt),Rt.getMapper().setColorModeToDefault()}});var te=h.geometriesUI.selectedGeometryIndex,je=h.geometriesUI.colorByOptions;Q[te]&&(be.innerHTML=je[te].map(function(Le){var We=Le.label,vt=Le.value;return'<option value="'.concat(vt,'" >').concat(We,"</option>")}).join(""),be.value=Q[te].value),h.geometriesUI.hasScalars[te]&&je[te].length>1?T.style.display="flex":T.style.display="none",h.geometriesUI.colorBy=Q,T.appendChild(be)},Ws=function(h,T){var be=document.createElement("input");be.type="number",be.setAttribute("class",f.a.numberInput);var Q=document.createElement("input");function te(){var kt=h.geometriesUI.selectedGeometryIndex;if(h.geometriesUI.hasScalars[kt]&&!h.geometriesUI.hasOnlyDirectColors[kt]){var mn=h.geometriesUI.colorBy[kt].value.split(":"),dn=Fr()(mn,2),an=dn[0],In=dn[1],Wn=h.geometriesUI.geometries[kt],Vn=an==="pointData"?Wn.getPointData().getArrayByName(In):Wn.getCellData().getArrayByName(In),Mr=Vn.getRange();be.min=Mr[0],be.max=Mr[1],Q.min=Mr[0],Q.max=Mr[1];var ia=Vn.getData();if(ia instanceof Float32Array||ia instanceof Float64Array){var lr=(Mr[1]-Mr[0])/100;be.step=lr,Q.step=lr}var ua=h.geometriesUI.selectedColorRange;be.value=ua[0],Q.value=ua[1]}}function je(kt,mn){h.geometriesUI.colorRangesReactions.has(kt)&&h.geometriesUI.colorRangesReactions.get(kt)();var dn=Object(d.e)(function(){return Object(d.f)(h.geometriesUI.colorRanges)},function(an){if(kt===h.geometriesUI.selectedGeometryIndex){var In=h.geometriesUI.selectedColorRange;if(In){be.value=In[0],Q.value=In[1];var Wn=h.geometriesUI.selectedLookupTableProxy.getLookupTable();Wn.setMappingRange.apply(Wn,vr()(In)),Wn.updateRange(),h.renderWindow.getInteractor().isAnimating()||h.renderWindow.render()}}});h.geometriesUI.colorRangesReactions.set(kt,dn)}function Le(){var kt=h.geometriesUI.colorByOptions;if(kt&&kt.length!==0){var mn=h.geometriesUI.geometries;kt.forEach(function(dn,an){var In=mn[an];if(h.geometriesUI.colorRanges.has(an)){var Wn=h.geometriesUI.colorRanges.get(an);dn&&dn.forEach(function(lr){var ua=lr.value.split(":"),Hr=Fr()(ua,2),_r=Hr[0],qr=Hr[1],Tr=(_r==="pointData"?In.getPointData().getArrayByName(qr):In.getCellData().getArrayByName(qr)).getRange();if(Wn.has(lr.value)){var na=Wn.get(lr.value);if(na[0]<Tr[0]||na[1]>Tr[1]){var qt=na.slice();na[0]<Tr[0]&&(qt[0]=Tr[0]),na[1]>Tr[1]&&(qt[1]=Tr[1]),Wn.set(lr.value,qt)}}else Wn.set(lr.value,Tr)}),je(an)}else{var Vn=Object(d.d)(new Map);dn&&dn.forEach(function(lr){var ua=lr.value.split(":"),Hr=Fr()(ua,2),_r=Hr[0],qr=Hr[1],Tr=(_r==="pointData"?In.getPointData().getArrayByName(qr):In.getCellData().getArrayByName(qr)).getRange();Vn.set(lr.value,Tr)}),h.geometriesUI.colorRanges.set(an,Vn),je(an)}if(h.geometriesUI.colorMaps.length<=an){h.geometriesUI.colorMaps.push("Viridis (matplotlib)");var Mr=h.geometriesUI.selectedLookupTableProxy;Mr&&Mr.setPresetName("Viridis (matplotlib)")}if(h.geometriesUI.colorMaps.length<=an){h.geometriesUI.colorMaps.push("Viridis (matplotlib)");var ia=h.geometriesUI.selecetdLookupTableProxy;ia&&ia.setPresetName("Viridis (matplotlib)")}}),te()}}Q.type="number",Q.setAttribute("class",f.a.numberInput),Le(),Object(d.e)(function(){return h.geometriesUI.selectedColorRange},function(kt){if(kt){be.value=kt[0],Q.value=kt[1];var mn=h.geometriesUI.selectedLookupTableProxy.getLookupTable();mn.setMappingRange.apply(mn,vr()(kt)),mn.updateRange()}}),be.addEventListener("change",Object(d.a)(function(kt){kt.preventDefault(),kt.stopPropagation();var mn=h.geometriesUI.selectedGeometryIndex,dn=h.geometriesUI.colorBy[mn].value,an=h.geometriesUI.colorRanges.get(mn).get(dn);an[0]=Number(kt.target.value),h.geometriesUI.colorRanges.get(mn).set(dn,an)})),Q.addEventListener("change",Object(d.a)(function(kt){kt.preventDefault(),kt.stopPropagation();var mn=h.geometriesUI.selectedGeometryIndex,dn=h.geometriesUI.colorBy[mn].value,an=h.geometriesUI.colorRanges.get(mn).get(dn);an[1]=Number(kt.target.value),h.geometriesUI.colorRanges.get(mn).set(dn,an)}));var We=document.createElement("div");We.id="".concat(h.id,"-geometryColorMapSelector");var vt=Va(We);function ct(){var kt=h.geometriesUI.selectedGeometryIndex;if(h.geometriesUI.hasScalars[Wt]&&!h.geometriesUI.hasOnlyDirectColors[kt]){var mn=h.geometriesUI.colorMaps[kt],dn=h.geometriesUI.selectedLookupTableProxy,an=dn.getLookupTable();if(mn.startsWith("Custom")){dn.setMode(Dr.a.Mode.RGBPoints),h.geometriesUI.selectedColorRange;var In=vt.getIcons();if(pt){if(In[In.length-1].iconValue!==mn){var Wn=ba(an,colorDataRange);In[In.length-1].element.src=Wn,In[In.length-1].iconFilePath=Wn,In[In.length-1].iconValue=mn,In[In.length-1].element.setAttribute("icon-value",mn),In[In.length-1].element.setAttribute("alt",mn),In[In.length-1].element.setAttribute("title",mn)}}else{var Vn=ba(an,colorDataRange);pt={iconFilePath:Vn,iconValue:mn},icons.push(pt),vt.refresh(icons)}}else dn.setPresetName(mn),dn.setMode(Dr.a.Mode.Preset);vt.setSelectedValue(mn),h.renderWindow.getInteractor().isAnimating()||h.renderWindow.render()}}var pt=null;Object(d.e)(function(){return h.geometriesUI.colorMaps.slice()},function(kt){ct()}),We.addEventListener("changed",function(kt){kt.preventDefault(),kt.stopPropagation();var mn=h.geometriesUI.selectedGeometryIndex;h.geometriesUI.colorMaps[mn]=vt.getSelectedValue()});var Ut=h.geometriesUI.selectedGeometryIndex;vt.setSelectedValue(h.geometriesUI.colorMaps[Ut]),Object(d.e)(function(){return h.geometriesUI.colorByOptions.slice()},function(){Le()}),Object(d.e)(function(){return h.geometriesUI.selectedGeometryIndex},function(kt){h.geometriesUI.hasOnlyDirectColors[kt]?(T.style.display="flex",te(),ct()):T.style.display="none"}),Object(d.e)(function(){return h.geometriesUI.colorBy.slice()},function(){te(),ct()}),ct();var Rt=h.geometriesUI.hasOnlyDirectColors,Wt=h.geometriesUI.selectedGeometryIndex;Rt[Wt]?T.style.display="flex":T.style.display="none",T.appendChild(be),T.appendChild(We),T.appendChild(Q)},Ks=function(h,T){var be=document.createElement("div");be.setAttribute("class",f.a.uiRow),be.className+=" ".concat(h.id,"-toggle"),as(h,be),T.appendChild(be);var Q=document.createElement("div");Q.setAttribute("class",f.a.uiRow),Q.className+=" ".concat(h.id,"-toggle"),Gs(h,Q),zs(h,Q),T.appendChild(Q);var te=document.createElement("div");te.setAttribute("class",f.a.uiRow),Ws(h,te),te.className+=" ".concat(h.id,"-toggle"),T.appendChild(te),h.mainUI.collapsed&&(be.style.display="none",Q.style.display="none",T.style.display="none")},os=function(h){var T=document.createElement("div");T.setAttribute("class",f.a.uiGroup);var be=document.createElement("div");be.setAttribute("class",f.a.uiRow),be.className+=" ".concat(h.id,"-toggle"),h.mainUI.collapsed&&(be.style.display="none");var Q=document.createElement("select");Q.setAttribute("class",f.a.selector),Q.id="".concat(h.id,"-geometrySelector"),be.appendChild(Q),Q.addEventListener("change",function(te){te.preventDefault(),te.stopPropagation(),h.geometriesUI.selectedGeometryIndex=Q.selectedIndex}),Object(d.e)(function(){return h.geometriesUI.names.slice()},function(te){(function(je){Q.innerHTML=je.map(function(Le){return'<option value="'.concat(Le,'">').concat(Le,"</option>")}).join(""),je.length>1?Q.disabled=!1:Q.disabled=!0})(te)}),h.geometriesUI.geometries.length>0&&(h.geometriesUI.selectedGeometryIndex=0),Object(d.b)(function(){var te=h.geometriesUI.geometries;h.geometriesUI.names=te.map(function(je,Le){var We=je.getState().metadata;return We&&We.name?We.name:"Geometry ".concat(Le)})}),es(h,be),T.appendChild(be),Ks(h,T),h.mainUI.uiContainer.appendChild(T),h.geometriesUI.initialized=!0},Hs=a(178),Qs=a.n(Hs),is=a(179),Ys=a.n(is),Co=function(h,T){var be=h.id,Q=document.createElement("div");Q.innerHTML='<input id="'.concat(be,'-pointSetHiddenButton" type="checkbox" class="').concat(f.a.toggleInput,'"><label itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="Hidden" class="').concat(f.a.fullscreenButton," ").concat(f.a.toggleButton,'" for="').concat(be,'-pointSetHiddenButton">').concat(qi.a,"</label>"),Q.addEventListener("click",function(kt){kt.preventDefault(),kt.stopPropagation();var mn=h.pointSetsUI.selectedPointSetIndex;h.pointSetsUI.representations[mn]="Hidden"}),T.appendChild(Q);var te=Q.children[0],je=Q.children[1];Object(B.a)(h,"tooltipButton",je);var Le=document.createElement("div");Le.innerHTML='<input id="'.concat(be,'-pointSetPointsButton" type="checkbox" class="').concat(f.a.toggleInput,'"><label itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="Points" class="').concat(f.a.fullscreenButton," ").concat(f.a.toggleButton,'" for="').concat(be,'-pointSetPointsButton">').concat(Qs.a,"</label>"),Le.addEventListener("click",function(kt){kt.preventDefault(),kt.stopPropagation();var mn=h.pointSetsUI.selectedPointSetIndex;h.pointSetsUI.representations[mn]="Points"}),T.appendChild(Le);var We=Le.children[0],vt=Le.children[1];Object(B.a)(h,"tooltipButton",vt);var ct=document.createElement("div");ct.innerHTML='<input id="'.concat(be,'-pointSetSpheresButton" type="checkbox" class="').concat(f.a.toggleInput,'"><label itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="Spheres" class="').concat(f.a.fullscreenButton," ").concat(f.a.toggleButton,'" for="').concat(be,'-pointSetSpheresButton">').concat(Ys.a,"</label>"),ct.addEventListener("click",function(kt){kt.preventDefault(),kt.stopPropagation();var mn=h.pointSetsUI.selectedPointSetIndex;h.pointSetsUI.representations[mn]="Spheres"}),T.appendChild(ct);var pt=ct.children[0],Ut=ct.children[1];function Rt(kt){switch(kt){case"Hidden":te.checked=!0,We.checked=!1,pt.checked=!1;break;case"Points":te.checked=!1,We.checked=!0,pt.checked=!1;break;case"Spheres":te.checked=!1,We.checked=!1,pt.checked=!0;break;default:console.error("Invalid pointSet representation: "+kt)}}Object(B.a)(h,"tooltipButton",Ut),Object(d.e)(function(){return h.pointSetsUI.representations.slice()},function(kt){kt.forEach(function(dn,an){(function(In,Wn){In==="Hidden"?h.pointSetsUI.representationProxies[Wn].setVisibility(!1):(h.pointSetsUI.representationProxies[Wn].setRepresentation(In),h.pointSetsUI.representationProxies[Wn].setVisibility(!0))})(dn,an)});var mn=h.pointSetsUI.selectedPointSetIndex;Rt(h.pointSetsUI.representations[mn]),h.renderWindow.render()}),Object(d.e)(function(){return h.pointSetsUI.selectedPointSetIndex},function(kt){Rt(h.pointSetsUI.representations[kt])}),Object(d.e)(function(){return h.pointSetsUI.pointSets.slice()},function(kt){if(kt&&kt.length!==0){kt.forEach(function(dn,an){h.pointSetsUI.representations.length<=an&&h.pointSetsUI.representations.push("Points")});var mn=h.pointSetsUI.selectedPointSetIndex;Rt(h.pointSetsUI.representations[mn])}});var Wt=new Array(h.pointSetsUI.pointSets.length);Wt.fill("Points"),Rt("Points"),h.pointSetsUI.representations=Wt,h.pointSetsUI.representationProxies},ss=function(h,T){var be=document.createElement("input");be.setAttribute("type","color"),be.id="".concat(h.id,"-pointSetColorInput"),Object(d.e)(function(){return h.pointSetsUI.pointSets.slice()},function(je){if(je&&je.length!==0){var Le=h.pointSetsUI.selectedPointSetIndex;je.forEach(function(We,vt){h.pointSetsUI.colors.length<=vt&&h.pointSetsUI.colors.push("#ffffff")}),be.value=h.pointSetsUI.colors[Le]}}),Object(d.e)(function(){return h.pointSetsUI.selectedPointSetIndex},function(je){be.value=h.pointSetsUI.colors[je],h.pointSetsUI.hasScalars[je]?be.style.display="none":be.style.display="inline-block"}),Object(d.e)(function(){return h.pointSetsUI.colors.slice()},function(je){je.forEach(function(We,vt){var ct=Object(ts.a)(We);h.pointSetsUI.representationProxies[vt].setColor(ct)}),h.renderWindow.render();var Le=h.pointSetsUI.selectedPointSetIndex;be.value=je[Le]}),be.addEventListener("input",function(je){je.preventDefault(),je.stopPropagation();var Le=h.pointSetsUI.selectedPointSetIndex;h.pointSetsUI.colors[Le]=je.target.value});var Q=Array(h.pointSetsUI.pointSets.length);Q.fill("#ffffff"),be.value="#ffffff",h.pointSetsUI.colors=Q;var te=h.pointSetsUI.selectedPointSetIndex;h.pointSetsUI.hasScalars[te]?be.style.display="none":be.style.display="inline-block",T.appendChild(be)},cs=function(h,T){var be=document.createElement("div");be.setAttribute("class",f.a.sliderEntry),be.innerHTML=`
    <div itk-vtk-tooltip itk-vtk-tooltip-bottom itk-vtk-tooltip-content="Opacity" class="`.concat(f.a.gradientOpacitySlider,`">
      `).concat(rs.a,`
    </div>
    <input type="range" min="0" max="1" value="`).concat(1,`" step="0.01"
      id="`).concat(h.id,`-pointSetOpacitySlider"
      class="`).concat(f.a.slider,'" />');var Q=be.querySelector("#".concat(h.id,"-pointSetOpacitySlider")),te=be.children[0];Object(B.a)(h,"invertibleButton",te),Object(d.e)(function(){return h.pointSetsUI.pointSets.slice()},function(Le){if(Le&&Le.length!==0){Le.forEach(function(vt,ct){h.pointSetsUI.opacities.length<=ct&&h.pointSetsUI.opacities.push(1)});var We=h.pointSetsUI.selectedPointSetIndex;Q.value=h.pointSetsUI.opacities[We]}}),Object(d.e)(function(){return h.pointSetsUI.selectedPointSetIndex},function(Le){Q.value=h.pointSetsUI.opacities[Le]}),Object(d.e)(function(){return h.pointSetsUI.opacities.slice()},function(Le){Le.forEach(function(vt,ct){h.pointSetsUI.representationProxies[ct].setOpacity(vt)}),h.renderWindow.render();var We=h.pointSetsUI.selectedPointSetIndex;Q.value=Le[We]}),Q.addEventListener("input",Object(d.a)(function(Le){Le.preventDefault(),Le.stopPropagation();var We=h.pointSetsUI.selectedPointSetIndex;h.pointSetsUI.opacities[We]=Number(Le.target.value)}));var je=new Array(h.pointSetsUI.pointSets.length);je.fill(1),Q.value=1,h.pointSetsUI.opacities=je,T.appendChild(be)},us=function(h,T){var be=document.createElement("select");be.setAttribute("class",f.a.selector),be.id="".concat(h.id,"-colorBySelector"),Object(d.e)(function(){return h.pointSetsUI.pointSets.slice()},function(Le){if(Le&&Le.length!==0){var We=h.pointSetsUI.hasScalars,vt=h.pointSetsUI.selectedPointSetIndex,ct=h.pointSetsUI.colorByOptions;h.pointSetsUI.hasScalars[vt]&&ct[vt].length>1?T.style.display="flex":T.style.display="none";var pt=h.pointSetsUI.colorByDefault;Le.forEach(function(Ut,Rt){if(h.pointSetsUI.colorBy.length<=Rt)h.pointSetsUI.colorBy.push(pt[Rt]);else{var Wt=h.pointSetsUI.colorBy[Rt];h.pointSetsUI.colorByOptions[Rt]&&!h.pointSetsUI.colorByOptions[Rt].filter(function(kt){return kt.label===Wt.label&&kt.value===Wt.value}).length&&(h.pointSetsUI.colorBy[Rt]=pt[Rt])}}),We[vt]&&(be.value=h.pointSetsUI.colorBy[vt].value)}}),Object(d.e)(function(){return h.pointSetsUI.selectedPointSetIndex},function(Le){var We=h.pointSetsUI.colorByOptions;We[Le]&&We[Le].length&&(be.innerHTML=We[Le].map(function(vt){var ct=vt.label,pt=vt.value;return'<option value="'.concat(pt,'" >').concat(ct,"</option>")}).join(""),be.value=h.pointSetsUI.colorBy[Le].value),h.pointSetsUI.hasScalars[Le]&&We[Le].length>1?T.style.display="flex":T.style.display="none"}),Object(d.e)(function(){return h.pointSetsUI.colorBy.slice()},function(Le){var We=h.pointSetsUI.selectedPointSetIndex;if(Le[We]){var vt=Le[We].value.split(":"),ct=Fr()(vt,2),pt=ct[0],Ut=ct[1],Rt=h.pointSetsUI.representationProxies[We],Wt=pt==="pointData";Rt.setInterpolateScalarsBeforeMapping(Wt),Rt.setColorBy(Ut,pt),h.renderWindow.render(),h.pointSetsUI.hasScalars[We]&&(be.value=h.pointSetsUI.colorBy[We].value)}}),be.addEventListener("change",function(Le){Le.preventDefault(),Le.stopPropagation();var We=h.pointSetsUI.selectedPointSetIndex,vt=(h.pointSetsUI.colorByOptions,h.pointSetsUI.colorByOptions[We].filter(function(ct){return ct.value===Le.target.value})[0]);h.pointSetsUI.colorBy[We]=vt});var Q=h.pointSetsUI.colorByDefault;Q.forEach(function(Le,We){if(Le){var vt=Le.value.split(":"),ct=Fr()(vt,2),pt=ct[0],Ut=ct[1],Rt=h.pointSetsUI.representationProxies[We],Wt=pt==="pointData";Rt.setInterpolateScalarsBeforeMapping(Wt),Rt.setColorBy(Ut,pt)}});var te=h.pointSetsUI.selectedPointSetIndex,je=h.pointSetsUI.colorByOptions;Q[te]&&(be.innerHTML=je[te].map(function(Le){var We=Le.label,vt=Le.value;return'<option value="'.concat(vt,'" >').concat(We,"</option>")}).join(""),be.value=Q[te].value),h.pointSetsUI.hasScalars[te]&&je[te].length>1?T.style.display="flex":T.style.display="none",h.pointSetsUI.colorBy=Q,T.appendChild(be)},Xs=a(180),Oi=a.n(Xs),qs=function(h,T){var be=document.createElement("div");be.setAttribute("class",f.a.sliderEntry),be.innerHTML=`
    <div itk-vtk-tooltip itk-vtk-tooltip-bottom itk-vtk-tooltip-content="Size" class="`.concat(f.a.gradientOpacitySlider,`">
      `).concat(Oi.a,`
    </div>
    <input type="range" min="1" max="20" value="`).concat(3,`" step="1"
      id="`).concat(h.id,`-pointSetSizeSlider"
      class="`).concat(f.a.slider,'" />');var Q=be.querySelector("#".concat(h.id,"-pointSetSizeSlider")),te=be.children[0];Object(B.a)(h,"invertibleButton",te),Object(d.e)(function(){return h.pointSetsUI.pointSets.slice()},function(Le){if(Le&&Le.length!==0){Le.forEach(function(vt,ct){h.pointSetsUI.sizes.length<=ct&&h.pointSetsUI.sizes.push(3)});var We=h.pointSetsUI.selectedPointSetIndex;Q.value=h.pointSetsUI.sizes[We]}}),Object(d.e)(function(){return h.pointSetsUI.selectedPointSetIndex},function(Le){Q.value=h.pointSetsUI.sizes[Le]}),Object(d.e)(function(){return h.pointSetsUI.sizes.slice()},function(Le){for(var We=0;We<Le.length;We++)h.pointSetsUI.representationProxies[We].setPointSize(Le[We]);h.renderWindow.render(),Q.value=Le[h.pointSetsUI.selectedPointSetIndex]}),Q.addEventListener("input",function(Le){Le.preventDefault(),Le.stopPropagation();var We=h.pointSetsUI.selectedPointSetIndex;h.pointSetsUI.sizes[We]=Number(Le.target.value)});var je=new Array(h.pointSetsUI.pointSets.length);je.fill(3),Q.value=3,h.pointSetsUI.sizes=je,h.pointSetsUI.representationProxies.forEach(function(Le){Le.setPointSize(3)}),T.appendChild(be)},ls=function(h,T){var be=document.createElement("input");be.type="number",be.setAttribute("class",f.a.numberInput);var Q=document.createElement("input");function te(){var Rt=h.pointSetsUI.selectedPointSetIndex;if(h.pointSetsUI.hasScalars[Rt]){var Wt=h.pointSetsUI.colorBy[Rt].value.split(":"),kt=Fr()(Wt,2),mn=kt[0],dn=kt[1],an=h.pointSetsUI.pointSets[Rt],In=mn==="pointData"?an.getPointData().getArrayByName(dn):an.getCellData().getArrayByName(dn),Wn=In.getRange();be.min=Wn[0],be.max=Wn[1],Q.min=Wn[0],Q.max=Wn[1];var Vn=In.getData();if(Vn instanceof Float32Array||Vn instanceof Float64Array){var Mr=(Wn[1]-Wn[0])/100;be.step=Mr,Q.step=Mr}var ia=h.pointSetsUI.selectedColorRange;be.value=ia[0],Q.value=ia[1]}}function je(Rt,Wt){h.pointSetsUI.colorRangesReactions.has(Rt)&&h.pointSetsUI.colorRangesReactions.get(Rt)();var kt=Object(d.e)(function(){return Object(d.f)(h.pointSetsUI.colorRanges)},function(mn){if(Rt===h.pointSetsUI.selectedPointSetIndex){var dn=h.pointSetsUI.selectedColorRange;if(dn){be.value=dn[0],Q.value=dn[1];var an=h.pointSetsUI.selectedLookupTableProxy.getLookupTable();an.setMappingRange.apply(an,vr()(dn)),an.updateRange(),h.renderWindow.getInteractor().isAnimating()||h.renderWindow.render()}}});h.pointSetsUI.colorRangesReactions.set(Rt,kt)}function Le(){var Rt=h.pointSetsUI.colorByOptions;if(Rt&&Rt.length!==0){var Wt=h.pointSetsUI.pointSets;Rt.forEach(function(kt,mn){var dn=Wt[mn];if(h.pointSetsUI.colorRanges.has(mn)){var an=h.pointSetsUI.colorRanges.get(mn);kt&&kt.forEach(function(Vn){var Mr=Vn.value.split(":"),ia=Fr()(Mr,2),lr=ia[0],ua=ia[1],Hr=(lr==="pointData"?dn.getPointData().getArrayByName(ua):dn.getCellData().getArrayByName(ua)).getRange();if(an.has(Vn.value)){var _r=an.get(Vn.value);if(_r[0]<Hr[0]||_r[1]>Hr[1]){var qr=_r.slice();_r[0]<Hr[0]&&(qr[0]=Hr[0]),_r[1]>Hr[1]&&(qr[1]=Hr[1]),an.set(Vn.value,qr)}}else an.set(Vn.value,Hr)}),je(mn)}else{var In=Object(d.d)(new Map);kt&&kt.forEach(function(Vn){var Mr=Vn.value.split(":"),ia=Fr()(Mr,2),lr=ia[0],ua=ia[1],Hr=(lr==="pointData"?dn.getPointData().getArrayByName(ua):dn.getCellData().getArrayByName(ua)).getRange();In.set(Vn.value,Hr)}),h.pointSetsUI.colorRanges.set(mn,In),je(mn)}if(h.pointSetsUI.colorMaps.length<=mn){h.pointSetsUI.colorMaps.push("Viridis (matplotlib)");var Wn=h.pointSetsUI.selectedLookupTableProxy;Wn&&Wn.setPresetName("Viridis (matplotlib)")}}),te()}}Q.type="number",Q.setAttribute("class",f.a.numberInput),Le(),Object(d.e)(function(){return h.pointSetsUI.selectedColorRange},function(Rt){if(Rt){be.value=Rt[0],Q.value=Rt[1];var Wt=h.pointSetsUI.selectedLookupTableProxy.getLookupTable();Wt.setMappingRange.apply(Wt,vr()(Rt)),Wt.updateRange()}}),be.addEventListener("change",Object(d.a)(function(Rt){Rt.preventDefault(),Rt.stopPropagation();var Wt=h.pointSetsUI.selectedPointSetIndex,kt=h.pointSetsUI.colorBy[Wt].value,mn=h.pointSetsUI.colorRanges.get(Wt).get(kt);mn[0]=Number(Rt.target.value),h.pointSetsUI.colorRanges.get(Wt).set(kt,mn)})),Q.addEventListener("change",Object(d.a)(function(Rt){Rt.preventDefault(),Rt.stopPropagation();var Wt=h.pointSetsUI.selectedPointSetIndex,kt=h.pointSetsUI.colorBy[Wt].value,mn=h.pointSetsUI.colorRanges.get(Wt).get(kt);mn[1]=Number(Rt.target.value),h.pointSetsUI.colorRanges.get(Wt).set(kt,mn)}));var We=document.createElement("div");We.id="".concat(h.id,"-pointSetColorMapSelector");var vt=Va(We);function ct(){var Rt=h.pointSetsUI.selectedPointSetIndex;if(h.pointSetsUI.hasScalars[Rt]){var Wt=h.pointSetsUI.colorMaps[Rt],kt=h.pointSetsUI.selectedLookupTableProxy,mn=kt.getLookupTable();if(Wt.startsWith("Custom")){kt.setMode(Dr.a.Mode.RGBPoints),h.pointSetsUI.selectedColorRange;var dn=vt.getIcons();if(pt){if(dn[dn.length-1].iconValue!==Wt){var an=ba(mn,colorDataRange);dn[dn.length-1].element.src=an,dn[dn.length-1].iconFilePath=an,dn[dn.length-1].iconValue=Wt,dn[dn.length-1].element.setAttribute("icon-value",Wt),dn[dn.length-1].element.setAttribute("alt",Wt),dn[dn.length-1].element.setAttribute("title",Wt)}}else{var In=ba(mn,colorDataRange);pt={iconFilePath:In,iconValue:Wt},icons.push(pt),vt.refresh(icons)}}else kt.setPresetName(Wt),kt.setMode(Dr.a.Mode.Preset);vt.setSelectedValue(Wt),h.renderWindow.getInteractor().isAnimating()||h.renderWindow.render()}}var pt=null;Object(d.e)(function(){return h.pointSetsUI.colorMaps.slice()},function(Rt){ct()}),We.addEventListener("changed",function(Rt){Rt.preventDefault(),Rt.stopPropagation();var Wt=h.pointSetsUI.selectedPointSetIndex;h.pointSetsUI.colorMaps[Wt]=vt.getSelectedValue()});var Ut=h.pointSetsUI.selectedPointSetIndex;vt.setSelectedValue(h.pointSetsUI.colorMaps[Ut]),Object(d.e)(function(){return h.pointSetsUI.colorByOptions.slice()},function(){Le()}),Object(d.e)(function(){return h.pointSetsUI.selectedPointSetIndex},function(Rt){h.pointSetsUI.hasScalars[Rt]?(T.style.display="flex",te(),ct()):T.style.display="none"}),Object(d.e)(function(){return h.pointSetsUI.colorBy.slice()},function(){te(),ct()}),ct(),h.pointSetsUI.hasScalars[h.pointSetsUI.selectedPointSetIndex]?T.style.display="flex":T.style.display="none",T.appendChild(be),T.appendChild(We),T.appendChild(Q)},Po=function(h,T){var be=document.createElement("div");be.setAttribute("class",f.a.uiRow),be.className+=" ".concat(h.id,"-toggle"),us(h,be),T.appendChild(be);var Q=document.createElement("div");Q.setAttribute("class",f.a.uiRow),Q.className+=" ".concat(h.id,"-toggle"),ss(h,Q),cs(h,Q),T.appendChild(Q);var te=document.createElement("div");te.setAttribute("class",f.a.uiRow),ls(h,te),te.className+=" ".concat(h.id,"-toggle"),T.appendChild(te);var je=document.createElement("div");je.setAttribute("class",f.a.uiRow),je.className+=" ".concat(h.id,"-toggle"),qs(h,je),T.appendChild(je),h.mainUI.collapsed&&(be.style.display="none",te.style.display="none",je.style.display="none")},fs=function(h){var T=document.createElement("div");T.setAttribute("class",f.a.uiGroup);var be=document.createElement("div");be.setAttribute("class",f.a.uiRow),be.className+=" ".concat(h.id,"-toggle"),h.mainUI.collapsed&&(be.style.display="none");var Q=document.createElement("select");Q.setAttribute("class",f.a.selector),Q.id="".concat(h.id,"-pointSetSelector"),be.appendChild(Q),Q.addEventListener("change",function(te){te.preventDefault(),te.stopPropagation(),h.pointSetsUI.selectedPointSetIndex=Q.selectedIndex}),Object(d.e)(function(){return h.pointSetsUI.names.slice()},function(te){(function(je){Q.innerHTML=je.map(function(Le){return'<option value="'.concat(Le,'">').concat(Le,"</option>")}).join(""),je.length>1?Q.disabled=!1:Q.disabled=!0})(te)}),h.pointSetsUI.pointSets.length>0&&(h.pointSetsUI.selectedPointSetIndex=0),Object(d.b)(function(){var te=h.pointSetsUI.pointSets;h.pointSetsUI.names=te.map(function(je,Le){var We=je.getState().metadata;return We&&We.name?We.name:"Point Set ".concat(Le)})}),Co(h,be),T.appendChild(be),Po(h,T),h.mainUI.uiContainer.appendChild(T),h.pointSetsUI.initialized=!0},Zs=function(h){if(h)for(;h.firstChild;)h.removeChild(h.firstChild)},ds=function(h){var T=document.createElement("canvas"),be=T.getContext("webgl")||T.getContext("experimental-webgl");if(!(be&&be instanceof WebGLRenderingContext)){var Q=document.createElement("p"),te=document.createTextNode("WebGL could not be loaded. ");Q.appendChild(te);var je=document.createElement("a");je.setAttribute("href","http://get.webgl.org/troubleshooting");var Le=document.createTextNode("Try a different browser or video drivers for WebGL support.");je.appendChild(Le),Q.appendChild(je);var We=document.createTextNode(" This is required to view interactive 3D visualizations.");return Q.appendChild(We),h.appendChild(Q),!1}return!0};p.a={addLogo:V,applyContainerStyle:F,createLoadingProgress:L,createMainUI:Kr,createImageUI:Xi,createGeometriesUI:os,createPointSetsUI:fs,emptyContainer:Zs,getRootContainer:I.a,checkForWebGL:ds}},function(g,p,a){var u=a(0),f={IntersectionState:{NO_INTERSECTION:0,YES_INTERSECTION:1,ON_LINE:2}},P=a(66),U=a(3);function m(D,V){var d=Object.keys(D);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(D);V&&(O=O.filter(function(F){return Object.getOwnPropertyDescriptor(D,F).enumerable})),d.push.apply(d,O)}return d}function w(D){for(var V=1;V<arguments.length;V++){var d=arguments[V]!=null?arguments[V]:{};V%2?m(Object(d),!0).forEach(function(O){r(D,O,d[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(d)):m(Object(d)).forEach(function(O){Object.defineProperty(D,O,Object.getOwnPropertyDescriptor(d,O))})}return D}function r(D,V,d){return V in D?Object.defineProperty(D,V,{value:d,enumerable:!0,configurable:!0,writable:!0}):D[V]=d,D}var b=f.IntersectionState;function C(D,V,d){var O,F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,I={t:Number.MIN_VALUE,distance:0},L=[];L[0]=d[0]-V[0],L[1]=d[1]-V[1],L[2]=d[2]-V[2];var G=L[0]*(D[0]-V[0])+L[1]*(D[1]-V[1])+L[2]*(D[2]-V[2]),z=U.m(L,L),B=1e-5*G;return z!==0&&(I.t=G/z),B<0&&(B=-B),-B<z&&z<B||z<=0||I.t<0?O=V:I.t>1?O=d:(O=L,L[0]=V[0]+I.t*L[0],L[1]=V[1]+I.t*L[1],L[2]=V[2]+I.t*L[2]),F&&(F[0]=O[0],F[1]=O[1],F[2]=O[2]),I.distance=U.l(O,D),I}function A(D,V,d,O,F,I){var L=[],G=[],z=[];F[0]=0,I[0]=0,L[0]=V[0]-D[0],L[1]=V[1]-D[1],L[2]=V[2]-D[2],G[0]=O[0]-d[0],G[1]=O[1]-d[1],G[2]=O[2]-d[2],z[0]=d[0]-D[0],z[1]=d[1]-D[1],z[2]=d[2]-D[2];var B=[];B[0]=[U.m(L,L),-U.m(L,G)],B[1]=[B[0][1],U.m(G,G)];var Y=[];if(Y[0]=U.m(L,z),Y[1]=-U.m(G,z),U.F(B,Y,2)===0){for(var q,H=Number.MAX_VALUE,ne=[D,V,d,O],Ae=[d,d,D,D],ce=[O,O,V,V],ye=[I[0],I[0],F[0],F[0]],K=[F[0],F[0],I[0],I[0]],j=0;j<4;j++)(q=C(ne[j],Ae[j],ce[j])).distance<H&&(H=q.distance,ye[j]=q.t,K[j]=j%2);return b.ON_LINE}return F[0]=Y[0],I[0]=Y[1],F[0]>=0&&F[0]<=1&&I[0]>=0&&I[0]<=1?b.YES_INTERSECTION:b.NO_INTERSECTION}var x={distanceToLine:C,intersection:A},E={};function M(D,V){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(V,E,d),P.a.extend(D,V,d),function(O,F){F.classHierarchy.push("vtkLine"),O.getCellDimension=function(){return 1},O.intersectWithLine=function(I,L,G,z,B){var Y={intersect:0,t:Number.MIN_VALUE,subId:0};B[1]=0,B[2]=0;var q=[],H=[],ne=[];F.points.getPoint(0,H),F.points.getPoint(1,ne);var Ae=[],ce=[],ye=A(I,L,H,ne,Ae,ce);if(Y.t=Ae[0],B[0]=ce[0],ye===b.YES_INTERSECTION){for(var K=0;K<3;K++)z[K]=H[K]+B[0]*(ne[K]-H[K]),q[K]=I[K]+Y.t*(L[K]-I[K]);if(U.l(z,q)<=G*G)return Y.intersect=1,Y}else{var j;if(Y.t<0)return Y.t=0,j=C(I,H,ne,z),B[0]=j.t,j.distance<=G*G&&(Y.intersect=1),Y;if(Y.t>1)return Y.t=1,j=C(L,H,ne,z),B[0]=j.t,j.distance<=G*G&&(Y.intersect=1),Y;if(B[0]<0)return B[0]=0,j=C(H,I,L,z),Y.t=j.t,j.distance<=G*G&&(Y.intersect=1),Y;if(B[1]>1)return B[1]=1,j=C(ne,I,L,z),Y.t=j.t,j.distance<=G*G&&(Y.intersect=1),Y}return Y},O.evaluatePosition=function(I,L,G,z,B,Y){}}(D,V)}var S=u.b.newInstance(M,"vtkLine");p.a=w(w({newInstance:S,extend:M},x),f)},function(g,p){g.exports={Text:"Text",Binary:"Binary",Image:"Image",Mesh:"Mesh",vtkPolyData:"vtkPolyData"}},function(g,p,a){var u=a(3),f=a(0);function P(O,F){var I=Object.keys(O);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(O);F&&(L=L.filter(function(G){return Object.getOwnPropertyDescriptor(O,G).enumerable})),I.push.apply(I,L)}return I}function U(O,F,I){return F in O?Object.defineProperty(O,F,{value:I,enumerable:!0,configurable:!0,writable:!0}):O[F]=I,O}var m=1e-6,w="coincide",r="disjoint";function b(O,F,I){var L=I[0]*(O[0]-F[0])+I[1]*(O[1]-F[1])+I[2]*(O[2]-F[2]);return Math.abs(L)}function C(O,F,I,L){var G=[];u.G(O,F,G);var z=u.m(I,G);L[0]=O[0]-z*I[0],L[1]=O[1]-z*I[1],L[2]=O[2]-z*I[2]}function A(O,F,I){var L=u.m(O,F),G=u.m(F,F);G===0&&(G=1),I[0]=O[0]-L*F[0]/G,I[1]=O[1]-L*F[1]/G,I[2]=O[2]-L*F[2]/G}function x(O,F,I,L){var G=[];u.G(O,F,G);var z=u.m(I,G),B=u.m(I,I);B!==0?(L[0]=O[0]-z*I[0]/B,L[1]=O[1]-z*I[1]/B,L[2]=O[2]-z*I[2]/B):(L[0]=O[0],L[1]=O[1],L[2]=O[2])}function E(O,F,I,L){var G={intersection:!1,betweenPoints:!1,t:Number.MAX_VALUE,x:[]},z=[],B=[];u.G(F,O,z),u.G(I,O,B);var Y=u.m(L,B),q=u.m(L,z);return(q<0?-q:q)<=(Y<0?-Y*m:Y*m)||(G.t=Y/q,G.x[0]=O[0]+G.t*z[0],G.x[1]=O[1]+G.t*z[1],G.x[2]=O[2]+G.t*z[2],G.intersection=!0,G.betweenPoints=G.t>=0&&G.t<=1),G}function M(O,F,I,L){var G={intersection:!1,l0:[],l1:[],error:null},z=[];u.i(F,L,z);var B,Y=z.map(function(ce){return Math.abs(ce)});if(Y[0]+Y[1]+Y[2]<m){var q=[];return u.G(O,I,q),u.m(F,q)===0?G.error=w:G.error=r,G}B=Y[0]>Y[1]&&Y[0]>Y[2]?"x":Y[1]>Y[2]?"y":"z";var H=[],ne=-u.m(F,O),Ae=-u.m(L,I);switch(B){case"x":H[0]=0,H[1]=(Ae*F[2]-ne*L[2])/z[0],H[2]=(ne*L[1]-Ae*F[1])/z[0];break;case"y":H[0]=(ne*L[2]-Ae*F[2])/z[1],H[1]=0,H[2]=(Ae*F[0]-ne*L[0])/z[1];break;case"z":H[0]=(Ae*F[1]-ne*L[1])/z[2],H[1]=(ne*L[0]-Ae*F[0])/z[2],H[2]=0}return G.l0=H,u.a(H,z,G.l1),G.intersection=!0,G}var S={evaluate:function(O,F,I){return O[0]*(I[0]-F[0])+O[1]*(I[1]-F[1])+O[2]*(I[2]-F[2])},distanceToPlane:b,projectPoint:C,projectVector:A,generalizedProjectPoint:x,intersectWithLine:E,intersectWithPlane:M,DISJOINT:r,COINCIDE:w},D={normal:[0,0,1],origin:[0,0,0]};function V(O,F){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(F,D,I),f.b.obj(O,F),f.b.setGetArray(O,F,["normal","origin"],3),function(L,G){G.classHierarchy.push("vtkPlane"),L.distanceToPlane=function(z){return b(z,G.origin,G.normal)},L.projectPoint=function(z,B){C(z,G.origin,G.normal,B)},L.projectVector=function(z,B){A(z,G.normal,B)},L.push=function(z){if(z!==0)for(var B=0;B<3;B++)G.origin[B]+=z*G.normal[B]},L.generalizedProjectPoint=function(z,B){x(z,G.origin,G.normal,B)},L.evaluateFunction=function(z,B,Y){return Array.isArray(z)?G.normal[0]*(z[0]-G.origin[0])+G.normal[1]*(z[1]-G.origin[1])+G.normal[2]*(z[2]-G.origin[2]):G.normal[0]*(z-G.origin[0])+G.normal[1]*(B-G.origin[1])+G.normal[2]*(Y-G.origin[2])},L.evaluateGradient=function(z){return[G.normal[0],G.normal[1],G.normal[2]]},L.intersectWithLine=function(z,B){return E(z,B,G.origin,G.normal)},L.intersectWithPlane=function(z,B){return M(z,B,G.origin,G.normal)}}(O,F)}var d=f.b.newInstance(V,"vtkPlane");p.a=function(O){for(var F=1;F<arguments.length;F++){var I=arguments[F]!=null?arguments[F]:{};F%2?P(Object(I),!0).forEach(function(L){U(O,L,I[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(I)):P(Object(I)).forEach(function(L){Object.defineProperty(O,L,Object.getOwnPropertyDescriptor(I,L))})}return O}({newInstance:d,extend:V},S)},function(g,p){g.exports=function(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p,a){var u=a(124),f=Object.prototype.toString;function P(C){return f.call(C)==="[object Array]"}function U(C){return C===void 0}function m(C){return C!==null&&typeof C=="object"}function w(C){if(f.call(C)!=="[object Object]")return!1;var A=Object.getPrototypeOf(C);return A===null||A===Object.prototype}function r(C){return f.call(C)==="[object Function]"}function b(C,A){if(C!=null)if(typeof C!="object"&&(C=[C]),P(C))for(var x=0,E=C.length;x<E;x++)A.call(null,C[x],x,C);else for(var M in C)Object.prototype.hasOwnProperty.call(C,M)&&A.call(null,C[M],M,C)}g.exports={isArray:P,isArrayBuffer:function(C){return f.call(C)==="[object ArrayBuffer]"},isBuffer:function(C){return C!==null&&!U(C)&&C.constructor!==null&&!U(C.constructor)&&typeof C.constructor.isBuffer=="function"&&C.constructor.isBuffer(C)},isFormData:function(C){return typeof FormData!="undefined"&&C instanceof FormData},isArrayBufferView:function(C){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(C):C&&C.buffer&&C.buffer instanceof ArrayBuffer},isString:function(C){return typeof C=="string"},isNumber:function(C){return typeof C=="number"},isObject:m,isPlainObject:w,isUndefined:U,isDate:function(C){return f.call(C)==="[object Date]"},isFile:function(C){return f.call(C)==="[object File]"},isBlob:function(C){return f.call(C)==="[object Blob]"},isFunction:r,isStream:function(C){return m(C)&&r(C.pipe)},isURLSearchParams:function(C){return typeof URLSearchParams!="undefined"&&C instanceof URLSearchParams},isStandardBrowserEnv:function(){return(typeof navigator=="undefined"||navigator.product!=="ReactNative"&&navigator.product!=="NativeScript"&&navigator.product!=="NS")&&typeof window!="undefined"&&typeof document!="undefined"},forEach:b,merge:function C(){var A={};function x(S,D){w(A[D])&&w(S)?A[D]=C(A[D],S):w(S)?A[D]=C({},S):P(S)?A[D]=S.slice():A[D]=S}for(var E=0,M=arguments.length;E<M;E++)b(arguments[E],x);return A},extend:function(C,A,x){return b(A,function(E,M){C[M]=x&&typeof E=="function"?u(E,x):E}),C},trim:function(C){return C.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(C){return C.charCodeAt(0)===65279&&(C=C.slice(1)),C}}},function(g,p,a){var u=a(133),f=Object.prototype.toString;function P(b){return f.call(b)==="[object Array]"}function U(b){return b===void 0}function m(b){return b!==null&&typeof b=="object"}function w(b){return f.call(b)==="[object Function]"}function r(b,C){if(b!=null)if(typeof b!="object"&&(b=[b]),P(b))for(var A=0,x=b.length;A<x;A++)C.call(null,b[A],A,b);else for(var E in b)Object.prototype.hasOwnProperty.call(b,E)&&C.call(null,b[E],E,b)}g.exports={isArray:P,isArrayBuffer:function(b){return f.call(b)==="[object ArrayBuffer]"},isBuffer:function(b){return b!==null&&!U(b)&&b.constructor!==null&&!U(b.constructor)&&typeof b.constructor.isBuffer=="function"&&b.constructor.isBuffer(b)},isFormData:function(b){return typeof FormData!="undefined"&&b instanceof FormData},isArrayBufferView:function(b){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(b):b&&b.buffer&&b.buffer instanceof ArrayBuffer},isString:function(b){return typeof b=="string"},isNumber:function(b){return typeof b=="number"},isObject:m,isUndefined:U,isDate:function(b){return f.call(b)==="[object Date]"},isFile:function(b){return f.call(b)==="[object File]"},isBlob:function(b){return f.call(b)==="[object Blob]"},isFunction:w,isStream:function(b){return m(b)&&w(b.pipe)},isURLSearchParams:function(b){return typeof URLSearchParams!="undefined"&&b instanceof URLSearchParams},isStandardBrowserEnv:function(){return(typeof navigator=="undefined"||navigator.product!=="ReactNative"&&navigator.product!=="NativeScript"&&navigator.product!=="NS")&&typeof window!="undefined"&&typeof document!="undefined"},forEach:r,merge:function b(){var C={};function A(M,S){typeof C[S]=="object"&&typeof M=="object"?C[S]=b(C[S],M):C[S]=M}for(var x=0,E=arguments.length;x<E;x++)r(arguments[x],A);return C},deepMerge:function b(){var C={};function A(M,S){typeof C[S]=="object"&&typeof M=="object"?C[S]=b(C[S],M):C[S]=typeof M=="object"?b({},M):M}for(var x=0,E=arguments.length;x<E;x++)r(arguments[x],A);return C},extend:function(b,C,A){return r(C,function(x,E){b[E]=A&&typeof x=="function"?u(x,A):x}),b},trim:function(b){return b.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(g,p,a){p.a={itkModulesPath:"itk"}},function(g,p,a){var u=a(0),f=a(3),P=a(14),U=a(78),m={UNCHANGED:0,SINGLE_POINT:1,X_LINE:2,Y_LINE:3,Z_LINE:4,XY_PLANE:5,YZ_PLANE:6,XZ_PLANE:7,XYZ_GRID:8,EMPTY:9},w={StructuredType:m};function r(O,F){var I=Object.keys(O);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(O);F&&(L=L.filter(function(G){return Object.getOwnPropertyDescriptor(O,G).enumerable})),I.push.apply(I,L)}return I}function b(O,F,I){return F in O?Object.defineProperty(O,F,{value:I,enumerable:!0,configurable:!0,writable:!0}):O[F]=I,O}var C=w.StructuredType,A=function(O){for(var F=1;F<arguments.length;F++){var I=arguments[F]!=null?arguments[F]:{};F%2?r(Object(I),!0).forEach(function(L){b(O,L,I[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(I)):r(Object(I)).forEach(function(L){Object.defineProperty(O,L,Object.getOwnPropertyDescriptor(I,L))})}return O}({getDataDescriptionFromExtent:function(O){for(var F=0,I=0;I<3;++I)O[2*I]<O[2*I+1]&&F++;return O[0]>O[1]||O[2]>O[3]||O[4]>O[5]?C.EMPTY:F===3?C.XYZ_GRID:F===2?O[0]===O[1]?C.YZ_PLANE:O[2]===O[3]?C.XZ_PLANE:C.XY_PLANE:F===1?O[0]<O[1]?C.X_LINE:O[2]<O[3]?C.Y_LINE:C.Z_LINE:C.SINGLE_POINT}},w),x=a(1);function E(O,F){return function(I){if(Array.isArray(I))return I}(O)||function(I,L){var G=I==null?null:typeof Symbol!="undefined"&&I[Symbol.iterator]||I["@@iterator"];if(G!=null){var z,B,Y=[],q=!0,H=!1;try{for(G=G.call(I);!(q=(z=G.next()).done)&&(Y.push(z.value),!L||Y.length!==L);q=!0);}catch(ne){H=!0,B=ne}finally{try{q||G.return==null||G.return()}finally{if(H)throw B}}return Y}}(O,F)||function(I,L){if(!!I){if(typeof I=="string")return M(I,L);var G=Object.prototype.toString.call(I).slice(8,-1);if(G==="Object"&&I.constructor&&(G=I.constructor.name),G==="Map"||G==="Set")return Array.from(I);if(G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return M(I,L)}}(O,F)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function M(O,F){(F==null||F>O.length)&&(F=O.length);for(var I=0,L=new Array(F);I<F;I++)L[I]=O[I];return L}var S=u.b.vtkErrorMacro,D={direction:null,indexToWorld:null,worldToIndex:null,spacing:[1,1,1],origin:[0,0,0],extent:[0,-1,0,-1,0,-1],dataDescription:m.EMPTY};function V(O,F){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(F,D,I),U.a.extend(O,F,I),F.direction){if(Array.isArray(F.direction)){var L=F.direction.slice(0);F.direction=x.b.create();for(var G=0;G<9;++G)F.direction[G]=L[G]}}else F.direction=x.b.create();F.indexToWorld=new Float64Array(16),F.worldToIndex=new Float64Array(16),u.b.get(O,F,["direction","indexToWorld","worldToIndex"]),u.b.setGetArray(O,F,["origin","spacing"],3),u.b.getArray(O,F,["extent"],6),function(z,B){B.classHierarchy.push("vtkImageData"),z.setExtent=function(){if(B.deleted)return S("instance deleted - cannot call any method"),!1;for(var Y=arguments.length,q=new Array(Y),H=0;H<Y;H++)q[H]=arguments[H];var ne=q.length===1?q[0]:q;if(ne.length!==6)return!1;var Ae=!1;return B.extent.forEach(function(ce,ye){if(ce!==ne[ye]){if(Ae)return;Ae=!0}}),Ae&&(B.extent=ne.slice(),B.dataDescription=A.getDataDescriptionFromExtent(B.extent),z.modified()),Ae},z.setDimensions=function(){var Y,q,H;if(B.deleted)S("instance deleted - cannot call any method");else{if(arguments.length===1){var ne=arguments.length<=0?void 0:arguments[0];Y=ne[0],q=ne[1],H=ne[2]}else{if(arguments.length!==3)return void S("Bad dimension specification");Y=arguments.length<=0?void 0:arguments[0],q=arguments.length<=1?void 0:arguments[1],H=arguments.length<=2?void 0:arguments[2]}z.setExtent(0,Y-1,0,q-1,0,H-1)}},z.getDimensions=function(){return[B.extent[1]-B.extent[0]+1,B.extent[3]-B.extent[2]+1,B.extent[5]-B.extent[4]+1]},z.getNumberOfCells=function(){for(var Y=z.getDimensions(),q=1,H=0;H<3;H++){if(Y[H]===0)return 0;Y[H]>1&&(q*=Y[H]-1)}return q},z.getNumberOfPoints=function(){var Y=z.getDimensions();return Y[0]*Y[1]*Y[2]},z.getPoint=function(Y){var q=z.getDimensions(),H=x.e.fromValues(0,0,0),ne=[0,0,0];if(q[0]===0||q[1]===0||q[2]===0)return S("Requesting a point from an empty image."),null;switch(B.dataDescription){case m.EMPTY:return null;case m.SINGLE_POINT:break;case m.X_LINE:H[0]=Y;break;case m.Y_LINE:H[1]=Y;break;case m.Z_LINE:H[2]=Y;break;case m.XY_PLANE:H[0]=Y%q[0],H[1]=Y/q[0];break;case m.YZ_PLANE:H[1]=Y%q[1],H[2]=Y/q[1];break;case m.XZ_PLANE:H[0]=Y%q[0],H[2]=Y/q[0];break;case m.XYZ_GRID:H[0]=Y%q[0],H[1]=Y/q[0]%q[1],H[2]=Y/(q[0]*q[1]);break;default:S("Invalid dataDescription")}var Ae=x.e.create();return z.indexToWorldVec3(H,Ae),x.e.copy(ne,Ae),ne},z.getBounds=function(){return z.extentToBounds(B.extent)},z.extentToBounds=function(Y){var q=[Y[0],Y[2],Y[4],Y[1],Y[2],Y[4],Y[0],Y[3],Y[4],Y[1],Y[3],Y[4],Y[0],Y[2],Y[5],Y[1],Y[2],Y[5],Y[0],Y[3],Y[5],Y[1],Y[3],Y[5]],H=x.e.fromValues(q[0],q[1],q[2]),ne=x.e.create();z.indexToWorldVec3(H,ne);for(var Ae=[ne[0],ne[0],ne[1],ne[1],ne[2],ne[2]],ce=3;ce<24;ce+=3)x.e.set(H,q[ce],q[ce+1],q[ce+2]),z.indexToWorldVec3(H,ne),ne[0]<Ae[0]&&(Ae[0]=ne[0]),ne[1]<Ae[2]&&(Ae[2]=ne[1]),ne[2]<Ae[4]&&(Ae[4]=ne[2]),ne[0]>Ae[1]&&(Ae[1]=ne[0]),ne[1]>Ae[3]&&(Ae[3]=ne[1]),ne[2]>Ae[5]&&(Ae[5]=ne[2]);return Ae},z.computeTransforms=function(){var Y=x.e.fromValues(B.origin[0],B.origin[1],B.origin[2]);x.c.fromTranslation(B.indexToWorld,Y),B.indexToWorld[0]=B.direction[0],B.indexToWorld[1]=B.direction[1],B.indexToWorld[2]=B.direction[2],B.indexToWorld[4]=B.direction[3],B.indexToWorld[5]=B.direction[4],B.indexToWorld[6]=B.direction[5],B.indexToWorld[8]=B.direction[6],B.indexToWorld[9]=B.direction[7],B.indexToWorld[10]=B.direction[8];var q=x.e.fromValues(B.spacing[0],B.spacing[1],B.spacing[2]);x.c.scale(B.indexToWorld,B.indexToWorld,q),x.c.invert(B.worldToIndex,B.indexToWorld)},z.setDirection=function(){if(B.deleted)return S("instance deleted - cannot call any method"),!1;for(var Y=arguments.length,q=new Array(Y),H=0;H<Y;H++)q[H]=arguments[H];var ne=q;if(ne.length!==1||!Array.isArray(ne[0])&&ne[0].constructor!==Float32Array&&ne[0].constructor!==Float64Array||(ne=ne[0]),ne.length!==9)throw new RangeError("Invalid number of values for array setter");var Ae=!1;if(B.direction.forEach(function(ye,K){if(ye!==ne[K]){if(Ae)return;Ae=!0}}),Ae){for(var ce=0;ce<9;++ce)B.direction[ce]=ne[ce];z.modified()}return!0},z.indexToWorldVec3=function(Y,q){return x.e.transformMat4(q,Y,B.indexToWorld),q},z.indexToWorld=function(Y){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],H=x.e.fromValues(Y[0],Y[1],Y[2]),ne=x.e.create();return x.e.transformMat4(ne,H,B.indexToWorld),x.e.copy(q,ne),q},z.worldToIndexVec3=function(Y,q){return x.e.transformMat4(q,Y,B.worldToIndex),q},z.worldToIndex=function(Y){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],H=x.e.fromValues(Y[0],Y[1],Y[2]),ne=x.e.create();return x.e.transformMat4(ne,H,B.worldToIndex),x.e.copy(q,ne),q},z.indexToWorldBounds=function(Y){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],H=[0,0,0],ne=[0,0,0];P.a.computeCornerPoints(H,ne,Y);var Ae=[0,0,0],ce=[0,0,0];return x.e.transformMat4(Ae,H,B.indexToWorld),x.e.transformMat4(ce,ne,B.indexToWorld),f.g(Ae,ce,q),q},z.worldToIndexBounds=function(Y){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],H=[0,0,0],ne=[0,0,0];P.a.computeCornerPoints(H,ne,Y);var Ae=[0,0,0],ce=[0,0,0];return x.e.transformMat4(Ae,H,B.worldToIndex),x.e.transformMat4(ce,ne,B.worldToIndex),f.g(Ae,ce,q),q},z.onModified(z.computeTransforms),z.computeTransforms(),z.getCenter=function(){for(var Y=z.getBounds(),q=[],H=0;H<3;H++)q[H]=(Y[2*H+1]+Y[2*H])/2;return q},z.computeHistogram=function(Y){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,H=[0,0,0,0,0,0];z.worldToIndexBounds(Y,H);var ne=[0,0,0],Ae=[0,0,0];P.a.computeCornerPoints(ne,Ae,H),f.E(ne,ne),f.E(Ae,Ae);var ce=z.getDimensions();f.f(ne,[0,0,0],[ce[0]-1,ce[1]-1,ce[2]-1],ne),f.f(Ae,[0,0,0],[ce[0]-1,ce[1]-1,ce[2]-1],Ae);for(var ye=ce[0],K=ce[0]*ce[1],j=z.getPointData().getScalars().getData(),ve=-1/0,Pe=1/0,Oe=0,xe=0,Ve=0,me=ne[2];me<=Ae[2];me++)for(var pe=ne[1];pe<=Ae[1];pe++)for(var ke=ne[0]+pe*ye+me*K,X=ne[0];X<=Ae[0];X++){if(!q||q([X,pe,me],H)){var Z=j[ke];Z>ve&&(ve=Z),Z<Pe&&(Pe=Z),Oe+=Z*Z,xe+=Z,Ve+=1}++ke}var ae=Ve>0?xe/Ve:0,Ue=Oe-ae*ae;return{minimum:Pe,maximum:ve,average:ae,variance:Ue,sigma:Math.sqrt(Ue)}},z.computeIncrements=function(Y){for(var q=[],H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,ne=0;ne<3;++ne)q[ne]=H,H*=Y[2*ne+1]-Y[2*ne]+1;return q},z.computeOffsetIndex=function(Y){var q=E(Y,3),H=q[0],ne=q[1],Ae=q[2],ce=z.getExtent(),ye=z.getPointData().getScalars().getNumberOfComponents(),K=z.computeIncrements(ce,ye);return Math.floor((Math.round(H)-ce[0])*K[0]+(Math.round(ne)-ce[2])*K[1]+(Math.round(Ae)-ce[4])*K[2])},z.getOffsetIndexFromWorld=function(Y){for(var q=z.getExtent(),H=z.worldToIndex(Y),ne=0;ne<3;++ne)if(H[ne]<q[2*ne]||H[ne]>q[2*ne+1])return S("GetScalarPointer: Pixel ".concat(H," is not in memory. Current extent = ").concat(q)),NaN;return z.computeOffsetIndex(H)},z.getScalarValueFromWorld=function(Y){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H=z.getPointData().getScalars().getNumberOfComponents();if(q<0||q>=H)return S("GetScalarPointer: Scalar Component ".concat(q," is not within bounds. Current Scalar numberOfComponents: ").concat(H)),NaN;var ne=z.getOffsetIndexFromWorld(Y);return Number.isNaN(ne)?ne:z.getPointData().getScalars().getComponent(ne,q)}}(O,F)}var d=u.b.newInstance(V,"vtkImageData");p.a={newInstance:d,extend:V}},function(g,p){function a(u,f){for(var P=0;P<f.length;P++){var U=f[P];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(u,U.key,U)}}g.exports=function(u,f,P){return f&&a(u.prototype,f),P&&a(u,P),u},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p,a){var u=a(0),f=a(33),P=a(8),U=u.b.vtkErrorMacro,m={Unknown:0,Scalar:1,RGB:2,RGBA:3,Offset:4,Vector:5,Point:6,CovariantVector:7,SymmetricSecondRankTensor:8,DiffusionTensor3D:9,Complex:10,FixedArray:11,Array:12,Matrix:13,VariableLengthVector:14,VariableSizeMatrix:15},w=new Map([["Uint8Array","uint8_t"],["Int8Array","int8_t"],["Uint16Array","uint16_t"],["Int16Array","int16_t"],["Uint32Array","uint32_t"],["Int32Array","int32_t"],["Float32Array","float"],["Float64Array","double"]]);p.a={convertItkToVtkImage:function(r){for(var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C={origin:[0,0,0],spacing:[1,1,1]},A=[1,1,1],x=[1,0,0,0,1,0,0,0,1],E=0;E<r.imageType.dimension;++E){C.origin[E]=r.origin[E],C.spacing[E]=r.spacing[E],A[E]=r.size[E];for(var M=0;M<r.imageType.dimension;++M)x[M+3*E]=r.direction.data[E+M*r.imageType.dimension]}var S=f.a.newInstance(C),D=P.a.newInstance({name:b.scalarArrayName||"Scalars",values:r.data,numberOfComponents:r.imageType.components});switch(S.setDirection(x),S.setDimensions.apply(S,A),S.getPointData().setScalars(D),r.imageType.pixelType){case m.Scalar:case m.RGB:case m.RGBA:case m.Offset:break;case m.Vector:r.imageType.dimension===3&&r.imageType.components===3&&S.getPointData().setVectors(D);break;case m.Point:break;case m.CovariantVector:r.imageType.dimension===3&&r.imageType.components===3&&S.getPointData().setVectors(D);break;case m.SymmetricSecondRankTensor:case m.DiffusionTensor3D:r.imageType.dimension===3&&r.imageType.components===6&&S.getPointData().setTensors(D);break;case m.Complex:case m.FixedArray:case m.Array:case m.Matrix:case m.VariableLengthVector:case m.VariableSizeMatrix:break;default:return U("Cannot handle unexpected ITK.js pixel type ".concat(r.imageType.pixelType)),null}return S},convertVtkToItkImage:function(r){var b=arguments.length>1&&arguments[1]!==void 0&&arguments[1],C={imageType:{dimension:3,pixelType:m.Scalar,componentType:"",components:1},name:"name",origin:r.getOrigin(),spacing:r.getSpacing(),direction:{data:[1,0,0,0,1,0,0,0,1]},size:r.getDimensions()},A=r.getDirection(),x=C.size.length;C.imageType.dimension=x,C.direction.rows=x,C.direction.columns=x;for(var E=0;E<x;++E)for(var M=0;M<x;++M)C.direction.data[E+M*x]=A[M+E*x];var S,D=r.getPointData();return D.getTensors()!==null?(C.imageType.pixelType=m.DiffusionTensor3D,S=D.getTensors()):D.getVectors()!=null?(C.imageType.pixelType=m.Vector,S=D.getVectors()):S=D.getScalars(),C.imageType.componentType=w.get(S.getDataType()),C.data=b?S.getData().slice(0):S.getData(),C}}},function(g,p,a){a.d(p,"a",function(){return f});var u={FLAT:0,GOURAUD:1,PHONG:2},f={POINTS:0,WIREFRAME:1,SURFACE:2},P=u;p.b={Shading:u,Representation:f,Interpolation:P}},function(g,p,a){a.d(p,"a",function(){return u}),a.d(p,"b",function(){return f});var u={NEAREST:0,LINEAR:1,FAST_LINEAR:2},f={FRACTIONAL:0,PROPORTIONAL:1};p.c={InterpolationType:u,OpacityMode:f}},function(g,p){g.exports={Int8:"int8_t",UInt8:"uint8_t",Int16:"int16_t",UInt16:"uint16_t",Int32:"int32_t",UInt32:"uint32_t",Int64:"int64_t",UInt64:"uint64_t",SizeValueType:"uint64_t",IdentifierType:"uint64_t",IndexValueType:"int64_t",OffsetValueType:"int64_t"}},function(g,p,a){var u=a(257);typeof u=="string"&&(u=[[g.i,u,""]]);var f={hmr:!0,transform:void 0,insertInto:void 0};a(91)(u,f),u.locals&&(g.exports=u.locals)},function(g,p){var a;a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(a=window)}g.exports=a},function(g,p){g.exports=function(){throw new Error("define cannot be used indirect")}},function(g,p,a){function u(){var P=new ArrayBuffer(4),U=new Uint8Array(P),m=new Uint32Array(P);return U[0]=161,U[1]=178,U[2]=195,U[3]=212,m[0]===3569595041?"LittleEndian":m[0]===2712847316?"BigEndian":null}var f=u();p.a={ENDIANNESS:f,getEndianness:u,swapBytes:function(P,U){if(!(U<2))for(var m=new Int8Array(P),w=m.length,r=[],b=0;b<w;b+=U){for(var C=0;C<U;C++)r.push(m[b+C]);for(var A=0;A<U;A++)m[b+A]=r.pop()}}}},function(g,p){g.exports={Unknown:0,Scalar:1,RGB:2,RGBA:3,Offset:4,Vector:5,Point:6,CovariantVector:7,SymmetricSecondRankTensor:8,DiffusionTensor3D:9,Complex:10,FixedArray:11,Array:12,Matrix:13,VariableLengthVector:14,VariableSizeMatrix:15}},function(g,p,a){var u=a(251);typeof u=="string"&&(u=[[g.i,u,""]]);var f={hmr:!0,transform:void 0,insertInto:void 0};a(91)(u,f),u.locals&&(g.exports=u.locals)},function(g,p,a){a.d(p,"a",function(){return u});var u={DEFAULT:0,USE_POINT_DATA:1,USE_CELL_DATA:2,USE_POINT_FIELD_DATA:3,USE_CELL_FIELD_DATA:4,USE_FIELD_DATA:5};p.b={ColorMode:{DEFAULT:0,MAP_SCALARS:1,DIRECT_SCALARS:2},GetArray:{BY_ID:0,BY_NAME:1},ScalarMode:u}},function(g,p,a){var u=a(23),f=a.n(u),P=a(0),U=[];U["-".charCodeAt(0)]=62,U["_".charCodeAt(0)]=63;for(var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=0;w<m.length;w++)U[m.charCodeAt(w)]=w;function r(me){return U[me.charCodeAt(0)]!==void 0}function b(me,pe,ke,X){for(var Z=pe.start,ae=pe.count,Ue=ae%4,Ie=Math.floor(ae/4),le=Z,ge=null,ze=ke,nt=0;nt<Ie;nt++){for(;!r(me[le]);)le++;for(ge=U[me.charCodeAt(le++)]<<18;!r(me[le]);)le++;for(ge|=U[me.charCodeAt(le++)]<<12;!r(me[le]);)le++;for(ge|=U[me.charCodeAt(le++)]<<6;!r(me[le]);)le++;ge|=U[me.charCodeAt(le++)],X[ze++]=ge>>16&255,X[ze++]=ge>>8&255,X[ze++]=255&ge}switch(Ue){case 3:for(;!r(me[le]);)le++;for(ge=U[me.charCodeAt(le++)]<<10;!r(me[le]);)le++;for(ge|=U[me.charCodeAt(le++)]<<4;!r(me[le]);)le++;ge|=U[me.charCodeAt(le++)]>>2,X[ze++]=ge>>8&255,X[ze++]=255&ge;break;case 2:for(;!r(me[le]);)le++;for(ge=U[me.charCodeAt(le++)]<<2;!r(me[le]);)le++;ge|=U[me.charCodeAt(le++)]>>4,X[ze++]=255&ge;break;case 1:throw new Error("BASE64: remain 1 should not happen")}return ze}var C={toArrayBuffer:function(me){for(var pe=function(le){for(var ge=le.length,ze=[],nt=null,st=0;st<ge;st++)r(le[st])?(nt||(nt={start:st,count:0}),nt.count++,nt.end=st):le[st]==="="&&nt&&(ze.push(nt),nt=null);return nt&&ze.push(nt),ze}(me),ke=pe[pe.length-1].end+1,X=(4-ke%4)%4,Z=new ArrayBuffer(3*(ke+X)/4-X),ae=new Uint8Array(Z),Ue=0,Ie=0;Ie<pe.length;Ie++)Ue+=b(me,pe[Ie],Ue,ae),Ue+=(4-pe[Ie].count%4)%4;return Z}},A=a(42),x=a(15),E=P.b.vtkErrorMacro,M=P.b.vtkDebugMacro,S=0;function D(me){var pe=document.querySelector('.webResource[data-url="'.concat(me,'"]'));return pe?pe.innerHTML:null}function V(me){return me[0]==="/"?me.substr(1):me}var d={fetchJSON:function(){var me=arguments.length>1?arguments[1]:void 0;return new Promise(function(pe,ke){var X=D(V(me));X===null?ke(new Error("No such JSON ".concat(me))):pe(JSON.parse(X))})},fetchText:function(){var me=arguments.length>1?arguments[1]:void 0;return new Promise(function(pe,ke){var X=D(me);X===null?ke(new Error("No such text ".concat(me))):pe(X)})},fetchArray:function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},pe=arguments.length>1?arguments[1]:void 0,ke=arguments.length>2?arguments[2]:void 0,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return new Promise(function(Z,ae){var Ue=V([pe,ke.ref.basepath,X.compression?"".concat(ke.ref.id,".gz"):ke.ref.id].join("/")),Ie=D(Ue);if(Ie===null)ae(new Error("No such array ".concat(Ue)));else{if(ke.dataType==="string"){var le=atob(Ie);X.compression&&(le=f.a.inflate(le,{to:"string"})),ke.values=JSON.parse(le)}else{var ge=new Uint8Array(C.toArrayBuffer(Ie));ke.buffer=new ArrayBuffer(ge.length),new Uint8Array(ke.buffer).set(ge),X.compression&&(ke.dataType==="string"||ke.dataType==="JSON"?ke.buffer=f.a.inflate(new Uint8Array(ke.buffer),{to:"string"}):ke.buffer=f.a.inflate(new Uint8Array(ke.buffer)).buffer),ke.ref.encode==="JSON"?ke.values=JSON.parse(ke.buffer):(A.a.ENDIANNESS!==ke.ref.encode&&A.a.ENDIANNESS&&(M("Swap bytes of ".concat(ke.name)),A.a.swapBytes(ke.buffer,x.a[ke.dataType])),ke.values=new window[ke.dataType](ke.buffer)),ke.values.length!==ke.size&&E("Error in FetchArray: ".concat(ke.name," does not have the proper array size. Got ").concat(ke.values.length,", instead of ").concat(ke.size))}delete ke.ref,--S==0&&me.invokeBusy&&me.invokeBusy(!1),me.modified&&me.modified(),Z(ke)}})},fetchImage:function(){var me=arguments.length>1?arguments[1]:void 0;return new Promise(function(pe,ke){var X=function(Z){return document.querySelector('.webResource[data-url="'.concat(Z,'"]'))}(me);X?pe(X):ke(new Error("No such image ".concat(me)))})}},O=a(70),F=a(148),I=a.n(F),L=P.b.vtkErrorMacro,G=P.b.vtkDebugMacro,z={uint8array:function(me,pe,ke){return function(X){me.buffer=new ArrayBuffer(X.length),new Uint8Array(me.buffer).set(X),pe&&(me.dataType==="string"||me.dataType==="JSON"?me.buffer=f.a.inflate(new Uint8Array(me.buffer),{to:"string"}):me.buffer=f.a.inflate(new Uint8Array(me.buffer)).buffer),me.ref.encode==="JSON"?me.values=JSON.parse(me.buffer):(A.a.ENDIANNESS!==me.ref.encode&&A.a.ENDIANNESS&&(G("Swap bytes of ".concat(me.name)),A.a.swapBytes(me.buffer,x.a[me.dataType])),me.values=new window[me.dataType](me.buffer)),me.values.length!==me.size&&L("Error in FetchArray: ".concat(me.name," does not have the proper array size. Got ").concat(me.values.length,", instead of ").concat(me.size)),ke()}},string:function(me,pe,ke){return function(X){me.values=pe?JSON.parse(f.a.inflate(X,{to:"string"})):JSON.parse(X),ke()}}};function B(me){return me[0]==="/"?me.substr(1):me}var Y={create:function(me){var pe=!1,ke=0,X=new I.a,Z=X;return X.loadAsync(me.zipContent).then(function(){pe=!0;var ae=[];X.forEach(function(le,ge){le.indexOf("index.json")!==-1&&ae.push(le)}),ae.sort(function(le,ge){return le.length-ge.length});for(var Ue=ae[0].split("/");Ue.length>1;){var Ie=Ue.shift();Z=Z.folder(Ie)}me.callback&&me.callback(X)}),{fetchArray:function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ue=arguments.length>1?arguments[1]:void 0,Ie=arguments.length>2?arguments[2]:void 0,le=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return new Promise(function(ge,ze){pe||L("ERROR!!! zip not ready...");var nt=B([Ue,Ie.ref.basepath,le.compression?"".concat(Ie.ref.id,".gz"):Ie.ref.id].join("/"));++ke==1&&ae.invokeBusy&&ae.invokeBusy(!0);var st=Ie.dataType!=="string"||le.compression?"uint8array":"string",Ge=z[st](Ie,le.compression,function(){delete Ie.ref,--ke==0&&ae.invokeBusy&&ae.invokeBusy(!1),ae.modified&&ae.modified(),ge(Ie)});Z.file(nt).async(st).then(Ge)})},fetchJSON:function(){var ae=arguments.length>1?arguments[1]:void 0,Ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ie=B(ae);return pe||L("ERROR!!! zip not ready..."),Ue.compression?Ue.compression==="gz"?Z.file(Ie).async("uint8array").then(function(le){var ge=f.a.inflate(le,{to:"string"});return Promise.resolve(JSON.parse(ge))}):Promise.reject(new Error("Invalid compression")):Z.file(Ie).async("string").then(function(le){return Promise.resolve(JSON.parse(le))})},fetchText:function(){var ae=arguments.length>1?arguments[1]:void 0,Ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ie=B(ae);return pe||L("ERROR!!! zip not ready..."),Ue.compression?Ue.compression==="gz"?Z.file(Ie).async("uint8array").then(function(le){var ge=f.a.inflate(le,{to:"string"});return Promise.resolve(ge)}):Promise.reject(new Error("Invalid compression")):Z.file(Ie).async("string").then(function(le){return Promise.resolve(le)})},fetchImage:function(){var ae=arguments.length>1?arguments[1]:void 0,Ue=B(ae);return pe||L("ERROR!!! zip not ready..."),new Promise(function(Ie,le){var ge=new Image;ge.onload=function(){return Ie(ge)},ge.onerror=le,Z.file(Ue).async("base64").then(function(ze){ge.src="data:image/".concat(function(nt){var st=nt.split(".").pop().toLowerCase();return st==="jpg"?"jpeg":st}(Ue),";base64,").concat(ze)})})},fetchBinary:function(){var ae=arguments.length>1?arguments[1]:void 0,Ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ie=B(ae);return pe||L("ERROR!!! zip not ready..."),Ue.compression?Ue.compression==="gz"?Z.file(Ie).then(function(le){var ge=f.a.inflate(le).buffer;return Promise.resolve(ge)}):Promise.reject(new Error("Invalid compression")):Z.file(Ie).async("arraybuffer").then(function(le){return Promise.resolve(le)})}}}},q={http:function(me){return O.a},zip:function(me){return Y.create(me)},html:function(me){return d}},H={get:function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return q[me](pe)}},ne=a(8);function Ae(me){if("TextDecoder"in window)return new TextDecoder("latin1").decode(me);for(var pe=new Uint8Array(me),ke=[],X=0;X<pe.length;++X)ke[X]=String.fromCharCode(pe[X]);return ke.join("")}var ce={arrayBufferToString:Ae,extractBinary:function(me,pe){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,X=Ae(me),Z=pe.exec(X);if(!Z)return{text:X};var ae=Z.index+Z[0].length,Ue=X.substring(0,ae),Ie=ke?ke.exec(X):null;return Ie?{text:Ue+X.substr(Ie.index),binaryBuffer:me.slice(ae,Ie.index)}:{text:Ue,binaryBuffer:me.slice(ae)}}},ye={Int8:Int8Array,UInt8:Uint8Array,Int16:Int16Array,UInt16:Uint16Array,Int32:Int32Array,UInt32:Uint32Array,Int64:Int32Array,UInt64:Uint32Array,Float32:Float32Array,Float64:Float64Array},K={Int8:1,UInt8:1,Int16:2,UInt16:2,Int32:4,UInt32:4,Int64:8,UInt64:8,Float32:4,Float64:8};function j(me){var pe=me.length-1;return me.filter(function(ke,X){return X<pe&&X%2==0})}function ve(me,pe){if(pe==="UInt64"){var ke=new Uint32Array(me.buffer,0,6),X=ke[0],Z=[8,X,ke[2],ke[4]];ke=new Uint32Array(me.buffer,24,2*X);for(var ae=0;ae<X;ae++)Z.push(ke[2*ae]);return Z}var Ue=new Uint32Array(me.buffer,0,3),Ie=Ue[0],le=[4,Ie,Ue[1],Ue[2]];Ue=new Uint32Array(me.buffer,12,Ie);for(var ge=0;ge<Ie;ge++)le.push(Ue[ge]);return le}function Pe(me,pe){var ke=f.a.inflate(me);pe.uint8.set(ke,pe.offset),pe.offset+=ke.length}function Oe(me,pe,ke,X,Z,ae){var Ue=pe.getAttribute("type"),Ie=pe.getAttribute("Name"),le=pe.getAttribute("format"),ge=Number(pe.getAttribute("NumberOfComponents")||"1"),ze=null;if(le==="ascii"){ze=new ye[Ue](me*ge);var nt=0;pe.firstChild.nodeValue.split(/[\\t \\n]+/).forEach(function(Ct){Ct.trim().length&&(ze[nt++]=Number(Ct))})}else if(le==="binary"){var st=new Uint8Array(C.toArrayBuffer(pe.firstChild.nodeValue.trim()));if(ke==="vtkZLibDataCompressor"){var Ge=new ArrayBuffer(K[Ue]*me*ge);ze=new ye[Ue](Ge);for(var N={offset:0,uint8:new Uint8Array(Ge)},W=ve(st,Z),de=W[1],ie=st.length-(W.reduce(function(Ct,Kt){return Ct+Kt},0)-(W[0]+W[1]+W[2]+W[3])),_e=0;_e<de;_e++){var Ze=W[4+_e];Pe(new Uint8Array(st.buffer,ie,Ze),N),ie+=Ze}Ue.indexOf("Int64")!==-1&&(ze=j(ze))}else ze=new ye[Ue](st.buffer,K[Z]),Ue.indexOf("Int64")!==-1&&(ze=j(ze))}else if(le==="appended"){var ft,at=Number(pe.getAttribute("offset")),ht=(ft=at%K[Z]==0?new ye[Z](ae,at,1):new ye[Z](ae.slice(at,at+K[Z])))[0]/K[Ue];Ue.indexOf("Int64")!==-1&&(ht*=2),at+=K[Z],ze=at%K[Ue]==0?new ye[Ue](ae,at,ht):new ye[Ue](ae.slice(at,at+ft[0])),Ue.indexOf("Int64")!==-1&&(ze=j(ze))}else console.error("Format not supported",le);return{name:Ie,values:ze,numberOfComponents:ge}}function xe(me,pe){pe.classHierarchy.push("vtkXMLReader"),pe.dataAccessHelper||(pe.dataAccessHelper=H.get("http")),me.setUrl=function(ke){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};pe.url=ke;var Z=ke.split("/");return Z.pop(),pe.baseURL=Z.join("/"),me.loadData(X)},me.loadData=function(){var ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(X){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return pe.dataAccessHelper.fetchBinary(X,Z)}(pe.url,ke).then(me.parseAsArrayBuffer)},me.parseAsArrayBuffer=function(ke){if(!ke)return!1;if(ke===pe.rawDataBuffer)return!0;me.modified();var X=function(dt){return ce.extractBinary(dt,/^\s*<AppendedData\s+encoding="raw">\s*_/m,/\n\s*<\/AppendedData>/m)}(ke),Z=X.text,ae=X.binaryBuffer;pe.rawDataBuffer=ke,pe.binaryBuffer=ae;var Ue=function(dt){if(window.ActiveXObject){var zt=new window.ActiveXObject("Microsoft.XMLDOM");return zt.loadXML(dt),zt}return new DOMParser().parseFromString(dt,"application/xml")}(Z).firstChild,Ie=Ue.getAttribute("type"),le=Ue.getAttribute("compressor"),ge=Ue.getAttribute("byte_order"),ze=Ue.getAttribute("header_type")||"UInt32";if(le&&le!=="vtkZLibDataCompressor")return console.error("Invalid compressor",le),!1;if(ge&&ge!=="LittleEndian")return console.error("Only LittleEndian encoding is supported"),!1;if(Ie!==pe.dataType)return console.error("Invalid data type",Ie,"expecting",pe.dataType),!1;if(Ue.querySelector("AppendedData")){var nt=Ue.querySelector("AppendedData"),st=nt.getAttribute("encoding"),Ge=Ue.querySelectorAll("DataArray"),N=pe.binaryBuffer;st==="base64"&&(N=nt.textContent.trim().substr(1));for(var W=[],de=0;de<Ge.length;++de){var ie=Number(Ge[de].getAttribute("offset")),_e=0;_e=de===Ge.length-1?N.length||N.byteLength:Number(Ge[de+1].getAttribute("offset")),st==="base64"?W.push(new Uint8Array(C.toArrayBuffer(N.substring(ie,_e)))):W.push(new Uint8Array(N.slice(ie,_e)))}if(le==="vtkZLibDataCompressor")for(var Ze=0;Ze<W.length;++Ze){var ft=W[Ze],at=ve(ft,ze),ht=at[1],Ct=ft.length-(at.reduce(function(dt,zt){return dt+zt},0)-(at[0]+at[1]+at[2]+at[3])),Kt=null;Kt=ht>0?at[3]===0?new ArrayBuffer(at[2]*ht):new ArrayBuffer(at[2]*(ht-1)+at[3]):new ArrayBuffer(0);for(var nn=new Uint8Array(Kt),oe={offset:0,uint8:nn},St=0;St<ht;St++){var Ce=at[4+St];Pe(new Uint8Array(ft.buffer,Ct,Ce),oe),Ct+=Ce}var He=new Uint8Array(nn.length+K[ze]);new ye[ze](He.buffer,0,1)[0]=nn.length,He.set(nn,K[ze]),W[Ze]=He}for(var Nt=W.reduce(function(dt,zt){return dt+zt.length},0),Dt=new ArrayBuffer(Nt),On=new Uint8Array(Dt),Lt=0,An=0;Lt<W.length;++Lt)Ge[Lt].setAttribute("offset",An),On.set(W[Lt],An),An+=W[Lt].length;if(pe.binaryBuffer=Dt,!pe.binaryBuffer)return console.error("Processing appended data format: requires binaryBuffer to parse"),!1}return me.parseXML(Ue,Ie,le,ge,ze),!0},me.requestData=function(ke,X){me.parseAsArrayBuffer(pe.rawDataBuffer)}}var Ve={};p.a={extend:function(me,pe){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(pe,Ve,ke),P.b.obj(me,pe),P.b.get(me,pe,["url","baseURL"]),P.b.setGet(me,pe,["dataAccessHelper"]),P.b.algo(me,pe,0,1),xe(me,pe)},processDataArray:Oe,processFieldData:function(me,pe,ke,X,Z,ae,Ue){if(pe){var Ie={};["Scalars","Vectors","Normals","Tensors","TCoords"].forEach(function(N){var W=pe.getAttribute(N);W&&(Ie[W]=ke["set".concat(N)])});for(var le=pe.getElementsByTagName("DataArray"),ge=le.length,ze=0;ze<ge;ze++){var nt=le[ze],st=ne.a.newInstance(Oe(me,nt,X,0,ae,Ue)),Ge=st.getName();(Ie[Ge]||ke.addArray)(st)}}},processCells:function(me,pe,ke,X,Z,ae){for(var Ue={},Ie=pe.getElementsByTagName("DataArray"),le=0;le<Ie.length;le++){var ge=Ie[le];Ue[ge.getAttribute("Name")]=ge}var ze=Oe(me,Ue.offsets,ke,0,Z,ae).values,nt=ze[ze.length-1],st=Oe(nt,Ue.connectivity,ke,0,Z,ae).values,Ge=new Uint32Array(me+nt),N=0,W=0;return ze.forEach(function(de){var ie=de-W;Ge[N++]=ie;for(var _e=0;_e<ie;_e++)Ge[N++]=st[W+_e];W=de}),Ge}}},function(g,p,a){var u=a(109),f=a.n(u),P=a(65),U=a.n(P),m=a(32);p.a=function(w,r){if(r){var b=new f.a(r);return Promise.resolve({webworkerPromise:b,worker:r})}var C="".concat(m.a.itkModulesPath,"/WebWorkers/").concat(w,".worker.js");if(C.startsWith("http"))return U.a.get(C,{responseType:"blob"}).then(function(E){var M=new window.Worker(URL.createObjectURL(E.data));return{webworkerPromise:new f.a(M),worker:M}});var A=new window.Worker(C),x=new f.a(A);return Promise.resolve({webworkerPromise:x,worker:A})}},function(g,p){function a(u,f){if(!(u instanceof Blob))throw new TypeError("Must be a File or Blob");return new Promise(function(P,U){var m=new FileReader;m.onload=function(w){P(w.target.result)},m.onerror=function(w){U(new Error("Error reading"+u.name+": "+w.target.result))},m["readAs"+f](u)})}g.exports={readAsDataURL:function(u){return a(u,"DataURL")},readAsText:function(u){return a(u,"Text")},readAsArrayBuffer:function(u){return a(u,"ArrayBuffer")}}},function(g,p,a){var u=a(0);function f(w){return function(){return u.b.vtkErrorMacro("vtkProp::".concat(w," - NOT IMPLEMENTED"))}}var P={visibility:!0,pickable:!0,dragable:!0,useBounds:!0,allocatedRenderTime:10,estimatedRenderTime:0,savedEstimatedRenderTime:0,renderTimeMultiplier:1,paths:null,textures:[]};function U(w,r){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(r,P,b),u.b.obj(w,r),u.b.get(w,r,["estimatedRenderTime","allocatedRenderTime"]),u.b.setGet(w,r,["visibility","pickable","dragable","useBounds","renderTimeMultiplier"]),function(C,A){A.classHierarchy.push("vtkProp"),C.getMTime=function(){for(var x=A.mtime,E=0;E<A.textures.length;++E){var M=A.textures[E].getMTime();M>x&&(x=M)}return x},C.getNestedProps=function(){return null},C.getActors=function(){return[]},C.getActors2D=function(){return[]},C.getVolumes=function(){return[]},C.pick=f("pick"),C.hasKey=f("hasKey"),C.getRedrawMTime=function(){return A.mtime},C.setEstimatedRenderTime=function(x){A.estimatedRenderTime=x,A.savedEstimatedRenderTime=x},C.restoreEstimatedRenderTime=function(){A.estimatedRenderTime=A.savedEstimatedRenderTime},C.addEstimatedRenderTime=function(x){A.estimatedRenderTime+=x},C.setAllocatedRenderTime=function(x){A.allocatedRenderTime=x,A.savedEstimatedRenderTime=A.estimatedRenderTime,A.estimatedRenderTime=0},C.getSupportsSelection=function(){return!1},C.getTextures=function(){return A.textures},C.hasTexture=function(x){return A.textures.indexOf(x)!==-1},C.addTexture=function(x){x&&!C.hasTexture(x)&&(A.textures=A.textures.concat(x),C.modified())},C.removeTexture=function(x){var E=A.textures.filter(function(M){return M!==x});A.textures.length!==E.length&&(A.textures=E,C.modified())},C.removeAllTextures=function(){A.textures=[],C.modified()}}(w,r)}var m=u.b.newInstance(U,"vtkProp");p.a={newInstance:m,extend:U}},function(g,p,a){var u=a(0),f={Coordinate:{DISPLAY:0,NORMALIZED_DISPLAY:1,VIEWPORT:2,NORMALIZED_VIEWPORT:3,PROJECTION:4,VIEW:5,WORLD:6}},P=a(3);function U(x,E){var M=Object.keys(x);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(x);E&&(S=S.filter(function(D){return Object.getOwnPropertyDescriptor(x,D).enumerable})),M.push.apply(M,S)}return M}function m(x,E,M){return E in x?Object.defineProperty(x,E,{value:M,enumerable:!0,configurable:!0,writable:!0}):x[E]=M,x}var w=f.Coordinate,r=u.b.vtkErrorMacro,b={coordinateSystem:w.WORLD,value:[0,0,0],renderer:null,referenceCoordinate:null,computing:0,computedWorldValue:[0,0,0],computedDoubleDisplayValue:[0,0]};function C(x,E){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(E,b,M),u.b.obj(x,E),u.b.set(x,E,["property"]),u.b.get(x,E,["value"]),u.b.setGet(x,E,["coordinateSystem","referenceCoordinate","renderer"]),u.b.getArray(x,E,["value"],3),function(S,D){D.classHierarchy.push("vtkCoordinate"),S.setValue=function(){if(D.deleted)return r("instance deleted - cannot call any method"),!1;for(var V=arguments.length,d=new Array(V),O=0;O<V;O++)d[O]=arguments[O];var F=d;if(F.length===1&&Array.isArray(F[0])&&(F=F[0]),F.length===2)return S.setValue(F[0],F[1],0),!0;if(F.length!==3)throw new RangeError("Invalid number of values for array setter");var I=!1;return D.value.forEach(function(L,G){if(L!==F[G]){if(I)return;I=!0}}),I&&(D.value=[].concat(F),S.modified()),!0},S.setCoordinateSystemToDisplay=function(){S.setCoordinateSystem(w.DISPLAY)},S.setCoordinateSystemToNormalizedDisplay=function(){S.setCoordinateSystem(w.NORMALIZED_DISPLAY)},S.setCoordinateSystemToViewport=function(){S.setCoordinateSystem(w.VIEWPORT)},S.setCoordinateSystemToNormalizedViewport=function(){S.setCoordinateSystem(w.NORMALIZED_VIEWPORT)},S.setCoordinateSystemToProjection=function(){S.setCoordinateSystem(w.PROJECTION)},S.setCoordinateSystemToView=function(){S.setCoordinateSystem(w.VIEW)},S.setCoordinateSystemToWorld=function(){S.setCoordinateSystem(w.WORLD)},S.getCoordinateSystemAsString=function(){return u.b.enumToString(w,D.coordinateSystem)},S.getComputedWorldValue=function(V){var d=D.computedWorldValue;if(D.computing)return d;D.computing=1,d[0]=D.value[0],d[1]=D.value[1],d[2]=D.value[2];var O=V;if(D.renderer&&(O=D.renderer),!O){if(D.coordinateSystem===w.WORLD){if(D.referenceCoordinate){var F=D.referenceCoordinate.getComputedWorldValue(O);d[0]+=F[0],d[1]+=F[1],d[2]+=F[2]}D.computing=0}else r("Attempt to compute world coordinates from another coordinate system without a renderer");return d}var I=null;if(!O||!O.getRenderWindow().getViews())return D.computedWorldValue;var L=(I=O.getRenderWindow().getViews()[0]).getViewportSize(O),G=L[0]/L[1];if(D.referenceCoordinate&&D.coordinateSystem!==w.WORLD){var z=D.referenceCoordinate.getComputedDoubleDisplayValue(O),B=[z[0],z[1],0];switch(D.coordinateSystem){case w.NORMALIZED_DISPLAY:B=I.displayToNormalizedDisplay(B[0],B[1],B[2]);break;case w.VIEWPORT:B=I.displayToNormalizedDisplay(B[0],B[1],B[2]),B=I.normalizedDisplayToViewport(B[0],B[1],B[2],O);break;case w.NORMALIZED_VIEWPORT:B=I.displayToNormalizedDisplay(B[0],B[1],B[2]),B=I.normalizedDisplayToViewport(B[0],B[1],B[2],O),B=I.viewportToNormalizedViewport(B[0],B[1],B[2],O);break;case w.PROJECTION:B=I.displayToNormalizedDisplay(B[0],B[1],B[2]),B=I.normalizedDisplayToViewport(B[0],B[1],B[2],O),B=I.viewportToNormalizedViewport(B[0],B[1],B[2],O),B=O.normalizedViewportToProjection(B[0],B[1],B[2]);break;case w.VIEW:B=I.displayToNormalizedDisplay(B[0],B[1],B[2]),B=I.normalizedDisplayToViewport(B[0],B[1],B[2],O),B=I.viewportToNormalizedViewport(B[0],B[1],B[2],O),B=O.normalizedViewportToProjection(B[0],B[1],B[2]),B=O.projectionToView(B[0],B[1],B[2],G)}d[0]+=B[0],d[1]+=B[1],d[2]+=B[2]}switch(D.coordinateSystem){case w.DISPLAY:d=I.displayToNormalizedDisplay(d[0],d[1],d[2]),d=I.normalizedDisplayToViewport(d[0],d[1],d[2],O),d=I.viewportToNormalizedViewport(d[0],d[1],d[2],O),d=O.normalizedViewportToProjection(d[0],d[1],d[2]),d=O.projectionToView(d[0],d[1],d[2],G),d=O.viewToWorld(d[0],d[1],d[2]);break;case w.NORMALIZED_DISPLAY:d=I.normalizedDisplayToViewport(d[0],d[1],d[2],O),d=I.viewportToNormalizedViewport(d[0],d[1],d[2],O),d=O.normalizedViewportToProjection(d[0],d[1],d[2]),d=O.projectionToView(d[0],d[1],d[2],G),d=O.viewToWorld(d[0],d[1],d[2]);break;case w.VIEWPORT:d=I.viewportToNormalizedViewport(d[0],d[1],d[2],O),d=O.normalizedViewportToProjection(d[0],d[1],d[2]),d=O.projectionToView(d[0],d[1],d[2],G),d=O.viewToWorld(d[0],d[1],d[2]);break;case w.NORMALIZED_VIEWPORT:d=O.normalizedViewportToProjection(d[0],d[1],d[2]),d=O.projectionToView(d[0],d[1],d[2],G),d=O.viewToWorld(d[0],d[1],d[2]);break;case w.PROJECTION:d=O.projectionToView(d[0],d[1],d[2],G),d=O.viewToWorld(d[0],d[1],d[2]);break;case w.VIEW:d=O.viewToWorld(d[0],d[1],d[2])}if(D.referenceCoordinate&&D.coordinateSystem===w.WORLD){var Y=S.getComputedWorldValue(O);d[0]+=Y[0],d[1]+=Y[1],d[2]+=Y[2]}return D.computing=0,D.computedWorldValue=d.slice(0),d},S.getComputedViewportValue=function(V){var d=S.getComputedDoubleViewportValue(V);return[P.D(d[0]),P.D(d[1])]},S.getComputedDisplayValue=function(V){var d=S.getComputedDoubleDisplayValue(V);return[P.n(d[0]),P.n(d[1])]},S.getComputedLocalDisplayValue=function(V){var d=V;D.renderer&&(d=D.renderer);var O=S.getComputedDisplayValue(d);return d?d&&d.getRenderWindow().getViews()?(O=d.getRenderWindow().getViews()[0].displayToLocalDisplay(O[0],O[1],O[2]),[P.D(O[0]),P.D(O[1])]):O:(r("Attempt to convert to local display coordinates without a renderer"),O)},S.getComputedDoubleViewportValue=function(V){var d=V;D.renderer&&(d=D.renderer);var O=S.getComputedDoubleDisplayValue(d);if(!d)return O;var F=null;return d&&d.getRenderWindow().getViews()?(O=(F=d.getRenderWindow().getViews()[0]).displayToNormalizedDisplay(O[0],O[1],O[2]),[(O=F.normalizedDisplayToViewport(O[0],O[1],O[2],d))[0],O[1]]):O},S.getComputedDoubleDisplayValue=function(V){if(D.computing)return D.computedDoubleDisplayValue;D.computing=1;var d=D.value.slice(0),O=V;if(D.renderer&&(O=D.renderer),!O){if(D.coordinateSystem===w.DISPLAY){if(D.computedDoubleDisplayValue[0]=d[0],D.computedDoubleDisplayValue[1]=d[1],D.referenceCoordinate){var F=D.referenceCoordinate.getComputedDoubleDisplayValue();D.computedDoubleDisplayValue[0]+=F[0],D.computedDoubleDisplayValue[1]+=F[1]}}else D.computedDoubleDisplayValue[0]=Number.MAX_VALUE,D.computedDoubleDisplayValue[1]=Number.MAX_VALUE,r("Request for coordinate transformation without required viewport");return D.computedDoubleDisplayValue}var I=null;if(!O||!O.getRenderWindow().getViews())return d;var L=(I=O.getRenderWindow().getViews()[0]).getViewportSize(O),G=L[0]/L[1];switch(D.coordinateSystem){case w.WORLD:if(D.referenceCoordinate){var z=D.referenceCoordinate.getComputedWorldValue(O);d[0]+=z[0],d[1]+=z[1],d[2]+=z[2]}d=O.worldToView(d[0],d[1],d[2]),d=O.viewToProjection(d[0],d[1],d[2],G),d=O.projectionToNormalizedViewport(d[0],d[1],d[2]),d=I.normalizedViewportToViewport(d[0],d[1],d[2]),d=I.viewportToNormalizedDisplay(d[0],d[1],d[2],O),d=I.normalizedDisplayToDisplay(d[0],d[1],d[2]);break;case w.VIEW:d=O.viewToProjection(d[0],d[1],d[2],G),d=O.projectionToNormalizedViewport(d[0],d[1],d[2]),d=I.normalizedViewportToViewport(d[0],d[1],d[2]),d=I.viewportToNormalizedDisplay(d[0],d[1],d[2],O),d=I.normalizedDisplayToDisplay(d[0],d[1],d[2]);break;case w.PROJECTION:d=O.projectionToNormalizedViewport(d[0],d[1],d[2]),d=I.normalizedViewportToViewport(d[0],d[1],d[2]),d=I.viewportToNormalizedDisplay(d[0],d[1],d[2],O),d=I.normalizedDisplayToDisplay(d[0],d[1],d[2]);break;case w.NORMALIZED_VIEWPORT:if(d=I.normalizedViewportToViewport(d[0],d[1],d[2]),D.referenceCoordinate){var B=D.referenceCoordinate.getComputedDoubleViewportValue(O);d[0]+=B[0],d[1]+=B[1]}d=I.viewportToNormalizedDisplay(d[0],d[1],d[2],O),d=I.normalizedDisplayToDisplay(d[0],d[1],d[2]);break;case w.VIEWPORT:if(D.referenceCoordinate){var Y=D.referenceCoordinate.getComputedDoubleViewportValue(O);d[0]+=Y[0],d[1]+=Y[1]}d=I.viewportToNormalizedDisplay(d[0],d[1],d[2],O),d=I.normalizedDisplayToDisplay(d[0],d[1],d[2]);break;case w.NORMALIZED_DISPLAY:d=I.normalizedDisplayToDisplay(d[0],d[1],d[2]);break;case w.USERDEFINED:d=D.value.slice(0)}if(D.referenceCoordinate&&(D.coordinateSystem===w.DISPLAY||D.coordinateSystem===w.NORMALIZED_DISPLAY)){var q=D.referenceCoordinate.getComputedDoubleDisplayValue(O);d[0]+=q[0],d[1]+=q[1]}return D.computedDoubleDisplayValue[0]=d[0],D.computedDoubleDisplayValue[1]=d[1],D.computing=0,D.computedDoubleDisplayValue},S.getComputedValue=function(V){var d=V;switch(D.renderer&&(d=D.renderer),D.coordinateSystem){case w.WORLD:return S.getComputedWorldValue(d);case w.VIEW:case w.NORMALIZED_VIEWPORT:case w.VIEWPORT:var O=S.getComputedViewportValue(d);D.computedWorldValue[0]=O[0],D.computedWorldValue[1]=O[1];break;case w.NORMALIZED_DISPLAY:case w.DISPLAY:var F=D.getComputedDisplayValue(d);D.computedWorldValue[0]=F[0],D.computedWorldValue[1]=F[1]}return D.computedWorldValue}}(x,E)}var A=u.b.newInstance(C,"vtkCoordinate");p.a=function(x){for(var E=1;E<arguments.length;E++){var M=arguments[E]!=null?arguments[E]:{};E%2?U(Object(M),!0).forEach(function(S){m(x,S,M[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(M)):U(Object(M)).forEach(function(S){Object.defineProperty(x,S,Object.getOwnPropertyDescriptor(M,S))})}return x}({newInstance:A,extend:C},f)},function(g,p,a){a.d(p,"a",function(){return u}),a.d(p,"b",function(){return f});var u={Unknown:0,LeftController:1,RightController:2},f={Unknown:0,Trigger:1,TrackPad:2,Grip:3,ApplicationMenu:4};p.c={Device:u,Input:f}},function(g,p,a){var u=1,f=0,P=["VTK_RESOLVE_OFF","VTK_RESOLVE_POLYGON_OFFSET"];function U(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;f=A}var m={getResolveCoincidentTopologyAsString:function(){return P[f]},getResolveCoincidentTopologyPolygonOffsetFaces:function(){return u},getResolveCoincidentTopology:function(){return f},setResolveCoincidentTopology:U,setResolveCoincidentTopologyPolygonOffsetFaces:function(A){u=A},setResolveCoincidentTopologyToDefault:function(){U(0)},setResolveCoincidentTopologyToOff:function(){U(0)},setResolveCoincidentTopologyToPolygonOffset:function(){U(1)}},w=a(0);function r(A,x,E){E.forEach(function(M){A["get".concat(M.method)]=function(){return x[M.key]},A["set".concat(M.method)]=function(S,D){x[M.key]={factor:S,offset:D}}})}a.d(p,"a",function(){return b});var b=["Polygon","Line","Point"],C={};r(C,{Polygon:{factor:2,offset:0},Line:{factor:1,offset:-1},Point:{factor:0,offset:-2}},b.map(function(A){return{key:A,method:"ResolveCoincidentTopology".concat(A,"OffsetParameters")}})),p.b={implementCoincidentTopologyMethods:function(A,x){x.resolveCoincidentTopology===void 0&&(x.resolveCoincidentTopology=!1),w.b.setGet(A,x,["resolveCoincidentTopology"]),x.topologyOffset={Polygon:{factor:0,offset:0},Line:{factor:0,offset:0},Point:{factor:0,offset:0}},Object.keys(m).forEach(function(E){A[E]=m[E]}),Object.keys(C).forEach(function(E){A[E]=C[E]}),r(A,x.topologyOffset,b.map(function(E){return{key:E,method:"RelativeCoincidentTopology".concat(E,"OffsetParameters")}})),A.getCoincidentTopologyPolygonOffsetParameters=function(){var E=C.getResolveCoincidentTopologyPolygonOffsetParameters(),M=A.getRelativeCoincidentTopologyPolygonOffsetParameters();return{factor:E.factor+M.factor,offset:E.offset+M.offset}},A.getCoincidentTopologyLineOffsetParameters=function(){var E=C.getResolveCoincidentTopologyLineOffsetParameters(),M=A.getRelativeCoincidentTopologyLineOffsetParameters();return{factor:E.factor+M.factor,offset:E.offset+M.offset}},A.getCoincidentTopologyPointOffsetParameter=function(){var E=C.getResolveCoincidentTopologyPointOffsetParameters(),M=A.getRelativeCoincidentTopologyPointOffsetParameters();return{factor:E.factor+M.factor,offset:E.offset+M.offset}}},staticOffsetAPI:C,otherStaticMethods:m,CATEGORIES:b}},function(g,p,a){var u=a(0),f=a(8),P=a(15),U=u.b.vtkErrorMacro,m=[1,-1,1,-1,1,-1],w={empty:!0,numberOfComponents:3,dataType:P.b.FLOAT,bounds:[1,-1,1,-1,1,-1]};function r(C,A){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(A,w,x),f.a.extend(C,A,x),function(E,M){M.classHierarchy.push("vtkPoints"),E.getNumberOfPoints=E.getNumberOfTuples,E.setNumberOfPoints=function(S){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;E.getNumberOfPoints()!==S&&(M.size=S*D,M.values=new window[M.dataType](M.size),E.setNumberOfComponents(D),E.modified())},E.setPoint=function(S){for(var D=S*M.numberOfComponents,V=0;V<M.numberOfComponents;V++)M.values[D+V]=V+1<1||arguments.length<=V+1?void 0:arguments[V+1]},E.getPoint=E.getTuple,E.getBounds=function(){if(E.getNumberOfComponents()===3){var S=E.getRange(0);M.bounds[0]=S[0],M.bounds[1]=S[1];var D=E.getRange(1);M.bounds[2]=D[0],M.bounds[3]=D[1];var V=E.getRange(2);return M.bounds[4]=V[0],M.bounds[5]=V[1],M.bounds}if(E.getNumberOfComponents()!==2)return U(`getBounds called on an array with components of
        `.concat(E.getNumberOfComponents())),m;var d=E.getRange(0);M.bounds[0]=d[0],M.bounds[1]=d[1];var O=E.getRange(1);return M.bounds[2]=O[0],M.bounds[3]=O[1],M.bounds[4]=0,M.bounds[5]=0,M.bounds},E.computeBounds=E.getBounds,E.setNumberOfComponents(M.numberOfComponents<2?3:M.numberOfComponents)}(C,A)}var b=u.b.newInstance(r,"vtkPoints");p.a={newInstance:b,extend:r}},function(g,p,a){a.d(p,"a",function(){return u});var u={LUMINANCE:1,LUMINANCE_ALPHA:2,RGB:3,RGBA:4};p.b={VectorMode:{MAGNITUDE:0,COMPONENT:1,RGBCOLORS:2},ScalarMappingTarget:u}},function(g,p,a){var u=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function f(m,w){return Object.prototype.hasOwnProperty.call(m,w)}p.assign=function(m){for(var w=Array.prototype.slice.call(arguments,1);w.length;){var r=w.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(var b in r)f(r,b)&&(m[b]=r[b])}}return m},p.shrinkBuf=function(m,w){return m.length===w?m:m.subarray?m.subarray(0,w):(m.length=w,m)};var P={arraySet:function(m,w,r,b,C){if(w.subarray&&m.subarray)m.set(w.subarray(r,r+b),C);else for(var A=0;A<b;A++)m[C+A]=w[r+A]},flattenChunks:function(m){var w,r,b,C,A,x;for(b=0,w=0,r=m.length;w<r;w++)b+=m[w].length;for(x=new Uint8Array(b),C=0,w=0,r=m.length;w<r;w++)A=m[w],x.set(A,C),C+=A.length;return x}},U={arraySet:function(m,w,r,b,C){for(var A=0;A<b;A++)m[C+A]=w[r+A]},flattenChunks:function(m){return[].concat.apply([],m)}};p.setTyped=function(m){m?(p.Buf8=Uint8Array,p.Buf16=Uint16Array,p.Buf32=Int32Array,p.assign(p,P)):(p.Buf8=Array,p.Buf16=Array,p.Buf32=Array,p.assign(p,U))},p.setTyped(u)},function(g,p,a){var u=a(0),f=a(17),P=a(8),U={radius:.5,latLongTessellation:!1,thetaResolution:8,startTheta:0,endTheta:360,phiResolution:8,startPhi:0,endPhi:180,center:[0,0,0],pointType:"Float32Array"};function m(r,b){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(b,U,C),u.b.obj(r,b),u.b.setGet(r,b,["radius","latLongTessellation","thetaResolution","startTheta","endTheta","phiResolution","startPhi","endPhi"]),u.b.setGetArray(r,b,["center"],3),u.b.algo(r,b,0,1),function(A,x){x.classHierarchy.push("vtkSphereSource"),A.requestData=function(E,M){if(!x.deleted){var S=M[0],D=S?S.getPoints().getDataType():"Float32Array";S=f.a.newInstance();var V=0,d=x.thetaResolution,O=x.startTheta<x.endTheta?x.startTheta:x.endTheta;O*=Math.PI/180;var F=x.endTheta>x.startTheta?x.endTheta:x.startTheta;F*=Math.PI/180;var I=x.startPhi<x.endPhi?x.startPhi:x.endPhi;I*=Math.PI/180;var L=x.endPhi>x.startPhi?x.endPhi:x.startPhi;L*=Math.PI/180,Math.abs(O-F)<2*Math.PI&&++d;var G=(F-O)/x.thetaResolution,z=x.startPhi<=0?1:0,B=x.phiResolution+(x.endPhi>=180?-1:0),Y=x.phiResolution*d+2,q=2*x.phiResolution*x.thetaResolution,H=0,ne=new window[D](3*Y),Ae=new Float32Array(3*Y),ce=0,ye=new Uint32Array(5*q);x.startPhi<=0&&(ne[3*H+0]=x.center[0],ne[3*H+1]=x.center[1],ne[3*H+2]=x.center[2]+x.radius,Ae[3*H+0]=0,Ae[3*H+1]=0,Ae[3*H+2]=1,H++,V++),x.endPhi>=180&&(ne[3*H+0]=x.center[0],ne[3*H+1]=x.center[1],ne[3*H+2]=x.center[2]-x.radius,Ae[3*H+0]=0,Ae[3*H+1]=0,Ae[3*H+2]=-1,H++,V++);for(var K=x.phiResolution-V,j=(L-I)/(x.phiResolution-1),ve=0;ve<d;ve++)for(var Pe=O+ve*G,Oe=z;Oe<B;Oe++){var xe=I+Oe*j,Ve=x.radius*Math.sin(xe);Ae[3*H+0]=Ve*Math.cos(Pe),Ae[3*H+1]=Ve*Math.sin(Pe),Ae[3*H+2]=x.radius*Math.cos(xe),ne[3*H+0]=Ae[3*H+0]+x.center[0],ne[3*H+1]=Ae[3*H+1]+x.center[1],ne[3*H+2]=Ae[3*H+2]+x.center[2];var me=Math.sqrt(Ae[3*H+0]*Ae[3*H+0]+Ae[3*H+1]*Ae[3*H+1]+Ae[3*H+2]*Ae[3*H+2]);me=me===0?1:me,Ae[3*H+0]/=me,Ae[3*H+1]/=me,Ae[3*H+2]/=me,H++}var pe=K*d;if(Math.abs(O-F)<2*Math.PI&&--d,x.startPhi<=0)for(var ke=0;ke<d;ke++)ye[ce++]=3,ye[ce++]=K*ke+V,ye[ce++]=K*(ke+1)%pe+V,ye[ce++]=0;if(x.endPhi>=180)for(var X=K-1+V,Z=0;Z<d;Z++)ye[ce++]=3,ye[ce++]=K*Z+X,ye[ce++]=V-1,ye[ce++]=K*(Z+1)%pe+X;for(var ae=0;ae<d;ae++)for(var Ue=0;Ue<K-1;Ue++){var Ie=K*ae+Ue+V,le=Ie+1,ge=(K*(ae+1)+Ue)%pe+V+1;x.latLongTessellation?(ye[ce++]=4,ye[ce++]=Ie,ye[ce++]=le,ye[ce++]=ge,ye[ce++]=ge-1):(ye[ce++]=3,ye[ce++]=Ie,ye[ce++]=le,ye[ce++]=ge,ye[ce++]=3,ye[ce++]=Ie,ye[ce++]=ge,ye[ce++]=ge-1)}ne=ne.subarray(0,3*H),S.getPoints().setData(ne,3),Ae=Ae.subarray(0,3*H);var ze=P.a.newInstance({name:"Normals",values:Ae,numberOfComponents:3});S.getPointData().setNormals(ze),ye=ye.subarray(0,ce),S.getPolys().setData(ye,1),M[0]=S}}}(r,b)}var w=u.b.newInstance(m,"vtkSphereSource");p.a={newInstance:w,extend:m}},function(g,p){g.exports=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// Template for the polydata mappers fragment shader

uniform int PrimitiveIDOffset;

// VC position of this fragment
//VTK::PositionVC::Dec

// optional color passed in from the vertex shader, vertexColor
//VTK::Color::Dec

// optional surface normal declaration
//VTK::Normal::Dec

// extra lighting parameters
//VTK::Light::Dec

// Texture coordinates
//VTK::TCoord::Dec

// picking support
//VTK::Picking::Dec

// Depth Peeling Support
//VTK::DepthPeeling::Dec

// clipping plane vars
//VTK::Clip::Dec

// the output of this shader
//VTK::Output::Dec

// Apple Bug
//VTK::PrimID::Dec

// handle coincident offsets
//VTK::Coincident::Dec

//VTK::ZBuffer::Dec

void main()
{
  // VC position of this fragment. This should not branch/return/discard.
  //VTK::PositionVC::Impl

  // Place any calls that require uniform flow (e.g. dFdx) here.
  //VTK::UniformFlow::Impl

  // Set gl_FragDepth here (gl_FragCoord.z by default)
  //VTK::Depth::Impl

  // Early depth peeling abort:
  //VTK::DepthPeeling::PreColor

  // Apple Bug
  //VTK::PrimID::Impl

  //VTK::Clip::Impl

  //VTK::Color::Impl

  // Generate the normal if we are not passed in one
  //VTK::Normal::Impl

  //VTK::Light::Impl

  //VTK::TCoord::Impl

  if (gl_FragData[0].a <= 0.0)
    {
    discard;
    }

  //VTK::DepthPeeling::Impl

  //VTK::Picking::Impl

  // handle coincident offsets
  //VTK::Coincident::Impl

  //VTK::ZBuffer::Impl
}
`},function(g,p){g.exports=function(a){var u=a.slice(2+(a.lastIndexOf(".")-1>>>0));if(u.toLowerCase()==="gz"){var f=a.slice(0,-3).lastIndexOf(".");u=a.slice(2+(f-1>>>0))}return u}},function(g,p,a){var u=a(0),f=a(21),P={horizontalListener:null,verticalListener:null,scrollListener:null};function U(w,r){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(r,P,b),u.b.obj(w,r),f.a.extend(w,r,b),function(C,A){A.classHierarchy.push("vtkMouseRangeManipulator");var x=new Map;function E(S,D){return D*((S.max-S.min)/(S.step+1))}function M(S,D){var V=S.getValue(),d=V+D+x.get(S),O=d-S.min,F=Math.round(O/S.step);if(d=S.min+S.step*F,d=Math.max(d,S.min),(d=Math.min(d,S.max))!==V)S.setValue(d),x.set(S,0);else{var I=x.get(S);x.set(S,I+D),(d===S.min&&x.get(S)<0||d===S.max&&x.get(S)>0)&&x.set(S,0)}}C.setHorizontalListener=function(S,D,V,d,O){var F=Number.isFinite(d)?function(){return d}:d;A.horizontalListener={min:S,max:D,step:V,getValue:F,setValue:O},x.set(A.horizontalListener,0),C.modified()},C.setVerticalListener=function(S,D,V,d,O){var F=Number.isFinite(d)?function(){return d}:d;A.verticalListener={min:S,max:D,step:V,getValue:F,setValue:O},x.set(A.verticalListener,0),C.modified()},C.setScrollListener=function(S,D,V,d,O){var F=Number.isFinite(d)?function(){return d}:d;A.scrollListener={min:S,max:D,step:V,getValue:F,setValue:O},x.set(A.scrollListener,0),C.modified()},C.removeHorizontalListener=function(){A.verticalListener&&(x.delete(A.verticalListener),delete A.verticalListener,C.modified())},C.removeVerticalListener=function(){A.horizontalListener&&(x.delete(A.horizontalListener),delete A.horizontalListener,C.modified())},C.removeScrollListener=function(){A.scrollListener&&(x.delete(A.scrollListener),delete A.scrollListener,C.modified())},C.removeAllListeners=function(){C.removeHorizontalListener(),C.removeVerticalListener(),C.removeScrollListener()},C.onButtonDown=function(S,D,V){A.previousPosition=V;var d=S.getView(),O=d.getContainerSize()[0]/d.getSize()[0],F=d.getViewportSize(D);A.containerSize=F.map(function(I){return I*O})},C.onMouseMove=function(S,D,V){if((A.verticalListener||A.horizontalListener)&&V){if(A.horizontalListener){var d=(V.x-A.previousPosition.x)/A.containerSize[0],O=E(A.horizontalListener,d);M(A.horizontalListener,O)}if(A.verticalListener){var F=(V.y-A.previousPosition.y)/A.containerSize[1],I=E(A.verticalListener,F);M(A.verticalListener,I)}A.previousPosition=V}},C.onScroll=function(S,D,V){A.scrollListener&&V&&M(A.scrollListener,V*A.scrollListener.step)},C.onStartScroll=C.onScroll}(w,r)}var m=u.b.newInstance(U,"vtkMouseRangeManipulator");p.a={newInstance:m,extend:U}},function(g,p,a){a.d(p,"a",function(){return u});var u={DEFAULT:0,SINGLE:1,DOUBLE:2};p.b={AttributeCopyOperations:{COPYTUPLE:0,INTERPOLATE:1,PASSDATA:2,ALLCOPY:3},AttributeLimitTypes:{MAX:0,EXACT:1,NOLIMIT:2},AttributeTypes:{SCALARS:0,VECTORS:1,NORMALS:2,TCOORDS:3,TENSORS:4,GLOBALIDS:5,PEDIGREEIDS:6,EDGEFLAG:7,NUM_ATTRIBUTES:8},CellGhostTypes:{DUPLICATECELL:1,HIGHCONNECTIVITYCELL:2,LOWCONNECTIVITYCELL:4,REFINEDCELL:8,EXTERIORCELL:16,HIDDENCELL:32},DesiredOutputPrecision:u,PointGhostTypes:{DUPLICATEPOINT:1,HIDDENPOINT:2},ghostArrayName:"vtkGhostType"}},function(g,p){g.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}},function(g,p,a){var u=a(13),f=a.n(u),P=a(11),U=a.n(P),m=a(6),w=a.n(m),r=a(0);function b(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function C(o){for(var t=1;t<arguments.length;t++){var v=arguments[t]!=null?arguments[t]:{};t%2?b(Object(v),!0).forEach(function(n){A(o,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(v)):b(Object(v)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(v,n))})}return o}function A(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}var x=r.b.vtkErrorMacro;function E(o,t){function v(n){var e=n.getProxyId?n.getProxyId():n,i=t.proxyIdMapping[e];return Object.keys(t.proxyByGroup).forEach(function(c){var l=t.proxyByGroup[c],y=l.indexOf(i);y!==-1&&l.splice(y,1)}),delete t.proxyIdMapping[e],i.gcPropertyLinks("application"),i.gcPropertyLinks("source"),i.setProxyManager(null),o.invokeProxyRegistrationChange({action:"unregister",proxyId:e,proxyName:i.getProxyName(),proxyGroup:i.getProxyGroup(),proxy:i}),i}o.setActiveSource=function(n){t.activeSource!==n&&(t.activeSourceSubscription&&(t.activeSourceSubscription.unsubscribe(),t.activeSourceSubscription=null),t.activeSource=n,n&&(t.activeSourceSubscription=n.onModified(o.modified)),o.modified(),o.invokeActiveSourceChange(n))},o.setActiveView=function(n){t.activeView!==n&&(t.activeViewSubscription&&(t.activeViewSubscription.unsubscribe(),t.activeViewSubscription=null),t.activeView=n,n&&(t.activeViewSubscription=n.onModified(o.modified)),o.modified(),o.invokeActiveViewChange(n))},o.getProxyById=function(n){return t.proxyIdMapping[n]},o.getProxyGroups=function(){return Object.keys(t.proxyByGroup)},o.getProxyInGroup=function(n){return[].concat(t.proxyByGroup[n]||[])},o.getSources=function(){return[].concat(t.proxyByGroup.Sources||[])},o.getRepresentations=function(){return[].concat(t.proxyByGroup.Representations||[])},o.getViews=function(){return[].concat(t.proxyByGroup.Views||[])},o.createProxy=function(n,e,i){var c=t.proxyConfiguration.definitions;if(!c[n]||!c[n][e])return null;var l=c[n][e],y=C(C({},l.options),i),R=l.class.newInstance(C(C({},y),{},{proxyGroup:n,proxyName:e,proxyManager:o}));if(l.proxyProps){var _={};Object.keys(l.proxyProps).forEach(function($){var re=l.proxyProps[$];_[$]=o.createProxy(re.group,re.name,re.options)}),R.set(_)}return l.props&&R.set(l.props),function($){if($){t.proxyIdMapping[$.getProxyId()]=$;var re=$.getProxyGroup();t.proxyByGroup[re]||(t.proxyByGroup[re]=[]),t.proxyByGroup[re].indexOf($)===-1&&t.proxyByGroup[re].push($),$.setProxyManager(o),r.b.setImmediate(function(){o.invokeProxyRegistrationChange({action:"register",proxyId:$.getProxyId(),proxyName:$.getProxyName(),proxyGroup:$.getProxyGroup(),proxy:$})})}}(R),y.activateOnCreate&&R.activate(),R},o.getRepresentation=function(n,e){var i=n||o.getActiveSource(),c=e||o.getActiveView();if(!i||!c||!i.getType())return null;var l=i.getProxyId(),y=c.getProxyId(),R=t.sv2rMapping[l];R||(R={},t.sv2rMapping[l]=R);var _=R[y];if(!_){var $=c.getProxyName(),re=i.getType(),he=t.proxyConfiguration.representations[$][re];if(!he)return x("No definition for representation of ".concat(re," in view ").concat($)),null;_=o.createProxy("Representations",he.name,he.options),t.r2svMapping[_.getProxyId()]={sourceId:l,viewId:y},R[y]=_,_.setInput(i),c.addRepresentation(_)}return _},o.deleteProxy=function(n){var e=n.getProxyGroup().toLowerCase();if(e==="views")n.getRepresentations().forEach(function(R){o.deleteProxy(R)}),n.setContainer(null),v(n),o.getActiveView()===n&&o.setActiveView(o.getViews()[0]);else if(e==="representations"){var i=t.r2svMapping[n.getProxyId()],c=i.sourceId,l=i.viewId;o.getProxyById(l).removeRepresentation(n),delete t.r2svMapping[n.getProxyId()],delete t.sv2rMapping[c][l],v(n)}else if(e==="sources"){var y=t.sv2rMapping[n.getProxyId()];Object.keys(y).forEach(function(R){o.deleteProxy(y[R])}),v(n),o.getActiveSource()===n&&o.setActiveSource(o.getSources()[0])}else v(n);n.delete()}}var M=a(19),S=r.b.vtkErrorMacro,D={range:[0,0],clamping:!0,allowDuplicateScalars:!1};function V(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,D,v),r.b.obj(o,t),t.nodes=[],r.b.setGet(o,t,["allowDuplicateScalars","clamping"]),r.b.setArray(o,t,["range"],2),r.b.getArray(o,t,["range"]),function(n,e){e.classHierarchy.push("vtkPiecewiseFunction"),n.getSize=function(){return e.nodes.length},n.getType=function(){var i,c=0,l=0;e.nodes.length>0&&(c=e.nodes[0].y);for(var y=1;y<e.nodes.length;y++){if((i=e.nodes[y].y)!==c)if(i>c)switch(l){case 0:case 1:l=1;break;default:case 2:l=3}else switch(l){case 0:case 2:l=2;break;default:case 1:l=3}if(c=i,l===3)break}switch(l){case 0:return"Constant";case 1:return"NonDecreasing";case 2:return"NonIncreasing";default:case 3:return"Varied"}},n.getDataPointer=function(){var i=e.nodes.length;if(e.function=null,i>0){e.function=[];for(var c=0;c<i;c++)e.function[2*c]=e.nodes[c].x,e.function[2*c+1]=e.nodes[c].y}return e.function},n.getFirstNonZeroValue=function(){if(e.nodes.length===0)return 0;for(var i=1,c=0;c<e.nodes.length;c++)if(e.nodes[c].y!==0){i=0;break}return i?Number.MAX_VALUE:c>0?e.nodes[c-1].x:e.clamping?-Number.MAX_VALUE:e.nodes[0].x},n.getNodeValue=function(i,c){var l=e.nodes.length;return i<0||i>=l?(S("Index out of range!"),-1):(c[0]=e.nodes[i].x,c[1]=e.nodes[i].y,c[2]=e.nodes[i].midpoint,c[3]=e.nodes[i].sharpness,1)},n.setNodeValue=function(i,c){var l=e.nodes.length;if(i<0||i>=l)return S("Index out of range!"),-1;var y=e.nodes[i].x;return e.nodes[i].x=c[0],e.nodes[i].y=c[1],e.nodes[i].midpoint=c[2],e.nodes[i].sharpness=c[3],y!==c[0]?n.sortAndUpdateRange():n.modified(),1},n.addPoint=function(i,c){return n.addPointLong(i,c,.5,0)},n.addPointLong=function(i,c,l,y){if(l<0||l>1)return S("Midpoint outside range [0.0, 1.0]"),-1;if(y<0||y>1)return S("Sharpness outside range [0.0, 1.0]"),-1;e.allowDuplicateScalars||n.removePoint(i);var R,_={x:i,y:c,midpoint:l,sharpness:y};for(e.nodes.push(_),n.sortAndUpdateRange(),R=0;R<e.nodes.length&&e.nodes[R].x!==i;R++);return R<e.nodes.length?R:-1},n.setNodes=function(i){e.nodes!==i&&(e.nodes=i,n.sortAndUpdateRange())},n.sortAndUpdateRange=function(){e.nodes.sort(function(i,c){return i.x-c.x}),n.updateRange()||n.modified()},n.updateRange=function(){var i=e.range.slice(),c=e.nodes.length;return c?(e.range[0]=e.nodes[0].x,e.range[1]=e.nodes[c-1].x):(e.range[0]=0,e.range[1]=0),(i[0]!==e.range[0]||i[1]!==e.range[1])&&(n.modified(),!0)},n.removePoint=function(i){var c;for(c=0;c<e.nodes.length&&e.nodes[c].x!==i;c++);if(c>=e.nodes.length)return-1;var l=c,y=!1;return e.nodes.splice(c,1),c!==0&&c!==e.nodes.length||(y=n.updateRange()),y||n.modified(),l},n.removeAllPoints=function(){e.nodes=[],n.sortAndUpdateRange()},n.addSegment=function(i,c,l,y){n.sortAndUpdateRange();for(var R=0;R<e.nodes.length;)e.nodes[R].x>=i&&e.nodes[R].x<=l?e.nodes.splice(R,1):R++;n.addPoint(i,c,.5,0),n.addPoint(l,y,.5,0)},n.getValue=function(i){var c=[];return n.getTable(i,i,1,c),c[0]},n.adjustRange=function(i){if(i.length<2)return 0;var c=n.getRange();c[0]<i[0]?n.addPoint(i[0],n.getValue(i[0])):n.addPoint(i[0],n.getValue(c[0])),c[1]>i[1]?n.addPoint(i[1],n.getValue(i[1])):n.addPoint(i[1],n.getValue(c[1])),n.sortAndUpdateRange();for(var l=0;l<e.nodes.length;)e.nodes[l].x>=i[0]&&e.nodes[l].x<=i[1]?e.nodes.splice(l,1):++l;return n.sortAndUpdateRange(),1},n.estimateMinNumberOfSamples=function(i,c){var l=n.findMinimumXDistance();return Math.ceil((c-i)/l)},n.findMinimumXDistance=function(){var i=e.nodes.length;if(i<2)return-1;for(var c=e.nodes[1].x-e.nodes[0].x,l=0;l<i-1;l++){var y=e.nodes[l+1].x-e.nodes[l].x;y<c&&(c=y)}return c},n.getTable=function(i,c,l,y){var R,_=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,$=0,re=e.nodes.length,he=0;re!==0&&(he=e.nodes[re-1].y);var Ee=0,Se=0,ee=0,we=0,Fe=0,Xe=0,qe=0;for(R=0;R<l;R++){var tt=_*R;for(Ee=l>1?i+R/(l-1)*(c-i):.5*(i+c);$<re&&Ee>e.nodes[$].x;)++$<re&&(Se=e.nodes[$-1].x,ee=e.nodes[$].x,we=e.nodes[$-1].y,Fe=e.nodes[$].y,Xe=e.nodes[$-1].midpoint,qe=e.nodes[$-1].sharpness,Xe<1e-5&&(Xe=1e-5),Xe>.99999&&(Xe=.99999));if($>=re)y[tt]=e.clamping?he:0;else if($===0)y[tt]=e.clamping?e.nodes[0].y:0;else{var Ye=(Ee-Se)/(ee-Se);if(Ye=Ye<Xe?.5*Ye/Xe:.5+.5*(Ye-Xe)/(1-Xe),qe>.99){if(Ye<.5){y[tt]=we;continue}y[tt]=Fe;continue}if(qe<.01){y[tt]=(1-Ye)*we+Ye*Fe;continue}Ye<.5?Ye=.5*Math.pow(2*Ye,1+10*qe):Ye>.5&&(Ye=1-.5*Math.pow(2*(1-Ye),1+10*qe));var gt=Ye*Ye,At=gt*Ye,Vt=2*At-3*gt+1,Jt=-2*At+3*gt,vn=At-2*gt+Ye,Zt=At-gt,on=(1-qe)*(Fe-we);y[tt]=Vt*we+Jt*Fe+vn*on+Zt*on;var Tn=we<Fe?we:Fe,En=we>Fe?we:Fe;y[tt]=y[tt]<Tn?Tn:y[tt],y[tt]=y[tt]>En?En:y[tt]}}}}(o,t)}var d={newInstance:r.b.newInstance(V,"vtkPiecewiseFunction"),extend:V},O=a(100);function F(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function I(o){for(var t=1;t<arguments.length;t++){var v=arguments[t]!=null?arguments[t]:{};t%2?F(Object(v),!0).forEach(function(n){L(o,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(v)):F(Object(v)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(v,n))})}return o}function L(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}function G(o,t){return function(v){if(Array.isArray(v))return v}(o)||function(v,n){var e=v==null?null:typeof Symbol!="undefined"&&v[Symbol.iterator]||v["@@iterator"];if(e!=null){var i,c,l=[],y=!0,R=!1;try{for(e=e.call(v);!(y=(i=e.next()).done)&&(l.push(i.value),!n||l.length!==n);y=!0);}catch(_){R=!0,c=_}finally{try{y||e.return==null||e.return()}finally{if(R)throw c}}return l}}(o,t)||function(v,n){if(!!v){if(typeof v=="string")return z(v,n);var e=Object.prototype.toString.call(v).slice(8,-1);if(e==="Object"&&v.constructor&&(e=v.constructor.name),e==="Map"||e==="Set")return Array.from(v);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return z(v,n)}}(o,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function z(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}var B={Gaussians:0,Points:1,Nodes:2},Y={Gaussians:[{position:.5,height:1,width:.5,xBias:.5,yBias:.5}],Points:[[0,0],[1,1]],Nodes:[{x:0,y:0,midpoint:.5,sharpness:0},{x:1,y:1,midpoint:.5,sharpness:0}]};function q(o){return o.map(function(t){return I({},t)})}function H(o,t){t.classHierarchy.push("vtkPiecewiseFunctionProxy"),t.piecewiseFunction=t.piecewiseFunction||d.newInstance(),o.setGaussians=function(v){t.gaussians=q(v||[]),t.gaussians.length===0&&(t.gaussians=q(Y.Gaussians)),o.applyMode()},o.setPoints=function(v){t.points=(v||[]).slice(),t.points.length===0&&(t.points=Y.Points.slice()),o.applyMode()},o.setNodes=function(v){t.nodes=(v||[]).slice(),t.nodes.length===0&&(t.nodes=Y.Nodes.slice()),o.applyMode()},o.setMode=function(v){t.mode!==v&&(t.mode=v,o.applyMode())},o.applyMode=function(){switch(t.mode){case B.Gaussians:O.a.applyGaussianToPiecewiseFunction(t.gaussians,255,t.dataRange,t.piecewiseFunction),o.modified();break;case B.Points:(function(v,n,e){var i=n[1]-n[0],c=v.map(function(l){var y=G(l,2),R=y[0],_=y[1];return[R*i+n[0],_]});e.removeAllPoints(),c.forEach(function(l){var y=G(l,2),R=y[0],_=y[1];return e.addPoint(R,_)})})(t.points,t.dataRange,t.piecewiseFunction),o.modified();break;case B.Nodes:(function(v,n,e){var i=n[1]-n[0],c=v.map(function(l){return I(I({},l),{},{x:l.x*i+n[0]})});e.setNodes(c)})(t.nodes,t.dataRange,t.piecewiseFunction),o.modified()}},o.getLookupTableProxy=function(){return t.proxyManager.getLookupTable(t.arrayName)},o.setDataRange=function(v,n){t.dataRange[0]===v&&t.dataRange[1]===n||(t.dataRange[0]=v,t.dataRange[1]=n,o.applyMode())},o.applyMode()}var ne={mode:B.Gaussians,gaussians:Y.Gaussians,points:Y.Points,nodes:Y.Nodes,arrayName:"No array associated",arrayLocation:"pointData",dataRange:[0,1]};function Ae(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,ne,v),r.b.obj(o,t),r.b.setGet(o,t,["arrayName"]),r.b.get(o,t,["piecewiseFunction","gaussians","nodes","points","mode","dataRange"]),H(o,t),r.b.proxy(o,t)}var ce={newInstance:r.b.newInstance(Ae,"vtkPiecewiseFunctionProxy"),extend:Ae,Mode:B,Defaults:Y};function ye(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function K(o){for(var t=1;t<arguments.length;t++){var v=arguments[t]!=null?arguments[t]:{};t%2?ye(Object(v),!0).forEach(function(n){j(o,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(v)):ye(Object(v)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(v,n))})}return o}function j(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}function ve(o){return function(t){if(Array.isArray(t))return Pe(t)}(o)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(o)||function(t,v){if(!!t){if(typeof t=="string")return Pe(t,v);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(t,v)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pe(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}function Oe(o){var t={};return o.listPropertyNames().forEach(function(v){t[v]=o.getPropertyByName(v).value}),t}function xe(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function Ve(o){for(var t=1;t<arguments.length;t++){var v=arguments[t]!=null?arguments[t]:{};t%2?xe(Object(v),!0).forEach(function(n){me(o,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(v)):xe(Object(v)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(v,n))})}return o}function me(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}function pe(o,t){return function(v){if(Array.isArray(v))return v}(o)||function(v,n){var e=v==null?null:typeof Symbol!="undefined"&&v[Symbol.iterator]||v["@@iterator"];if(e!=null){var i,c,l=[],y=!0,R=!1;try{for(e=e.call(v);!(y=(i=e.next()).done)&&(l.push(i.value),!n||l.length!==n);y=!0);}catch(_){R=!0,c=_}finally{try{y||e.return==null||e.return()}finally{if(R)throw c}}return l}}(o,t)||function(v,n){if(!!v){if(typeof v=="string")return ke(v,n);var e=Object.prototype.toString.call(v).slice(8,-1);if(e==="Object"&&v.constructor&&(e=v.constructor.name),e==="Map"||e==="Set")return Array.from(v);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ke(v,n)}}(o,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ke(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}function X(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,{proxyIdMapping:{},proxyByGroup:{},proxyConfiguration:{},sv2rMapping:{},r2svMapping:{},collapseState:{},lookupTables:{},piecewiseFunctions:{},animating:!1},v),r.b.obj(o,t),r.b.setGet(o,t,["proxyConfiguration","activeSource","activeView"]),r.b.event(o,t,"ActiveSourceChange"),r.b.event(o,t,"ActiveViewChange"),r.b.event(o,t,"ProxyRegistrationChange"),E(o,t),function(n,e){n.loadState=function(i){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(l,y){var R={},_={},$={},re=c.datasetHandler||M.a,he=[];i.sources.forEach(function(Ee){var Se=Ee.id,ee=Ee.group,we=Ee.name,Fe=Ee.props;he.push(Promise.resolve(re(Fe.dataset)).then(function(Xe){if(Xe){var qe=n.createProxy(ee,we);return qe.setName(Fe.name),qe.setInputData(Xe,Fe.type),R[Se]=qe,qe}return null}))}),Promise.all(he).then(function(){var Ee=n.getViews();function Se(ee){R[ee]&&$[ee]&&R[ee].resetOrientation().then(function(){R[ee].getCamera().set($[ee]),R[ee].getRenderer().updateLightsGeometryToFollowCamera(),R[ee].renderLater()})}i.views.forEach(function(ee){var we=ee.id,Fe=ee.group,Xe=ee.name,qe=ee.props,tt=ee.camera,Ye=null;i.options.recycleViews&&(Ye=Ee.find(function(gt){return gt.getProxyGroup()===Fe&&gt.getProxyName()===Xe&&gt.getName()===qe.name})),Ye?Ye.setDisableAnimation(!0):Ye=n.createProxy(Fe,Xe,{disableAnimation:!0}),Ye.set(qe,!0),R[we]=Ye,$[we]=tt}),i.representations.forEach(function(ee){var we=ee.source,Fe=ee.view,Xe=ee.props;n.getRepresentation(R[we],R[Fe]).set(Xe,!0),Se(Fe)}),Object.keys(i.fields).forEach(function(ee){var we=i.fields[ee],Fe=we.lookupTable,Xe=we.piecewiseFunction,qe=n.getLookupTable(ee,Fe);qe.setPresetName(Fe.presetName),qe.setDataRange.apply(qe,ve(Fe.dataRange));var tt=n.getPiecewiseFunction(ee,Xe);switch(Xe.mode){case ce.Mode.Gaussians:tt.setGaussians(Xe.gaussians);break;case ce.Mode.Points:tt.setPoints(Xe.points);break;case ce.Mode.Nodes:tt.setNodes(Xe.nodes)}tt.setMode(Xe.mode),tt.setDataRange.apply(tt,ve(Xe.dataRange))}),Object.keys($).forEach(Se),Object.keys(R).forEach(function(ee){var we=R[ee].getProxyId();_[ee]=we}),i.views.forEach(function(ee){var we=ee.id;R[we].setDisableAnimation(!1)}),l(K(K({},i.userData),{},{$oldToNewIdMapping:_}))}).catch(y)})},n.saveState=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(l,y){var R=n.getSources(),_=n.getViews(),$=i.datasetHandler||function(Se){return Se.getState()};delete i.datasetHandler;var re=[],he=new Set,Ee={userData:c,options:i,sources:[],views:[],representations:[],fields:{}};R.forEach(function(Se){var ee=Promise.resolve($(Se.getDataset(),Se));re.push(ee),Ee.sources.push({id:Se.getProxyId(),group:Se.getProxyGroup(),name:Se.getProxyName(),props:{name:Se.getName(),type:Se.getType(),dataset:ee}})}),_.forEach(function(Se){var ee=Se.getCamera().get("position","viewUp","focalPoint");Ee.views.push({id:Se.getProxyId(),group:Se.getProxyGroup(),name:Se.getProxyName(),props:Object.assign(Oe(Se),Se.get("axis","orientation","viewUp")),camera:ee}),Se.getRepresentations().forEach(function(we){Ee.representations.push({source:we.getInput().getProxyId(),view:Se.getProxyId(),props:Oe(we)}),he.add(we.getColorBy()[0])})}),he.forEach(function(Se){Ee.fields[Se]={lookupTable:n.getLookupTable(Se).get("mode","presetName","rgbPoints","hsvPoints","nodes","arrayName","arrayLocation","dataRange"),piecewiseFunction:n.getPiecewiseFunction(Se).get("mode","gaussians","points","nodes","arrayName","arrayLocation","dataRange")}}),Promise.all(re).then(function(){for(var Se=function(we){Ee.sources[we].props.dataset.then(function(Fe){Ee.sources[we].props.dataset=Fe})},ee=0;ee<Ee.sources.length;ee++)Se(ee);l(Ee)}).catch(y)})}}(o),function(n,e){function i(){e.animating=!1;for(var c=n.getViews(),l=0;l<c.length;l++)c[l].setAnimation(!1,n)}n.create3DView=function(c){return n.createProxy("Views","View3D",c)},n.create2DView=function(c){return n.createProxy("Views","View2D",c)},n.render=function(c){var l=c||n.getActiveView();l&&l.renderLater()},n.renderAllViews=function(){for(var c=arguments.length>0&&arguments[0]!==void 0&&arguments[0],l=n.getViews(),y=0;y<l.length;y++)l[y].render(c)},n.setAnimationOnAllViews=function(){for(var c=arguments.length>0&&arguments[0]!==void 0&&arguments[0],l=n.getViews().filter(function(R){return!c||R.getContainer()}),y=0;y<l.length;y++)l[y].setAnimation(c,n)},n.autoAnimateViews=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250;if(!e.animating){e.animating=!0;for(var l=n.getViews().filter(function(R){return R.getContainer()}),y=0;y<l.length;y++)l[y].setAnimation(!0,n);e.clearAnimations=r.b.debounce(i,c)}e.clearAnimations()},n.resizeAllViews=function(){for(var c=n.getViews(),l=0;l<c.length;l++)c[l].resize()},n.resetCamera=function(c){var l=c||n.getActiveView();l&&l.resetCamera&&l.resetCamera()},n.createRepresentationInAllViews=function(c){for(var l=n.getViews(),y=0;y<l.length;y++)n.getRepresentation(c,l[y])},n.resetCameraInAllViews=function(){for(var c=n.getViews(),l=0;l<c.length;l++)c[l].resetCamera()}}(o,t),function(n,e){n.getSections=function(){var i=[],c=n.getActiveSource();if(!c)return[];var l=n.getActiveView();if(c){var y=c.getProxySection();y.ui.length&&i.push(Object.assign(y,{collapsed:e.collapseState[y.name]}))}if(c&&l){var R=n.getRepresentation(c,l);if(R){var _=R.getProxySection();_.ui.length&&i.push(Object.assign(_,{collapsed:e.collapseState[_.name]}))}}if(l){var $=l.getProxySection();$.ui.length&&i.push(Object.assign($,{collapsed:e.collapseState[$.name]}))}return i},n.updateCollapseState=function(i,c){e.collapseState[i]=c,n.modified()},n.applyChanges=function(i){for(var c={},l=Object.keys(i),y=l.length;y--;){var R=l[y],_=pe(R.split(":"),2),$=_[0],re=_[1];if(c[$]||(c[$]={}),i[R]==="__command_execute__"){var he=n.getProxyById($);he&&he[re]()}else c[$][re]=i[R]}var Ee=Object.keys(c);for(y=Ee.length;y--;){var Se=Ee[y],ee=n.getProxyById(Se);ee&&ee.set(c[Se])}n.modified(),n.renderAllViews()},n.getLookupTable=function(i,c){return e.lookupTables[i]||(e.lookupTables[i]=n.createProxy("Proxy","LookupTable",Ve({arrayName:i},c))),e.lookupTables[i]},n.getPiecewiseFunction=function(i,c){return e.piecewiseFunctions[i]||(e.piecewiseFunctions[i]=n.createProxy("Proxy","PiecewiseFunction",Ve({arrayName:i},c))),e.piecewiseFunctions[i]},n.rescaleTransferFunctionToDataRange=function(i,c){var l=n.getLookupTable(i),y=n.getPiecewiseFunction(i);l.setDataRange(c[0],c[1]),y.setDataRange(c[0],c[1])}}(o,t),r.b.proxy(o,t),t.classHierarchy.push("vtkProxyManager")}var Z={newInstance:r.b.newInstance(X,"vtkProxyManager"),extend:X},ae=a(35),Ue=a(181),Ie=a.n(Ue),le={name:"Default source"};function ge(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,le,v),r.b.obj(o,t),r.b.get(o,t,["name","type","dataset","algo","inputProxy"]),r.b.set(o,t,["name"]),r.b.event(o,t,"DatasetChange"),r.b.proxy(o,t),function(n,e){e.classHierarchy.push("vtkSourceProxy"),n.setInputProxy=function(i){e.inputSubscription&&(e.inputSubscription(),e.inputSubscription=null),e.inputProxy=i,e.inputProxy&&(e.inputSubscription=i.onModified(n.update,-1).unsubscribe),n.update()},n.setInputData=function(i,c){e.dataset!==i&&(e.dataset=i,e.type=c||i.getClassName(),n.modified(),n.invokeDatasetChange())},n.setInputAlgorithm=function(i,c){var l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];e.type=c,e.algo!==i&&(e.algo=i,e.algoSubscription&&(e.algoSubscription(),e.algoSubscription=null),i&&l&&(e.algoSubscription=i.onModified(function(){n.update()},-1).unsubscribe,n.update()))},n.update=function(){e.algo&&e.inputProxy&&e.algo.setInputData(e.inputProxy.getDataset()),e.updateDomain&&e.inputProxy&&e.updateDomain(n,e.inputProxy.getDataset()),e.algo&&n.setInputData(e.algo.getOutputData(),e.type)},n.getUpdate=function(){return e.algo.getMTime()>e.dataset.getMTime()},n.delete=r.b.chain(function(){e.algoSubscription&&(e.algoSubscription(),e.algoSubscription=null),e.inputSubscription&&(e.inputSubscription(),e.inputSubscription=null)},n.delete),e.inputProxy&&(e.inputSubscription=e.inputProxy.onModified(function(){n.update()},-1).unsubscribe),e.algoFactory&&n.setInputAlgorithm(e.algoFactory.newInstance(),null,e.autoUpdate),n.update()}(o,t),t.proxyPropertyMapping&&r.b.proxyPropertyMapping(o,t,t.proxyPropertyMapping)}var ze={newInstance:r.b.newInstance(ge,"vtkSourceProxy"),extend:ge},nt=a(16),st=a(10),Ge=a(49),N=a(67),W=a(14);function de(o,t){return function(v){if(Array.isArray(v))return v}(o)||function(v,n){var e=v==null?null:typeof Symbol!="undefined"&&v[Symbol.iterator]||v["@@iterator"];if(e!=null){var i,c,l=[],y=!0,R=!1;try{for(e=e.call(v);!(y=(i=e.next()).done)&&(l.push(i.value),!n||l.length!==n);y=!0);}catch(_){R=!0,c=_}finally{try{y||e.return==null||e.return()}finally{if(R)throw c}}return l}}(o,t)||function(v,n){if(!!v){if(typeof v=="string")return ie(v,n);var e=Object.prototype.toString.call(v).slice(8,-1);if(e==="Object"&&v.constructor&&(e=v.constructor.name),e==="Map"||e==="Set")return Array.from(v);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ie(v,n)}}(o,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ie(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}var _e={boundMTime:0,actors:[],volumes:[],sourceDependencies:[],rescaleOnColorBy:!0},Ze={extend:function(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,_e,v),Ge.a.extend(o,t,v),r.k(o,t,["rescaleOnColorBy"]),r.d(o,t,["input","mapper","actors","volumes"]),function(n,e){function i(){if(e.input)for(var R=0;R<e.sourceDependencies.length;++R)e.sourceDependencies[R].setInputData(e.input.getDataset())}e.classHierarchy.push("vtkAbstractRepresentationProxy"),n.setInput=function(R){if(e.sourceSubscription&&(e.sourceSubscription.unsubscribe(),e.sourceSubscription=null),n.gcPropertyLinks("source"),e.input=R,n.updateColorByDomain(),e.input&&(i(),e.sourceSubscription=e.input.onDatasetChange(i)),e.links)for(var _=0;_<e.links.length;_++){var $=e.links[_],re=$.link,he=$.property,Ee=$.persistent,Se=$.updateOnBind,ee=$.type;if(ee===void 0||ee==="source"){var we=R.getPropertyLink(re,Ee);n.registerPropertyLinkForGC(we,"source"),we.bind(n,he,Se)}}},n.getInputDataSet=function(){return e.input?e.input.getDataset():null},n.getDataArray=function(R,_){var $=de(n.getColorBy(),2),re=$[0],he=$[1],Ee=n.getInputDataSet(),Se=Ee?Ee.getReferenceByName(_||he):null;return Se?Se.getArrayByName(R||re):null},n.getLookupTableProxy=function(R){var _=R||n.getColorBy()[0];return _?e.proxyManager.getLookupTable(_):null},n.setLookupTableProxy=function(){},n.getPiecewiseFunctionProxy=function(R){var _=R||n.getColorBy()[0];return _?e.proxyManager.getPiecewiseFunction(_):null},n.setPiecewiseFunctionProxy=function(){},n.rescaleTransferFunctionToDataRange=function(R,_){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,re=n.getDataArray(R,_).getRange($);e.proxyManager.rescaleTransferFunctionToDataRange(R,re)},n.isVisible=function(){return e.actors.length?e.actors[0].getVisibility():!!e.volumes.length&&e.volumes[0].getVisibility()},n.setVisibility=function(R){for(var _=0,$=e.actors.length;$--;)_+=e.actors[$].setVisibility(R);for($=e.volumes.length;$--;)_+=e.volumes[$].setVisibility(R);_&&n.modified()},n.setColorBy=function(R,_){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,re=st.a.ColorMode.DEFAULT,he=st.a.ScalarMode.DEFAULT,Ee=R,Se=!!n.getDataArray(R,_),ee=R?n.getLookupTableProxy(R).getLookupTable():null;ee&&($===-1?ee.setVectorModeToMagnitude():(ee.setVectorModeToComponent(),ee.setVectorComponent($))),Se&&(re=st.a.ColorMode.MAP_SCALARS,he=_==="pointData"?st.a.ScalarMode.USE_POINT_FIELD_DATA:st.a.ScalarMode.USE_CELL_FIELD_DATA,e.mapper.setLookupTable&&e.mapper.setLookupTable(ee),e.rescaleOnColorBy&&n.rescaleTransferFunctionToDataRange(R,_,$)),e.mapper.set({colorByArrayName:Ee,colorMode:re,scalarMode:he,scalarVisibility:Se},!0)},n.getColorBy=function(){if(!e.mapper.getColorByArrayName){var R=n.getInputDataSet();return R.getPointData().getScalars()?[R.getPointData().getScalars().getName(),"pointData",-1]:R.getCellData().getScalars()?[R.getCellData().getScalars().getName(),"cellData",-1]:R.getPointData().getNumberOfArrays()?[R.getPointData().getArrayByIndex(0).getName(),"pointData",-1]:R.getCellData().getNumberOfArrays()?[R.getCellData().getArrayByIndex(0).getName(),"cellData",-1]:[]}var _=[],$=e.mapper.get("colorByArrayName","colorMode","scalarMode","scalarVisibility"),re=$.colorByArrayName,he=$.colorMode,Ee=$.scalarMode;if($.scalarVisibility&&re&&(_.push(re),_.push(Ee===st.a.ScalarMode.USE_POINT_FIELD_DATA?"pointData":"cellData")),he===st.a.ColorMode.MAP_SCALARS&&re){var Se=n.getLookupTableProxy(re).getLookupTable(),ee=Se.getVectorMode()===N.a.VectorMode.MAGNITUDE?-1:Se.getVectorComponent();_.push(ee)}return _},n.listDataArrays=function(){var R=[];if(!e.input)return R;for(var _=n.getInputDataSet(),$=_.getPointData(),re=$.getNumberOfArrays(),he=0;he<re;he++){var Ee=$.getArrayByIndex(he);R.push({name:Ee.getName(),location:"pointData",numberOfComponents:Ee.getNumberOfComponents(),dataRange:Ee.getRange()})}var Se=_.getCellData();re=Se.getNumberOfArrays();for(var ee=0;ee<re;ee++){var we=Se.getArrayByIndex(ee);R.push({name:we.getName(),location:"cellData",numberOfComponents:we.getNumberOfComponents(),dataRange:we.getRange()})}return R},n.updateColorByDomain=function(){n.updateProxyProperty("colorBy",{domain:{arrays:n.listDataArrays(),solidColor:!e.disableSolidColor}})},n.delete=r.a(function(){e.sourceSubscription&&(e.sourceSubscription.unsubscribe(),e.sourceSubscription=null)},n.delete);var c=[],l=W.a.newInstance();function y(R){R&&(l.addBounds(R.getBounds()),c.push(R))}n.getNestedProps=function(){return c},n.getBounds=function(){return e.boundMTime<e.mtime&&(e.boundMTime=e.mtime,l.reset(),c.length=0,e.actors.forEach(y),e.volumes.forEach(y)),l.getBounds()}}(o,t),r.h(o,t)}},ft={representation:{"Surface with edges":{property:{edgeVisibility:!0,representation:2}},Surface:{property:{edgeVisibility:!1,representation:2}},Wireframe:{property:{edgeVisibility:!1,representation:1}},Points:{property:{edgeVisibility:!1,representation:0}}}},at={representation:"Surface"},ht={representation:"Surface"};function Ct(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,ht,v),Ze.extend(o,t,v),function(n,e){e.classHierarchy.push("vtkGeometryRepresentationProxy"),e.mapper=st.a.newInstance({interpolateScalarsBeforeMapping:!0,useLookupTableScalarRange:!0,scalarVisibility:!1}),e.actor=nt.a.newInstance(),e.property=e.actor.getProperty(),e.sourceDependencies.push(e.mapper),e.actor.setMapper(e.mapper),e.actors.push(e.actor)}(0,t),r.b.proxyPropertyState(o,t,ft,at),r.b.proxyPropertyMapping(o,t,{opacity:{modelKey:"property",property:"opacity"},visibility:{modelKey:"actor",property:"visibility"},color:{modelKey:"property",property:"diffuseColor"},interpolateScalarsBeforeMapping:{modelKey:"mapper",property:"interpolateScalarsBeforeMapping"},pointSize:{modelKey:"property",property:"pointSize"},useShadow:{modelKey:"property",property:"lighting"},useBounds:{modelKey:"actor",property:"useBounds"}})}var Kt={newInstance:r.b.newInstance(Ct,"vtkGeometryRepresentationProxy"),extend:Ct},nn=a(33),oe=a(8);function St(o){return function(t){if(Array.isArray(t))return Ce(t)}(o)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(o)||function(t,v){if(!!t){if(typeof t=="string")return Ce(t,v);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(t,v)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ce(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}var He=r.b.vtkErrorMacro,Nt={croppingPlanes:[]};function Dt(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Nt,v),r.b.obj(o,t),r.b.algo(o,t,1,1),r.b.setGetArray(o,t,["croppingPlanes"],6),function(n,e){e.classHierarchy.push("vtkImageCropFilter"),n.reset=function(){var i=n.getInputData();i&&n.setCroppingPlanes.apply(n,St(i.getExtent()))},n.requestData=function(i,c){var l=i[0];if(l){var y=l.getPointData().getScalars();if(y){var R=l.getExtent(),_=e.croppingPlanes.length===6?R.map(function(jn,Nn){return Nn%2==0?Math.max(jn,Math.round(e.croppingPlanes[Nn])):Math.min(jn,Math.round(e.croppingPlanes[Nn]))}):R.slice();if(_[0]===R[0]&&_[1]===R[1]&&_[2]===R[2]&&_[3]===R[3]&&_[4]===R[4]&&_[5]===R[5]){var $=nn.a.newInstance();return $.shallowCopy(l),void(c[0]=$)}for(var re=0;re<3;++re)if(_[2*re]>_[2*re+1]){var he=[_[2*re+1],_[2*re]];_[2*re]=he[0],_[2*re+1]=he[1]}for(var Ee=0;Ee<6;Ee+=2)_[Ee]=Math.max(_[Ee],R[Ee]),_[Ee+1]=Math.min(_[Ee+1],R[Ee+1]);for(var Se=y.getNumberOfComponents(),ee=(_[1]-_[0]+1)*(_[3]-_[2]+1)*(_[5]-_[4]+1)*Se,we=y.getData(),Fe=l.getDimensions(),Xe=Se*Fe[0],qe=Se*Fe[0]*Fe[1],tt=(_[0]-R[0])*Se,Ye=(_[1]-_[0]+1)*Se,gt=new we.constructor(ee),At=0,Vt=_[4];Vt<=_[5];++Vt)for(var Jt=_[2];Jt<=_[3];++Jt){var vn=tt+(Jt-R[2])*Xe+(Vt-R[4])*qe,Zt=vn+Ye,on=we.subarray(vn,Zt);gt.set(on,At),At+=on.length}var Tn=nn.a.newInstance({extent:_,origin:l.getOrigin(),direction:l.getDirection(),spacing:l.getSpacing()}),En=oe.a.newInstance({name:y.getName(),numberOfComponents:Se,values:gt});Tn.getPointData().setScalars(En),c[0]=Tn}else He("No scalars from input")}else He("Invalid or missing input")},n.isResetAvailable=function(){if(e.croppingPlanes.length===0)return!1;var i=n.getInputData();return!!i&&i.getExtent().find(function(c,l){return Math.abs(e.croppingPlanes[l]-c)>Number.EPSILON})!==void 0}}(o,t)}var On={newInstance:r.b.newInstance(Dt,"vtkImageCropFilter"),extend:Dt},Lt={SlicingMode:{NONE:-1,I:0,J:1,K:2,X:3,Y:4,Z:5}},An=a(97),dt=a(3),zt=a(28),ur=a(52),Be=a(1);function wn(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function gr(o){for(var t=1;t<arguments.length;t++){var v=arguments[t]!=null?arguments[t]:{};t%2?wn(Object(v),!0).forEach(function(n){Br(o,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(v)):wn(Object(v)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(v,n))})}return o}function Br(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}var nr=ur.b.staticOffsetAPI,J=ur.b.otherStaticMethods,Te=r.b.vtkWarningMacro,Me=Lt.SlicingMode,Ke={displayExtent:[0,0,0,0,0,0],customDisplayExtent:[0,0,0,0],useCustomExtents:!1,slice:0,slicingMode:Me.NONE,closestIJKAxis:{ijkMode:Me.NONE,flip:!1},renderToRectangle:!1,sliceAtFocalPoint:!1};function rt(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Ke,v),An.a.extend(o,t,v),r.b.get(o,t,["slicingMode"]),r.b.setGet(o,t,["slice","closestIJKAxis","useCustomExtents","renderToRectangle","sliceAtFocalPoint"]),r.b.setGetArray(o,t,["customDisplayExtent"],4),ur.b.implementCoincidentTopologyMethods(o,t),function(n,e){function i(){var l;switch(e.slicingMode){case Me.X:l=[1,0,0];break;case Me.Y:l=[0,1,0];break;case Me.Z:l=[0,0,1];break;default:return void(e.closestIJKAxis={ijkMode:e.slicingMode,flip:!1})}var y=[0,0,0],R=n.getInputData().getDirection(),_=[[R[0],R[1],R[2]],[R[3],R[4],R[5]],[R[6],R[7],R[8]]];dt.t(_,l,y);for(var $=0,re=-1,he=!1,Ee=0;Ee<y.length;++Ee){var Se=Math.abs(y[Ee]);Se>$&&($=Se,he=y[Ee]<0,re=Ee)}if($!==1){var ee="IJKXYZ"[e.slicingMode],we="IJKXYZ"[re];Te("Unaccurate slicing along ".concat(ee," axis which ")+"is not aligned with any IJK axis of the image data. "+"Using ".concat(we," axis  as a fallback (").concat($,"% aligned). ")+"Necessitates slice reformat that is not yet implemented.  You can switch the slicing mode on your mapper to do IJK slicing instead.")}e.closestIJKAxis={ijkMode:re,flip:he}}function c(l,y){var R=n.getInputData(),_=R.getExtent(),$=[_[0],_[2],_[4]],re=n.getClosestIJKAxis().ijkMode,he=e.slice;re!==e.slicingMode&&(he=n.getSliceAtPosition(he)),$[re]+=he;var Ee=[0,0,0];R.indexToWorld($,Ee),$[re]+=1;var Se=[0,0,0];R.indexToWorld($,Se),Se[0]-=Ee[0],Se[1]-=Ee[1],Se[2]-=Ee[2],Be.e.normalize(Se,Se);var ee=zt.a.intersectWithLine(l,y,Ee,Se);if(ee.intersection){var we=ee.x,Fe=[0,0,0];return R.worldToIndex(we,Fe),{t:ee.t,absoluteIJK:Fe}}return null}e.classHierarchy.push("vtkImageMapper"),n.getSliceAtPosition=function(l){var y,R=n.getInputData();if(l.length===3)y=l;else if(Number.isFinite(l)){var _=R.getBounds();switch(e.slicingMode){case Me.X:y=[l,(_[3]+_[2])/2,(_[5]+_[4])/2];break;case Me.Y:y=[(_[1]+_[0])/2,l,(_[5]+_[4])/2];break;case Me.Z:y=[(_[1]+_[0])/2,(_[3]+_[2])/2,l]}}var $=[0,0,0];R.worldToIndex(y,$);var re=R.getExtent(),he=0;switch(n.getClosestIJKAxis().ijkMode){case Me.I:he=dt.e($[0],re[0],re[1]),he=Math.round(he);break;case Me.J:he=dt.e($[1],re[2],re[3]),he=Math.round(he);break;case Me.K:he=dt.e($[2],re[4],re[5]),he=Math.round(he);break;default:return 0}return he},n.setSliceFromCamera=function(l){var y=l.getFocalPoint();switch(e.slicingMode){case Me.I:case Me.J:case Me.K:var R=n.getSliceAtPosition(y);n.setSlice(R);break;case Me.X:n.setSlice(y[0]);break;case Me.Y:n.setSlice(y[1]);break;case Me.Z:n.setSlice(y[2])}},n.setXSlice=function(l){n.setSlicingMode(Me.X),n.setSlice(l)},n.setYSlice=function(l){n.setSlicingMode(Me.Y),n.setSlice(l)},n.setZSlice=function(l){n.setSlicingMode(Me.Z),n.setSlice(l)},n.setISlice=function(l){n.setSlicingMode(Me.I),n.setSlice(l)},n.setJSlice=function(l){n.setSlicingMode(Me.J),n.setSlice(l)},n.setKSlice=function(l){n.setSlicingMode(Me.K),n.setSlice(l)},n.getSlicingModeNormal=function(){var l=[0,0,0],y=n.getInputData().getDirection(),R=[[y[0],y[1],y[2]],[y[3],y[4],y[5]],[y[6],y[7],y[8]]];switch(e.slicingMode){case Me.X:l[0]=1;break;case Me.Y:l[1]=1;break;case Me.Z:l[2]=1;break;case Me.I:dt.t(R,[1,0,0],l);break;case Me.J:dt.t(R,[0,1,0],l);break;case Me.K:dt.t(R,[0,0,1],l)}return l},n.setSlicingMode=function(l){e.slicingMode!==l&&(e.slicingMode=l,n.getInputData()&&i(),n.modified())},n.getClosestIJKAxis=function(){return e.closestIJKAxis!==void 0&&e.closestIJKAxis.ijkMode!==Me.NONE||!n.getInputData()||i(),e.closestIJKAxis},n.getBounds=function(){var l=n.getInputData();if(!l)return dt.h();if(!e.useCustomExtents)return l.getBounds();var y=e.customDisplayExtent.slice(),R=n.getClosestIJKAxis().ijkMode,_=e.slice;switch(R!==e.slicingMode&&(_=n.getSliceAtPosition(e.slice)),R){case Me.I:y[0]=_,y[1]=_;break;case Me.J:y[2]=_,y[3]=_;break;case Me.K:y[4]=_,y[5]=_}return l.extentToBounds(y)},n.getBoundsForSlice=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.slice,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=n.getInputData();if(!R)return dt.h();var _=R.getExtent(),$=n.getClosestIJKAxis().ijkMode,re=l;switch($!==e.slicingMode&&(re=n.getSliceAtPosition(l)),$){case Me.I:_[0]=re-y,_[1]=re+y;break;case Me.J:_[2]=re-y,_[3]=re+y;break;case Me.K:_[4]=re-y,_[5]=re+y}return R.extentToBounds(_)},n.getIsOpaque=function(){return!0},n.intersectWithLineForPointPicking=function(l,y){var R=c(l,y);if(R){var _=n.getInputData().getExtent(),$=[Math.round(R.absoluteIJK[0]),Math.round(R.absoluteIJK[1]),Math.round(R.absoluteIJK[2])];return $[0]<_[0]||$[0]>_[1]||$[1]<_[2]||$[1]>_[3]||$[2]<_[4]||$[2]>_[5]?null:{t:R.t,ijk:$}}return null},n.intersectWithLineForCellPicking=function(l,y){var R=c(l,y);if(R){var _=n.getInputData().getExtent(),$=R.absoluteIJK,re=[Math.floor($[0]),Math.floor($[1]),Math.floor($[2])];if(re[0]<_[0]||re[0]>_[1]-1||re[1]<_[2]||re[1]>_[3]-1||re[2]<_[4]||re[2]>_[5]-1)return null;var he=[$[0]-re[0],$[1]-re[1],$[2]-re[2]];return{t:R.t,ijk:re,pCoords:he}}return null}}(o,t)}var yt=gr(gr(gr({newInstance:r.b.newInstance(rt,"vtkImageMapper"),extend:rt},nr),J),Lt),Ot=a(72),cn={NEAREST:0,LINEAR:1},gn=cn,Pn=r.b.vtkErrorMacro,kn=4,It={independentComponents:!1,interpolationType:gn.LINEAR,colorWindow:255,colorLevel:127.5,ambient:1,diffuse:0,opacity:1};function rn(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(t,It,v),r.b.obj(o,t),!t.componentData){t.componentData=[];for(var n=0;n<kn;n++)t.componentData.push({rGBTransferFunction:null,piecewiseFunction:null,componentWeight:1})}r.b.setGet(o,t,["independentComponents","interpolationType","colorWindow","colorLevel","ambient","diffuse","opacity"]),function(e,i){i.classHierarchy.push("vtkImageProperty"),e.getMTime=function(){for(var c,l=i.mtime,y=0;y<kn;y++)i.componentData[y].rGBTransferFunction&&(l=l>(c=i.componentData[y].rGBTransferFunction.getMTime())?l:c),i.componentData[y].piecewiseFunction&&(l=l>(c=i.componentData[y].piecewiseFunction.getMTime())?l:c);return l},e.setRGBTransferFunction=function(c,l){var y=c,R=l;return Number.isInteger(c)||(R=c,y=0),i.componentData[y].rGBTransferFunction!==R&&(i.componentData[y].rGBTransferFunction=R,e.modified(),!0)},e.getRGBTransferFunction=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return i.componentData[c].rGBTransferFunction},e.setPiecewiseFunction=function(c,l){var y=c,R=l;return Number.isInteger(c)||(R=c,y=0),i.componentData[y].piecewiseFunction!==R&&(i.componentData[y].piecewiseFunction=R,e.modified(),!0)},e.getPiecewiseFunction=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return i.componentData[c].piecewiseFunction},e.setScalarOpacity=function(c,l){var y=c,R=l;return Number.isInteger(c)||(R=c,y=0),e.setPiecewiseFunction(y,R)},e.getScalarOpacity=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.getPiecewiseFunction(c)},e.setComponentWeight=function(c,l){if(c<0||c>=kn)return Pn("Invalid index"),!1;var y=Math.min(1,Math.max(0,l));return i.componentData[c].componentWeight!==y&&(i.componentData[c].componentWeight=y,e.modified(),!0)},e.getComponentWeight=function(c){return c<0||c>=kn?(Pn("Invalid index"),0):i.componentData[c].componentWeight},e.setInterpolationTypeToNearest=function(){return e.setInterpolationType(gn.NEAREST)},e.setInterpolationTypeToLinear=function(){return e.setInterpolationType(gn.LINEAR)},e.getInterpolationTypeAsString=function(){return r.b.enumToString(gn,i.interpolationType)}}(o,t)}var bt={newInstance:r.b.newInstance(rn,"vtkImageProperty"),extend:rn},Et=r.b.vtkDebugMacro,Ht={mapper:null,property:null,bounds:[1,-1,1,-1,1,-1]};function Mt(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Ht,v),Ot.a.extend(o,t,v),t.boundsMTime={},r.b.obj(t.boundsMTime),r.b.set(o,t,["property"]),r.b.setGet(o,t,["mapper"]),r.b.getArray(o,t,["bounds"],6),function(n,e){e.classHierarchy.push("vtkImageSlice"),n.getActors=function(){return n},n.getImages=function(){return n},n.getIsOpaque=function(){if(e.forceOpaque)return!0;if(e.forceTranslucent)return!1;e.property||n.getProperty();var i=e.property.getOpacity()>=1;return i=i&&(!e.mapper||e.mapper.getIsOpaque())},n.hasTranslucentPolygonalGeometry=function(){return!1},n.makeProperty=bt.newInstance,n.getProperty=function(){return e.property===null&&(e.property=n.makeProperty()),e.property},n.getBounds=function(){if(e.mapper===null)return e.bounds;var i=e.mapper.getBounds();if(!i||i.length!==6)return i;if(i[0]>i[1])return e.mapperBounds=i.concat(),e.bounds=[1,-1,1,-1,1,-1],e.boundsMTime.modified(),i;if(!e.mapperBounds||!function(y){return y[0].map(function(R,_){return y.map(function($){return $[_]})})}([i,e.mapperBounds]).reduce(function(y,R){return y&&R[0]===R[1]},!0)||n.getMTime()>e.boundsMTime.getMTime()){Et("Recomputing bounds..."),e.mapperBounds=i.map(function(y){return y});var c=[Be.e.fromValues(i[1],i[3],i[5]),Be.e.fromValues(i[1],i[2],i[5]),Be.e.fromValues(i[0],i[2],i[5]),Be.e.fromValues(i[0],i[3],i[5]),Be.e.fromValues(i[1],i[3],i[4]),Be.e.fromValues(i[1],i[2],i[4]),Be.e.fromValues(i[0],i[2],i[4]),Be.e.fromValues(i[0],i[3],i[4])];n.computeMatrix();var l=Be.c.create();Be.c.transpose(l,e.matrix),c.forEach(function(y){return Be.e.transformMat4(y,y,l)}),e.bounds[0]=e.bounds[2]=e.bounds[4]=Number.MAX_VALUE,e.bounds[1]=e.bounds[3]=e.bounds[5]=-Number.MAX_VALUE,e.bounds=e.bounds.map(function(y,R){return R%2==0?c.reduce(function(_,$){return _>$[R/2]?$[R/2]:_},y):c.reduce(function(_,$){return _<$[(R-1)/2]?$[(R-1)/2]:_},y)}),e.boundsMTime.modified()}return e.bounds},n.getBoundsForSlice=function(i){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=e.mapper.getBoundsForSlice(i,c);if(!l||l.length!==6||l[0]>l[1])return l;var y=[Be.e.fromValues(l[1],l[3],l[5]),Be.e.fromValues(l[1],l[2],l[5]),Be.e.fromValues(l[0],l[2],l[5]),Be.e.fromValues(l[0],l[3],l[5]),Be.e.fromValues(l[1],l[3],l[4]),Be.e.fromValues(l[1],l[2],l[4]),Be.e.fromValues(l[0],l[2],l[4]),Be.e.fromValues(l[0],l[3],l[4])];n.computeMatrix();var R=Be.c.create();Be.c.transpose(R,e.matrix),y.forEach(function($){return Be.e.transformMat4($,$,R)});var _=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];return _=_.map(function($,re){return re%2==0?y.reduce(function(he,Ee){return he>Ee[re/2]?Ee[re/2]:he},$):y.reduce(function(he,Ee){return he<Ee[(re-1)/2]?Ee[(re-1)/2]:he},$)})},n.getMinXBound=function(){return n.getBounds(),e.bounds[0]},n.getMaxXBound=function(){return n.getBounds(),e.bounds[1]},n.getMinYBound=function(){return n.getBounds(),e.bounds[2]},n.getMaxYBound=function(){return n.getBounds(),e.bounds[3]},n.getMinZBound=function(){return n.getBounds(),e.bounds[4]},n.getMaxZBound=function(){return n.getBounds(),e.bounds[5]},n.getMTime=function(){var i=e.mtime;if(e.property!==null){var c=e.property.getMTime();i=c>i?c:i}return i},n.getRedrawMTime=function(){var i=e.mtime;if(e.mapper!==null){var c=e.mapper.getMTime();i=c>i?c:i,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),i=(c=e.mapper.getInput().getMTime())>i?c:i)}if(e.property!==null){var l=e.property.getMTime();i=l>i?l:i,e.property.getRGBTransferFunction()!==null&&(i=(l=e.property.getRGBTransferFunction().getMTime())>i?l:i)}return i},n.getSupportsSelection=function(){return!!e.mapper&&e.mapper.getSupportsSelection()}}(o,t)}var pn={newInstance:r.b.newInstance(Mt,"vtkImageSlice"),extend:Mt},Sn=a(107),Gt=a(37);function ln(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function tn(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}var Rn=Gt.c.InterpolationType,Gn=Gt.c.OpacityMode,fr=r.b.vtkErrorMacro,qn=4,dr={independentComponents:!0,interpolationType:Rn.FAST_LINEAR,shade:0,ambient:.1,diffuse:.7,specular:.2,specularPower:10,useLabelOutline:!1,labelOutlineThickness:1};function Jn(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(t,dr,v),r.b.obj(o,t),!t.componentData){t.componentData=[];for(var n=0;n<qn;++n)t.componentData.push({colorChannels:1,grayTransferFunction:null,rGBTransferFunction:null,scalarOpacity:null,scalarOpacityUnitDistance:1,opacityMode:Gn.FRACTIONAL,gradientOpacityMinimumValue:0,gradientOpacityMinimumOpacity:0,gradientOpacityMaximumValue:1,gradientOpacityMaximumOpacity:1,useGradientOpacity:!1,componentWeight:1})}r.b.setGet(o,t,["independentComponents","interpolationType","shade","ambient","diffuse","specular","specularPower","useLabelOutline","labelOutlineThickness"]),function(e,i){i.classHierarchy.push("vtkVolumeProperty"),e.getMTime=function(){for(var c,l=i.mtime,y=0;y<qn;y++)i.componentData[y].colorChannels===1?i.componentData[y].grayTransferFunction&&(l=l>(c=i.componentData[y].grayTransferFunction.getMTime())?l:c):i.componentData[y].colorChannels===3&&i.componentData[y].rGBTransferFunction&&(l=l>(c=i.componentData[y].rGBTransferFunction.getMTime())?l:c),i.componentData[y].scalarOpacity&&(l=l>(c=i.componentData[y].scalarOpacity.getMTime())?l:c),i.componentData[y].gradientOpacity&&(i.componentData[y].disableGradientOpacity||(l=l>(c=i.componentData[y].gradientOpacity.getMTime())?l:c));return l},e.getColorChannels=function(c){return c<0||c>3?(fr("Bad index - must be between 0 and 3"),0):i.componentData[c].colorChannels},e.setGrayTransferFunction=function(c,l){var y=!1;return i.componentData[c].grayTransferFunction!==l&&(i.componentData[c].grayTransferFunction=l,y=!0),i.componentData[c].colorChannels!==1&&(i.componentData[c].colorChannels=1,y=!0),y&&e.modified(),y},e.getGrayTransferFunction=function(c){return i.componentData[c].grayTransferFunction===null&&(i.componentData[c].grayTransferFunction=d.newInstance(),i.componentData[c].grayTransferFunction.addPoint(0,0),i.componentData[c].grayTransferFunction.addPoint(1024,1),i.componentData[c].colorChannels!==1&&(i.componentData[c].colorChannels=1),e.modified()),i.componentData[c].grayTransferFunction},e.setRGBTransferFunction=function(c,l){var y=!1;return i.componentData[c].rGBTransferFunction!==l&&(i.componentData[c].rGBTransferFunction=l,y=!0),i.componentData[c].colorChannels!==3&&(i.componentData[c].colorChannels=3,y=!0),y&&e.modified(),y},e.getRGBTransferFunction=function(c){return i.componentData[c].rGBTransferFunction===null&&(i.componentData[c].rGBTransferFunction=Sn.a.newInstance(),i.componentData[c].rGBTransferFunction.addRGBPoint(0,0,0,0),i.componentData[c].rGBTransferFunction.addRGBPoint(1024,1,1,1),i.componentData[c].colorChannels!==3&&(i.componentData[c].colorChannels=3),e.modified()),i.componentData[c].rGBTransferFunction},e.setScalarOpacity=function(c,l){return i.componentData[c].scalarOpacity!==l&&(i.componentData[c].scalarOpacity=l,e.modified(),!0)},e.getScalarOpacity=function(c){return i.componentData[c].scalarOpacity===null&&(i.componentData[c].scalarOpacity=d.newInstance(),i.componentData[c].scalarOpacity.addPoint(0,1),i.componentData[c].scalarOpacity.addPoint(1024,1),e.modified()),i.componentData[c].scalarOpacity},e.setComponentWeight=function(c,l){if(c<0||c>=qn)return fr("Invalid index"),!1;var y=Math.min(1,Math.max(0,l));return i.componentData[c].componentWeight!==y&&(i.componentData[c].componentWeight=y,e.modified(),!0)},e.getComponentWeight=function(c){return c<0||c>=qn?(fr("Invalid index"),0):i.componentData[c].componentWeight},e.setInterpolationTypeToNearest=function(){return e.setInterpolationType(Rn.NEAREST)},e.setInterpolationTypeToLinear=function(){return e.setInterpolationType(Rn.LINEAR)},e.setInterpolationTypeToFastLinear=function(){return e.setInterpolationType(Rn.FAST_LINEAR)},e.getInterpolationTypeAsString=function(){return r.b.enumToString(Rn,i.interpolationType)},["useGradientOpacity","scalarOpacityUnitDistance","gradientOpacityMinimumValue","gradientOpacityMinimumOpacity","gradientOpacityMaximumValue","gradientOpacityMaximumOpacity","opacityMode"].forEach(function(c){var l=r.b.capitalize(c);e["set".concat(l)]=function(y,R){return i.componentData[y]["".concat(c)]!==R&&(i.componentData[y]["".concat(c)]=R,e.modified(),!0)}}),["useGradientOpacity","scalarOpacityUnitDistance","gradientOpacityMinimumValue","gradientOpacityMinimumOpacity","gradientOpacityMaximumValue","gradientOpacityMaximumOpacity","opacityMode"].forEach(function(c){var l=r.b.capitalize(c);e["get".concat(l)]=function(y){return i.componentData[y]["".concat(c)]}})}(o,t)}var mr=function(o){for(var t=1;t<arguments.length;t++){var v=arguments[t]!=null?arguments[t]:{};t%2?ln(Object(v),!0).forEach(function(n){tn(o,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(v)):ln(Object(v)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(v,n))})}return o}({newInstance:r.b.newInstance(Jn,"vtkVolumeProperty"),extend:Jn},Gt.c),ar=r.b.vtkDebugMacro,hr={mapper:null,property:null,bounds:[1,-1,1,-1,1,-1]};function Vr(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,hr,v),Ot.a.extend(o,t,v),t.boundsMTime={},r.b.obj(t.boundsMTime),r.b.set(o,t,["property"]),r.b.setGet(o,t,["mapper"]),r.b.getArray(o,t,["bounds"],6),function(n,e){e.classHierarchy.push("vtkVolume"),n.getVolumes=function(){return n},n.makeProperty=mr.newInstance,n.getProperty=function(){return e.property===null&&(e.property=n.makeProperty()),e.property},n.getBounds=function(){if(e.mapper===null)return e.bounds;var i=e.mapper.getBounds();if(!i||i.length!==6)return i;if(i[0]>i[1])return e.mapperBounds=i.concat(),e.bounds=[1,-1,1,-1,1,-1],e.boundsMTime.modified(),i;if(!e.mapperBounds||!function(y){return y[0].map(function(R,_){return y.map(function($){return $[_]})})}([i,e.mapperBounds]).reduce(function(y,R){return y&&R[0]===R[1]},!0)||n.getMTime()>e.boundsMTime.getMTime()){ar("Recomputing bounds..."),e.mapperBounds=i.map(function(y){return y});var c=[Be.e.fromValues(i[1],i[3],i[5]),Be.e.fromValues(i[1],i[2],i[5]),Be.e.fromValues(i[0],i[2],i[5]),Be.e.fromValues(i[0],i[3],i[5]),Be.e.fromValues(i[1],i[3],i[4]),Be.e.fromValues(i[1],i[2],i[4]),Be.e.fromValues(i[0],i[2],i[4]),Be.e.fromValues(i[0],i[3],i[4])];n.computeMatrix();var l=Be.c.create();Be.c.transpose(l,e.matrix),c.forEach(function(y){return Be.e.transformMat4(y,y,l)}),e.bounds[0]=e.bounds[2]=e.bounds[4]=Number.MAX_VALUE,e.bounds[1]=e.bounds[3]=e.bounds[5]=-Number.MAX_VALUE,e.bounds=e.bounds.map(function(y,R){return R%2==0?c.reduce(function(_,$){return _>$[R/2]?$[R/2]:_},y):c.reduce(function(_,$){return _<$[(R-1)/2]?$[(R-1)/2]:_},y)}),e.boundsMTime.modified()}return e.bounds},n.getMTime=function(){var i=e.mtime;if(e.property!==null){var c=e.property.getMTime();i=c>i?c:i}return i},n.getRedrawMTime=function(){var i=e.mtime;if(e.mapper!==null){var c=e.mapper.getMTime();i=c>i?c:i,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),i=(c=e.mapper.getInput().getMTime())>i?c:i)}return i}}(o,t)}var Zr={newInstance:r.b.newInstance(Vr,"vtkVolume"),extend:Vr},Jr={COMPOSITE_BLEND:0,MAXIMUM_INTENSITY_BLEND:1,MINIMUM_INTENSITY_BLEND:2,AVERAGE_INTENSITY_BLEND:3},br=Jr,Qr={bounds:[1,-1,1,-1,1,-1],sampleDistance:1,imageSampleDistance:1,maximumSamplesPerRay:1e3,autoAdjustSampleDistances:!0,blendMode:br.COMPOSITE_BLEND,averageIPScalarRange:[-1e6,1e6]};function Nr(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Qr,v),r.b.obj(o,t),r.b.algo(o,t,1,0),r.b.setGet(o,t,["sampleDistance","imageSampleDistance","maximumSamplesPerRay","autoAdjustSampleDistances","blendMode"]),r.b.setGetArray(o,t,["averageIPScalarRange"],2),r.b.event(o,t,"lightingActivated"),function(n,e){e.classHierarchy.push("vtkVolumeMapper"),n.getBounds=function(){var i=n.getInputData();return i?(e.static||n.update(),e.bounds=i.getBounds()):e.bounds=dt.h(),e.bounds},n.update=function(){n.getInputData()},n.setBlendModeToComposite=function(){n.setBlendMode(br.COMPOSITE_BLEND)},n.setBlendModeToMaximumIntensity=function(){n.setBlendMode(br.MAXIMUM_INTENSITY_BLEND)},n.setBlendModeToMinimumIntensity=function(){n.setBlendMode(br.MINIMUM_INTENSITY_BLEND)},n.setBlendModeToAverageIntensity=function(){n.setBlendMode(br.AVERAGE_INTENSITY_BLEND)},n.getBlendModeAsString=function(){return r.b.enumToString(br,e.blendMode)}}(o,t)}var $r={newInstance:r.b.newInstance(Nr,"vtkVolumeMapper"),extend:Nr};function Yr(o,t){return function(v){if(Array.isArray(v))return v}(o)||function(v,n){var e=v==null?null:typeof Symbol!="undefined"&&v[Symbol.iterator]||v["@@iterator"];if(e!=null){var i,c,l=[],y=!0,R=!1;try{for(e=e.call(v);!(y=(i=e.next()).done)&&(l.push(i.value),!n||l.length!==n);y=!0);}catch(_){R=!0,c=_}finally{try{y||e.return==null||e.return()}finally{if(R)throw c}}return l}}(o,t)||Ln(o,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ra(o){return function(t){if(Array.isArray(t))return Wr(t)}(o)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(o)||Ln(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ln(o,t){if(o){if(typeof o=="string")return Wr(o,t);var v=Object.prototype.toString.call(o).slice(8,-1);return v==="Object"&&o.constructor&&(v=o.constructor.name),v==="Map"||v==="Set"?Array.from(o):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?Wr(o,t):void 0}}function Wr(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}function Pr(o,t){return o+t}function pr(){for(var o=arguments.length,t=new Array(o),v=0;v<o;v++)t[v]=arguments[v];return t.reduce(Pr,0)/t.length}function kr(o,t,v){v.mapper;var n=v.property;n.setInterpolationTypeToLinear();for(var e=t.getNumberOfComponents(),i=W.a.getDiagonalLength(o.getBounds())/Math.max.apply(Math,ra(o.getDimensions())),c=0;c<e;c++){n.setScalarOpacityUnitDistance(c,i);var l=t.getRange(c);n.setGradientOpacityMinimumValue(c,0),n.setGradientOpacityMaximumValue(c,.05*(l[1]-l[0])),n.setShade(!0),n.setUseGradientOpacity(c,!0),n.setGradientOpacityMinimumOpacity(c,0),n.setGradientOpacityMaximumOpacity(c,1)}n.setAmbient(.2),n.setDiffuse(.7),n.setSpecular(.3),n.setSpecularPower(8)}function Kr(o,t){t.classHierarchy.push("vtkVolumeRepresentationProxy"),t.mapper=$r.newInstance(),t.volume=Zr.newInstance(),t.property=t.volume.getProperty(),t.cropFilter=On.newInstance(),t.mapper.setInputConnection(t.cropFilter.getOutputPort()),t.sourceDependencies.push(t.cropFilter),t.mapperX=yt.newInstance({slicingMode:yt.SlicingMode.X}),t.actorX=pn.newInstance({visibility:!1}),t.propertySlices=t.actorX.getProperty(),t.mapperY=yt.newInstance({slicingMode:yt.SlicingMode.Y}),t.actorY=pn.newInstance({visibility:!1,property:t.propertySlices}),t.mapperZ=yt.newInstance({slicingMode:yt.SlicingMode.Z}),t.actorZ=pn.newInstance({visibility:!1,property:t.propertySlices}),t.mapperX.setInputConnection(t.cropFilter.getOutputPort()),t.mapperY.setInputConnection(t.cropFilter.getOutputPort()),t.mapperZ.setInputConnection(t.cropFilter.getOutputPort()),t.volume.setMapper(t.mapper),t.volumes.push(t.volume),t.actorX.setMapper(t.mapperX),t.actors.push(t.actorX),t.actorY.setMapper(t.mapperY),t.actors.push(t.actorY),t.actorZ.setMapper(t.mapperZ),t.actors.push(t.actorZ),t.sourceDependencies.push({setInputData:function(n){var e=Yr(o.getColorBy(),2),i=e[0],c=e[1];o.rescaleTransferFunctionToDataRange(i,c);var l=o.getLookupTableProxy(i),y=o.getPiecewiseFunctionProxy(i);t.property.setRGBTransferFunction(0,l.getLookupTable()),t.property.setScalarOpacity(0,y.getPiecewiseFunction()),kr(n,o.getDataArray(),t),(t.sampleDistance<0||t.sampleDistance>1)&&o.setSampleDistance(),(t.edgeGradient<0||t.edgeGradient>1)&&o.setEdgeGradient();var R=function(_,$,re,he){var Ee=$.getRange(),Se=_.getSpacing(),ee=_.getBounds(),we=re.mapperX.getClosestIJKAxis().ijkMode,Fe=re.mapperY.getClosestIJKAxis().ijkMode,Xe=re.mapperZ.getClosestIJKAxis().ijkMode,qe={xSlice:{domain:{min:ee[0],max:ee[1],step:Se[we]}},ySlice:{domain:{min:ee[2],max:ee[3],step:Se[Fe]}},zSlice:{domain:{min:ee[4],max:ee[5],step:Se[Xe]}},windowWidth:{domain:{min:0,max:Ee[1]-Ee[0],step:"any"}},windowLevel:{domain:{min:Ee[0],max:Ee[1],step:"any"}}};return he("xSlice",qe.xSlice),he("ySlice",qe.ySlice),he("zSlice",qe.zSlice),he("windowWidth",qe.windowWidth),he("windowLevel",qe.windowLevel),{xSlice:pr(qe.xSlice.domain.min,qe.xSlice.domain.max),ySlice:pr(qe.ySlice.domain.min,qe.ySlice.domain.max),zSlice:pr(qe.zSlice.domain.min,qe.zSlice.domain.max),windowWidth:qe.windowWidth.domain.max,windowLevel:Math.floor(pr(qe.windowLevel.domain.min,qe.windowLevel.domain.max))}}(n,o.getDataArray(),t,o.updateProxyProperty);o.set(R),n.getDimensions().reduce(function(_,$){return _+($>1?1:0)},0)===2&&o.setIs2DVolume(!0)}}),o.setIs2DVolume=function(n){t.is2DVolume=n,n&&(o.getVisibility()&&o.setSliceVisibility(!0),t.volume.setVisibility(!1))},o.isVisible=function(){return t.volume.getVisibility()},o.setVisibility=function(n){n?t.is2DVolume?o.setSliceVisibility(!0):t.volume.setVisibility(!0):(t.volume.setVisibility(!1),o.setSliceVisibility(!1))},o.getVisibility=function(){return t.volume.getVisibility()||o.getSliceVisibility()},o.isVisible=o.getVisibility,o.setSliceVisibility=function(n){if(n&&t.is2DVolume){var e=o.getInputDataSet().getDimensions().indexOf(1);t.actors[e]&&t.actors[e].setVisibility(!0)}else t.actors.forEach(function(i){return i.setVisibility(n)})},o.getSliceVisibility=function(){return t.actorX.getVisibility()||t.actorY.getVisibility()||t.actorZ.getVisibility()},o.setSampleDistance=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:.4;if(t.sampleDistance!==n){t.sampleDistance=n;var e=o.getInputDataSet(),i=.7*Math.sqrt(e.getSpacing().map(function(c){return c*c}).reduce(function(c,l){return c+l},0));t.mapper.setSampleDistance(i*Math.pow(2,3*n-1.5)),o.modified()}},o.setEdgeGradient=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:.2;if(t.edgeGradient!==n){t.edgeGradient=n;var e=o.getDataArray(),i=e.getNumberOfComponents();if(n===0)for(var c=0;c<i;c++)t.volume.getProperty().setUseGradientOpacity(c,!1);else for(var l=0;l<i;l++){var y=e.getRange(l);t.volume.getProperty().setUseGradientOpacity(l,!0);var R=Math.max(0,n-.3)/.7;R>0?t.volume.getProperty().setGradientOpacityMinimumValue(l,Math.exp(Math.log(.2*(y[1]-y[0]))*R*R)):t.volume.getProperty().setGradientOpacityMinimumValue(l,0),t.volume.getProperty().setGradientOpacityMaximumValue(l,Math.exp(Math.log(1*(y[1]-y[0]))*n*n))}o.modified()}};var v=o.setColorBy;o.setColorBy=function(n,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;v(n,e,i);var c=o.getLookupTableProxy(n),l=o.getPiecewiseFunctionProxy(n);t.property.setRGBTransferFunction(0,c.getLookupTable()),t.property.setScalarOpacity(0,l.getPiecewiseFunction())}}var Lr={sampleDistance:-1,edgeGradient:-1,disableSolidColor:!0,is2DVolume:!1};function vr(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Lr,v),Ze.extend(o,t,v),r.b.get(o,t,["sampleDistance","edgeGradient","cropFilter","is2DVolume"]),Kr(o,t),r.b.proxyPropertyMapping(o,t,{xSlice:{modelKey:"mapperX",property:"slice"},ySlice:{modelKey:"mapperY",property:"slice"},zSlice:{modelKey:"mapperZ",property:"slice"},volumeVisibility:{modelKey:"volume",property:"visibility"},xSliceVisibility:{modelKey:"actorX",property:"visibility"},ySliceVisibility:{modelKey:"actorY",property:"visibility"},zSliceVisibility:{modelKey:"actorZ",property:"visibility"},windowWidth:{modelKey:"propertySlices",property:"colorWindow"},windowLevel:{modelKey:"propertySlices",property:"colorLevel"},useShadow:{modelKey:"property",property:"shade"},croppingPlanes:{modelKey:"cropFilter",property:"croppingPlanes"}})}var Dr={newInstance:r.b.newInstance(vr,"vtkVolumeRepresentationProxy"),extend:vr,updateConfiguration:kr};function Ca(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function Ua(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}function Fr(o,t){return o+t}function aa(){for(var o=arguments.length,t=new Array(o),v=0;v<o;v++)t[v]=arguments[v];return t.reduce(Fr,0)/t.length}function Fn(o,t,v,n){var e,i,c,l,y=t.getRange(),R=o.getSpacing(),_=o.getBounds(),$=o.getExtent(),re=v.mapper.getSlicingMode(),he="IJKXYZ"[re];switch(re){case yt.SlicingMode.I:case yt.SlicingMode.J:case yt.SlicingMode.K:e=$[2*(l="IJK".indexOf(he))],i=$[2*l+1],c=1;break;case yt.SlicingMode.X:case yt.SlicingMode.Y:case yt.SlicingMode.Z:e=_[2*(l="XYZ".indexOf(he))],i=_[2*l+1],c=R[v.mapper.getClosestIJKAxis().ijkMode]}var Ee={slice:{domain:{min:e,max:i,step:c}},windowWidth:{domain:{min:0,max:y[1]-y[0],step:"any"}},windowLevel:{domain:{min:y[0],max:y[1],step:"any"}}};return n("slice",Ee.slice),n("windowWidth",Ee.windowWidth),n("windowLevel",Ee.windowLevel),{slice:aa(Ee.slice.domain.min,Ee.slice.domain.max),windowWidth:Ee.windowWidth.domain.max,windowLevel:Math.floor(aa(Ee.windowLevel.domain.min,Ee.windowLevel.domain.max))}}function Ra(o,t){function v(e){t.mapper.setSlicingMode(yt.SlicingMode[e]);var i="".concat(e.toLowerCase(),"Slice");if(i in t&&t[i]!==void 0&&t.mapper.setSlice(t[i]),t.input){var c=Fn(o.getInputDataSet(),o.getDataArray(),t,o.updateProxyProperty);o.set(c)}o.modified()}t.classHierarchy.push("vtkSliceRepresentationProxy"),t.mapper=yt.newInstance(),t.actor=pn.newInstance(),t.property=t.actor.getProperty(),t.actor.setMapper(t.mapper),t.actors.push(t.actor),t.sourceDependencies.push(t.mapper),t.sourceDependencies.push({setInputData:function(e){var i=Fn(e,o.getDataArray(),t,o.updateProxyProperty);o.set(i);var c=e.getBounds(),l=e.getExtent();switch(t.mapper.getSlicingMode()){case yt.SlicingMode.I:o.setSlice(Math.floor(aa(l[0],l[1])));break;case yt.SlicingMode.J:o.setSlice(Math.floor(aa(l[2],l[3])));break;case yt.SlicingMode.K:o.setSlice(Math.floor(aa(l[4],l[5])));break;case yt.SlicingMode.X:o.setSlice(aa(c[0],c[1]));break;case yt.SlicingMode.Y:o.setSlice(aa(c[2],c[3]));break;case yt.SlicingMode.Z:o.setSlice(aa(c[4],c[5]))}}}),o.setSlicingMode=function(e){return!!e&&t.slicingMode!==e&&(t.slicingMode=e,v(e),!0)},o.getSliceIndex=function(){return"XYZ".indexOf(t.slicingMode)!==-1?t.mapper.getSliceAtPosition(t.mapper.getSlice()):t.mapper.getSlice()},o.getAnnotations=function(){var e={},i=o.getSliceIndex(),c=t.mapper.getBoundsForSlice(),l=t.mapper.getSlicingModeNormal(),y=t.mapper.getClosestIJKAxis().ijkMode,R=[.5*(c[0]+c[1]),.5*(c[2]+c[3]),.5*(c[4]+c[5])],_=0;c[1]-c[0]<Number.EPSILON&&(_=c[0]),c[3]-c[2]<Number.EPSILON&&(_=c[2]),c[5]-c[4]<Number.EPSILON&&(_=c[4]);var $=t.mapper.getInputData();if($){e.sliceSpacing=$.getSpacing()[y],e.dimensions=$.getDimensions(),e.sliceCount=$.getDimensions()[y];for(var re=[],he=0;he<3;he++){var Ee=[0,0,0,0,0,0];Ee[2*he+1]=1;var Se=$.extentToBounds(Ee);Se[1]-Se[0]>Number.EPSILON&&(re[0]="IJK"[he]),Se[3]-Se[2]>Number.EPSILON&&(re[1]="IJK"[he]),Se[5]-Se[4]>Number.EPSILON&&(re[2]="IJK"[he])}e.ijkOrientation=re.join("")}return function(ee){for(var we=1;we<arguments.length;we++){var Fe=arguments[we]!=null?arguments[we]:{};we%2?Ca(Object(Fe),!0).forEach(function(Xe){Ua(ee,Xe,Fe[Xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(Fe)):Ca(Object(Fe)).forEach(function(Xe){Object.defineProperty(ee,Xe,Object.getOwnPropertyDescriptor(Fe,Xe))})}return ee}({ijkMode:y,sliceBounds:c,sliceIndex:i,sliceNormal:l,sliceOrigin:R,slicePosition:_},e)};var n=o.setColorBy;o.setColorBy=function(e,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(e===null)t.property.setRGBTransferFunction(null),t.property.setPiecewiseFunction(null);else{n(e,i,c);var l=o.getLookupTableProxy(e),y=o.getPiecewiseFunctionProxy(e);t.property.setRGBTransferFunction(l.getLookupTable()),t.property.setPiecewiseFunction(y.getPiecewiseFunction())}},v(t.slicingMode||"X")}var ea={};function ya(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,ea,v),Ze.extend(o,t,v),r.b.get(o,t,["slicingMode"]),Ra(o,t),r.b.proxyPropertyMapping(o,t,{visibility:{modelKey:"actor",property:"visibility"},windowWidth:{modelKey:"property",property:"colorWindow"},windowLevel:{modelKey:"property",property:"colorLevel"},interpolationType:{modelKey:"property",property:"interpolationType"},slice:{modelKey:"mapper",property:"slice"}})}var Va={newInstance:r.b.newInstance(ya,"vtkSliceRepresentationProxy"),extend:ya},ta=a(20),xa=a(56),ba={OrientationModes:{DIRECTION:0,ROTATION:1,MATRIX:2},ScaleModes:{SCALE_BY_CONSTANT:0,SCALE_BY_MAGNITUDE:1,SCALE_BY_COMPONENTS:2}};function pa(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function $a(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}function Na(o){return function(t){if(Array.isArray(t))return eo(t)}(o)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(o)||function(t,v){if(!!t){if(typeof t=="string")return eo(t,v);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eo(t,v)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function eo(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}var Sa=ba.OrientationModes,ga=ba.ScaleModes,po=r.b.vtkErrorMacro,Qa={orient:!0,orientationMode:Sa.DIRECTION,orientationArray:null,scaling:!0,scaleFactor:1,scaleMode:ga.SCALE_BY_MAGNITUDE,scaleArray:null,matrixArray:null,normalArray:null,colorArray:null};function ja(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Qa,v),st.a.extend(o,t,v),r.b.algo(o,t,2,0),t.buildTime={},r.b.obj(t.buildTime,{mtime:0}),t.boundsTime={},r.b.obj(t.boundsTime,{mtime:0}),r.b.setGet(o,t,["orient","orientationMode","orientationArray","scaleArray","scaleFactor","scaleMode","scaling"]),r.b.get(o,t,["colorArray","matrixArray","normalArray","buildTime"]),function(n,e){e.classHierarchy.push("vtkGlyph3DMapper"),n.getOrientationModeAsString=function(){return r.b.enumToString(Sa,e.orientationMode)},n.setOrientationModeToDirection=function(){return n.setOrientationMode(Sa.DIRECTION)},n.setOrientationModeToRotation=function(){return n.setOrientationMode(Sa.ROTATION)},n.setOrientationModeToMatrix=function(){return n.setOrientationMode(Sa.MATRIX)},n.getOrientationArrayData=function(){var i=n.getInputData(0);return i&&i.getPointData()?e.orientationArray?i.getPointData().getArray(e.orientationArray):i.getPointData().getVectors():null},n.getScaleModeAsString=function(){return r.b.enumToString(ga,e.scaleMode)},n.setScaleModeToScaleByMagnitude=function(){return n.setScaleMode(ga.SCALE_BY_MAGNITUDE)},n.setScaleModeToScaleByComponents=function(){return n.setScaleMode(ga.SCALE_BY_COMPONENTS)},n.setScaleModeToScaleByConstant=function(){return n.setScaleMode(ga.SCALE_BY_CONSTANT)},n.getScaleArrayData=function(){var i=n.getInputData(0);return i&&i.getPointData()?e.scaleArray?i.getPointData().getArray(e.scaleArray):i.getPointData().getScalars():null},n.getBounds=function(){var i=n.getInputData(0),c=n.getInputData(1);return i&&c?(n.buildArrays(),e.bounds):dt.h()},n.buildArrays=function(){var i=n.getInputData(0),c=n.getInputData(1);if(e.buildTime.getMTime()<c.getMTime()||e.buildTime.getMTime()<i.getMTime()||e.buildTime.getMTime()<n.getMTime()){var l=i.getPoints().getData(),y=n.getScaleArrayData(),R=null,_=0;y&&(R=y.getData(),_=y.getNumberOfComponents()),e.scaling&&y&&e.scaleMode===ga.SCALE_BY_COMPONENTS&&y.getNumberOfComponents()!==3&&(po("Cannot scale by components since scale array does not have 3 components."),y=null);var $=c.getBounds(),re=[];W.a.getCorners($,re),e.bounds[0]=W.a.INIT_BOUNDS[0],e.bounds[1]=W.a.INIT_BOUNDS[1],e.bounds[2]=W.a.INIT_BOUNDS[2],e.bounds[3]=W.a.INIT_BOUNDS[3],e.bounds[4]=W.a.INIT_BOUNDS[4],e.bounds[5]=W.a.INIT_BOUNDS[5];var he=Be.e.create(),Ee=n.getOrientationArrayData(),Se=Be.c.create(),ee=[],we=[],Fe=l.length/3;e.matrixArray=new Float32Array(16*Fe);var Xe=e.matrixArray.buffer;e.normalArray=new Float32Array(9*Fe);for(var qe=e.normalArray.buffer,tt=[],Ye=0;Ye<Fe;++Ye){var gt=new Float32Array(Xe,64*Ye,16);if(ee[0]=l[3*Ye],ee[1]=l[3*Ye+1],ee[2]=l[3*Ye+2],Be.c.translate(gt,Se,ee),Ee){var At=[];switch(Ee.getTuple(Ye,At),e.orientationMode){case Sa.MATRIX:var Vt=[].concat(Na(At.slice(0,3)),[0],Na(At.slice(3,6)),[0],Na(At.slice(6,9)),[0,0,0,0,1]);Be.c.multiply(gt,gt,Vt);break;case Sa.ROTATION:Be.c.rotateZ(gt,gt,At[2]),Be.c.rotateX(gt,gt,At[0]),Be.c.rotateY(gt,gt,At[1]);break;case Sa.DIRECTION:if(At[1]===0&&At[2]===0)At[0]<0&&Be.c.rotateY(gt,gt,3.1415926);else{var Jt=dt.v(At),vn=[];vn[0]=(At[0]+Jt)/2,vn[1]=At[1]/2,vn[2]=At[2]/2,Be.c.rotate(gt,gt,3.1415926,vn)}}}if(e.scaling){if(we[0]=e.scaleFactor,we[1]=e.scaleFactor,we[2]=e.scaleFactor,y)switch(e.scaleMode){case ga.SCALE_BY_MAGNITUDE:for(var Zt=0;Zt<_;++Zt)tt[Zt]=R[Ye*_+Zt];we[0]*=dt.v(tt,_),we[1]=we[0],we[2]=we[0];break;case ga.SCALE_BY_COMPONENTS:for(var on=0;on<_;++on)tt[on]=R[Ye*_+on];we[0]*=tt[0],we[1]*=tt[1],we[2]*=tt[2];break;case ga.SCALE_BY_CONSTANT:}we[0]===0&&(we[0]=1e-10),we[1]===0&&(we[1]=1e-10),we[2]===0&&(we[2]=1e-10),Be.c.scale(gt,gt,we)}for(var Tn=0;Tn<8;++Tn)Be.e.transformMat4(he,re[Tn],gt),he[0]<e.bounds[0]&&(e.bounds[0]=he[0]),he[1]<e.bounds[2]&&(e.bounds[2]=he[1]),he[2]<e.bounds[4]&&(e.bounds[4]=he[2]),he[0]>e.bounds[1]&&(e.bounds[1]=he[0]),he[1]>e.bounds[3]&&(e.bounds[3]=he[1]),he[2]>e.bounds[5]&&(e.bounds[5]=he[2]);var En=new Float32Array(qe,36*Ye,9);Be.b.fromMat4(En,gt),Be.b.invert(En,En),Be.b.transpose(En,En)}var jn=n.getAbstractScalars(i,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName).scalars;e.useLookupTableScalarRange||n.getLookupTable().setRange(e.scalarRange[0],e.scalarRange[1]),e.colorArray=null;var Nn=n.getLookupTable();Nn&&jn&&(Nn.build(),e.colorArray=Nn.mapScalars(jn,e.colorMode,0)),e.buildTime.modified()}},n.getPrimitiveCount=function(){var i=n.getInputData(1),c=n.getInputData().getPoints().getNumberOfValues()/3;return{points:c*i.getPoints().getNumberOfValues()/3,verts:c*(i.getVerts().getNumberOfValues()-i.getVerts().getNumberOfCells()),lines:c*(i.getLines().getNumberOfValues()-2*i.getLines().getNumberOfCells()),triangles:c*(i.getPolys().getNumberOfValues()-3*i.getLines().getNumberOfCells())}}}(o,t)}var Ya=function(o){for(var t=1;t<arguments.length;t++){var v=arguments[t]!=null?arguments[t]:{};t%2?pa(Object(v),!0).forEach(function(n){$a(o,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(v)):pa(Object(v)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(v,n))})}return o}({newInstance:r.b.newInstance(ja,"vtkGlyph3DMapper"),extend:ja},ba),yo={},Ga={},ao={representation:"Points",radiusFactor:.1,visibility:!0,opacity:1,color:[1,1,1],interpolateScalarsBeforeMapping:!0,pointSize:.3,useShadow:!0,useBounds:!0};function se(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,ao,v),Ze.extend(o,t),function(n,e){e.classHierarchy.push("vtkPointSetRepresentationProxy"),e.mapper=st.a.newInstance({interpolateScalarsBeforeMapping:!0,useLookupTableScalarRange:!0,scalarVisibility:!1}),e.actor=nt.a.newInstance(),e.property=e.actor.getProperty(),e.glyphMapper=Ya.newInstance({interpolateScalarsBeforeMapping:!0,useLookupTableScalarRange:!0,scalarVisibility:!1}),e.sphereSource=xa.a.newInstance(),e.glyphMapper.setInputConnection(e.sphereSource.getOutputPort(),1),e.glyphMapper.setScaleModeToScaleByConstant(),e.sourceDependencies.push(e.mapper),e.sourceDependencies.push({setInputData:function(c){e.glyphMapper.setInputData(c,0)}}),e.actor.setMapper(e.mapper),e.actors.push(e.actor),e.glyphActor=nt.a.newInstance(),e.glyphActor.setMapper(e.glyphMapper),e.actors.push(e.glyphActor),e.glyphProperty=e.glyphActor.getProperty(),e.property.setRepresentationToPoints(),e.glyphActor.setVisibility(!1),n.setRadiusFactor=function(c){e.radiusFactor=c,e.sphereSource.setRadius(e.pointSize*c)},n.setVisibility=function(c){if(c)switch(e.representation){case"Points":e.actor.setVisibility(c);break;case"Spheres":e.glyphActor.setVisibility(c);break;default:throw Error("Unexpected point set representation")}else e.actor.setVisibility(c),e.glyphActor.setVisibility(c);e.visibility=c},n.setRepresentation=function(c){if(e.visibility)switch(c){case"Points":e.actor.setVisibility(!0),e.glyphActor.setVisibility(!1);break;case"Spheres":e.actor.setVisibility(!1),e.glyphActor.setVisibility(!0);break;default:throw Error("Unexpected point set representation")}e.representation=c},n.setOpacity=function(c){e.property.setOpacity(c),e.glyphProperty.setOpacity(c),e.opacity=c},n.setColor=function(c){e.property.setDiffuseColor(c),e.glyphProperty.setDiffuseColor(c),e.color=c},n.setInterpolateScalarsBeforeMapping=function(c){e.mapper.setInterpolateScalarsBeforeMapping(c),e.glyphMapper.setInterpolateScalarsBeforeMapping(c),e.interpolateScalarsBeforeMapping=c},n.setPointSize=function(c){e.property.setPointSize(c),e.sphereSource.setRadius(c*e.radiusFactor),e.pointSize=c},n.setUseShadow=function(c){e.property.setLighting(c),e.glyphProperty.setLighting(c),e.useShadow=c},n.setUseBounds=function(c){e.actor.setUseBounds(c),e.glyphActor.setUseBounds(c),e.useBounds=c};var i=n.setColorBy;n.setColorBy=function(c,l){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;i(c,l,y);var R=st.a.ColorMode.DEFAULT,_=st.a.ScalarMode.DEFAULT,$=c,re=!!n.getDataArray(c,l),he=c?n.getLookupTableProxy(c).getLookupTable():null;re&&(R=st.a.ColorMode.MAP_SCALARS,_=l==="pointData"?st.a.ScalarMode.USE_POINT_FIELD_DATA:st.a.ScalarMode.USE_CELL_FIELD_DATA,e.glyphMapper.setLookupTable(he)),e.glyphMapper.set({colorByArrayName:$,colorMode:R,scalarMode:_,scalarVisibility:re},!0)}}(o,t),r.b.get(o,t,["radiusFactor","representation","visibility","opacity","color","interpolateScalarsBeforeMapping","pointSize","useShadow","useBounds"]),r.b.proxyPropertyState(o,t,yo,Ga),r.b.proxyPropertyMapping(o,t,{})}var ue={newInstance:r.b.newInstance(se,"vtkPointSetRepresentationProxy"),extend:se},De={repeat:!1,interpolate:!1,edgeClamp:!1,image:null,imageLoaded:!1};function $e(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,De,v),r.b.obj(o,t),r.b.algo(o,t,6,0),r.b.get(o,t,["imageLoaded"]),r.b.setGet(o,t,["repeat","edgeClamp","interpolate","image"]),function(n,e){e.classHierarchy.push("vtkTexture"),n.imageLoaded=function(){e.image.removeEventListener("load",n.imageLoaded),e.imageLoaded=!0,n.modified()},n.setImage=function(i){e.image!==i&&(i!==null&&(n.setInputData(null),n.setInputConnection(null)),e.image=i,e.imageLoaded=!1,i.complete?n.imageLoaded():i.addEventListener("load",n.imageLoaded),n.modified())}}(o,t)}var et={newInstance:r.b.newInstance($e,"vtkTexture"),extend:$e},mt=a(17);function _t(o){return function(t){if(Array.isArray(t))return yn(t)}(o)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(o)||function(t,v){if(!!t){if(typeof t=="string")return yn(t,v);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yn(t,v)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yn(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}function _n(o,t){for(var v=0;v<t.length;v++){var n=t[v];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}var ir=function(o){return o},wr=new Float64Array(16);Be.c.identity(wr);var xr=function(){function o(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];(function(v,n){if(!(v instanceof n))throw new TypeError("Cannot call a class as a function")})(this,o),this.matrix=new Float64Array(16),Be.c.identity(this.matrix),this.tmp=new Float64Array(3),this.angleConv=t?Be.a.toRadian:ir}return function(t,v,n){v&&_n(t.prototype,v),n&&_n(t,n)}(o,[{key:"rotateFromDirections",value:function(t,v){var n=new Float64Array(3),e=new Float64Array(3),i=new Float64Array(16);Be.e.set(n,t[0],t[1],t[2]),Be.e.set(e,v[0],v[1],v[2]),Be.e.normalize(n,n),Be.e.normalize(e,e);var c=Be.e.dot(n,e);return c>=1?this:(Be.e.cross(this.tmp,n,e),Be.e.length(this.tmp)<1e-6&&(Be.e.cross(this.tmp,[1,0,0],t),Be.e.length(this.tmp)<1e-6&&Be.e.cross(this.tmp,[0,1,0],t)),Be.c.fromRotation(i,Math.acos(c),this.tmp),Be.c.multiply(this.matrix,this.matrix,i),this)}},{key:"rotate",value:function(t,v){return Be.e.set.apply(Be.e,[this.tmp].concat(_t(v))),Be.e.normalize(this.tmp,this.tmp),Be.c.rotate(this.matrix,this.matrix,this.angleConv(t),this.tmp),this}},{key:"rotateX",value:function(t){return Be.c.rotateX(this.matrix,this.matrix,this.angleConv(t)),this}},{key:"rotateY",value:function(t){return Be.c.rotateY(this.matrix,this.matrix,this.angleConv(t)),this}},{key:"rotateZ",value:function(t){return Be.c.rotateZ(this.matrix,this.matrix,this.angleConv(t)),this}},{key:"translate",value:function(t,v,n){return Be.e.set(this.tmp,t,v,n),Be.c.translate(this.matrix,this.matrix,this.tmp),this}},{key:"scale",value:function(t,v,n){return Be.e.set(this.tmp,t,v,n),Be.c.scale(this.matrix,this.matrix,this.tmp),this}},{key:"identity",value:function(){return Be.c.identity(this.matrix),this}},{key:"apply",value:function(t){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(Object(dt.c)(wr,this.matrix))return this;for(var e=n===-1?t.length:v+3*n,i=v;i<e;i+=3)Be.e.set(this.tmp,t[i],t[i+1],t[i+2]),Be.e.transformMat4(this.tmp,this.tmp,this.matrix),t[i]=this.tmp[0],t[i+1]=this.tmp[1],t[i+2]=this.tmp[2];return this}},{key:"getMatrix",value:function(){return this.matrix}},{key:"setMatrix",value:function(t){return t&&t.length===16&&Be.c.copy(this.matrix,t),this}}]),o}(),sr={buildFromDegree:function(){return new xr(!0)},buildFromRadian:function(){return new xr(!1)}};function Or(o){return function(t){if(Array.isArray(t))return Ur(t)}(o)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(o)||function(t,v){if(!!t){if(typeof t=="string")return Ur(t,v);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ur(t,v)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ur(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}var Ta={xLength:1,yLength:1,zLength:1,center:[0,0,0],rotations:[0,0,0],pointType:"Float32Array",generate3DTextureCoordinates:!1};function Xr(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Ta,v),r.b.obj(o,t),r.b.setGet(o,t,["xLength","yLength","zLength","generate3DTextureCoordinates"]),r.b.setGetArray(o,t,["center","rotations"],3),r.b.algo(o,t,0,1),function(n,e){e.classHierarchy.push("vtkCubeSource"),n.setBounds=function(){var i=[];if(Array.isArray(arguments.length<=0?void 0:arguments[0]))i=arguments.length<=0?void 0:arguments[0];else for(var c=0;c<arguments.length;c++)i.push(c<0||arguments.length<=c?void 0:arguments[c]);i.length===6&&(e.xLength=i[1]-i[0],e.yLength=i[3]-i[2],e.zLength=i[5]-i[4],e.center=[(i[0]+i[1])/2,(i[2]+i[3])/2,(i[4]+i[5])/2])},n.requestData=function(i,c){var l;if(!e.deleted){var y=mt.a.newInstance();c[0]=y;var R=new window[e.pointType](72);y.getPoints().setData(R,3);var _=new window[e.pointType](72),$=oe.a.newInstance({name:"Normals",values:_,numberOfComponents:3});y.getPointData().setNormals($);var re=2;e.generate3DTextureCoordinates===!0&&(re=3);var he=new window[e.pointType](24*re),Ee=oe.a.newInstance({name:"TextureCoordinates",values:he,numberOfComponents:re});y.getPointData().setTCoords(Ee);var Se=[0,0,0],ee=[0,0,0],we=[0,0],Fe=0;Se[0]=-e.xLength/2,ee[0]=-1,ee[1]=0,ee[2]=0;for(var Xe=0;Xe<2;Xe++){Se[1]=-e.yLength/2;for(var qe=0;qe<2;qe++){we[1]=Se[1]+.5,Se[2]=-e.zLength/2;for(var tt=0;tt<2;tt++)we[0]=(Se[2]+.5)*(1-2*Xe),R[3*Fe]=Se[0],R[3*Fe+1]=Se[1],R[3*Fe+2]=Se[2],_[3*Fe]=ee[0],_[3*Fe+1]=ee[1],_[3*Fe+2]=ee[2],re===2?(he[Fe*re]=we[0],he[Fe*re+1]=we[1]):(he[Fe*re]=2*Xe-1,he[Fe*re+1]=2*qe-1,he[Fe*re+2]=2*tt-1),Fe++,Se[2]+=e.zLength;Se[1]+=e.yLength}Se[0]+=e.xLength,ee[0]+=2}Se[1]=-e.yLength/2,ee[1]=-1,ee[0]=0,ee[2]=0;for(var Ye=0;Ye<2;Ye++){Se[0]=-e.xLength/2;for(var gt=0;gt<2;gt++){we[0]=(Se[0]+.5)*(2*Ye-1),Se[2]=-e.zLength/2;for(var At=0;At<2;At++)we[1]=-1*(Se[2]+.5),R[3*Fe]=Se[0],R[3*Fe+1]=Se[1],R[3*Fe+2]=Se[2],_[3*Fe]=ee[0],_[3*Fe+1]=ee[1],_[3*Fe+2]=ee[2],re===2?(he[Fe*re]=we[0],he[Fe*re+1]=we[1]):(he[Fe*re]=2*gt-1,he[Fe*re+1]=2*Ye-1,he[Fe*re+2]=2*At-1),Fe++,Se[2]+=e.zLength;Se[0]+=e.xLength}Se[1]+=e.yLength,ee[1]+=2}Se[2]=-e.zLength/2,ee[2]=-1,ee[0]=0,ee[1]=0;for(var Vt=0;Vt<2;Vt++){Se[1]=-e.yLength/2;for(var Jt=0;Jt<2;Jt++){we[1]=Se[1]+.5,Se[0]=-e.xLength/2;for(var vn=0;vn<2;vn++)we[0]=(Se[0]+.5)*(2*Vt-1),R[3*Fe]=Se[0],R[3*Fe+1]=Se[1],R[3*Fe+2]=Se[2],_[3*Fe]=ee[0],_[3*Fe+1]=ee[1],_[3*Fe+2]=ee[2],re===2?(he[Fe*re]=we[0],he[Fe*re+1]=we[1]):(he[Fe*re]=2*vn-1,he[Fe*re+1]=2*Jt-1,he[Fe*re+2]=2*Vt-1),Fe++,Se[0]+=e.xLength;Se[1]+=e.yLength}Se[2]+=e.zLength,ee[2]+=2}sr.buildFromDegree().rotateX(e.rotations[0]).rotateY(e.rotations[1]).rotateZ(e.rotations[2]).apply(R).apply(_),(l=sr.buildFromRadian()).translate.apply(l,Or(e.center)).apply(R);var Zt=new window[e.pointType](30);y.getPolys().setData(Zt,1);var on=0;Zt[on++]=4,Zt[on++]=0,Zt[on++]=1,Zt[on++]=3,Zt[on++]=2,Zt[on++]=4,Zt[on++]=4,Zt[on++]=6,Zt[on++]=7,Zt[on++]=5,Zt[on++]=4,Zt[on++]=8,Zt[on++]=10,Zt[on++]=11,Zt[on++]=9,Zt[on++]=4,Zt[on++]=12,Zt[on++]=13,Zt[on++]=15,Zt[on++]=14,Zt[on++]=4,Zt[on++]=16,Zt[on++]=18,Zt[on++]=19,Zt[on++]=17,Zt[on++]=4,Zt[on++]=20,Zt[on++]=21,Zt[on++]=23,Zt[on]=22}}}(o,t)}var za={newInstance:r.b.newInstance(Xr,"vtkCubeSource"),extend:Xr};function Eo(o,t){return function(v){if(Array.isArray(v))return v}(o)||function(v,n){var e=v==null?null:typeof Symbol!="undefined"&&v[Symbol.iterator]||v["@@iterator"];if(e!=null){var i,c,l=[],y=!0,R=!1;try{for(e=e.call(v);!(y=(i=e.next()).done)&&(l.push(i.value),!n||l.length!==n);y=!0);}catch(_){R=!0,c=_}finally{try{y||e.return==null||e.return()}finally{if(R)throw c}}return l}}(o,t)||function(v,n){if(!!v){if(typeof v=="string")return oo(v,n);var e=Object.prototype.toString.call(v).slice(8,-1);if(e==="Object"&&v.constructor&&(e=v.constructor.name),e==="Map"||e==="Set")return Array.from(v);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return oo(v,n)}}(o,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function oo(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}function io(o){var t=Eo(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0,0],4),v=t[0],n=t[1],e=t[2],i=t[3],c=o.getContext("2d").getImageData(v,n,e||o.width,i||o.height),l=nn.a.newInstance({type:"vtkImageData"});l.setOrigin(0,0,0),l.setSpacing(1,1,1),l.setExtent(0,(e||o.width)-1,0,(i||o.height)-1,0,0);var y=oe.a.newInstance({numberOfComponents:4,values:new Uint8Array(c.data.buffer)});return y.setName("scalars"),l.getPointData().setScalars(y),l}var Aa={canvasToImageData:io,imageToImageData:function(o){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{flipX:!1,flipY:!1,rotate:0},v=document.createElement("canvas");v.width=o.width,v.height=o.height;var n=v.getContext("2d"),e=t.flipX,i=t.flipY,c=t.rotate;return n.translate(v.width/2,v.height/2),n.scale(e?-1:1,i?-1:1),n.rotate(c*Math.PI/180),n.drawImage(o,-o.width/2,-o.width/2),io(v)}},to={default:{defaultStyle:{fontStyle:"bold",fontFamily:"Arial",fontColor:"black",fontSizeScale:function(o){return o/2},faceColor:"white",edgeThickness:.1,edgeColor:"black",resolution:400},xMinusFaceProperty:{text:"X-",faceColor:"yellow"},xPlusFaceProperty:{text:"X+",faceColor:"yellow"},yMinusFaceProperty:{text:"Y-",faceColor:"red"},yPlusFaceProperty:{text:"Y+",faceColor:"red"},zMinusFaceProperty:{text:"Z-",faceColor:"#008000"},zPlusFaceProperty:{text:"Z+",faceColor:"#008000"}},lps:{xMinusFaceProperty:{text:"R",faceRotation:-90},xPlusFaceProperty:{text:"L",faceRotation:90},yMinusFaceProperty:{text:"A",faceRotation:0},yPlusFaceProperty:{text:"P",faceRotation:180},zMinusFaceProperty:{text:"I",faceRotation:180},zPlusFaceProperty:{text:"S",faceRotation:0}}};function ma(o,t){t.set(o)}var Xa={applyDefinitions:ma,applyPreset:function(o,t){return ma(to[o],t)},registerStylePreset:function(o,t){to[o]=t}};function so(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function Ea(o){for(var t=1;t<arguments.length;t++){var v=arguments[t]!=null?arguments[t]:{};t%2?so(Object(v),!0).forEach(function(n){bo(o,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(v)):so(Object(v)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(v,n))})}return o}function bo(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}var zo={xPlus:0,xMinus:1,yPlus:2,yMinus:3,zPlus:4,zMinus:5},ii={defaultStyle:{text:"",faceColor:"white",faceRotation:0,fontFamily:"Arial",fontColor:"black",fontStyle:"normal",fontSizeScale:function(o){return o/1.8},edgeThickness:.1,edgeColor:"black",resolution:200}};function Wo(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,ii,v),nt.a.extend(o,t,v),r.b.get(o,t,["defaultStyle","xPlusFaceProperty","xMinusFaceProperty","yPlusFaceProperty","yMinusFaceProperty","zPlusFaceProperty","zMinusFaceProperty"]),function(n,e){e.classHierarchy.push("vtkAnnotatedCubeActor"),e.xPlusFaceProperty=Ea({},e.xPlusFaceProperty),e.xMinusFaceProperty=Ea({},e.xMinusFaceProperty),e.yPlusFaceProperty=Ea({},e.yPlusFaceProperty),e.yMinusFaceProperty=Ea({},e.yMinusFaceProperty),e.zPlusFaceProperty=Ea({},e.zPlusFaceProperty),e.zMinusFaceProperty=Ea({},e.zMinusFaceProperty);var i=null,c=document.createElement("canvas"),l=st.a.newInstance(),y=et.newInstance();function R($){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;re&&Object.assign(e["".concat($,"FaceProperty")],re);var he=Ea(Ea({},e.defaultStyle),e["".concat($,"FaceProperty")]);c.width=he.resolution,c.height=he.resolution;var Ee=c.getContext("2d");Ee.fillStyle=he.faceColor,Ee.fillRect(0,0,c.width,c.height),he.edgeThickness>0&&(Ee.strokeStyle=he.edgeColor,Ee.lineWidth=he.edgeThickness*c.width,Ee.strokeRect(0,0,c.width,c.height)),Ee.save(),Ee.translate(0,c.height),Ee.scale(1,-1),Ee.translate(c.width/2,c.height/2),Ee.rotate(-Math.PI*(he.faceRotation/180));var Se=he.fontSizeScale(he.resolution);Ee.fillStyle=he.fontColor,Ee.textAlign="center",Ee.textBaseline="middle",Ee.font="".concat(he.fontStyle," ").concat(Se,'px "').concat(he.fontFamily,'"'),Ee.fillText(he.text,0,0),Ee.restore();var ee=Aa.canvasToImageData(c);y.setInputData(ee,zo[$]),n.modified()}function _(){i=za.newInstance({generate3DTextureCoordinates:!0}),l.setInputConnection(i.getOutputPort()),R("xPlus"),R("xMinus"),R("yPlus"),R("yMinus"),R("zPlus"),R("zMinus")}y.setInterpolate(!0),n.setDefaultStyle=function($){e.defaultStyle=Ea(Ea({},e.defaultStyle),$),_()},n.setXPlusFaceProperty=function($){return R("xPlus",$)},n.setXMinusFaceProperty=function($){return R("xMinus",$)},n.setYPlusFaceProperty=function($){return R("yPlus",$)},n.setYMinusFaceProperty=function($){return R("yMinus",$)},n.setZPlusFaceProperty=function($){return R("zPlus",$)},n.setZMinusFaceProperty=function($){return R("zMinus",$)},_(),l.setInputConnection(i.getOutputPort()),n.setMapper(l),n.addTexture(y)}(o,t)}var Ao={newInstance:r.b.newInstance(Wo,"vtkAnnotatedCubeActor"),extend:Wo,Presets:Xa},Ro=a(53),go=a(60),ha=a(15),Mo=r.b.vtkErrorMacro;function Wa(o,t,v,n){o.set(function(e,i){var c=0;return e.map(function(l,y){return y===c?(c+=l+1,l):l+i})}(t,v),n)}var wo={outputPointsPrecision:go.a.DEFAULT};function mo(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,wo,v),r.b.setGet(o,t,["outputPointsPrecision"]),r.b.obj(o,t),r.b.algo(o,t,1,1),function(n,e){e.classHierarchy.push("vtkAppendPolyData"),n.requestData=function(i,c){var l=n.getNumberOfInputPorts();if(l)if(l!==1){for(var y=mt.a.newInstance(),R=0,_=0,$=1,re=1,he=0,Ee=0,Se=0,ee=0,we=!0,Fe=!0,Xe=!0,qe=0;qe<l;qe++){var tt=i[qe];if(!tt)return void Mo("Invalid or missing input");var Ye=tt.getPoints().getNumberOfPoints();R+=Ye,he+=tt.getVerts().getNumberOfValues(),Ee+=tt.getLines().getNumberOfValues(),Se+=tt.getStrips().getNumberOfValues(),ee+=tt.getPolys().getNumberOfValues(),Ye&&(re&&(re=0,_=tt.getPoints().getDataType()),_=_>($=tt.getPoints().getDataType())?_:$);var gt=tt.getPointData();gt?(we=we&&gt.getNormals()!==null,Fe=Fe&&gt.getTCoords()!==null,Xe=Xe&&gt.getScalars()!==null):(we=!1,Fe=!1,Xe=!1)}e.outputPointsPrecision===go.a.SINGLE?_=ha.b.FLOAT:e.outputPointsPrecision===go.a.DOUBLE&&(_=ha.b.DOUBLE);var At=Ro.a.newInstance({dataType:_});At.setNumberOfPoints(R);var Vt=At.getData(),Jt=new Uint32Array(he),vn=new Uint32Array(Ee),Zt=new Uint32Array(Se),on=new Uint32Array(ee),Tn=null,En=null,jn=null,Nn=i[l-1];if(we){var Un=Nn.getPointData().getNormals();Tn=oe.a.newInstance({numberOfComponents:3,numberOfTuples:R,size:3*R,dataType:Un.getDataType(),name:Un.getName()})}if(Fe){var Xn=Nn.getPointData().getTCoords();En=oe.a.newInstance({numberOfComponents:2,numberOfTuples:R,size:2*R,dataType:Xn.getDataType(),name:Xn.getName()})}if(Xe){var Qn=Nn.getPointData().getScalars();jn=oe.a.newInstance({numberOfComponents:Qn.getNumberOfComponents(),numberOfTuples:R,size:R*Qn.getNumberOfComponents(),dataType:Qn.getDataType(),name:Qn.getName()})}R=0,he=0,Ee=0,Se=0,ee=0;for(var Er=0;Er<l;Er++){var it=i[Er];Vt.set(it.getPoints().getData(),3*R),Wa(Jt,it.getVerts().getData(),R,he),he+=it.getVerts().getNumberOfValues(),Wa(vn,it.getLines().getData(),R,Ee),Ee+=it.getLines().getNumberOfValues(),Wa(Zt,it.getStrips().getData(),R,Se),Se+=it.getStrips().getNumberOfValues(),Wa(on,it.getPolys().getData(),R,ee),ee+=it.getPolys().getNumberOfValues();var un=it.getPointData();if(we){var Cn=un.getNormals();Tn.getData().set(Cn.getData(),3*R)}if(Fe){var yr=un.getTCoords();En.getData().set(yr.getData(),2*R)}if(Xe){var Ar=un.getScalars();jn.getData().set(Ar.getData(),R*jn.getNumberOfComponents())}R+=it.getPoints().getNumberOfPoints()}y.setPoints(At),y.getVerts().setData(Jt),y.getLines().setData(vn),y.getStrips().setData(Zt),y.getPolys().setData(on),Tn&&y.getPointData().setNormals(Tn),En&&y.getPointData().setTCoords(En),jn&&y.getPointData().setScalars(jn),c[0]=y}else c[0]=i[0];else Mo("No input specified.")}}(o,t)}var no={newInstance:r.b.newInstance(mo,"vtkAppendPolyData"),extend:mo};function Ko(o){return function(t){if(Array.isArray(t))return xo(t)}(o)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(o)||function(t,v){if(!!t){if(typeof t=="string")return xo(t,v);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xo(t,v)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xo(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}var ko={height:1,radius:.5,resolution:6,center:[0,0,0],direction:[1,0,0],capping:!0,pointType:"Float32Array"};function Ho(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,ko,v),r.b.obj(o,t),r.b.setGet(o,t,["height","radius","resolution","capping"]),r.b.setGetArray(o,t,["center","direction"],3),r.b.algo(o,t,0,1),function(n,e){e.classHierarchy.push("vtkConeSource"),n.requestData=function(i,c){var l;if(!e.deleted){var y=c[0],R=2*Math.PI/e.resolution,_=-e.height/2,$=e.resolution+1,re=4*e.resolution+1+e.resolution,he=0,Ee=new window[e.pointType](3*$),Se=0,ee=new Uint32Array(re);Ee[0]=e.height/2,Ee[1]=0,Ee[2]=0,e.capping&&(ee[Se++]=e.resolution);for(var we=0;we<e.resolution;we++)Ee[3*++he+0]=_,Ee[3*he+1]=e.radius*Math.cos(we*R),Ee[3*he+2]=e.radius*Math.sin(we*R),e.capping&&(ee[e.resolution-Se+++1]=he);for(var Fe=0;Fe<e.resolution;Fe++)ee[Se++]=3,ee[Se++]=0,ee[Se++]=Fe+1,ee[Se++]=Fe+2>e.resolution?1:Fe+2;(l=sr.buildFromRadian()).translate.apply(l,Ko(e.center)).rotateFromDirections([1,0,0],e.direction).apply(Ee),(y=mt.a.newInstance()).getPoints().setData(Ee,3),y.getPolys().setData(ee,1),c[0]=y}}}(o,t)}var Do={newInstance:r.b.newInstance(Ho,"vtkConeSource"),extend:Ho};function So(o){return function(t){if(Array.isArray(t))return Uo(t)}(o)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(o)||function(t,v){if(!!t){if(typeof t=="string")return Uo(t,v);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uo(t,v)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Uo(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}var si={height:1,radius:1,resolution:6,center:[0,0,0],direction:[0,1,0],capping:!0,pointType:"Float32Array"};function Qo(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,si,v),r.b.obj(o,t),r.b.setGet(o,t,["height","radius","resolution","capping"]),r.b.setGetArray(o,t,["center","direction"],3),r.b.algo(o,t,0,1),function(n,e){e.classHierarchy.push("vtkCylinderSource"),n.requestData=function(i,c){var l,y;if(!e.deleted){var R=c[0],_=2*Math.PI/e.resolution,$=2*e.resolution,re=5*e.resolution;e.capping&&($=4*e.resolution,re=7*e.resolution+2);for(var he=new window[e.pointType](3*$),Ee=0,Se=new Uint32Array(re),ee=new Float32Array(3*$),we=oe.a.newInstance({numberOfComponents:3,values:ee,name:"Normals"}),Fe=new Float32Array(2*$),Xe=oe.a.newInstance({numberOfComponents:2,values:Fe,name:"TCoords"}),qe=[0,0,0],tt=[0,0,0],Ye=[0,0,0],gt=[0,0,0],At=[0,0],Vt=[0,0],Jt=0;Jt<e.resolution;Jt++){qe[0]=Math.cos(Jt*_),tt[0]=qe[0],Ye[0]=e.radius*qe[0]+e.center[0],gt[0]=Ye[0],At[0]=Math.abs(2*Jt/e.resolution-1),Vt[0]=At[0],Ye[1]=.5*e.height+e.center[1],gt[1]=-.5*e.height+e.center[1],At[1]=0,Vt[1]=1,qe[2]=-Math.sin(Jt*_),tt[2]=qe[2],Ye[2]=e.radius*qe[2]+e.center[2],gt[2]=Ye[2];for(var vn=2*Jt,Zt=0;Zt<3;Zt++)ee[3*vn+Zt]=qe[Zt],ee[3*(vn+1)+Zt]=tt[Zt],he[3*vn+Zt]=Ye[Zt],he[3*(vn+1)+Zt]=gt[Zt],Zt<2&&(Fe[2*vn+Zt]=At[Zt],Fe[2*(vn+1)+Zt]=Vt[Zt])}for(var on=0;on<e.resolution;on++){Se[Ee++]=4,Se[Ee++]=2*on,Se[Ee++]=2*on+1;var Tn=(2*on+3)%(2*e.resolution);Se[Ee++]=Tn,Se[Ee++]=Tn-1}if(e.capping){for(var En=0;En<e.resolution;En++){Ye[0]=e.radius*Math.cos(En*_),gt[0]=Ye[0],At[0]=Ye[0],Vt[0]=Ye[0],Ye[0]+=e.center[0],gt[0]+=e.center[0],qe[1]=1,tt[1]=-1,Ye[1]=.5*e.height+e.center[1],gt[1]=-.5*e.height+e.center[1],Ye[2]=-e.radius*Math.sin(En*_),gt[2]=Ye[2],At[1]=Ye[2],Vt[1]=Ye[2],Ye[2]+=e.center[2],gt[2]+=e.center[2];for(var jn=2*e.resolution+En,Nn=3*e.resolution+e.resolution-En-1,Un=0;Un<3;Un++)ee[3*jn+Un]=qe[Un],ee[3*Nn+Un]=tt[Un],he[3*jn+Un]=Ye[Un],he[3*Nn+Un]=gt[Un],Un<2&&(Fe[2*jn+Un]=At[Un],Fe[2*Nn+Un]=Vt[Un])}Se[Ee++]=e.resolution;for(var Xn=0;Xn<e.resolution;Xn++)Se[Ee++]=2*e.resolution+Xn;Se[Ee++]=e.resolution;for(var Qn=0;Qn<e.resolution;Qn++)Se[Ee++]=3*e.resolution+Qn}(l=(y=sr.buildFromRadian()).translate.apply(y,So(e.center)).rotateFromDirections([0,1,0],e.direction)).translate.apply(l,So(e.center.map(function(Er){return-1*Er}))).apply(he),(R=mt.a.newInstance()).getPoints().setData(he,3),R.getPolys().setData(Se,1),R.getPointData().setNormals(we),R.getPointData().setTCoords(Xe),c[0]=R}}}(o,t)}var Yo={newInstance:r.b.newInstance(Qo,"vtkCylinderSource"),extend:Qo},Xo={tipResolution:6,tipRadius:.1,tipLength:.35,shaftResolution:6,shaftRadius:.03,invert:!1,direction:[1,0,0],pointType:"Float32Array"};function Ka(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Xo,v),r.b.obj(o,t),r.b.setGet(o,t,["tipResolution","tipRadius","tipLength","shaftResolution","shaftRadius","invert"]),r.b.setGetArray(o,t,["direction"],3),r.b.algo(o,t,0,1),function(n,e){e.classHierarchy.push("vtkArrowSource"),n.requestData=function(i,c){if(!e.deleted){var l=Yo.newInstance({capping:!0});l.setResolution(e.shaftResolution),l.setRadius(e.shaftRadius),l.setHeight(1-e.tipLength),l.setCenter(0,.5*(1-e.tipLength),0);var y=l.getOutputData(),R=y.getPoints().getData(),_=y.getPointData().getNormals().getData();sr.buildFromDegree().rotateZ(-90).apply(R).apply(_);var $=Do.newInstance();$.setResolution(e.tipResolution),$.setHeight(e.tipLength),$.setRadius(e.tipRadius);var re=$.getOutputData(),he=re.getPoints().getData();sr.buildFromRadian().translate(1-.5*e.tipLength,0,0).apply(he);var Ee=no.newInstance();Ee.setInputData(y),Ee.addInputData(re);var Se=Ee.getOutputData(),ee=Se.getPoints().getData();sr.buildFromRadian().translate(.5*e.tipLength-.5,0,0).apply(ee),e.invert?(sr.buildFromRadian().rotateFromDirections([1,0,0],e.direction).scale(-1,-1,-1).apply(ee),c[0]=Se):(sr.buildFromRadian().rotateFromDirections([1,0,0],e.direction).scale(1,1,1).apply(ee),c[0]=Ee.getOutputData())}}}(o,t)}var ho={newInstance:r.b.newInstance(Ka,"vtkArrowSource"),extend:Ka};function Bo(o){return function(t){if(Array.isArray(t))return Je(t)}(o)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(o)||function(t,v){if(!!t){if(typeof t=="string")return Je(t,v);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Je(t,v)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Je(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}function lt(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function wt(o){for(var t=1;t<arguments.length;t++){var v=arguments[t]!=null?arguments[t]:{};t%2?lt(Object(v),!0).forEach(function(n){Pt(o,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(v)):lt(Object(v)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(v,n))})}return o}function Pt(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}function jt(o){var t,v=o.getPoints().getBounds(),n=[.5*-(v[0]+v[1]),.5*-(v[2]+v[3]),.5*-(v[4]+v[5])];(t=sr.buildFromDegree()).translate.apply(t,n).apply(o.getPoints().getData())}function Ft(o,t,v,n){for(var e=o.getPoints().getData().length,i=new Uint8Array(e),c=0;c<e;)i[c++]=t,i[c++]=v,i[c++]=n;o.getPointData().setScalars(oe.a.newInstance({name:"color",numberOfComponents:3,values:i}))}var en={config:{tipResolution:60,tipRadius:.1,tipLength:.2,shaftResolution:60,shaftRadius:.03,invert:!1},xAxisColor:[255,0,0],yAxisColor:[255,255,0],zAxisColor:[0,128,0]};function sn(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,en,v),nt.a.extend(o,t,v),r.b.setGet(o,t,["config"]),r.b.setGetArray(o,t,["xAxisColor","yAxisColor","zAxisColor"],3,255),function(n,e){e.classHierarchy.push("vtkAxesActor"),n.update=function(){var i=ho.newInstance(wt({direction:[1,0,0]},e.config)).getOutputData();jt(i),Ft.apply(void 0,[i].concat(Bo(e.xAxisColor)));var c=ho.newInstance(wt({direction:[0,1,0]},e.config)).getOutputData();jt(c),Ft.apply(void 0,[c].concat(Bo(e.yAxisColor)));var l=ho.newInstance(wt({direction:[0,0,1]},e.config)).getOutputData();jt(l),Ft.apply(void 0,[l].concat(Bo(e.zAxisColor)));var y=no.newInstance();y.setInputData(i),y.addInputData(c),y.addInputData(l);var R=st.a.newInstance();R.setInputConnection(y.getOutputPort()),n.setMapper(R)},n.update()}(o,t)}var fn={newInstance:r.b.newInstance(sn,"vtkAxesActor"),extend:sn},Bn=a(39),Dn=a.n(Bn);function s(){}var k={nw:"northWestContainer",n:"northContainer",ne:"northEastContainer",w:"westContainer",e:"eastContainer",sw:"southWestContainer",s:"southContainer",se:"southEastContainer"},fe={templates:null,metadata:null};function Re(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,fe,v),r.b.obj(o,t),r.b.get(o,t,["annotationContainer","northWestContainer","northContainer","northEastContainer","westContainer","eastContainer","southWestContainer","southContainer","southEastContainer","metadata"]),function(n,e){function i(){for(var c=Object.keys(e.templates),l=c.length;l--;){var y=e[k[c[l]]],R=e.templates[c[l]];y&&R&&(y.innerHTML=R(e.metadata))}}e.classHierarchy.push("vtkCornerAnnotation"),e.templates||(e.templates={}),e.metadata||(e.metadata={}),e.annotationContainer=document.createElement("div"),e.annotationContainer.setAttribute("class",Dn.a.container),e.annotationContainer.innerHTML=`
    <div class="`.concat(Dn.a.topRow,`">
      <div class="js-nw `).concat(Dn.a.northWest,`"></div>
      <div class="js-n `).concat(Dn.a.north,`"></div>
      <div class="js-ne `).concat(Dn.a.northEast,`"></div>
    </div>
    <div class="`).concat(Dn.a.middleRow,`">
      <div class="js-w `).concat(Dn.a.west,`"></div>
      <div class="js-e `).concat(Dn.a.east,`"></div>
    </div>
    <div class="`).concat(Dn.a.bottomRow,`">
      <div class="js-sw `).concat(Dn.a.southWest,`"></div>
      <div class="js-s `).concat(Dn.a.south,`"></div>
      <div class="js-se `).concat(Dn.a.southEast,`"></div>
    </div>`),e.northWestContainer=e.annotationContainer.querySelector(".js-nw"),e.northContainer=e.annotationContainer.querySelector(".js-n"),e.northEastContainer=e.annotationContainer.querySelector(".js-ne"),e.westContainer=e.annotationContainer.querySelector(".js-w"),e.eastContainer=e.annotationContainer.querySelector(".js-e"),e.southWestContainer=e.annotationContainer.querySelector(".js-sw"),e.southContainer=e.annotationContainer.querySelector(".js-s"),e.southEastContainer=e.annotationContainer.querySelector(".js-se"),n.setContainer=function(c){e.container&&e.container!==c&&e.container.removeChild(e.annotationContainer),e.container!==c&&(e.container=c,e.container&&(e.container.appendChild(e.annotationContainer),n.resize()),n.modified())},n.resize=s,n.updateTemplates=function(c){e.templates=Object.assign(e.templates,c),i(),n.modified()},n.updateMetadata=function(c){e.metadata=Object.assign(e.metadata,c),i(),n.modified()}}(o,t)}var Ne={newInstance:r.b.newInstance(Re,"vtkCornerAnnotation"),extend:Re,applyTemplate:function(o,t,v){return o.replace(/\${([^{]+)}/g,function(n){return function(e,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"${".concat(e,"}");return e.split(".").reduce(function(l,y){return l[y]!==void 0?l[y]:c},i)}(n.substr(2,n.length-3).trim(),t,v)})}},Qe=a(22),ot={IS_START:0,IS_NONE:0,IS_ROTATE:1,IS_PAN:2,IS_SPIN:3,IS_DOLLY:4,IS_CAMERA_POSE:11,IS_WINDOW_LEVEL:1024,IS_SLICE:1025},ut={States:ot};function xt(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function Tt(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}var Bt=ut.States,Xt={Rotate:Bt.IS_ROTATE,Pan:Bt.IS_PAN,Spin:Bt.IS_SPIN,Dolly:Bt.IS_DOLLY,CameraPose:Bt.IS_CAMERA_POSE,WindowLevel:Bt.IS_WINDOW_LEVEL,Slice:Bt.IS_SLICE},Yt={state:Bt.IS_NONE,handleObservers:1,autoAdjustCameraClippingRange:1};function $t(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Yt,v),Qe.a.extend(o,t,v),function(n,e){e.classHierarchy.push("vtkInteractorStyle"),Object.keys(Xt).forEach(function(i){r.b.event(n,e,"Start".concat(i,"Event")),n["start".concat(i)]=function(){e.state===Bt.IS_NONE&&(e.state=Xt[i],e.interactor.requestAnimation(n),n.invokeStartInteractionEvent({type:"StartInteractionEvent"}),n["invokeStart".concat(i,"Event")]({type:"Start".concat(i,"Event")}))},r.b.event(n,e,"End".concat(i,"Event")),n["end".concat(i)]=function(){e.state===Xt[i]&&(e.state=Bt.IS_NONE,e.interactor.cancelAnimation(n),n.invokeEndInteractionEvent({type:"EndInteractionEvent"}),n["invokeEnd".concat(i,"Event")]({type:"End".concat(i,"Event")}),e.interactor.render())}}),n.handleKeyPress=function(i){var c=e.interactor;switch(i.key){case"r":case"R":i.pokedRenderer.resetCamera(),c.render();break;case"w":case"W":i.pokedRenderer.getActors().forEach(function(l){var y=l.getProperty();y.setRepresentationToWireframe&&y.setRepresentationToWireframe()}),c.render();break;case"s":case"S":i.pokedRenderer.getActors().forEach(function(l){var y=l.getProperty();y.setRepresentationToSurface&&y.setRepresentationToSurface()}),c.render();break;case"v":case"V":i.pokedRenderer.getActors().forEach(function(l){var y=l.getProperty();y.setRepresentationToPoints&&y.setRepresentationToPoints()}),c.render()}}}(o,t)}var bn=function(o){for(var t=1;t<arguments.length;t++){var v=arguments[t]!=null?arguments[t]:{};t%2?xt(Object(v),!0).forEach(function(n){Tt(o,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(v)):xt(Object(v)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(v,n))})}return o}({newInstance:r.b.newInstance($t,"vtkInteractorStyle"),extend:$t},ut);function xn(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function Qt(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}var Mn=r.b.vtkDebugMacro,Sr=bn.States,Zn={type:"StartInteractionEvent"},Yn={type:"InteractionEvent"},rr={type:"EndInteractionEvent"};function cr(o,t,v,n,e,i){var c=o.getActiveCamera(),l=c.getFocalPoint(),y=(l=t.getInteractorStyle().computeWorldToDisplay(o,l[0],l[1],l[2]))[2],R=t.getInteractorStyle().computeDisplayToWorld(o,v,n,y),_=t.getInteractorStyle().computeDisplayToWorld(o,e,i,y),$=[_[0]-R[0],_[1]-R[1],_[2]-R[2]];l=c.getFocalPoint();var re=c.getPosition();c.setFocalPoint($[0]+l[0],$[1]+l[1],$[2]+l[2]),c.setPosition($[0]+re[0],$[1]+re[1],$[2]+re[2])}var va={dollyToPosition:function(o,t,v,n){var e=v.getActiveCamera();if(e.getParallelProjection()){var i=n.getView().getSize(),c=i[0]/2,l=i[1]/2,y=t.x,R=t.y;cr(v,n,c,l,y,R),e.setParallelScale(e.getParallelScale()/o),cr(v,n,y,R,c,l)}else{var _=e.getFocalPoint(),$=e.getViewPlaneNormal();_=n.getInteractorStyle().computeWorldToDisplay(v,_[0],_[1],_[2]);var re=n.getInteractorStyle().computeDisplayToWorld(v,t.x,t.y,_[2]);e.setFocalPoint(re[0],re[1],re[2]),e.dolly(o),v.resetCameraClippingRange();var he=e.getPosition();_=e.getFocalPoint();var Ee=[0,0,0],Se=$[0]*(_[0]-he[0])+$[1]*(_[1]-he[1])+$[2]*(_[2]-he[2]);Se/=Math.pow($[0],2)+Math.pow($[1],2)+Math.pow($[2],2),Ee[0]=he[0]+$[0]*Se,Ee[1]=he[1]+$[1]*Se,Ee[2]=he[2]+$[2]*Se,e.setFocalPoint(Ee[0],Ee[1],Ee[2]),v.resetCameraClippingRange()}},translateCamera:cr,dollyByFactor:function(o,t,v){if(!Number.isNaN(v)){var n=t.getActiveCamera();n.getParallelProjection()?n.setParallelScale(n.getParallelScale()/v):(n.dolly(v),t.resetCameraClippingRange()),o.getLightFollowCamera()&&t.updateLightsGeometryToFollowCamera()}}},fa={cachedMousePosition:null,currentManipulator:null,currentWheelManipulator:null,centerOfRotation:[0,0,0],rotationFactor:1};function ca(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,fa,v),bn.extend(o,t,v),r.b.setGet(o,t,["rotationFactor"]),r.b.get(o,t,["mouseManipulators","keyboardManipulators","vrManipulators","gestureManipulators"]),r.b.setGetArray(o,t,["centerOfRotation"],3),function(n,e){e.classHierarchy.push("vtkInteractorStyleManipulator"),e.mouseManipulators=[],e.keyboardManipulators=[],e.vrManipulators=[],e.gestureManipulators=[],e.currentManipulator=null,e.currentWheelManipulator=null,e.centerOfRotation=[0,0,0],e.rotationFactor=1,n.removeAllManipulators=function(){n.removeAllMouseManipulators(),n.removeAllKeyboardManipulators(),n.removeAllVRManipulators(),n.removeAllGestureManipulators()},n.removeAllMouseManipulators=function(){e.mouseManipulators=[]},n.removeAllKeyboardManipulators=function(){e.keyboardManipulators=[]},n.removeAllVRManipulators=function(){e.vrManipulators=[]},n.removeAllGestureManipulators=function(){e.gestureManipulators=[]};var i=function(l,y){var R=y.indexOf(l);return R!==-1&&(y.splice(R,1),n.modified(),!0)};n.removeMouseManipulator=function(l){return i(l,e.mouseManipulators)},n.removeKeyboardManipulator=function(l){return i(l,e.keyboardManipulators)},n.removeVRManipulator=function(l){return i(l,e.vrManipulators)},n.removeGestureManipulator=function(l){return i(l,e.gestureManipulators)};var c=function(l,y){return y.indexOf(l)===-1&&(y.push(l),n.modified(),!0)};n.addMouseManipulator=function(l){return c(l,e.mouseManipulators)},n.addKeyboardManipulator=function(l){return c(l,e.keyboardManipulators)},n.addVRManipulator=function(l){return c(l,e.vrManipulators)},n.addGestureManipulator=function(l){return c(l,e.gestureManipulators)},n.getNumberOfMouseManipulators=function(){return e.mouseManipulators.length},n.getNumberOfKeyboardManipulators=function(){return e.keyboardManipulators.length},n.getNumberOfVRManipulators=function(){return e.vrManipulators.length},n.getNumberOfGestureManipulators=function(){return e.gestureManipulators.length},n.resetCurrentManipulator=function(){e.currentManipulator=null,e.currentWheelManipulator=null},n.handleLeftButtonPress=function(l){e.previousPosition=l.position,n.onButtonDown(1,l)},n.handleMiddleButtonPress=function(l){e.previousPosition=l.position,n.onButtonDown(2,l)},n.handleRightButtonPress=function(l){e.previousPosition=l.position,n.onButtonDown(3,l)},n.handleButton3D=function(l){l&&(e.currentManipulator=n.findVRManipulator(l.device,l.input,l.pressed),e.currentManipulator?(e.currentManipulator.onButton3D(n,l.pokedRenderer,e.state,l.device,l.input,l.pressed),l.pressed?n.startCameraPose():n.endCameraPose()):Mn("No manipulator found"))},n.handleMove3D=function(l){e.currentManipulator&&e.state===Sr.IS_CAMERA_POSE&&e.currentManipulator.onMove3D(n,l.pokedRenderer,e.state,l)},n.onButtonDown=function(l,y){e.currentManipulator||(e.currentManipulator=n.findMouseManipulator(l,y.shiftKey,y.controlKey,y.altKey),e.currentManipulator?(e.currentManipulator.setCenter&&e.currentManipulator.setCenter(e.centerOfRotation),e.currentManipulator.setRotationFactor&&e.currentManipulator.setRotationFactor(e.rotationFactor),e.currentManipulator.startInteraction(),e.currentManipulator.onButtonDown(e.interactor,y.pokedRenderer,y.position),e.interactor.requestAnimation(n.onButtonDown),n.invokeStartInteractionEvent(Zn)):Mn("No manipulator found"))},n.findMouseManipulator=function(l,y,R,_){for(var $=null,re=e.mouseManipulators.length;re--;){var he=e.mouseManipulators[re];he&&he.getButton()===l&&he.getShift()===y&&he.getControl()===R&&he.getAlt()===_&&he.isDragEnabled()&&($=he)}return $},n.findVRManipulator=function(l,y){for(var R=null,_=e.vrManipulators.length;_--;){var $=e.vrManipulators[_];$&&$.getDevice()===l&&$.getInput()===y&&(R=$)}return R},n.handleLeftButtonRelease=function(){n.onButtonUp(1)},n.handleMiddleButtonRelease=function(){n.onButtonUp(2)},n.handleRightButtonRelease=function(){n.onButtonUp(3)},n.onButtonUp=function(l){e.currentManipulator&&e.currentManipulator.getButton&&e.currentManipulator.getButton()===l&&(e.currentManipulator.onButtonUp(e.interactor),e.currentManipulator.endInteraction(),e.currentManipulator=null,e.interactor.cancelAnimation(n.onButtonDown),n.invokeEndInteractionEvent(rr))},n.handleStartMouseWheel=function(l){if(!e.currentWheelManipulator){for(var y=null,R=e.mouseManipulators.length;R--;){var _=e.mouseManipulators[R];_&&_.isScrollEnabled()&&_.getShift()===l.shiftKey&&_.getControl()===l.controlKey&&_.getAlt()===l.altKey&&(y=_)}y?(e.currentWheelManipulator=y,e.currentWheelManipulator.onStartScroll(e.interactor,l.pokedRenderer,l.spinY),e.currentWheelManipulator.startInteraction(),e.interactor.requestAnimation(n.handleStartMouseWheel),n.invokeStartInteractionEvent(Zn)):Mn("No manipulator found")}},n.handleEndMouseWheel=function(){e.currentWheelManipulator&&e.currentWheelManipulator.onEndScroll&&(e.currentWheelManipulator.onEndScroll(e.interactor),e.currentWheelManipulator.endInteraction(),e.currentWheelManipulator=null,e.interactor.cancelAnimation(n.handleStartMouseWheel),n.invokeEndInteractionEvent(rr))},n.handleMouseWheel=function(l){e.currentWheelManipulator&&e.currentWheelManipulator.onScroll&&(e.currentWheelManipulator.onScroll(e.interactor,l.pokedRenderer,l.spinY,e.cachedMousePosition),n.invokeInteractionEvent(Yn))},n.handleMouseMove=function(l){e.cachedMousePosition=l.position,e.currentManipulator&&e.currentManipulator.onMouseMove&&(e.currentManipulator.onMouseMove(e.interactor,l.pokedRenderer,l.position),n.invokeInteractionEvent(Yn))},n.handleKeyPress=function(l){e.keyboardManipulators.filter(function(y){return y.onKeyPress}).forEach(function(y){y.onKeyPress(e.interactor,l.pokedRenderer,l.key),n.invokeInteractionEvent(Yn)})},n.handleKeyDown=function(l){e.keyboardManipulators.filter(function(y){return y.onKeyDown}).forEach(function(y){y.onKeyDown(e.interactor,l.pokedRenderer,l.key),n.invokeInteractionEvent(Yn)})},n.handleKeyUp=function(l){e.keyboardManipulators.filter(function(y){return y.onKeyUp}).forEach(function(y){y.onKeyUp(e.interactor,l.pokedRenderer,l.key),n.invokeInteractionEvent(Yn)})},n.handleStartPinch=function(l){n.startDolly();for(var y=e.gestureManipulators.length;y--;){var R=e.gestureManipulators[y];R&&R.isPinchEnabled()&&(R.onStartPinch(e.interactor,l.scale),R.startInteraction())}e.interactor.requestAnimation(n.handleStartPinch),n.invokeStartInteractionEvent(Zn)},n.handleEndPinch=function(){n.endDolly();for(var l=e.gestureManipulators.length;l--;){var y=e.gestureManipulators[l];y&&y.isPinchEnabled()&&(y.onEndPinch(e.interactor),y.endInteraction())}e.interactor.cancelAnimation(n.handleStartPinch),n.invokeEndInteractionEvent(rr)},n.handleStartRotate=function(l){n.startRotate();for(var y=e.gestureManipulators.length;y--;){var R=e.gestureManipulators[y];R&&R.isRotateEnabled()&&(R.onStartRotate(e.interactor,l.rotation),R.startInteraction())}e.interactor.requestAnimation(n.handleStartRotate),n.invokeStartInteractionEvent(Zn)},n.handleEndRotate=function(){n.endRotate();for(var l=e.gestureManipulators.length;l--;){var y=e.gestureManipulators[l];y&&y.isRotateEnabled()&&(y.onEndRotate(e.interactor),y.endInteraction())}e.interactor.cancelAnimation(n.handleStartRotate),n.invokeEndInteractionEvent(rr)},n.handleStartPan=function(l){n.startPan();for(var y=e.gestureManipulators.length;y--;){var R=e.gestureManipulators[y];R&&R.isPanEnabled()&&(R.onStartPan(e.interactor,l.translation),R.startInteraction())}e.interactor.requestAnimation(n.handleStartPan),n.invokeStartInteractionEvent(Zn)},n.handleEndPan=function(){n.endPan();for(var l=e.gestureManipulators.length;l--;){var y=e.gestureManipulators[l];y&&y.isPanEnabled()&&(y.onEndPan(e.interactor),y.endInteraction())}e.interactor.cancelAnimation(n.handleStartPan),n.invokeEndInteractionEvent(rr)},n.handlePinch=function(l){for(var y=e.gestureManipulators.length,R=0;y--;){var _=e.gestureManipulators[y];_&&_.isPinchEnabled()&&(_.onPinch(e.interactor,l.pokedRenderer,l.scale),R++)}R&&n.invokeInteractionEvent(Yn)},n.handlePan=function(l){for(var y=e.gestureManipulators.length,R=0;y--;){var _=e.gestureManipulators[y];_&&_.isPanEnabled()&&(_.onPan(e.interactor,l.pokedRenderer,l.translation),R++)}R&&n.invokeInteractionEvent(Yn)},n.handleRotate=function(l){for(var y=e.gestureManipulators.length,R=0;y--;){var _=e.gestureManipulators[y];_&&_.isRotateEnabled()&&(_.onRotate(e.interactor,l.pokedRenderer,l.rotation),R++)}R&&n.invokeInteractionEvent(Yn)}}(o,t)}var jr=function(o){for(var t=1;t<arguments.length;t++){var v=arguments[t]!=null?arguments[t]:{};t%2?xn(Object(v),!0).forEach(function(n){Qt(o,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(v)):xn(Object(v)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(v,n))})}return o}({newInstance:r.b.newInstance(ca,"vtkInteractorStyleManipulator"),extend:ca},va),oa={CLAMP_TO_EDGE:0,REPEAT:1,MIRRORED_REPEAT:2},$n={NEAREST:0,LINEAR:1,NEAREST_MIPMAP_NEAREST:2,NEAREST_MIPMAP_LINEAR:3,LINEAR_MIPMAP_NEAREST:4,LINEAR_MIPMAP_LINEAR:5},Gr={Wrap:oa,Filter:$n},Hn=r.b.vtkErrorMacro,La={parent:null,renderable:null,myFactory:null,children:[],visited:!1};function Fo(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,La,v),r.b.obj(o,t),r.b.event(o,t,"event"),t.renderableChildMap=new Map,r.b.get(o,t,["visited"]),r.b.setGet(o,t,["parent","renderable","myFactory"]),r.b.getArray(o,t,["children"]),function(n,e){e.classHierarchy.push("vtkViewNode"),n.build=function(i){},n.render=function(i){},n.traverse=function(i){var c=i.getTraverseOperation(),l=n[c];if(l)l(i);else{n.apply(i,!0);for(var y=0;y<e.children.length;y++)e.children[y].traverse(i);n.apply(i,!1)}},n.apply=function(i,c){var l=n[i.getOperation()];l&&l(c,i)},n.getViewNodeFor=function(i){if(e.renderable===i)return n;for(var c=0;c<e.children.length;++c){var l=e.children[c].getViewNodeFor(i);if(l)return l}},n.getFirstAncestorOfType=function(i){return e.parent?e.parent.isA(i)?e.parent:e.parent.getFirstAncestorOfType(i):null},n.addMissingNode=function(i){if(i){var c=e.renderableChildMap.get(i);if(c!==void 0)c.setVisited(!0);else{var l=n.createViewNode(i);l&&(l.setParent(n),l.setVisited(!0),e.renderableChildMap.set(i,l),e.children.push(l))}}},n.addMissingNodes=function(i){if(i&&i.length)for(var c=0;c<i.length;++c){var l=i[c],y=e.renderableChildMap.get(l);if(y!==void 0)y.setVisited(!0);else{var R=n.createViewNode(l);R&&(R.setParent(n),R.setVisited(!0),e.renderableChildMap.set(l,R),e.children.push(R))}}},n.prepareNodes=function(){for(var i=0;i<e.children.length;++i)e.children[i].setVisited(!1)},n.setVisited=function(i){e.visited=i},n.removeUnusedNodes=function(){for(var i=null,c=0;c<e.children.length;++c){var l=e.children[c];if(l.getVisited())l.setVisited(!1);else{var y=l.getRenderable();y&&e.renderableChildMap.delete(y),i||(i=[]),i.push(l)}}i&&(e.children=e.children.filter(function(R){return!i.includes(R)}))},n.createViewNode=function(i){if(!e.myFactory)return Hn("Cannot create view nodes without my own factory"),null;var c=e.myFactory.createNode(i);return c&&c.setRenderable(i),c}}(o,t)}var Ia={newInstance:r.b.newInstance(Fo,"vtkViewNode"),extend:Fo,PASS_TYPES:["Build","Render"]};function ci(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function Pi(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}var vo=Gr.Wrap,_a=Gr.Filter,Pa=oe.a.VtkDataTypes,Li=r.b.vtkDebugMacro,qo=r.b.vtkErrorMacro,_s=r.b.vtkWarningMacro,Vs={openGLRenderWindow:null,context:null,handle:0,sendParametersTime:null,textureBuildTime:null,numberOfDimensions:0,target:0,format:0,openGLDataType:0,components:0,width:0,height:0,depth:0,autoParameters:!0,wrapS:vo.CLAMP_TO_EDGE,wrapT:vo.CLAMP_TO_EDGE,wrapR:vo.CLAMP_TO_EDGE,minificationFilter:_a.NEAREST,magnificationFilter:_a.NEAREST,minLOD:-1e3,maxLOD:1e3,baseLevel:0,maxLevel:1e3,generateMipmap:!1};function Xi(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Vs,v),Ia.extend(o,t,v),t.sendParametersTime={},r.b.obj(t.sendParametersTime,{mtime:0}),t.textureBuildTime={},r.b.obj(t.textureBuildTime,{mtime:0}),r.b.set(o,t,["format","openGLDataType"]),r.b.setGet(o,t,["keyMatrixTime","minificationFilter","magnificationFilter","wrapS","wrapT","wrapR","generateMipmap"]),r.b.get(o,t,["width","height","volumeInfo","components","handle","target"]),function(n,e){var i=this;function c(R,_){var $=[];if(R!==Pa.FLOAT&&e.openGLDataType===e.context.FLOAT)for(var re=e.width*e.height*e.components,he=0;he<_.length;he++){for(var Ee=new Float32Array(re),Se=0;Se<re;Se++)Ee[Se]=_[he][Se];$.push(Ee)}if(R!==Pa.UNSIGNED_CHAR&&e.openGLDataType===e.context.UNSIGNED_BYTE)for(var ee=e.width*e.height*e.components,we=0;we<_.length;we++){for(var Fe=new Uint8Array(ee),Xe=0;Xe<ee;Xe++)Fe[Xe]=_[we][Xe];$.push(Fe)}if($.length===0)for(var qe=0;qe<_.length;qe++)$.push(_[qe]);return $}function l(R){if(e.openGLRenderWindow.getWebgl2())return R;var _=[],$=e.width,re=e.height,he=e.components;if(R&&(!dt.r($)||!dt.r(re)))for(var Ee=dt.u($),Se=dt.u(re),ee=Ee*Se*e.components,we=0;we<R.length;we++)if(R[we]!==null){var Fe=null;switch(e.openGLDataType){case e.context.FLOAT:Fe=new Float32Array(ee);break;default:case e.context.UNSIGNED_BYTE:Fe=new Uint8Array(ee)}for(var Xe=re/Se,qe=$/Ee,tt=0;tt<Se;tt++){var Ye=tt*Ee*he,gt=tt*Xe,At=Math.floor(gt),Vt=Math.ceil(gt);Vt>=re&&(Vt=re-1);var Jt=gt-At,vn=1-Jt;At=At*$*he,Vt=Vt*$*he;for(var Zt=0;Zt<Ee;Zt++){var on=Zt*he,Tn=Zt*qe,En=Math.floor(Tn),jn=Math.ceil(Tn);jn>=$&&(jn=$-1);var Nn=Tn-En;En*=he,jn*=he;for(var Un=0;Un<he;Un++)Fe[Ye+on+Un]=R[we][At+En+Un]*vn*(1-Nn)+R[we][At+jn+Un]*vn*Nn+R[we][Vt+En+Un]*Jt*(1-Nn)+R[we][Vt+jn+Un]*Jt*Nn}}_.push(Fe),e.width=Ee,e.height=Se}else _.push(null);if(_.length===0)for(var Xn=0;Xn<R.length;Xn++)_.push(R[Xn]);return _}function y(R,_,$){for(var re=[],he=[],Ee=0;Ee<R;++Ee)re[Ee]=$[Ee],he[Ee]=$[Ee];for(var Se=0,ee=0;ee<_;++ee)for(var we=0;we<R;++we)$[Se]<re[we]&&(re[we]=$[Se]),$[Se]>he[we]&&(he[we]=$[Se]),Se++;for(var Fe=[],Xe=[],qe=0;qe<R;++qe)re[qe]===he[qe]&&(he[qe]=re[qe]+1),Fe[qe]=re[qe],Xe[qe]=he[qe]-re[qe];return{scale:Xe,offset:Fe}}e.classHierarchy.push("vtkOpenGLTexture"),n.render=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(R?e.openGLRenderWindow=R:(e.openGLRenderer=n.getFirstAncestorOfType("vtkOpenGLRenderer"),e.openGLRenderWindow=e.openGLRenderer.getParent()),e.context=e.openGLRenderWindow.getContext(),e.renderable.getInterpolate()?(e.generateMipmap?n.setMinificationFilter(_a.LINEAR_MIPMAP_LINEAR):n.setMinificationFilter(_a.LINEAR),n.setMagnificationFilter(_a.LINEAR)):(n.setMinificationFilter(_a.NEAREST),n.setMagnificationFilter(_a.NEAREST)),e.renderable.getRepeat()&&(n.setWrapR(vo.REPEAT),n.setWrapS(vo.REPEAT),n.setWrapT(vo.REPEAT)),e.renderable.getInputData()&&e.renderable.setImage(null),!e.handle||e.renderable.getMTime()>e.textureBuildTime.getMTime()){e.renderable.getImage()!==null&&(e.renderable.getInterpolate()&&(e.generateMipmap=!0,n.setMinificationFilter(_a.LINEAR_MIPMAP_LINEAR)),e.renderable.getImage()&&e.renderable.getImageLoaded()&&(n.create2DFromImage(e.renderable.getImage()),n.activate(),n.sendParameters(),e.textureBuildTime.modified()));var _=e.renderable.getInputData(0);if(_&&_.getPointData().getScalars()){for(var $=_.getExtent(),re=_.getPointData().getScalars(),he=[],Ee=0;Ee<e.renderable.getNumberOfInputPorts();++Ee){var Se=e.renderable.getInputData(Ee),ee=Se?Se.getPointData().getScalars().getData():null;ee&&he.push(ee)}e.renderable.getInterpolate()&&re.getNumberOfComponents()===4&&(e.generateMipmap=!0,n.setMinificationFilter(_a.LINEAR_MIPMAP_LINEAR)),he.length%6==0?n.createCubeFromRaw($[1]-$[0]+1,$[3]-$[2]+1,re.getNumberOfComponents(),re.getDataType(),he):n.create2DFromRaw($[1]-$[0]+1,$[3]-$[2]+1,re.getNumberOfComponents(),re.getDataType(),re.getData()),n.activate(),n.sendParameters(),e.textureBuildTime.modified()}}e.handle&&n.activate()},n.destroyTexture=function(){n.deactivate(),e.context&&e.handle&&e.context.deleteTexture(e.handle),e.handle=0,e.numberOfDimensions=0,e.target=0,e.components=0,e.width=0,e.height=0,e.depth=0,n.resetFormatAndType()},n.createTexture=function(){e.handle||(e.handle=e.context.createTexture(),e.target&&(e.context.bindTexture(e.target,e.handle),e.context.texParameteri(e.target,e.context.TEXTURE_MIN_FILTER,n.getOpenGLFilterMode(e.minificationFilter)),e.context.texParameteri(e.target,e.context.TEXTURE_MAG_FILTER,n.getOpenGLFilterMode(e.magnificationFilter)),e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_S,n.getOpenGLWrapMode(e.wrapS)),e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_T,n.getOpenGLWrapMode(e.wrapT)),e.openGLRenderWindow.getWebgl2()&&e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_R,n.getOpenGLWrapMode(e.wrapR)),e.context.bindTexture(e.target,null)))},n.getTextureUnit=function(){return e.openGLRenderWindow?e.openGLRenderWindow.getTextureUnitForTexture(n):-1},n.activate=function(){e.openGLRenderWindow.activateTexture(n),n.bind()},n.deactivate=function(){e.openGLRenderWindow&&e.openGLRenderWindow.deactivateTexture(n)},n.releaseGraphicsResources=function(R){R&&e.handle&&(R.activateTexture(n),R.deactivateTexture(n),e.context.deleteTexture(e.handle),e.handle=0,e.numberOfDimensions=0,e.target=0,e.internalFormat=0,e.format=0,e.openGLDataType=0,e.components=0,e.width=0,e.height=0,e.depth=0),e.shaderProgram&&(e.shaderProgram.releaseGraphicsResources(R),e.shaderProgram=null)},n.bind=function(){e.context.bindTexture(e.target,e.handle),e.autoParameters&&n.getMTime()>e.sendParametersTime.getMTime()&&n.sendParameters()},n.isBound=function(){var R=!1;if(e.context&&e.handle){var _=0;switch(e.target){case e.context.TEXTURE_2D:_=e.context.TEXTURE_BINDING_2D;break;default:_s("impossible case")}R=e.context.getIntegerv(_)===e.handle}return R},n.sendParameters=function(){e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_S,n.getOpenGLWrapMode(e.wrapS)),e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_T,n.getOpenGLWrapMode(e.wrapT)),e.openGLRenderWindow.getWebgl2()&&e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_R,n.getOpenGLWrapMode(e.wrapR)),e.context.texParameteri(e.target,e.context.TEXTURE_MIN_FILTER,n.getOpenGLFilterMode(e.minificationFilter)),e.context.texParameteri(e.target,e.context.TEXTURE_MAG_FILTER,n.getOpenGLFilterMode(e.magnificationFilter)),e.openGLRenderWindow.getWebgl2()&&(e.context.texParameteri(e.target,e.context.TEXTURE_BASE_LEVEL,e.baseLevel),e.context.texParameteri(e.target,e.context.TEXTURE_MAX_LEVEL,e.maxLevel)),e.sendParametersTime.modified()},n.getInternalFormat=function(R,_){return e.internalFormat||(e.internalFormat=n.getDefaultInternalFormat(R,_)),e.internalFormat||Li("Unable to find suitable internal format for T=".concat(R," NC= ").concat(_)),e.internalFormat},n.getDefaultInternalFormat=function(R,_){var $=0;return($=e.openGLRenderWindow.getDefaultTextureInternalFormat(R,_,!1))||($=i.openGLRenderWindow.getDefaultTextureInternalFormat(R,_,!0))||(Li("Unsupported internal texture type!"),Li("Unable to find suitable internal format for T=".concat(R," NC= ").concat(_))),$},n.setInternalFormat=function(R){R!==e.internalFormat&&(e.internalFormat=R,n.modified())},n.getFormat=function(R,_){return e.format=n.getDefaultFormat(R,_),e.format},n.getDefaultFormat=function(R,_){if(e.openGLRenderWindow.getWebgl2())switch(_){case 1:return e.context.RED;case 2:return e.context.RG;case 3:return e.context.RGB;case 4:return e.context.RGBA;default:return e.context.RGB}else switch(_){case 1:return e.context.LUMINANCE;case 2:return e.context.LUMINANCE_ALPHA;case 3:return e.context.RGB;case 4:return e.context.RGBA;default:return e.context.RGB}},n.resetFormatAndType=function(){e.format=0,e.internalFormat=0,e.openGLDataType=0},n.getDefaultDataType=function(R){if(e.openGLRenderWindow.getWebgl2())switch(R){case Pa.UNSIGNED_CHAR:return e.context.UNSIGNED_BYTE;case Pa.FLOAT:case Pa.VOID:default:return e.context.FLOAT}switch(R){case Pa.UNSIGNED_CHAR:return e.context.UNSIGNED_BYTE;case Pa.FLOAT:case Pa.VOID:default:return e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear")?e.context.FLOAT:e.context.UNSIGNED_BYTE}},n.getOpenGLDataType=function(R){return e.openGLDataType=n.getDefaultDataType(R),e.openGLDataType},n.getShiftAndScale=function(){var R=0,_=1;switch(e.openGLDataType){case e.context.BYTE:R=(_=127.5)-128;break;case e.context.UNSIGNED_BYTE:_=255,R=0;break;case e.context.SHORT:R=(_=32767.5)-32768;break;case e.context.UNSIGNED_SHORT:_=65536,R=0;break;case e.context.INT:R=(_=21474836475e-1)-2147483648;break;case e.context.UNSIGNED_INT:_=4294967295,R=0;break;case e.context.FLOAT:}return{shift:R,scale:_}},n.getOpenGLFilterMode=function(R){switch(R){case _a.NEAREST:return e.context.NEAREST;case _a.LINEAR:return e.context.LINEAR;case _a.NEAREST_MIPMAP_NEAREST:return e.context.NEAREST_MIPMAP_NEAREST;case _a.NEAREST_MIPMAP_LINEAR:return e.context.NEAREST_MIPMAP_LINEAR;case _a.LINEAR_MIPMAP_NEAREST:return e.context.LINEAR_MIPMAP_NEAREST;case _a.LINEAR_MIPMAP_LINEAR:return e.context.LINEAR_MIPMAP_LINEAR;default:return e.context.NEAREST}},n.getOpenGLWrapMode=function(R){switch(R){case vo.CLAMP_TO_EDGE:return e.context.CLAMP_TO_EDGE;case vo.REPEAT:return e.context.REPEAT;case vo.MIRRORED_REPEAT:return e.context.MIRRORED_REPEAT;default:return e.context.CLAMP_TO_EDGE}},n.create2DFromRaw=function(R,_,$,re,he){if(n.getOpenGLDataType(re),n.getInternalFormat(re,$),n.getFormat(re,$),!e.internalFormat||!e.format||!e.openGLDataType)return qo("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_2D,e.components=$,e.width=R,e.height=_,e.depth=1,e.numberOfDimensions=2,e.openGLRenderWindow.activateTexture(n),n.createTexture(),n.bind();var Ee=l(c(re,[he]));return e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,Ee[0]),e.generateMipmap&&e.context.generateMipmap(e.target),n.deactivate(),!0},n.createCubeFromRaw=function(R,_,$,re,he){if(n.getOpenGLDataType(re),n.getInternalFormat(re,$),n.getFormat(re,$),!e.internalFormat||!e.format||!e.openGLDataType)return qo("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_CUBE_MAP,e.components=$,e.width=R,e.height=_,e.depth=1,e.numberOfDimensions=2,e.openGLRenderWindow.activateTexture(n),e.maxLevel=he.length/6-1,n.createTexture(),n.bind();for(var Ee=l(c(re,he)),Se=[],ee=e.width,we=e.height,Fe=0;Fe<Ee.length;Fe++){Fe%6==0&&Fe!==0&&(ee/=2,we/=2),Se[Fe]=new window[re](we*ee*e.components);for(var Xe=0;Xe<we;++Xe){var qe=Xe*ee*e.components,tt=(we-Xe-1)*ee*e.components;Se[Fe].set(Ee[Fe].slice(tt,tt+ee*e.components),qe)}}e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1);for(var Ye=0;Ye<6;Ye++)for(var gt=0,At=e.width,Vt=e.height;At>=1&&Vt>=1;){var Jt=null;gt<=e.maxLevel&&(Jt=Se[6*gt+Ye]),e.context.texImage2D(e.context.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,gt,e.internalFormat,At,Vt,0,e.format,e.openGLDataType,Jt),gt++,At/=2,Vt/=2}return n.deactivate(),!0},n.createDepthFromRaw=function(R,_,$,re){return n.getOpenGLDataType($),e.format=e.context.DEPTH_COMPONENT,e.openGLRenderWindow.getWebgl2()?$===Pa.FLOAT?e.internalFormat=e.context.DEPTH_COMPONENT32F:e.internalFormat=e.context.DEPTH_COMPONENT16:e.internalFormat=e.context.DEPTH_COMPONENT,e.internalFormat&&e.format&&e.openGLDataType?(e.target=e.context.TEXTURE_2D,e.components=1,e.width=R,e.height=_,e.depth=1,e.numberOfDimensions=2,e.openGLRenderWindow.activateTexture(n),n.createTexture(),n.bind(),e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,re),e.generateMipmap&&e.context.generateMipmap(e.target),n.deactivate(),!0):(qo("Failed to determine texture parameters."),!1)},n.create2DFromImage=function(R){if(n.getOpenGLDataType(Pa.UNSIGNED_CHAR),n.getInternalFormat(Pa.UNSIGNED_CHAR,4),n.getFormat(Pa.UNSIGNED_CHAR,4),!e.internalFormat||!e.format||!e.openGLDataType)return qo("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_2D,e.components=4,e.width=R.width,e.height=R.height,e.depth=1,e.numberOfDimensions=2,e.openGLRenderWindow.activateTexture(n),n.createTexture(),n.bind(),e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1);var _=!dt.r(R.width)||!dt.r(R.height),$=document.createElement("canvas");$.width=_?dt.u(R.width):R.width,$.height=_?dt.u(R.height):R.height;var re=$.getContext("2d");re.translate(0,$.height),re.scale(1,-1),re.drawImage(R,0,0,R.width,R.height,0,0,$.width,$.height),navigator.userAgent.indexOf("Chrome/69")>=0&&re.getImageData(0,0,1,1);var he=$;return e.context.texImage2D(e.target,0,e.internalFormat,e.format,e.openGLDataType,he),e.generateMipmap&&e.context.generateMipmap(e.target),n.deactivate(),!0},n.create3DFromRaw=function(R,_,$,re,he,Ee){return n.getOpenGLDataType(he),n.getInternalFormat(he,re),n.getFormat(he,re),e.internalFormat&&e.format&&e.openGLDataType?(e.target=e.context.TEXTURE_3D,e.components=re,e.width=R,e.height=_,e.depth=$,e.numberOfDimensions=3,e.openGLRenderWindow.activateTexture(n),n.createTexture(),n.bind(),e.context.texImage3D(e.target,0,e.internalFormat,e.width,e.height,e.depth,0,e.format,e.openGLDataType,Ee),e.generateMipmap&&e.context.generateMipmap(e.target),n.deactivate(),!0):(qo("Failed to determine texture parameters."),!1)},n.create3DFilterableFromRaw=function(R,_,$,re,he,Ee){for(var Se=R*_*$,ee=[],we=[],Fe=0;Fe<re;++Fe)ee[Fe]=0,we[Fe]=1;if(e.volumeInfo={scale:we,offset:ee,width:R,height:_,depth:$},e.openGLRenderWindow.getWebgl2()){if(he===Pa.FLOAT)return n.create3DFromRaw(R,_,$,re,he,Ee);if(he===Pa.UNSIGNED_CHAR){for(var Xe=0;Xe<re;++Xe)e.volumeInfo.scale[Xe]=255;return n.create3DFromRaw(R,_,$,re,he,Ee)}var qe=new Float32Array(Se*re),tt=y(re,Se,Ee);e.volumeInfo.offset=tt.offset,e.volumeInfo.scale=tt.scale;for(var Ye=0,gt=0;gt<Se;++gt)for(var At=0;At<re;++At)qe[Ye]=(Ee[Ye]-e.volumeInfo.offset[At])/e.volumeInfo.scale[At],Ye++;return n.create3DFromRaw(R,_,$,re,Pa.FLOAT,qe)}var Vt=y(re,Se,Ee),Jt=function(di,jo,Go,Ai,wi){di[jo]=Go},vn=Pa.UNSIGNED_CHAR;if(he===Pa.UNSIGNED_CHAR)for(var Zt=0;Zt<re;++Zt)Vt.offset[Zt]=0,Vt.scale[Zt]=255;else e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear")?(vn=Pa.FLOAT,Jt=function(di,jo,Go,Ai,wi){di[jo]=(Go-Ai)/wi}):(vn=Pa.UNSIGNED_CHAR,Jt=function(di,jo,Go,Ai,wi){di[jo]=255*(Go-Ai)/wi});if(n.getOpenGLDataType(vn),n.getInternalFormat(vn,re),n.getFormat(vn,re),!e.internalFormat||!e.format||!e.openGLDataType)return qo("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_2D,e.components=re,e.depth=1,e.numberOfDimensions=2;var on=e.context.getParameter(e.context.MAX_TEXTURE_SIZE);on>4096&&(vn===Pa.FLOAT||re>=3)&&(on=4096);var Tn=1,En=1;Se>on*on&&(En=Tn=Math.ceil(Math.sqrt(Se/(on*on))));var jn=Math.sqrt(Se)/Tn;jn=dt.u(jn);var Nn,Un=Math.floor(jn*Tn/R),Xn=Math.ceil($/Un),Qn=dt.u(_*Xn/En);e.width=jn,e.height=Qn,e.openGLRenderWindow.activateTexture(n),n.createTexture(),n.bind(),e.volumeInfo.xreps=Un,e.volumeInfo.yreps=Xn,e.volumeInfo.xstride=Tn,e.volumeInfo.ystride=En,e.volumeInfo.offset=Vt.offset,e.volumeInfo.scale=Vt.scale;var Er=jn*Qn*re;Nn=vn===Pa.FLOAT?new Float32Array(Er):new Uint8Array(Er);for(var it=0,un=Math.floor(R/Tn),Cn=Math.floor(_/En),yr=0;yr<Xn;yr++)for(var Ar=Math.min(Un,$-yr*Un),er=re*(e.width-Ar*Math.floor(R/Tn)),tr=0;tr<Cn;tr++){for(var Rr=0;Rr<Ar;Rr++)for(var Cr=re*((yr*Un+Rr)*R*_+En*tr*R),wa=0;wa<un;wa++)for(var fi=0;fi<re;fi++)Jt(Nn,it,Ee[Cr+Tn*wa*re+fi],Vt.offset[fi],Vt.scale[fi]),it++;it+=er}return e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,Nn),n.deactivate(),!0},n.setOpenGLRenderWindow=function(R){e.openGLRenderWindow!==R&&(n.releaseGraphicsResources(),e.openGLRenderWindow=R,e.context=null,R&&(e.context=e.openGLRenderWindow.getContext()))},n.getMaximumTextureSize=function(R){return R&&R.isCurrent()?R.getIntegerv(R.MAX_TEXTURE_SIZE):-1}}(o,t)}var qa=function(o){for(var t=1;t<arguments.length;t++){var v=arguments[t]!=null?arguments[t]:{};t%2?ci(Object(v),!0).forEach(function(n){Pi(o,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(v)):ci(Object(v)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(v,n))})}return o}({newInstance:r.b.newInstance(Xi,"vtkOpenGLTexture"),extend:Xi},Gr),qi={openGLRenderWindow:null,glFramebuffer:null,colorTexture:null,depthTexture:null,previousDrawBinding:0,previousReadBinding:0,previousDrawBuffer:0,previousReadBuffer:0,previousActiveFramebuffer:null};function Zi(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,qi,v),r.g(o,t),r.k(o,t,["colorTexture"]),function(n,e){e.classHierarchy.push("vtkFramebuffer"),n.getBothMode=function(){return e.context.FRAMEBUFFER},n.saveCurrentBindingsAndBuffers=function(i){var c=i!==void 0?i:n.getBothMode();n.saveCurrentBindings(c),n.saveCurrentBuffers(c)},n.saveCurrentBindings=function(i){var c=e.context;e.previousDrawBinding=c.getParameter(e.context.FRAMEBUFFER_BINDING),e.previousActiveFramebuffer=e.openGLRenderWindow.getActiveFramebuffer()},n.saveCurrentBuffers=function(i){},n.restorePreviousBindingsAndBuffers=function(i){var c=i!==void 0?i:n.getBothMode();n.restorePreviousBindings(c),n.restorePreviousBuffers(c)},n.restorePreviousBindings=function(i){var c=e.context;c.bindFramebuffer(c.FRAMEBUFFER,e.previousDrawBinding),e.openGLRenderWindow.setActiveFramebuffer(e.previousActiveFramebuffer)},n.restorePreviousBuffers=function(i){},n.bind=function(){e.context.bindFramebuffer(e.context.FRAMEBUFFER,e.glFramebuffer),e.colorTexture&&e.colorTexture.bind(),e.openGLRenderWindow.setActiveFramebuffer(n)},n.create=function(i,c){e.glFramebuffer=e.context.createFramebuffer(),e.glFramebuffer.width=i,e.glFramebuffer.height=c},n.setColorBuffer=function(i){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=e.context,y=l.COLOR_ATTACHMENT0;if(c>0){if(!e.openGLRenderWindow.getWebgl2())return void r.n("Using multiple framebuffer attachments requires WebGL 2");y+=c}e.colorTexture=i,l.framebufferTexture2D(l.FRAMEBUFFER,y,l.TEXTURE_2D,i.getHandle(),0)},n.removeColorBuffer=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,c=e.context,l=c.COLOR_ATTACHMENT0;if(i>0){if(!e.openGLRenderWindow.getWebgl2())return void r.n("Using multiple framebuffer attachments requires WebGL 2");l+=i}c.framebufferTexture2D(c.FRAMEBUFFER,l,c.TEXTURE_2D,null,0)},n.setDepthBuffer=function(i){if(e.openGLRenderWindow.getWebgl2()){var c=e.context;c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.TEXTURE_2D,i.getHandle(),0)}else r.n("Attaching depth buffer textures to fbo requires WebGL 2")},n.removeDepthBuffer=function(){if(e.openGLRenderWindow.getWebgl2()){var i=e.context;i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,null,0)}else r.n("Attaching depth buffer textures to framebuffers requires WebGL 2")},n.getGLFramebuffer=function(){return e.glFramebuffer},n.setOpenGLRenderWindow=function(i){e.openGLRenderWindow!==i&&(n.releaseGraphicsResources(),e.openGLRenderWindow=i,e.context=null,i&&(e.context=e.openGLRenderWindow.getContext()))},n.releaseGraphicsResources=function(){e.glFramebuffer&&e.context.deleteFramebuffer(e.glFramebuffer),e.colorTexture&&e.colorTexture.releaseGraphicsResources()},n.getSize=function(){var i=[0,0];return e.glFramebuffer!==null&&(i[0]=e.glFramebuffer.width,i[1]=e.glFramebuffer.height),i},n.populateFramebuffer=function(){n.bind();var i=e.context,c=qa.newInstance();c.setOpenGLRenderWindow(e.openGLRenderWindow),c.setMinificationFilter($n.LINEAR),c.setMagnificationFilter($n.LINEAR),c.create2DFromRaw(e.glFramebuffer.width,e.glFramebuffer.height,4,ha.b.UNSIGNED_CHAR,null),n.setColorBuffer(c),e.depthTexture=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,e.depthTexture),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_COMPONENT16,e.glFramebuffer.width,e.glFramebuffer.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.RENDERBUFFER,e.depthTexture)}}(o,t)}var _i={newInstance:r.f(Zi,"vtkFramebuffer"),extend:Zi},Ns={delegates:[],currentOperation:null,preDelegateOperations:[],postDelegateOperations:[],currentParent:null};function Ji(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Ns,v),r.b.obj(o,t),r.b.get(o,t,["currentOperation"]),r.b.setGet(o,t,["delegates","currentParent","preDelegateOperations","postDelegateOperations"]),function(n,e){e.classHierarchy.push("vtkRenderPass"),n.getOperation=function(){return e.currentOperation},n.setCurrentOperation=function(i){e.currentOperation=i,e.currentTraverseOperation="traverse".concat(r.b.capitalize(e.currentOperation))},n.getTraverseOperation=function(){return e.currentTraverseOperation},n.traverse=function(i){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e.deleted||(e.currentParent=c,e.preDelegateOperations.forEach(function(l){n.setCurrentOperation(l),i.traverse(n)}),e.delegates.forEach(function(l){l.traverse(i,n)}),e.postDelegateOperations.forEach(function(l){n.setCurrentOperation(l),i.traverse(n)}))}}(o,t)}var $i={newInstance:r.b.newInstance(Ji,"vtkRenderPass"),extend:Ji},js={opaqueActorCount:0,translucentActorCount:0,volumeCount:0,framebuffer:null,depthRequested:!1};function es(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,js,v),$i.extend(o,t,v),r.b.get(o,t,["framebuffer"]),r.b.setGet(o,t,["depthRequested"]),function(n,e){e.classHierarchy.push("vtkForwardPass"),n.traverse=function(i){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!e.deleted){e.currentParent=c,n.setCurrentOperation("buildPass"),i.traverse(n);for(var l=i.getRenderable().getNumberOfLayers(),y=i.getChildren(),R=0;R<l;R++)for(var _=0;_<y.length;_++){var $=y[_],re=i.getRenderable().getRenderers()[_];if(re.getDraw()&&re.getLayer()===R){if(e.opaqueActorCount=0,e.translucentActorCount=0,e.volumeCount=0,n.setCurrentOperation("queryPass"),$.traverse(n),e.opaqueActorCount>0&&e.volumeCount>0||e.depthRequested){var he=i.getFramebufferSize();e.framebuffer===null&&(e.framebuffer=_i.newInstance()),e.framebuffer.setOpenGLRenderWindow(i),e.framebuffer.saveCurrentBindingsAndBuffers();var Ee=e.framebuffer.getSize();Ee!==null&&Ee[0]===he[0]&&Ee[1]===he[1]||(e.framebuffer.create(he[0],he[1]),e.framebuffer.populateFramebuffer()),e.framebuffer.bind(),n.setCurrentOperation("opaqueZBufferPass"),$.traverse(n),e.framebuffer.restorePreviousBindingsAndBuffers()}n.setCurrentOperation("cameraPass"),$.traverse(n),e.opaqueActorCount>0&&(n.setCurrentOperation("opaquePass"),$.traverse(n)),e.translucentActorCount>0&&(n.setCurrentOperation("translucentPass"),$.traverse(n)),e.volumeCount>0&&(n.setCurrentOperation("volumePass"),$.traverse(n))}}}},n.getZBufferTexture=function(){return e.framebuffer?e.framebuffer.getColorTexture():null},n.incrementOpaqueActorCount=function(){return e.opaqueActorCount++},n.incrementTranslucentActorCount=function(){return e.translucentActorCount++},n.incrementVolumeCount=function(){return e.volumeCount++}}(o,t)}var ts={newInstance:r.b.newInstance(es,"vtkForwardPass"),extend:es},Gs={};function ns(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Gs,v),Ia.extend(o,t,v),function(n,e){e.classHierarchy.push("vtkGenericWidgetRepresentation")}(0,t)}var rs={newInstance:r.b.newInstance(ns),extend:ns},zs={context:null,keyMatrixTime:null,keyMatrices:null,activeTextures:null};function as(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,zs,v),Ia.extend(o,t,v),t.keyMatrixTime={},r.b.obj(t.keyMatrixTime,{mtime:0}),t.keyMatrices={normalMatrix:Be.b.create(),mcwc:Be.c.create()},r.b.setGet(o,t,["context"]),r.b.get(o,t,["activeTextures"]),function(n,e){e.classHierarchy.push("vtkOpenGLActor"),n.buildPass=function(i){if(i){e.openGLRenderWindow=n.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e.openGLRenderer=n.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e.openGLRenderWindow.getContext(),n.prepareNodes(),n.addMissingNodes(e.renderable.getTextures()),n.addMissingNode(e.renderable.getMapper()),n.removeUnusedNodes(),e.ogltextures=null,e.activeTextures=null;for(var c=0;c<e.children.length;c++){var l=e.children[c];l.isA("vtkOpenGLTexture")?(e.ogltextures||(e.ogltextures=[]),e.ogltextures.push(l)):e.oglmapper=l}}},n.traverseOpaqueZBufferPass=function(i){n.traverseOpaquePass(i)},n.traverseOpaquePass=function(i){e.renderable&&e.renderable.getVisibility()&&e.renderable.getIsOpaque()&&(!e.openGLRenderer.getSelector()||e.renderable.getPickable())&&(n.apply(i,!0),e.oglmapper.traverse(i),n.apply(i,!1))},n.traverseTranslucentPass=function(i){!e.renderable||!e.renderable.getVisibility()||e.renderable.getIsOpaque()||e.openGLRenderer.getSelector()&&!e.renderable.getPickable()||(n.apply(i,!0),e.oglmapper.traverse(i),n.apply(i,!1))},n.activateTextures=function(){if(e.ogltextures){e.activeTextures=[];for(var i=0;i<e.ogltextures.length;i++){var c=e.ogltextures[i];c.render(),c.getHandle()&&e.activeTextures.push(c)}}},n.queryPass=function(i,c){if(i){if(!e.renderable||!e.renderable.getVisibility())return;e.renderable.getIsOpaque()?c.incrementOpaqueActorCount():c.incrementTranslucentActorCount()}},n.opaqueZBufferPass=function(i,c){return n.opaquePass(i,c)},n.opaquePass=function(i,c){if(i)e.openGLRenderWindow.enableDepthMask(),n.activateTextures();else if(e.activeTextures)for(var l=0;l<e.activeTextures.length;l++)e.activeTextures[l].deactivate()},n.translucentPass=function(i,c){if(i)e.openGLRenderWindow.disableDepthMask(),n.activateTextures();else if(e.activeTextures)for(var l=0;l<e.activeTextures.length;l++)e.activeTextures[l].deactivate()},n.getKeyMatrices=function(){return e.renderable.getMTime()>e.keyMatrixTime.getMTime()&&(e.renderable.computeMatrix(),Be.c.copy(e.keyMatrices.mcwc,e.renderable.getMatrix()),Be.c.transpose(e.keyMatrices.mcwc,e.keyMatrices.mcwc),e.renderable.getIsIdentity()?Be.b.identity(e.keyMatrices.normalMatrix):(Be.b.fromMat4(e.keyMatrices.normalMatrix,e.keyMatrices.mcwc),Be.b.invert(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix),Be.b.transpose(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix)),e.keyMatrixTime.modified()),e.keyMatrices}}(o,t)}var Ws={newInstance:r.b.newInstance(as),extend:as},Ks={context:null,activeTextures:[]};function os(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Ks,v),Ia.extend(o,t,v),r.k(o,t,["context"]),r.d(o,t,["activeTextures"]),function(n,e){e.classHierarchy.push("vtkOpenGLActor2D"),n.buildPass=function(i){if(i){if(!e.renderable)return;e.openGLRenderer=n.getFirstAncestorOfType("vtkOpenGLRenderer"),n.prepareNodes(),n.addMissingNodes(e.renderable.getTextures()),n.addMissingNode(e.renderable.getMapper()),n.removeUnusedNodes()}},n.traverseOpaquePass=function(i){e.renderable&&e.renderable.getVisibility()&&e.renderable.getIsOpaque()&&(!e.openGLRenderer.getSelector()||e.renderable.getPickable())&&(n.apply(i,!0),e.children.forEach(function(c){c.isA("vtkOpenGLTexture")||c.traverse(i)}),n.apply(i,!1))},n.traverseTranslucentPass=function(i){!e.renderable||!e.renderable.getVisibility()||e.renderable.getIsOpaque()||e.openGLRenderer.getSelector()&&!e.renderable.getPickable()||(n.apply(i,!0),e.children.forEach(function(c){c.isA("vtkOpenGLTexture")||c.traverse(i)}),n.apply(i,!1))},n.activateTextures=function(){e.activeTextures=[],e.children.forEach(function(i){i.isA("vtkOpenGLTexture")&&(i.render(),i.getHandle()&&e.activeTextures.push(i))})},n.opaquePass=function(i,c){i?(e.context=n.getFirstAncestorOfType("vtkOpenGLRenderWindow").getContext(),e.context.depthMask(!0),n.activateTextures()):e.activeTextures.forEach(function(l){l.deactivate()})},n.translucentPass=function(i,c){i?(e.context=n.getFirstAncestorOfType("vtkOpenGLRenderWindow").getContext(),e.context.depthMask(!1),n.activateTextures()):(e.activeTextures.forEach(function(l){l.deactivate()}),e.context.depthMask(!0))}}(o,t)}var Hs={newInstance:r.f(os),extend:os},Qs={context:null,lastRenderer:null,keyMatrixTime:null,keyMatrices:null};function is(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Qs,v),Ia.extend(o,t,v),t.keyMatrixTime={},r.g(t.keyMatrixTime),t.keyMatrices={normalMatrix:Be.b.create(),vcpc:Be.c.create(),wcvc:Be.c.create(),wcpc:Be.c.create()},r.k(o,t,["context","keyMatrixTime"]),function(n,e){e.classHierarchy.push("vtkOpenGLCamera"),n.buildPass=function(i){i&&(e.openGLRenderer=n.getFirstAncestorOfType("vtkOpenGLRenderer"),e.openGLRenderWindow=e.openGLRenderer.getParent(),e.context=e.openGLRenderWindow.getContext())},n.opaquePass=function(i){if(i){var c=e.openGLRenderer.getTiledSizeAndOrigin();e.context.viewport(c.lowerLeftU,c.lowerLeftV,c.usize,c.vsize),e.context.scissor(c.lowerLeftU,c.lowerLeftV,c.usize,c.vsize)}},n.translucentPass=n.opaquePass,n.opaqueZBufferPass=n.opaquePass,n.volumePass=n.opaquePass,n.getKeyMatrices=function(i){if(i!==e.lastRenderer||e.openGLRenderWindow.getMTime()>e.keyMatrixTime.getMTime()||n.getMTime()>e.keyMatrixTime.getMTime()||i.getMTime()>e.keyMatrixTime.getMTime()||e.renderable.getMTime()>e.keyMatrixTime.getMTime()){Be.c.copy(e.keyMatrices.wcvc,e.renderable.getViewMatrix()),Be.b.fromMat4(e.keyMatrices.normalMatrix,e.keyMatrices.wcvc),Be.b.invert(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix),Be.c.transpose(e.keyMatrices.wcvc,e.keyMatrices.wcvc);var c=e.openGLRenderer.getAspectRatio();Be.c.copy(e.keyMatrices.vcpc,e.renderable.getProjectionMatrix(c,-1,1)),Be.c.transpose(e.keyMatrices.vcpc,e.keyMatrices.vcpc),Be.c.multiply(e.keyMatrices.wcpc,e.keyMatrices.vcpc,e.keyMatrices.wcvc),e.keyMatrixTime.modified(),e.lastRenderer=i}return e.keyMatrices}}(o,t)}var Ys={newInstance:r.f(is),extend:is},Co={ARRAY_BUFFER:0,ELEMENT_ARRAY_BUFFER:1,TEXTURE_BUFFER:2},ss={ObjectType:Co};function cs(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function us(o){for(var t=1;t<arguments.length;t++){var v=arguments[t]!=null?arguments[t]:{};t%2?cs(Object(v),!0).forEach(function(n){Xs(o,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(v)):cs(Object(v)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(v,n))})}return o}function Xs(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}var Oi=ss.ObjectType,qs={objectType:Oi.ARRAY_BUFFER,openGLRenderWindow:null,context:null};function ls(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,qs,v),r.b.obj(o,t),r.b.get(o,t,["openGLRenderWindow"]),function(n,e){function i(_){switch(_){case Oi.ELEMENT_ARRAY_BUFFER:return e.context.ELEMENT_ARRAY_BUFFER;case Oi.TEXTURE_BUFFER:if("TEXTURE_BUFFER"in e.context)return e.context.TEXTURE_BUFFER;default:case Oi.ARRAY_BUFFER:return e.context.ARRAY_BUFFER}}e.classHierarchy.push("vtkOpenGLBufferObject");var c=null,l=null,y=!0,R="";n.getType=function(){return c},n.setType=function(_){c=_},n.getHandle=function(){return l},n.isReady=function(){return y===!1},n.generateBuffer=function(_){var $=i(_);return l===null&&(l=e.context.createBuffer(),c=_),i(c)===$},n.upload=function(_,$){return n.generateBuffer($)?(e.context.bindBuffer(i(c),l),e.context.bufferData(i(c),_,e.context.STATIC_DRAW),y=!1,!0):(R="Trying to upload array buffer to incompatible buffer.",!1)},n.bind=function(){return!!l&&(e.context.bindBuffer(i(c),l),!0)},n.release=function(){return!!l&&(e.context.bindBuffer(i(c),null),!0)},n.releaseGraphicsResources=function(){l!==null&&(e.context.bindBuffer(i(c),null),e.context.deleteBuffer(l),l=null)},n.setOpenGLRenderWindow=function(_){e.openGLRenderWindow!==_&&(n.releaseGraphicsResources(),e.openGLRenderWindow=_,e.context=null,_&&(e.context=e.openGLRenderWindow.getContext()))},n.getError=function(){return R}}(o,t)}var Po=us(us({newInstance:r.b.newInstance(ls),extend:ls},{}),ss),fs={PassTypes:{MIN_KNOWN_PASS:0,ACTOR_PASS:0,COMPOSITE_INDEX_PASS:1,ID_LOW24:2,MAX_KNOWN_PASS:2}},Zs={SelectionContent:{GLOBALIDS:0,PEDIGREEIDS:1,VALUES:2,INDICES:3,FRUSTUM:4,LOCATIONS:5,THRESHOLDS:6,BLOCKS:7,QUERY:8},SelectionField:{CELL:0,POINT:1,FIELD:2,VERTEX:3,EDGE:4,ROW:5}};function ds(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function h(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}var T={contentType:-1,fieldType:-1,properties:null,selectionList:[]};function be(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,T,v),r.b.obj(o,t),t.properties={},r.b.setGet(o,t,["contentType","fieldType","properties","selectionList"]),function(n,e){e.classHierarchy.push("vtkSelectionNode"),n.getBounds=function(){return e.points.getBounds()}}(o,t)}var Q=function(o){for(var t=1;t<arguments.length;t++){var v=arguments[t]!=null?arguments[t]:{};t%2?ds(Object(v),!0).forEach(function(n){h(o,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(v)):ds(Object(v)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(v,n))})}return o}({newInstance:r.b.newInstance(be,"vtkSelectionNode"),extend:be},Zs),te=a(78);function je(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function Le(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}var We=fs.PassTypes,vt=Q.SelectionContent,ct=Q.SelectionField,pt=te.a.FieldAssociations,Ut=r.b.vtkErrorMacro,Rt={fieldAssociation:pt.FIELD_ASSOCIATION_CELLS,renderer:null,area:null,openGLRenderWindow:null,openGLRenderer:null,currentPass:-1,propColorValue:null,props:null,idOffset:1,captureZValues:!1};function Wt(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Rt,v),r.b.obj(o,t),t.area=[0,0,0,0],t.propColorValue=[0,0,0],t.props=[],r.b.setGet(o,t,["fieldAssociation","renderer","currentPass","captureZValues"]),r.b.setGetArray(o,t,["area"],4),r.b.setGetArray(o,t,["propColorValue"],3),r.b.event(o,t,"event"),function(n,e){e.classHierarchy.push("vtkOpenGLHardwareSelector"),n.releasePixBuffers=function(){e.pixBuffer=[],e.zBuffer=null},n.beginSelection=function(){e.openGLRenderer=e.openGLRenderWindow.getViewNodeFor(e.renderer),e.maxAttributeId=0;var c=e.openGLRenderWindow.getSize();if(e.framebuffer){e.framebuffer.setOpenGLRenderWindow(e.openGLRenderWindow),e.framebuffer.saveCurrentBindingsAndBuffers();var l=e.framebuffer.getSize();l[0]!==c[0]||l[1]!==c[1]?(e.framebuffer.create(c[0],c[1]),e.framebuffer.populateFramebuffer()):e.framebuffer.bind()}else e.framebuffer=_i.newInstance(),e.framebuffer.setOpenGLRenderWindow(e.openGLRenderWindow),e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.create(c[0],c[1]),e.framebuffer.populateFramebuffer();e.openGLRenderer.clear(),e.openGLRenderer.setSelector(n),e.hitProps={},e.props=[],n.releasePixBuffers()},n.endSelection=function(){e.hitProps={},e.openGLRenderer.setSelector(null),e.framebuffer.restorePreviousBindingsAndBuffers()},n.preCapturePass=function(){},n.postCapturePass=function(){},n.select=function(){var c=null;return n.captureBuffers()&&(c=n.generateSelection(e.area[0],e.area[1],e.area[2],e.area[3]),n.releasePixBuffers()),c},n.captureBuffers=function(){if(!e.renderer||!e.openGLRenderWindow)return Ut("Renderer and view must be set before calling Select."),!1;e.openGLRenderer=e.openGLRenderWindow.getViewNodeFor(e.renderer),n.invokeEvent({type:"StartEvent"}),e.originalBackground=e.renderer.getBackgroundByReference(),e.renderer.setBackground(0,0,0);var c=e.openGLRenderWindow.getRenderPasses();for(n.beginSelection(),e.currentPass=We.MIN_KNOWN_PASS;e.currentPass<=We.COMPOSITE_INDEX_PASS;e.currentPass++)n.passRequired(e.currentPass)&&(n.preCapturePass(e.currentPass),e.captureZValues&&e.currentPass===We.ACTOR_PASS&&typeof c[0].setDepthRequested=="function"&&typeof c[0].getFramebuffer=="function"?(c[0].setDepthRequested(!0),e.openGLRenderWindow.traverseAllPasses(),c[0].setDepthRequested(!1)):e.openGLRenderWindow.traverseAllPasses(),n.postCapturePass(e.currentPass),n.savePixelBuffer(e.currentPass));return n.endSelection(),e.renderer.setBackground(e.originalBackground),n.invokeEvent({type:"EndEvent"}),!0},n.passRequired=function(c){return!0},n.savePixelBuffer=function(c){if(e.pixBuffer[c]=e.openGLRenderWindow.getPixelData(e.area[0],e.area[1],e.area[2],e.area[3]),c===We.ACTOR_PASS){if(e.captureZValues){var l=e.openGLRenderWindow.getRenderPasses();if(typeof l[0].setDepthRequested=="function"&&typeof l[0].getFramebuffer=="function"){var y=l[0].getFramebuffer();y.saveCurrentBindingsAndBuffers(),y.bind(),e.zBuffer=e.openGLRenderWindow.getPixelData(e.area[0],e.area[1],e.area[2],e.area[3]),y.restorePreviousBindingsAndBuffers()}}n.buildPropHitList(e.pixBuffer[c])}},n.buildPropHitList=function(c){for(var l=0;l<=e.area[3]-e.area[1];l++)for(var y=0;y<=e.area[2]-e.area[0];y++){var R=n.convert(y,l,c);R>0&&(--R in e.hitProps||(e.hitProps[R]=!0))}},n.renderProp=function(c){e.currentPass===We.ACTOR_PASS&&(n.setPropColorValueFromInt(e.props.length+e.idOffset),e.props.push(c))},n.renderCompositeIndex=function(c){e.currentPass===We.COMPOSITE_INDEX_PASS&&n.setPropColorValueFromInt(c+e.idOffset)},n.renderAttributeId=function(c){c<0||(e.maxAttributeId=c>e.maxAttributeId?c:e.maxAttributeId)},n.getPropFromID=function(c){return c>=0&&c<e.props.length?e.props[c]:null},n.passTypeToString=function(c){return r.b.enumToString(We,c)},n.isPropHit=function(c){return Boolean(e.hitProps[c])},n.convert=function(c,l,y){if(!y)return 0;var R=4*(l*(e.area[2]-e.area[0]+1)+c),_=[];_[0]=y[R],_[1]=y[R+1],_[2]=y[R+2];var $=_[2];return $*=256,$+=_[1],$*=256,$+=_[0]},n.setPropColorValueFromInt=function(c){e.propColorValue[0]=c%256/255,e.propColorValue[1]=Math.floor(c/256)%256/255,e.propColorValue[2]=Math.floor(c/65536)%256/255},n.getPixelInformation=function(c,l,y){var R=l<0?0:l;if(R===0){if(y[0]=c[0],y[1]=c[1],c[0]<e.area[0]||c[0]>e.area[2]||c[1]<e.area[1]||c[1]>e.area[3])return null;var _=[c[0]-e.area[0],c[1]-e.area[1]],$=n.convert(_[0],_[1],e.pixBuffer[We.ACTOR_PASS]);if($<=0)return null;var re={valid:!0};re.propID=$-e.idOffset,re.prop=n.getPropFromID(re.propID);var he=n.convert(_[0],_[1],e.pixBuffer[We.COMPOSITE_INDEX_PASS]);if((he<0||he>16777215)&&(he=0),re.compositeID=he-e.idOffset,e.captureZValues){var Ee=4*(_[1]*(e.area[2]-e.area[0]+1)+_[0]);re.zValue=(256*e.zBuffer[Ee]+e.zBuffer[Ee+1])/65535,re.displayPosition=c}return re}var Se=[c[0],c[1]],ee=[0,0],we=n.getPixelInformation(c,0,y);if(we&&we.valid)return we;for(var Fe=1;Fe<R;++Fe){for(var Xe=Se[1]>Fe?Se[1]-Fe:0;Xe<=Se[1]+Fe;++Xe)if(ee[1]=Xe,Se[0]>=Fe&&(ee[0]=Se[0]-Fe,(we=n.getPixelInformation(ee,0,y))&&we.valid)||(ee[0]=Se[0]+Fe,(we=n.getPixelInformation(ee,0,y))&&we.valid))return we;for(var qe=Se[0]>=Fe?Se[0]-(Fe-1):0;qe<=Se[0]+(Fe-1);++qe)if(ee[0]=qe,Se[1]>=Fe&&(ee[1]=Se[1]-Fe,(we=n.getPixelInformation(ee,0,y))&&we.valid)||(ee[1]=Se[1]+Fe,(we=n.getPixelInformation(ee,0,y))&&we.valid))return we}return y[0]=c[0],y[1]=c[1],null},n.convertSelection=function(c,l){var y=[],R=0;return l.forEach(function(_,$){var re=Q.newInstance();switch(re.setContentType(vt.INDICES),c){case pt.FIELD_ASSOCIATION_CELLS:re.setFieldType(ct.CELL);break;case pt.FIELD_ASSOCIATION_POINTS:re.setFieldType(ct.POINT);break;default:Ut("Unknown field association")}re.getProperties().propID=_.info.propID,re.getProperties().prop=_.info.prop,re.getProperties().compositeID=_.info.compositeID,re.getProperties().pixelCount=_.pixelCount,e.captureZValues&&(re.getProperties().displayPosition=[_.info.displayPosition[0],_.info.displayPosition[1],_.info.zValue],re.getProperties().worldPosition=e.openGLRenderWindow.displayToWorld(_.info.displayPosition[0],_.info.displayPosition[1],_.info.zValue,e.renderer)),re.setSelectionList(_.attributeIDs),y[R]=re,R++}),y},n.getInfoHash=function(c){return"".concat(c.propID," ").concat(c.compositeID)},n.generateSelection=function(c,l,y,R){for(var _=Math.floor(c),$=Math.floor(l),re=Math.floor(y),he=Math.floor(R),Ee=new Map,Se=[0,0],ee=$;ee<=he;ee++)for(var we=_;we<=re;we++){var Fe=[we,ee],Xe=n.getPixelInformation(Fe,0,Se);if(Xe&&Xe.valid){var qe=n.getInfoHash(Xe);if(Ee.has(qe)){var tt=Ee.get(qe);tt.pixelCount++,e.captureZValues&&Xe.zValue<tt.info.zValue&&(tt.info=Xe),tt.attributeIDs.indexOf(Xe.attributeID)===-1&&tt.attributeIDs.push(Xe.attributeID)}else Ee.set(qe,{info:Xe,pixelCount:1,attributeIDs:[Xe.attributeID]})}}return n.convertSelection(e.fieldAssociation,Ee)},n.attach=function(c,l){e.openGLRenderWindow=c,e.renderer=l};var i=n.setArea;n.setArea=function(){return!!i.apply(void 0,arguments)&&(e.area[0]=Math.floor(e.area[0]),e.area[1]=Math.floor(e.area[1]),e.area[2]=Math.floor(e.area[2]),e.area[3]=Math.floor(e.area[3]),!0)}}(o,t)}var kt=function(o){for(var t=1;t<arguments.length;t++){var v=arguments[t]!=null?arguments[t]:{};t%2?je(Object(v),!0).forEach(function(n){Le(o,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(v)):je(Object(v)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(v,n))})}return o}({newInstance:r.b.newInstance(Wt,"vtkOpenGLHardwareSelector"),extend:Wt},fs),mn=a(24),dn=a(36),an=r.b.vtkDebugMacro,In=r.b.vtkErrorMacro;function Wn(o,t){t.classHierarchy.push("vtkOpenGLCellArrayBufferObject"),o.setType(Co.ARRAY_BUFFER),o.createVBO=function(v,n,e,i){if(!v.getData()||!v.getData().length)return t.elementCount=0,0;t.blockSize=3,t.vertexOffset=0,t.normalOffset=0,t.tCoordOffset=0,t.tCoordComponents=0,t.colorComponents=0,t.colorOffset=0,t.customData=[];var c=i.points.getData(),l=null,y=null,R=null,_=i.colors?i.colors.getNumberOfComponents():0,$=i.tcoords?i.tcoords.getNumberOfComponents():0;i.normals&&(t.normalOffset=4*t.blockSize,t.blockSize+=3,l=i.normals.getData()),i.customAttributes&&i.customAttributes.forEach(function(er){er&&(t.customData.push({data:er.getData(),offset:4*t.blockSize,components:er.getNumberOfComponents(),name:er.getName()}),t.blockSize+=er.getNumberOfComponents())}),i.tcoords&&(t.tCoordOffset=4*t.blockSize,t.tCoordComponents=$,t.blockSize+=$,y=i.tcoords.getData()),i.colors?(t.colorComponents=i.colors.getNumberOfComponents(),t.colorOffset=0,R=i.colors.getData(),t.colorBO||(t.colorBO=Po.newInstance()),t.colorBO.setOpenGLRenderWindow(t.openGLRenderWindow)):t.colorBO=null,t.stride=4*t.blockSize;var re,he=0,Ee=0,Se=0,ee=0,we=0,Fe=0,Xe={anythingToPoints:function(er,tr,Rr){for(var Cr=0;Cr<er;++Cr)re(tr[Rr+Cr])},linesToWireframe:function(er,tr,Rr){for(var Cr=0;Cr<er-1;++Cr)re(tr[Rr+Cr]),re(tr[Rr+Cr+1])},polysToWireframe:function(er,tr,Rr){for(var Cr=0;Cr<er;++Cr)re(tr[Rr+Cr]),re(tr[Rr+(Cr+1)%er])},stripsToWireframe:function(er,tr,Rr){for(var Cr=0;Cr<er-1;++Cr)re(tr[Rr+Cr]),re(tr[Rr+Cr+1]);for(var wa=0;wa<er-2;wa++)re(tr[Rr+wa]),re(tr[Rr+wa+2])},polysToSurface:function(er,tr,Rr){if(er<3)an("skipping degenerate triangle");else for(var Cr=0;Cr<er-2;Cr++)re(tr[Rr+0]),re(tr[Rr+Cr+1]),re(tr[Rr+Cr+2])},stripsToSurface:function(er,tr,Rr){for(var Cr=0;Cr<er-2;Cr++)re(tr[Rr+Cr]),re(tr[Rr+Cr+1+Cr%2]),re(tr[Rr+Cr+1+(Cr+1)%2])}},qe={anythingToPoints:function(er,tr){return er},linesToWireframe:function(er,tr){return 2*(er-1)},polysToWireframe:function(er,tr){return 2*er},stripsToWireframe:function(er,tr){return 4*er-6},polysToSurface:function(er,tr){return er<3?0:3*(er-2)},stripsToSurface:function(er,tr,Rr){return 3*(er-2)}},tt=null,Ye=null;e===dn.a.POINTS||n==="verts"?(tt=Xe.anythingToPoints,Ye=qe.anythingToPoints):e===dn.a.WIREFRAME||n==="lines"?(tt=Xe["".concat(n,"ToWireframe")],Ye=qe["".concat(n,"ToWireframe")]):(tt=Xe["".concat(n,"ToSurface")],Ye=qe["".concat(n,"ToSurface")]);for(var gt=v.getData(),At=gt.length,Vt=0,Jt=0;Jt<At;)Vt+=Ye(gt[Jt],gt),Jt+=gt[Jt]+1;var vn=null,Zt=new Float32Array(Vt*t.blockSize);R&&(vn=new Uint8Array(4*Vt));for(var on=0,Tn=0,En=0,jn=0,Nn=0;Nn<3;++Nn){var Un=i.points.getRange(Nn),Xn=Un[1]-Un[0];En+=Xn*Xn;var Qn=.5*(Un[1]+Un[0]);jn+=Qn*Qn}if(En>0&&(Math.abs(jn)/En>1e6||Math.abs(Math.log10(En))>3||En===0&&jn>1e6)){for(var Er=Be.e.create(),it=Be.e.create(),un=0;un<3;++un){var Cn=i.points.getRange(un),yr=Cn[1]-Cn[0];Er[un]=.5*(Cn[1]+Cn[0]),it[un]=yr>0?1/yr:1}o.setCoordShiftAndScale(Er,it)}else t.coordShiftAndScaleEnabled===!0&&o.setCoordShiftAndScale(null,null);re=function(er){if(he=3*er,t.coordShiftAndScaleEnabled?(Zt[on++]=(c[he++]-t.coordShift[0])*t.coordScale[0],Zt[on++]=(c[he++]-t.coordShift[1])*t.coordScale[1],Zt[on++]=(c[he++]-t.coordShift[2])*t.coordScale[2]):(Zt[on++]=c[he++],Zt[on++]=c[he++],Zt[on++]=c[he++]),l!==null&&(Ee=i.haveCellNormals?3*(Fe+i.cellOffset):3*er,Zt[on++]=l[Ee++],Zt[on++]=l[Ee++],Zt[on++]=l[Ee++]),t.customData.forEach(function(Rr){we=er*Rr.components;for(var Cr=0;Cr<Rr.components;++Cr)Zt[on++]=Rr.data[we++]}),y!==null){Se=er*$;for(var tr=0;tr<$;++tr)Zt[on++]=y[Se++]}R!==null&&(ee=i.haveCellScalars?(Fe+i.cellOffset)*_:er*_,vn[Tn++]=R[ee++],vn[Tn++]=R[ee++],vn[Tn++]=R[ee++],vn[Tn++]=_===4?R[ee++]:255)};for(var Ar=0;Ar<At;)tt(gt[Ar],gt,Ar+1),Ar+=gt[Ar]+1,Fe++;return t.elementCount=Vt,o.upload(Zt,Co.ARRAY_BUFFER),t.colorBO&&(t.colorBOStride=4,t.colorBO.upload(vn,Co.ARRAY_BUFFER)),Fe},o.setCoordShiftAndScale=function(v,n){v===null||v.constructor===Float32Array&&v.length===3?n===null||n.constructor===Float32Array&&n.length===3?(t.coordShift!==null&&v!==null&&Be.e.equals(v,t.coordShift)||(t.coordShift=v),t.coordScale!==null&&n!==null&&Be.e.equals(n,t.coordScale)||(t.coordScale=n),t.coordShiftAndScaleEnabled=function(e,i){return e!==null&&i!==null&&!(Be.e.exactEquals(e,[0,0,0])&&Be.e.exactEquals(i,[1,1,1]))}(t.coordShift,t.coordScale),t.coordShiftAndScaleEnabled?t.inverseShiftAndScaleMatrix=function(e,i){var c=Be.e.create();Be.e.inverse(c,i);var l=Be.c.create();return Be.c.fromRotationTranslationScale(l,Be.d.create(),e,c),l}(t.coordShift,t.coordScale):t.inverseShiftAndScaleMatrix=null):In("Wrong type for coordScale, expected vec3 or null"):In("Wrong type for coordShift, expected vec3 or null")}}var Vn={elementCount:0,stride:0,colorBOStride:0,vertexOffset:0,normalOffset:0,tCoordOffset:0,tCoordComponents:0,colorOffset:0,colorComponents:0,tcoordBO:null,customData:[],coordShift:null,coordScale:null,coordShiftAndScaleEnabled:!1,inverseShiftAndScaleMatrix:null};function Mr(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Vn,v),Po.extend(o,t,v),r.b.setGet(o,t,["colorBO","elementCount","stride","colorBOStride","vertexOffset","normalOffset","tCoordOffset","tCoordComponents","colorOffset","colorComponents","customData"]),r.b.get(o,t,["coordShift","coordScale","coordShiftAndScaleEnabled","inverseShiftAndScaleMatrix"]),Wn(o,t)}var ia={newInstance:r.b.newInstance(Mr),extend:Mr},lr=r.b.vtkErrorMacro,ua={shaderType:"Unknown",source:"",error:"",handle:0,dirty:!1,context:null};function Hr(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,ua,v),r.b.obj(o,t),r.b.setGet(o,t,["shaderType","source","error","handle","context"]),function(n,e){e.classHierarchy.push("vtkShader"),n.compile=function(){var i=e.context.VERTEX_SHADER;if(!e.source||!e.source.length||e.shaderType==="Unknown")return!1;switch(e.handle!==0&&(e.context.deleteShader(e.handle),e.handle=0),e.shaderType){case"Fragment":i=e.context.FRAGMENT_SHADER;break;case"Vertex":default:i=e.context.VERTEX_SHADER}if(e.handle=e.context.createShader(i),e.context.shaderSource(e.handle,e.source),e.context.compileShader(e.handle),!e.context.getShaderParameter(e.handle,e.context.COMPILE_STATUS)){var c=e.context.getShaderInfoLog(e.handle);return lr("Error compiling shader '".concat(e.source,"': ").concat(c)),e.context.deleteShader(e.handle),e.handle=0,!1}return!0},n.cleanup=function(){e.shaderType!=="Unknown"&&e.handle!==0&&(e.context.deleteShader(e.handle),e.handle=0,e.dirty=!0)}}(o,t)}var _r={newInstance:r.b.newInstance(Hr,"vtkShader"),extend:Hr},qr=r.b.vtkErrorMacro,Tr={vertexShaderHandle:0,fragmentShaderHandle:0,geometryShaderHandle:0,vertexShader:null,fragmentShader:null,geometryShader:null,linked:!1,bound:!1,compiled:!1,error:"",handle:0,numberOfOutputs:0,attributesLocs:null,uniformLocs:null,md5Hash:0,context:null,lastCameraMTime:null};function na(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Tr,v),t.attributesLocs={},t.uniformLocs={},t.vertexShader=_r.newInstance(),t.vertexShader.setShaderType("Vertex"),t.fragmentShader=_r.newInstance(),t.fragmentShader.setShaderType("Fragment"),t.geometryShader=_r.newInstance(),t.geometryShader.setShaderType("Geometry"),r.b.obj(o,t),r.b.get(o,t,["lastCameraMTime"]),r.b.setGet(o,t,["error","handle","compiled","bound","md5Hash","vertexShader","fragmentShader","geometryShader","linked"]),function(n,e){e.classHierarchy.push("vtkShaderProgram"),n.compileShader=function(){return e.vertexShader.compile()?e.fragmentShader.compile()?n.attachShader(e.vertexShader)&&n.attachShader(e.fragmentShader)?n.link()?(n.setCompiled(!0),1):(qr("Links failed: ".concat(e.error)),0):(qr(e.error),0):(qr(e.fragmentShader.getSource().split(`
`).map(function(i,c){return"".concat(c,": ").concat(i)}).join(`
`)),qr(e.fragmentShader.getError()),0):(qr(e.vertexShader.getSource().split(`
`).map(function(i,c){return"".concat(c,": ").concat(i)}).join(`
`)),qr(e.vertexShader.getError()),0)},n.cleanup=function(){e.shaderType!=="Unknown"&&e.handle!==0&&(e.context.deleteShader(e.handle),e.handle=0)},n.bind=function(){return!(!e.linked&&!n.link()||(e.context.useProgram(e.handle),n.setBound(!0),0))},n.isBound=function(){return!!e.bound},n.release=function(){e.context.useProgram(null),n.setBound(!1)},n.setContext=function(i){e.vertexShader.setContext(i),e.fragmentShader.setContext(i),e.geometryShader.setContext(i)},n.link=function(){if(e.inked)return!0;if(e.handle===0)return e.error="Program has not been initialized, and/or does not have shaders.",!1;if(e.uniformLocs={},e.context.linkProgram(e.handle),!e.context.getProgramParameter(e.handle,e.context.LINK_STATUS)){var i=e.context.getProgramInfoLog(e.handle);return qr("Error linking shader ".concat(i)),e.handle=0,!1}return n.setLinked(!0),e.attributeLocs={},!0},n.setUniformMatrix=function(i,c){var l=n.findUniform(i);return l===-1?(e.error="Could not set uniform ".concat(i," . No such uniform."),!1):(e.context.uniformMatrix4fv(l,!1,c),!0)},n.setUniformMatrix3x3=function(i,c){var l=n.findUniform(i);return l===-1?(e.error="Could not set uniform ".concat(i," . No such uniform."),!1):(e.context.uniformMatrix3fv(l,!1,c),!0)},n.setUniformf=function(i,c){var l=n.findUniform(i);return l===-1?(e.error="Could not set uniform ".concat(i," . No such uniform."),!1):(e.context.uniform1f(l,c),!0)},n.setUniformfv=function(i,c){var l=n.findUniform(i);return l===-1?(e.error="Could not set uniform ".concat(i," . No such uniform."),!1):(e.context.uniform1fv(l,c),!0)},n.setUniformi=function(i,c){var l=n.findUniform(i);return l===-1?(e.error="Could not set uniform ".concat(i," . No such uniform."),!1):(e.context.uniform1i(l,c),!0)},n.setUniformiv=function(i,c){var l=n.findUniform(i);return l===-1?(e.error="Could not set uniform ".concat(i," . No such uniform."),!1):(e.context.uniform1iv(l,c),!0)},n.setUniform2f=function(i,c,l){var y=n.findUniform(i);if(y===-1)return e.error="Could not set uniform ".concat(i," . No such uniform."),!1;if(l===void 0)throw new RangeError("Invalid number of values for array");return e.context.uniform2f(y,c,l),!0},n.setUniform2fv=function(i,c){var l=n.findUniform(i);return l===-1?(e.error="Could not set uniform ".concat(i," . No such uniform."),!1):(e.context.uniform2fv(l,c),!0)},n.setUniform2i=function(i,c,l){var y=n.findUniform(i);if(y===-1)return e.error="Could not set uniform ".concat(i," . No such uniform."),!1;if(l===void 0)throw new RangeError("Invalid number of values for array");return e.context.uniform2i(y,c,l),!0},n.setUniform2iv=function(i,c){var l=n.findUniform(i);return l===-1?(e.error="Could not set uniform ".concat(i," . No such uniform."),!1):(e.context.uniform2iv(l,c),!0)},n.setUniform3f=function(i,c,l,y){var R=n.findUniform(i);if(R===-1)return e.error="Could not set uniform ".concat(i," . No such uniform."),!1;if(y===void 0)throw new RangeError("Invalid number of values for array");return e.context.uniform3f(R,c,l,y),!0},n.setUniform3fArray=function(i,c){var l=n.findUniform(i);if(l===-1)return e.error="Could not set uniform ".concat(i," . No such uniform."),!1;if(!Array.isArray(c)||c.length!==3)throw new RangeError("Invalid number of values for array");return e.context.uniform3f(l,c[0],c[1],c[2]),!0},n.setUniform3fv=function(i,c){var l=n.findUniform(i);return l===-1?(e.error="Could not set uniform ".concat(i," . No such uniform."),!1):(e.context.uniform3fv(l,c),!0)},n.setUniform3i=function(i){var c=n.findUniform(i);if(c===-1)return e.error="Could not set uniform ".concat(i," . No such uniform."),!1;for(var l=arguments.length,y=new Array(l>1?l-1:0),R=1;R<l;R++)y[R-1]=arguments[R];var _=y;if(_.length===1&&Array.isArray(_[0])&&(_=_[0]),_.length!==3)throw new RangeError("Invalid number of values for array");return e.context.uniform3i(c,_[0],_[1],_[2]),!0},n.setUniform3iv=function(i,c){var l=n.findUniform(i);return l===-1?(e.error="Could not set uniform ".concat(i," . No such uniform."),!1):(e.context.uniform3iv(l,c),!0)},n.setUniform4f=function(i){var c=n.findUniform(i);if(c===-1)return e.error="Could not set uniform ".concat(i," . No such uniform."),!1;for(var l=arguments.length,y=new Array(l>1?l-1:0),R=1;R<l;R++)y[R-1]=arguments[R];var _=y;if(_.length===1&&Array.isArray(_[0])&&(_=_[0]),_.length!==4)throw new RangeError("Invalid number of values for array");return e.context.uniform4f(c,_[0],_[1],_[2],_[3]),!0},n.setUniform4fv=function(i,c){var l=n.findUniform(i);return l===-1?(e.error="Could not set uniform ".concat(i," . No such uniform."),!1):(e.context.uniform4fv(l,c),!0)},n.setUniform4i=function(i){var c=n.findUniform(i);if(c===-1)return e.error="Could not set uniform ".concat(i," . No such uniform."),!1;for(var l=arguments.length,y=new Array(l>1?l-1:0),R=1;R<l;R++)y[R-1]=arguments[R];var _=y;if(_.length===1&&Array.isArray(_[0])&&(_=_[0]),_.length!==4)throw new RangeError("Invalid number of values for array");return e.context.uniform4i(c,_[0],_[1],_[2],_[3]),!0},n.setUniform4iv=function(i,c){var l=n.findUniform(i);return l===-1?(e.error="Could not set uniform ".concat(i," . No such uniform."),!1):(e.context.uniform4iv(l,c),!0)},n.setUniform4fv=function(i,c,l){var y=n.findUniform(i);return y===-1?(e.error="Could not set uniform ".concat(i," . No such uniform."),!1):(e.context.uniform4fv(y,l),!0)},n.findUniform=function(i){if(!i||!e.linked)return-1;var c=e.uniformLocs[i];return c!==void 0?c:(c=e.context.getUniformLocation(e.handle,i))===null?(e.error="Uniform ".concat(i," not found in current shader program."),e.uniformLocs[i]=-1,-1):(e.uniformLocs[i]=c,c)},n.isUniformUsed=function(i){if(!i)return!1;var c=e.uniformLocs[i];return c!==void 0?c!==null:e.linked?(c=e.context.getUniformLocation(e.handle,i),e.uniformLocs[i]=c,c!==null):(qr("attempt to find uniform when the shader program is not linked"),!1)},n.isAttributeUsed=function(i){if(!i)return!1;var c=Object.keys(e.attributeLocs).indexOf(i);return c!==-1||(e.linked?(c=e.context.getAttribLocation(e.handle,i))!==-1&&(e.attributeLocs[i]=c,!0):(qr("attempt to find uniform when the shader program is not linked"),!1))},n.attachShader=function(i){if(i.getHandle()===0)return e.error="Shader object was not initialized, cannot attach it.",!1;if(i.getShaderType()==="Unknown")return e.error="Shader object is of type Unknown and cannot be used.",!1;if(e.handle===0){var c=e.context.createProgram();if(c===0)return e.error="Could not create shader program.",!1;e.handle=c,e.linked=!1}return i.getShaderType()==="Vertex"&&(e.vertexShaderHandle!==0&&e.comntext.detachShader(e.handle,e.vertexShaderHandle),e.vertexShaderHandle=i.getHandle()),i.getShaderType()==="Fragment"&&(e.fragmentShaderHandle!==0&&e.context.detachShader(e.handle,e.fragmentShaderHandle),e.fragmentShaderHandle=i.getHandle()),e.context.attachShader(e.handle,i.getHandle()),n.setLinked(!1),!0},n.detachShader=function(i){if(i.getHandle()===0)return e.error="shader object was not initialized, cannot attach it.",!1;if(i.getShaderType()==="Unknown")return e.error="Shader object is of type Unknown and cannot be used.",!1;switch(e.handle===0&&(e.error="This shader program has not been initialized yet."),i.getShaderType()){case"Vertex":return e.vertexShaderHandle!==i.getHandle()?(e.error="The supplied shader was not attached to this program.",!1):(e.context.detachShader(e.handle,i.getHandle()),e.vertexShaderHandle=0,e.linked=!1,!0);case"Fragment":return e.fragmentShaderHandle!==i.getHandle()?(e.error="The supplied shader was not attached to this program.",!1):(e.context.detachShader(e.handle,i.getHandle()),e.fragmentShaderHandle=0,e.linked=!1,!0);default:return!1}},n.setContext=function(i){e.context=i,e.vertexShader.setContext(i),e.fragmentShader.setContext(i),e.geometryShader.setContext(i)},n.setLastCameraMTime=function(i){e.lastCameraMTime=i}}(o,t)}var qt={newInstance:r.b.newInstance(na,"vtkShaderProgram"),extend:na,substitute:function(o,t,v){var n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],e=Array.isArray(v)?v.join(`
`):v,i=!1;o.search(t)!==-1&&(i=!0);var c="";n&&(c="g");var l=new RegExp(t,c);return{replace:i,result:o.replace(l,e)}}},Ma={forceEmulation:!1,handleVAO:0,handleProgram:0,supported:!0,buffers:null,context:null,openGLRenderWindow:null};function ka(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Ma,v),t.buffers=[],r.b.obj(o,t),r.b.get(o,t,["supported"]),r.b.setGet(o,t,["forceEmulation"]),function(n,e){e.classHierarchy.push("vtkOpenGLVertexArrayObject"),n.exposedMethod=function(){},n.initialize=function(){e.instancingExtension=null,e.openGLRenderWindow.getWebgl2()||(e.instancingExtension=e.context.getExtension("ANGLE_instanced_arrays")),!e.forceEmulation&&e.openGLRenderWindow&&e.openGLRenderWindow.getWebgl2()?(e.extension=null,e.supported=!0,e.handleVAO=e.context.createVertexArray()):(e.extension=e.context.getExtension("OES_vertex_array_object"),!e.forceEmulation&&e.extension?(e.supported=!0,e.handleVAO=e.extension.createVertexArrayOES()):e.supported=!1)},n.isReady=function(){return e.handleVAO!==0||e.supported===!1},n.bind=function(){if(n.isReady()||n.initialize(),n.isReady()&&e.supported)e.extension?e.extension.bindVertexArrayOES(e.handleVAO):e.context.bindVertexArray(e.handleVAO);else if(n.isReady())for(var i=e.context,c=0;c<e.buffers.length;++c){var l=e.buffers[c];e.context.bindBuffer(i.ARRAY_BUFFER,l.buffer);for(var y=0;y<l.attributes.length;++y)for(var R=l.attributes[y],_=R.isMatrix?R.size:1,$=0;$<_;++$)i.enableVertexAttribArray(R.index+$),i.vertexAttribPointer(R.index+$,R.size,R.type,R.normalize,R.stride,R.offset+R.stride*$/R.size),R.divisor>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(R.index+$,1):i.vertexAttribDivisor(R.index+$,1))}},n.release=function(){if(n.isReady()&&e.supported)e.extension?e.extension.bindVertexArrayOES(null):e.context.bindVertexArray(null);else if(n.isReady())for(var i=e.context,c=0;c<e.buffers.length;++c){var l=e.buffers[c];e.context.bindBuffer(i.ARRAY_BUFFER,l.buffer);for(var y=0;y<l.attributes.length;++y)for(var R=l.attributes[y],_=R.isMatrix?R.size:1,$=0;$<_;++$)i.enableVertexAttribArray(R.index+$),i.vertexAttribPointer(R.index+$,R.size,R.type,R.normalize,R.stride,R.offset+R.stride*$/R.size),R.divisor>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(R.index+$,0):i.vertexAttribDivisor(R.index+$,0)),i.disableVertexAttribArray(R.index+$)}},n.shaderProgramChanged=function(){n.release(),e.handleVAO&&(e.extension?e.extension.deleteVertexArrayOES(e.handleVAO):e.context.deleteVertexArray(e.handleVAO)),e.handleVAO=0,e.handleProgram=0},n.releaseGraphicsResources=function(){n.shaderProgramChanged(),e.handleVAO&&(e.extension?e.extension.deleteVertexArrayOES(e.handleVAO):e.context.deleteVertexArray(e.handleVAO)),e.handleVAO=0,e.supported=!0,e.handleProgram=0},n.addAttributeArray=function(i,c,l,y,R,_,$,re){return n.addAttributeArrayWithDivisor(i,c,l,y,R,_,$,re,0,!1)},n.addAttributeArrayWithDivisor=function(i,c,l,y,R,_,$,re,he,Ee){if(!i||!i.isBound()||c.getHandle()===0||c.getType()!==Co.ARRAY_BUFFER||(e.handleProgram===0&&(e.handleProgram=i.getHandle()),n.isReady()||n.initialize(),!n.isReady()||e.handleProgram!==i.getHandle()))return!1;var Se=e.context,ee={};if(ee.name=l,ee.index=Se.getAttribLocation(e.handleProgram,l),ee.offset=y,ee.stride=R,ee.type=_,ee.size=$,ee.normalize=re,ee.isMatrix=Ee,ee.divisor=he,ee.Index===-1)return!1;if(c.bind(),Se.enableVertexAttribArray(ee.index),Se.vertexAttribPointer(ee.index,ee.size,ee.type,ee.normalize,ee.stride,ee.offset),he>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(ee.index,1):Se.vertexAttribDivisor(ee.index,1)),ee.buffer=c.getHandle(),!e.supported){for(var we=!1,Fe=0;Fe<e.buffers.length;++Fe){var Xe=e.buffers[Fe];if(Xe.buffer===ee.buffer){we=!0;for(var qe=!1,tt=0;tt<Xe.attributes.length;++tt)Xe.attributes[tt].name===l&&(qe=!0,Xe.attributes[tt]=ee);qe||Xe.attributes.push(ee)}}we||e.buffers.push({buffer:ee.buffer,attributes:[ee]})}return!0},n.addAttributeMatrixWithDivisor=function(i,c,l,y,R,_,$,re,he){var Ee=n.addAttributeArrayWithDivisor(i,c,l,y,R,_,$,re,he,!0);if(!Ee)return Ee;for(var Se=e.context,ee=Se.getAttribLocation(e.handleProgram,l),we=1;we<$;we++)Se.enableVertexAttribArray(ee+we),Se.vertexAttribPointer(ee+we,$,_,re,R,y+R*we/$),he>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(ee+we,1):Se.vertexAttribDivisor(ee+we,1));return!0},n.removeAttributeArray=function(i){if(!n.isReady()||e.handleProgram===0)return!1;if(!e.supported){for(var c=0;c<e.buffers.length;++c)for(var l=e.buffers[c],y=0;y<l.attributes.length;++y)if(l.attributes[y].name===i)return l.attributes.splice(y,1),l.attributes.length||e.buffers.splice(c,1),!0}return!0},n.setOpenGLRenderWindow=function(i){e.openGLRenderWindow!==i&&(n.releaseGraphicsResources(),e.openGLRenderWindow=i,e.context=null,i&&(e.context=e.openGLRenderWindow.getContext()))}}(o,t)}var ro={newInstance:r.b.newInstance(ka,"vtkOpenGLVertexArrayObject"),extend:ka},Za={program:null,shaderSourceTime:null,VAO:null,attributeUpdateTime:null,CABO:null,primitiveType:0};function Lo(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Za,v),r.b.obj(o,t),t.shaderSourceTime={},r.b.obj(t.shaderSourceTime),t.attributeUpdateTime={},r.b.obj(t.attributeUpdateTime),r.b.setGet(o,t,["program","shaderSourceTime","VAO","attributeUpdateTime","CABO","primitiveType"]),t.program=qt.newInstance(),t.VAO=ro.newInstance(),t.CABO=ia.newInstance(),function(n,e){e.classHierarchy.push("vtkOpenGLHelper"),n.setOpenGLRenderWindow=function(i){e.program.setContext(i.getContext()),e.VAO.setOpenGLRenderWindow(i),e.CABO.setOpenGLRenderWindow(i)},n.releaseGraphicsResources=function(i){e.VAO.releaseGraphicsResources(),e.CABO.releaseGraphicsResources(),e.CABO.setElementCount(0)}}(o,t)}var co={newInstance:r.b.newInstance(Lo),extend:Lo},_o=a(104),Zo=a.n(_o),vi=a(57),Ha=a.n(vi),Bc={implementReplaceShaderCoincidentOffset:function(o,t){o.replaceShaderCoincidentOffset=function(v,n,e){var i=o.getCoincidentParameters(n,e);if(i&&(i.factor!==0||i.offset!==0)){var c=v.Fragment;c=qt.substitute(c,"//VTK::Coincident::Dec",["uniform float cfactor;","uniform float coffset;"]).result,t.context.getExtension("EXT_frag_depth")&&(i.factor!==0?(c=qt.substitute(c,"//VTK::UniformFlow::Impl",["float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));","//VTK::UniformFlow::Impl"],!1).result,c=qt.substitute(c,"//VTK::Depth::Impl","gl_FragDepthEXT = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;").result):c=qt.substitute(c,"//VTK::Depth::Impl","gl_FragDepthEXT = gl_FragCoord.z + 0.000016*coffset;").result),t.openGLRenderWindow.getWebgl2()&&(i.factor!==0?(c=qt.substitute(c,"//VTK::UniformFlow::Impl",["float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));","//VTK::UniformFlow::Impl"],!1).result,c=qt.substitute(c,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;").result):c=qt.substitute(c,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + 0.000016*coffset;").result),v.Fragment=c}}}};function K0(o){return function(t){if(Array.isArray(t))return Js(t)}(o)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(o)||function(t,v){if(!!t){if(typeof t=="string")return Js(t,v);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Js(t,v)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Js(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}var la={Start:0,Points:0,Lines:1,Tris:2,TriStrips:3,TrisEdges:4,TriStripsEdges:5,End:6},Vo=mn.a.Representation,Fc=mn.a.Shading,ps=st.a.ScalarMode,Lc=qa.Filter,_c=qa.Wrap,yi=r.b.vtkErrorMacro,H0={type:"StartEvent"},Q0={type:"EndEvent"},Y0={context:null,VBOBuildTime:0,VBOBuildString:null,primitives:null,primTypes:null,shaderRebuildString:null,tmpMat4:null,ambientColor:[],diffuseColor:[],specularColor:[],lightColor:[],lightHalfAngle:[],lightDirection:[],lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1};function Vc(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Y0,v),Ia.extend(o,t,v),Bc.implementReplaceShaderCoincidentOffset(o,t,v),t.primitives=[],t.primTypes=la,t.tmpMat3=Be.b.create(),t.tmpMat4=Be.c.create();for(var n=la.Start;n<la.End;n++)t.primitives[n]=co.newInstance(),t.primitives[n].setPrimitiveType(n),t.primitives[n].set({lastLightComplexity:0,lastLightCount:0,lastSelectionPass:!1},!0);r.b.setGet(o,t,["context"]),t.VBOBuildTime={},r.b.obj(t.VBOBuildTime,{mtime:0}),function(e,i){function c(l,y,R){return y.identity(R),l.reduce(function(_,$,re){return re===0?$?y.copy(_,$):y.identity(_):$?y.multiply(_,_,$):_},R)}i.classHierarchy.push("vtkOpenGLPolyDataMapper"),e.buildPass=function(l){l&&(i.openGLActor=e.getFirstAncestorOfType("vtkOpenGLActor"),i.openGLRenderer=i.openGLActor.getFirstAncestorOfType("vtkOpenGLRenderer"),i.openGLRenderWindow=i.openGLRenderer.getParent(),i.openGLCamera=i.openGLRenderer.getViewNodeFor(i.openGLRenderer.getRenderable().getActiveCamera()))},e.translucentPass=function(l){l&&e.render()},e.opaqueZBufferPass=function(l){l&&(i.haveSeenDepthRequest=!0,i.renderDepth=!0,e.render(),i.renderDepth=!1)},e.opaquePass=function(l){l&&e.render()},e.render=function(){var l=i.openGLRenderWindow.getContext();if(i.context!==l){i.context=l;for(var y=la.Start;y<la.End;y++)i.primitives[y].setOpenGLRenderWindow(i.openGLRenderWindow)}var R=i.openGLActor.getRenderable(),_=i.openGLRenderer.getRenderable();e.renderPiece(_,R)},e.buildShaders=function(l,y,R){e.getShaderTemplate(l,y,R);var _=i.renderable.getViewSpecificProperties().OpenGL,$=null;if(_&&($=_.ShaderReplacements),$)for(var re=0;re<$.length;re++){var he=$[re];if(he.replaceFirst){var Ee=he.shaderType,Se=l[Ee],ee=qt.substitute(Se,he.originalValue,he.replacementValue,he.replaceAll);l[Ee]=ee.result}}if(e.replaceShaderValues(l,y,R),$)for(var we=0;we<$.length;we++){var Fe=$[we];if(!Fe.replaceFirst){var Xe=Fe.shaderType,qe=l[Xe],tt=qt.substitute(qe,Fe.originalValue,Fe.replacementValue,Fe.replaceAll);l[Xe]=tt.result}}},e.getShaderTemplate=function(l,y,R){var _=i.renderable.getViewSpecificProperties().OpenGL,$=Zo.a;if(_){var re=_.VertexShaderCode;re!==void 0&&re!==""&&($=re)}l.Vertex=$;var he=Ha.a;if(_){var Ee=_.FragmentShaderCode;Ee!==void 0&&Ee!==""&&(he=Ee)}l.Fragment=he;var Se="";if(_){var ee=_.GeometryShaderCode;ee!==void 0&&(Se=ee)}l.Geometry=Se},e.replaceShaderColor=function(l,y,R){var _=l.Vertex,$=l.Geometry,re=l.Fragment,he=i.lastBoundBO.getReferenceByName("lastLightComplexity"),Ee=["uniform float ambient;","uniform float diffuse;","uniform float specular;","uniform float opacityUniform; // the fragment opacity","uniform vec3 ambientColorUniform;","uniform vec3 diffuseColorUniform;"];he&&(Ee=Ee.concat(["uniform vec3 specularColorUniform;","uniform float specularPowerUniform;"]));var Se=["vec3 ambientColor;","  vec3 diffuseColor;","  float opacity;"];he&&(Se=Se.concat(["  vec3 specularColor;","  float specularPower;"])),Se=Se.concat(["  ambientColor = ambientColorUniform;","  diffuseColor = diffuseColorUniform;","  opacity = opacityUniform;"]),he&&(Se=Se.concat(["  specularColor = specularColorUniform;","  specularPower = specularPowerUniform;"])),i.lastBoundBO.getCABO().getColorComponents()===0||i.drawingEdges||(Ee=Ee.concat(["varying vec4 vertexColorVSOutput;"]),_=qt.substitute(_,"//VTK::Color::Dec",["attribute vec4 scalarColor;","varying vec4 vertexColorVSOutput;"]).result,_=qt.substitute(_,"//VTK::Color::Impl",["vertexColorVSOutput =  scalarColor;"]).result,$=qt.substitute($,"//VTK::Color::Dec",["in vec4 vertexColorVSOutput[];","out vec4 vertexColorGSOutput;"]).result,$=qt.substitute($,"//VTK::Color::Impl",["vertexColorGSOutput = vertexColorVSOutput[i];"]).result),re=i.lastBoundBO.getCABO().getColorComponents()===0||i.drawingEdges?i.renderable.getInterpolateScalarsBeforeMapping()&&i.renderable.getColorCoordinates()&&!i.drawingEdges?qt.substitute(re,"//VTK::Color::Impl",Se.concat(["  vec4 texColor = texture2D(texture1, tcoordVCVSOutput.st);","  diffuseColor = texColor.rgb;","  ambientColor = texColor.rgb;","  opacity = opacity*texColor.a;"])).result:qt.substitute(re,"//VTK::Color::Impl",Se).result:qt.substitute(re,"//VTK::Color::Impl",Se.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])).result,re=qt.substitute(re,"//VTK::Color::Dec",Ee).result,l.Vertex=_,l.Geometry=$,l.Fragment=re},e.replaceShaderLight=function(l,y,R){var _=l.Fragment,$=i.lastBoundBO.getReferenceByName("lastLightComplexity"),re=i.lastBoundBO.getReferenceByName("lastLightCount"),he=[];switch($){case 0:_=qt.substitute(_,"//VTK::Light::Impl",["  gl_FragData[0] = vec4(ambientColor * ambient + diffuseColor * diffuse, opacity);","  //VTK::Light::Impl"],!1).result;break;case 1:_=qt.substitute(_,"//VTK::Light::Impl",["  float df = max(0.0, normalVCVSOutput.z);","  float sf = pow(df, specularPower);","  vec3 diffuseL = df * diffuseColor;","  vec3 specularL = sf * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"],!1).result;break;case 2:for(var Ee=0;Ee<re;++Ee)he=he.concat(["uniform vec3 lightColor".concat(Ee,";"),"uniform vec3 lightDirectionVC".concat(Ee,"; // normalized"),"uniform vec3 lightHalfAngleVC".concat(Ee,"; // normalized")]);_=qt.substitute(_,"//VTK::Light::Dec",he).result,he=["vec3 diffuseL = vec3(0,0,0);","  vec3 specularL = vec3(0,0,0);","  float df;"];for(var Se=0;Se<re;++Se)he=he.concat(["  df = max(0.0, dot(normalVCVSOutput, -lightDirectionVC".concat(Se,"));"),"  diffuseL += ((df".concat("",") * lightColor").concat(Se,");"),"  if (dot(normalVCVSOutput, lightDirectionVC".concat(Se,") < 0.0)"),"    {","    float sf = pow( max(0.0, dot(lightHalfAngleVC".concat(Se,",normalVCVSOutput)), specularPower);"),"    specularL += ((sf".concat("",") * lightColor").concat(Se,");"),"    }"]);he=he.concat(["  diffuseL = diffuseL * diffuseColor;","  specularL = specularL * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"]),_=qt.substitute(_,"//VTK::Light::Impl",he,!1).result;break;case 3:for(var ee=0;ee<re;++ee)he=he.concat(["uniform vec3 lightColor".concat(ee,";"),"uniform vec3 lightDirectionVC".concat(ee,"; // normalized"),"uniform vec3 lightHalfAngleVC".concat(ee,"; // normalized"),"uniform vec3 lightPositionVC".concat(ee,";"),"uniform vec3 lightAttenuation".concat(ee,";"),"uniform float lightConeAngle".concat(ee,";"),"uniform float lightExponent".concat(ee,";"),"uniform int lightPositional".concat(ee,";")]);_=qt.substitute(_,"//VTK::Light::Dec",he).result,he=["vec3 diffuseL = vec3(0,0,0);","  vec3 specularL = vec3(0,0,0);","  vec3 vertLightDirectionVC;","  float attenuation;","  float df;"];for(var we=0;we<re;++we)he=he.concat(["  attenuation = 1.0;","  if (lightPositional".concat(we," == 0)"),"    {","      vertLightDirectionVC = lightDirectionVC".concat(we,";"),"    }","  else","    {","    vertLightDirectionVC = vertexVC.xyz - lightPositionVC".concat(we,";"),"    float distanceVC = length(vertLightDirectionVC);","    vertLightDirectionVC = normalize(vertLightDirectionVC);","    attenuation = 1.0 /","      (lightAttenuation".concat(we,".x"),"       + lightAttenuation".concat(we,".y * distanceVC"),"       + lightAttenuation".concat(we,".z * distanceVC * distanceVC);"),"    // per OpenGL standard cone angle is 90 or less for a spot light","    if (lightConeAngle".concat(we," <= 90.0)"),"      {","      float coneDot = dot(vertLightDirectionVC, lightDirectionVC".concat(we,");"),"      // if inside the cone","      if (coneDot >= cos(radians(lightConeAngle".concat(we,")))"),"        {","        attenuation = attenuation * pow(coneDot, lightExponent".concat(we,");"),"        }","      else","        {","        attenuation = 0.0;","        }","      }","    }","    df = max(0.0, attenuation*dot(normalVCVSOutput, -vertLightDirectionVC));","    diffuseL += ((df".concat("",") * lightColor").concat(we,");"),"    if (dot(normalVCVSOutput, vertLightDirectionVC) < 0.0)","      {","      float sf = attenuation*pow( max(0.0, dot(lightHalfAngleVC".concat(we,",normalVCVSOutput)), specularPower);"),"    specularL += ((sf".concat("",") * lightColor").concat(we,");"),"    }"]);he=he.concat(["  diffuseL = diffuseL * diffuseColor;","  specularL = specularL * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"]),_=qt.substitute(_,"//VTK::Light::Impl",he,!1).result;break;default:yi("bad light complexity")}l.Fragment=_},e.replaceShaderNormal=function(l,y,R){if(i.lastBoundBO.getReferenceByName("lastLightComplexity")>0){var _=l.Vertex,$=l.Geometry,re=l.Fragment;i.lastBoundBO.getCABO().getNormalOffset()?(_=qt.substitute(_,"//VTK::Normal::Dec",["attribute vec3 normalMC;","uniform mat3 normalMatrix;","varying vec3 normalVCVSOutput;"]).result,_=qt.substitute(_,"//VTK::Normal::Impl",["normalVCVSOutput = normalMatrix * normalMC;"]).result,$=qt.substitute($,"//VTK::Normal::Dec",["in vec3 normalVCVSOutput[];","out vec3 normalVCGSOutput;"]).result,$=qt.substitute($,"//VTK::Normal::Impl",["normalVCGSOutput = normalVCVSOutput[i];"]).result,re=qt.substitute(re,"//VTK::Normal::Dec",["varying vec3 normalVCVSOutput;"]).result,re=qt.substitute(re,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalVCVSOutput);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):i.haveCellNormals?(re=qt.substitute(re,"//VTK::Normal::Dec",["uniform mat3 normalMatrix;","uniform samplerBuffer textureN;"]).result,re=qt.substitute(re,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalMatrix *","    texelFetchBuffer(textureN, gl_PrimitiveID + PrimitiveIDOffset).xyz);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):e.getOpenGLMode(R.getProperty().getRepresentation(),i.lastBoundBO.getPrimitiveType())===i.context.LINES?(re=qt.substitute(re,"//VTK::UniformFlow::Impl",["  vec3 fdx = vec3(dFdx(vertexVC.x),dFdx(vertexVC.y),dFdx(vertexVC.z));","  vec3 fdy = vec3(dFdy(vertexVC.x),dFdy(vertexVC.y),dFdy(vertexVC.z));","  //VTK::UniformFlow::Impl"]).result,re=qt.substitute(re,"//VTK::Normal::Impl",["vec3 normalVCVSOutput;","  fdx = normalize(fdx);","  fdy = normalize(fdy);","  if (abs(fdx.x) > 0.0)","    { normalVCVSOutput = normalize(cross(vec3(fdx.y, -fdx.x, 0.0), fdx)); }","  else { normalVCVSOutput = normalize(cross(vec3(fdy.y, -fdy.x, 0.0), fdy));}"]).result):(re=qt.substitute(re,"//VTK::Normal::Dec",["uniform int cameraParallel;"]).result,re=qt.substitute(re,"//VTK::UniformFlow::Impl",["  vec3 fdx = dFdx(vertexVC.xyz);","  vec3 fdy = dFdy(vertexVC.xyz);","  //VTK::UniformFlow::Impl"]).result,re=qt.substitute(re,"//VTK::Normal::Impl",["  fdx = normalize(fdx);","  fdy = normalize(fdy);","  vec3 normalVCVSOutput = normalize(cross(fdx,fdy));","  if (cameraParallel == 1 && normalVCVSOutput.z < 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }","  if (cameraParallel == 0 && dot(normalVCVSOutput,vertexVC.xyz) > 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }"]).result),l.Vertex=_,l.Geometry=$,l.Fragment=re}},e.replaceShaderPositionVC=function(l,y,R){var _=l.Vertex,$=l.Geometry,re=l.Fragment;R.getProperty().getRepresentation()!==Vo.POINTS&&i.lastBoundBO.getPrimitiveType()!==la.Points||(_=qt.substitute(_,"//VTK::PositionVC::Impl",["//VTK::PositionVC::Impl","  gl_PointSize = ".concat(R.getProperty().getPointSize(),".0;")],!1).result),i.lastBoundBO.getReferenceByName("lastLightComplexity")>0?(_=qt.substitute(_,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,_=qt.substitute(_,"//VTK::PositionVC::Impl",["vertexVCVSOutput = MCVCMatrix * vertexMC;","  gl_Position = MCPCMatrix * vertexMC;"]).result,_=qt.substitute(_,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;","uniform mat4 MCVCMatrix;"]).result,$=qt.substitute($,"//VTK::PositionVC::Dec",["in vec4 vertexVCVSOutput[];","out vec4 vertexVCGSOutput;"]).result,$=qt.substitute($,"//VTK::PositionVC::Impl",["vertexVCGSOutput = vertexVCVSOutput[i];"]).result,re=qt.substitute(re,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,re=qt.substitute(re,"//VTK::PositionVC::Impl",["vec4 vertexVC = vertexVCVSOutput;"]).result):(_=qt.substitute(_,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;"]).result,_=qt.substitute(_,"//VTK::PositionVC::Impl",["  gl_Position = MCPCMatrix * vertexMC;"]).result),l.Vertex=_,l.Geometry=$,l.Fragment=re},e.replaceShaderTCoord=function(l,y,R){if(i.lastBoundBO.getCABO().getTCoordOffset()){var _=l.Vertex,$=l.Geometry,re=l.Fragment;if(i.drawingEdges)return;_=qt.substitute(_,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result;var he=i.openGLActor.getActiveTextures(),Ee=2,Se=2;if(he&&he.length>0&&(Ee=he[0].getComponents(),he[0].getTarget()===i.context.TEXTURE_CUBE_MAP&&(Se=3)),i.renderable.getColorTextureMap()&&(Ee=i.renderable.getColorTextureMap().getPointData().getScalars().getNumberOfComponents(),Se=2),Se===2){if(_=qt.substitute(_,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result,$=qt.substitute($,"//VTK::TCoord::Dec",["in vec2 tcoordVCVSOutput[];","out vec2 tcoordVCGSOutput;"]).result,$=qt.substitute($,"//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];").result,re=qt.substitute(re,"//VTK::TCoord::Dec",["varying vec2 tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,he&&he.length>=1)switch(Ee){case 1:re=qt.substitute(re,"//VTK::TCoord::Impl",["vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*","  vec4(tcolor.r,tcolor.r,tcolor.r,1.0);"]).result;break;case 2:re=qt.substitute(re,"//VTK::TCoord::Impl",["vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*","  vec4(tcolor.r,tcolor.r,tcolor.r,tcolor.g);"]).result;break;default:re=qt.substitute(re,"//VTK::TCoord::Impl","gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*texture2D(texture1, tcoordVCVSOutput.st);").result}}else switch(_=qt.substitute(_,"//VTK::TCoord::Dec","attribute vec3 tcoordMC; varying vec3 tcoordVCVSOutput;").result,$=qt.substitute($,"//VTK::TCoord::Dec",["in vec3 tcoordVCVSOutput[];","out vec3 tcoordVCGSOutput;"]).result,$=qt.substitute($,"//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];").result,re=qt.substitute(re,"//VTK::TCoord::Dec",["varying vec3 tcoordVCVSOutput;","uniform samplerCube texture1;"]).result,Ee){case 1:re=qt.substitute(re,"//VTK::TCoord::Impl",["vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*","  vec4(tcolor.r,tcolor.r,tcolor.r,1.0);"]).result;break;case 2:re=qt.substitute(re,"//VTK::TCoord::Impl",["vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*","  vec4(tcolor.r,tcolor.r,tcolor.r,tcolor.g);"]).result;break;default:re=qt.substitute(re,"//VTK::TCoord::Impl","gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*textureCube(texture1, tcoordVCVSOutput);").result}l.Vertex=_,l.Geometry=$,l.Fragment=re}},e.replaceShaderClip=function(l,y,R){var _=l.Vertex,$=l.Fragment;if(i.renderable.getNumberOfClippingPlanes()){var re=i.renderable.getNumberOfClippingPlanes();re>6&&(r.b.vtkErrorMacro("OpenGL has a limit of 6 clipping planes"),re=6),_=qt.substitute(_,"//VTK::Clip::Dec",["uniform int numClipPlanes;","uniform vec4 clipPlanes[6];","varying float clipDistancesVSOutput[6];"]).result,_=qt.substitute(_,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);","    }"]).result,$=qt.substitute($,"//VTK::Clip::Dec",["uniform int numClipPlanes;","varying float clipDistancesVSOutput[6];"]).result,$=qt.substitute($,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    if (clipDistancesVSOutput[planeNum] < 0.0) discard;","    }"]).result}l.Vertex=_,l.Fragment=$},e.getCoincidentParameters=function(l,y){var R=null,_=y.getProperty();if(i.renderable.getResolveCoincidentTopology()||_.getEdgeVisibility()&&_.getRepresentation()===Vo.SURFACE){var $=i.lastBoundBO.getPrimitiveType();$===la.Points||_.getRepresentation()===Vo.POINTS?R=i.renderable.getCoincidentTopologyPointOffsetParameter():$===la.Lines||_.getRepresentation()===Vo.WIREFRAME?R=i.renderable.getCoincidentTopologyLineOffsetParameters():$!==la.Tris&&$!==la.TriStrips||(R=i.renderable.getCoincidentTopologyPolygonOffsetParameters()),$!==la.TrisEdges&&$!==la.TriStripsEdges||((R=i.renderable.getCoincidentTopologyPolygonOffsetParameters()).factor/=2,R.offset/=2)}return R},e.replaceShaderPicking=function(l,y,R){var _=l.Fragment;_=qt.substitute(_,"//VTK::Picking::Dec",["uniform vec3 mapperIndex;","uniform int picking;"]).result,_=qt.substitute(_,"//VTK::Picking::Impl","  gl_FragData[0] = picking != 0 ? vec4(mapperIndex,1.0) : gl_FragData[0];").result,l.Fragment=_},e.replaceShaderValues=function(l,y,R){if(e.replaceShaderColor(l,y,R),e.replaceShaderNormal(l,y,R),e.replaceShaderLight(l,y,R),e.replaceShaderTCoord(l,y,R),e.replaceShaderPicking(l,y,R),e.replaceShaderClip(l,y,R),e.replaceShaderCoincidentOffset(l,y,R),e.replaceShaderPositionVC(l,y,R),i.haveSeenDepthRequest){var _=l.Fragment;_=qt.substitute(_,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,_=qt.substitute(_,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result,l.Fragment=_}},e.getNeedToRebuildShaders=function(l,y,R){var _=0,$=0,re=l.getPrimitiveType(),he=i.currentInput,Ee=!1,Se=he.getPointData().getNormals(),ee=he.getCellData().getNormals(),we=R.getProperty().getInterpolation()===Fc.FLAT,Fe=R.getProperty().getRepresentation(),Xe=e.getOpenGLMode(Fe,re);if(Xe===i.context.TRIANGLES||ee&&!Se||!we&&Se?Ee=!0:we||Xe!==i.context.LINES||(Ee=!0),R.getProperty().getLighting()&&Ee){_=0;for(var qe=y.getLightsByReference(),tt=0;tt<qe.length;++tt){var Ye=qe[tt];Ye.getSwitch()>0&&($++,_===0&&(_=1)),_===1&&($>1||Ye.getIntensity()!==1||!Ye.lightTypeIsHeadLight())&&(_=2),_<3&&Ye.getPositional()&&(_=3)}}var gt=!1,At=i.lastBoundBO.getReferenceByName("lastLightComplexity"),Vt=i.lastBoundBO.getReferenceByName("lastLightCount");return At===_&&Vt===$||(i.lastBoundBO.set({lastLightComplexity:_},!0),i.lastBoundBO.set({lastLightCount:$},!0),gt=!0),!!(i.lastHaveSeenDepthRequest!==i.haveSeenDepthRequest||l.getProgram()===0||l.getShaderSourceTime().getMTime()<e.getMTime()||l.getShaderSourceTime().getMTime()<R.getMTime()||l.getShaderSourceTime().getMTime()<i.renderable.getMTime()||l.getShaderSourceTime().getMTime()<i.currentInput.getMTime()||gt)&&(i.lastHaveSeenDepthRequest=i.haveSeenDepthRequest,!0)},e.updateShaders=function(l,y,R){if(i.lastBoundBO=l,e.getNeedToRebuildShaders(l,y,R)){var _={Vertex:null,Fragment:null,Geometry:null};e.buildShaders(_,y,R);var $=i.openGLRenderWindow.getShaderCache().readyShaderProgramArray(_.Vertex,_.Fragment,_.Geometry);$!==l.getProgram()&&(l.setProgram($),l.getVAO().releaseGraphicsResources()),l.getShaderSourceTime().modified()}else i.openGLRenderWindow.getShaderCache().readyShaderProgram(l.getProgram());l.getVAO().bind(),e.setMapperShaderParameters(l,y,R),e.setPropertyShaderParameters(l,y,R),e.setCameraShaderParameters(l,y,R),e.setLightingShaderParameters(l,y,R);var re=i.renderable.getViewSpecificProperties().ShadersCallbacks;re&&re.forEach(function(he){he.callback(he.userData,l,y,R)})},e.setMapperShaderParameters=function(l,y,R){if(l.getProgram().isUniformUsed("PrimitiveIDOffset")&&l.getProgram().setUniformi("PrimitiveIDOffset",i.primitiveIDOffset),l.getCABO().getElementCount()&&(i.VBOBuildTime.getMTime()>l.getAttributeUpdateTime().getMTime()||l.getShaderSourceTime().getMTime()>l.getAttributeUpdateTime().getMTime())){var _=i.lastBoundBO.getReferenceByName("lastLightComplexity");l.getProgram().isAttributeUsed("vertexMC")&&(l.getVAO().addAttributeArray(l.getProgram(),l.getCABO(),"vertexMC",l.getCABO().getVertexOffset(),l.getCABO().getStride(),i.context.FLOAT,3,!1)||yi("Error setting vertexMC in shader VAO.")),l.getProgram().isAttributeUsed("normalMC")&&l.getCABO().getNormalOffset()&&_>0?l.getVAO().addAttributeArray(l.getProgram(),l.getCABO(),"normalMC",l.getCABO().getNormalOffset(),l.getCABO().getStride(),i.context.FLOAT,3,!1)||yi("Error setting normalMC in shader VAO."):l.getVAO().removeAttributeArray("normalMC"),i.renderable.getCustomShaderAttributes().forEach(function(Ye,gt){l.getProgram().isAttributeUsed("".concat(Ye,"MC"))&&(l.getVAO().addAttributeArray(l.getProgram(),l.getCABO(),"".concat(Ye,"MC"),l.getCABO().getCustomData()[gt].offset,l.getCABO().getStride(),i.context.FLOAT,l.getCABO().getCustomData()[gt].components,!1)||yi("Error setting ".concat(Ye,"MC in shader VAO.")))}),l.getProgram().isAttributeUsed("tcoordMC")&&l.getCABO().getTCoordOffset()?l.getVAO().addAttributeArray(l.getProgram(),l.getCABO(),"tcoordMC",l.getCABO().getTCoordOffset(),l.getCABO().getStride(),i.context.FLOAT,l.getCABO().getTCoordComponents(),!1)||yi("Error setting tcoordMC in shader VAO."):l.getVAO().removeAttributeArray("tcoordMC"),l.getProgram().isAttributeUsed("scalarColor")&&l.getCABO().getColorComponents()?l.getVAO().addAttributeArray(l.getProgram(),l.getCABO().getColorBO(),"scalarColor",l.getCABO().getColorOffset(),l.getCABO().getColorBOStride(),i.context.UNSIGNED_BYTE,4,!0)||yi("Error setting scalarColor in shader VAO."):l.getVAO().removeAttributeArray("scalarColor"),l.getAttributeUpdateTime().modified()}if(i.renderable.getNumberOfClippingPlanes()){var $=i.renderable.getNumberOfClippingPlanes();$>6&&(r.b.vtkErrorMacro("OpenGL has a limit of 6 clipping planes"),$=6);for(var re=[],he=0;he<$;he++){var Ee=[];i.renderable.getClippingPlaneInDataCoords(R.getMatrix(),he,Ee);for(var Se=0;Se<4;Se++)re.push(Ee[Se])}l.getProgram().setUniformi("numClipPlanes",$),l.getProgram().setUniform4fv("clipPlanes",6,re)}i.internalColorTexture&&l.getProgram().isUniformUsed("texture1")&&l.getProgram().setUniformi("texture1",i.internalColorTexture.getTextureUnit());var ee=i.openGLActor.getActiveTextures();if(ee)for(var we=0;we<ee.length;++we){var Fe=ee[we].getTextureUnit(),Xe="texture".concat(Fe+1);l.getProgram().isUniformUsed(Xe)&&l.getProgram().setUniformi(Xe,Fe)}if(i.haveSeenDepthRequest&&l.getProgram().setUniformi("depthRequest",i.renderDepth?1:0),l.getProgram().isUniformUsed("coffset")){var qe=e.getCoincidentParameters(y,R);l.getProgram().setUniformf("coffset",qe.offset),l.getProgram().isUniformUsed("cfactor")&&l.getProgram().setUniformf("cfactor",qe.factor)}var tt=i.openGLRenderer.getSelector();l.getProgram().setUniform3fArray("mapperIndex",tt?tt.getPropColorValue():[0,0,0]),l.getProgram().setUniformi("picking",tt?tt.getCurrentPass()+1:0)},e.setLightingShaderParameters=function(l,y,R){var _=i.lastBoundBO.getReferenceByName("lastLightComplexity");if(!(_<2)){for(var $=l.getProgram(),re=0,he=y.getLightsByReference(),Ee=0;Ee<he.length;++Ee){var Se=he[Ee];if(Se.getSwitch()>0){var ee=Se.getColorByReference(),we=Se.getIntensity();i.lightColor[0]=ee[0]*we,i.lightColor[1]=ee[1]*we,i.lightColor[2]=ee[2]*we;var Fe=Se.getDirection(),Xe=y.getActiveCamera().getViewMatrix(),qe=K0(Fe);Se.lightTypeIsSceneLight()&&(qe[0]=Xe[0]*Fe[0]+Xe[1]*Fe[1]+Xe[2]*Fe[2],qe[1]=Xe[4]*Fe[0]+Xe[5]*Fe[1]+Xe[6]*Fe[2],qe[2]=Xe[8]*Fe[0]+Xe[9]*Fe[1]+Xe[10]*Fe[2],dt.w(qe)),i.lightDirection[0]=qe[0],i.lightDirection[1]=qe[1],i.lightDirection[2]=qe[2],i.lightHalfAngle[0]=-i.lightDirection[0],i.lightHalfAngle[1]=-i.lightDirection[1],i.lightHalfAngle[2]=1-i.lightDirection[2],dt.w(i.lightDirection),$.setUniform3fArray("lightColor".concat(re),i.lightColor),$.setUniform3fArray("lightDirectionVC".concat(re),i.lightDirection),$.setUniform3fArray("lightHalfAngleVC".concat(re),i.lightHalfAngle),re++}}if(!(_<3)){var tt=y.getActiveCamera().getViewMatrix();Be.c.transpose(tt,tt),re=0;for(var Ye=0;Ye<he.length;++Ye){var gt=he[Ye];if(gt.getSwitch()>0){var At=gt.getTransformedPosition(),Vt=Be.e.fromValues(At[0],At[1],At[2]);Be.e.transformMat4(Vt,Vt,tt),$.setUniform3fArray("lightAttenuation".concat(re),gt.getAttenuationValuesByReference()),$.setUniformi("lightPositional".concat(re),gt.getPositional()),$.setUniformf("lightExponent".concat(re),gt.getExponent()),$.setUniformf("lightConeAngle".concat(re),gt.getConeAngle()),$.setUniform3fArray("lightPositionVC".concat(re),[Vt[0],Vt[1],Vt[2]]),re++}}}}},e.setCameraShaderParameters=function(l,y,R){var _=l.getProgram(),$=i.openGLCamera.getKeyMatrices(y),re=y.getActiveCamera(),he=i.openGLCamera.getKeyMatrixTime().getMTime(),Ee=_.getLastCameraMTime(),Se=l.getCABO().getCoordShiftAndScaleEnabled()?l.getCABO().getInverseShiftAndScaleMatrix():null,ee=R.getIsIdentity(),we=ee?{mcwc:null,normalMatrix:null}:i.openGLActor.getKeyMatrices();_.setUniformMatrix("MCPCMatrix",c([$.wcpc,we.mcwc,Se],Be.c,i.tmpMat4)),_.isUniformUsed("MCVCMatrix")&&_.setUniformMatrix("MCVCMatrix",c([$.wcvc,we.mcwc,Se],Be.c,i.tmpMat4)),_.isUniformUsed("normalMatrix")&&_.setUniformMatrix3x3("normalMatrix",c([$.normalMatrix,we.normalMatrix],Be.b,i.tmpMat3)),Ee!==he&&(_.isUniformUsed("cameraParallel")&&_.setUniformi("cameraParallel",re.getParallelProjection()),_.setLastCameraMTime(he)),ee||_.setLastCameraMTime(0)},e.setPropertyShaderParameters=function(l,y,R){var _=l.getProgram(),$=R.getProperty(),re=$.getOpacity();_.setUniformf("opacityUniform",re);var he=i.drawingEdges?$.getEdgeColorByReference():$.getAmbientColorByReference();_.setUniform3fArray("ambientColorUniform",he),_.setUniformf("ambient",$.getAmbient());var Ee=i.drawingEdges?$.getEdgeColorByReference():$.getDiffuseColorByReference();if(_.setUniform3fArray("diffuseColorUniform",Ee),_.setUniformf("diffuse",$.getDiffuse()),!(i.lastBoundBO.getReferenceByName("lastLightComplexity")<1)){var Se=$.getSpecularColorByReference();_.setUniform3fArray("specularColorUniform",Se),_.setUniformf("specular",$.getSpecular()),_.setUniformf("specularPowerUniform",$.getSpecularPower())}},e.renderPieceStart=function(l,y){i.primitiveIDOffset=0,i.openGLRenderer.getSelector()&&(i.openGLRenderer.getSelector().getCurrentPass(),i.openGLRenderer.getSelector().renderProp(y)),e.updateBufferObjects(l,y),i.renderable.getColorTextureMap()&&i.internalColorTexture.activate(),i.lastBoundBO=null},e.renderPieceDraw=function(l,y){var R=y.getProperty().getRepresentation(),_=i.context,$=y.getProperty().getEdgeVisibility()&&R===Vo.SURFACE;_.lineWidth(y.getProperty().getLineWidth());for(var re=la.Start;re<la.End;re++){var he=i.primitives[re].getCABO();if(he.getElementCount()){i.drawingEdges=$&&(re===la.TrisEdges||re===la.TriStripsEdges);var Ee=e.getOpenGLMode(R,re);i.drawingEdges&&i.renderDepth||(e.updateShaders(i.primitives[re],l,y),_.drawArrays(Ee,0,he.getElementCount()));var Se=(Ee===_.POINTS?1:0)||(Ee===_.LINES?2:3);i.primitiveIDOffset+=he.getElementCount()/Se}}_.lineWidth(1)},e.getOpenGLMode=function(l,y){return l===Vo.POINTS||y===la.Points?i.context.POINTS:l===Vo.WIREFRAME||y===la.Lines||y===la.TrisEdges||y===la.TriStripsEdges?i.context.LINES:i.context.TRIANGLES},e.renderPieceFinish=function(l,y){i.LastBoundBO&&i.LastBoundBO.getVAO().release(),i.renderable.getColorTextureMap()&&i.internalColorTexture.deactivate()},e.renderPiece=function(l,y){if(e.invokeEvent(H0),i.renderable.getStatic()||i.renderable.update(),i.currentInput=i.renderable.getInputData(),e.invokeEvent(Q0),i.currentInput){if(i.currentInput.getPoints&&i.currentInput.getPoints().getNumberOfValues()){var R=i.context,_=y.getProperty().getBackfaceCulling(),$=y.getProperty().getFrontfaceCulling();_||$?$?(i.openGLRenderWindow.enableCullFace(),R.cullFace(R.FRONT)):(i.openGLRenderWindow.enableCullFace(),R.cullFace(R.BACK)):i.openGLRenderWindow.disableCullFace(),e.renderPieceStart(l,y),e.renderPieceDraw(l,y),e.renderPieceFinish(l,y)}}else yi("No input!")},e.computeBounds=function(l,y){e.getInput()?i.bounds=e.getInput().getBounds():dt.H(i.bounds)},e.updateBufferObjects=function(l,y){e.getNeedToRebuildBufferObjects(l,y)&&e.buildBufferObjects(l,y)},e.getNeedToRebuildBufferObjects=function(l,y){var R=i.VBOBuildTime.getMTime();return R<e.getMTime()||R<i.renderable.getMTime()||R<y.getMTime()||R<i.currentInput.getMTime()},e.buildBufferObjects=function(l,y){var R=i.currentInput;if(R!==null){i.renderable.mapScalars(R,1);var _=i.renderable.getColorMapColors();i.haveCellScalars=!1;var $=i.renderable.getScalarMode();i.renderable.getScalarVisibility()&&($!==ps.USE_CELL_DATA&&$!==ps.USE_CELL_FIELD_DATA&&$!==ps.USE_FIELD_DATA&&R.getPointData().getScalars()||$===ps.USE_POINT_FIELD_DATA||!_||(i.haveCellScalars=!0));var re=y.getProperty().getInterpolation()!==Fc.FLAT?R.getPointData().getNormals():null;re===null&&R.getCellData().getNormals()&&(i.haveCellNormals=!0,re=R.getCellData().getNormals());var he=y.getProperty().getRepresentation(),Ee=R.getPointData().getTCoords();if(i.openGLActor.getActiveTextures()||(Ee=null),i.renderable.getColorCoordinates()){Ee=i.renderable.getColorCoordinates(),i.internalColorTexture||(i.internalColorTexture=qa.newInstance());var Se=i.internalColorTexture;Se.setMinificationFilter(Lc.NEAREST),Se.setMagnificationFilter(Lc.NEAREST),Se.setWrapS(_c.CLAMP_TO_EDGE),Se.setWrapT(_c.CLAMP_TO_EDGE),Se.setOpenGLRenderWindow(i.openGLRenderWindow);var ee=i.renderable.getColorTextureMap(),we=ee.getExtent(),Fe=ee.getPointData().getScalars();Se.create2DFromRaw(we[1]-we[0]+1,we[3]-we[2]+1,Fe.getNumberOfComponents(),Fe.getDataType(),Fe.getData()),Se.activate(),Se.sendParameters(),Se.deactivate()}var Xe="".concat(R.getMTime(),"A").concat(he,"B").concat(R.getMTime())+"C".concat(re?re.getMTime():1,"D").concat(_?_.getMTime():1)+"E".concat(y.getProperty().getEdgeVisibility())+"F".concat(Ee?Ee.getMTime():1);if(i.VBOBuildString!==Xe){var qe=R.getPoints(),tt={points:qe,normals:re,tcoords:Ee,colors:_,cellOffset:0,haveCellScalars:i.haveCellScalars,haveCellNormals:i.haveCellNormals,customAttributes:i.renderable.getCustomShaderAttributes().map(function(Ye){return R.getPointData().getArrayByName(Ye)})};tt.cellOffset+=i.primitives[la.Points].getCABO().createVBO(R.getVerts(),"verts",he,tt),tt.cellOffset+=i.primitives[la.Lines].getCABO().createVBO(R.getLines(),"lines",he,tt),tt.cellOffset+=i.primitives[la.Tris].getCABO().createVBO(R.getPolys(),"polys",he,tt),tt.cellOffset+=i.primitives[la.TriStrips].getCABO().createVBO(R.getStrips(),"strips",he,tt),y.getProperty().getEdgeVisibility()&&he===Vo.SURFACE?(i.primitives[la.TrisEdges].getCABO().createVBO(R.getPolys(),"polys",Vo.WIREFRAME,{points:qe,normals:re,tcoords:null,colors:null,cellOffset:0,haveCellScalars:!1,haveCellNormals:!1}),i.primitives[la.TriStripsEdges].getCABO().createVBO(R.getStrips(),"strips",Vo.WIREFRAME,{points:qe,normals:re,tcoords:null,colors:null,cellOffset:0,haveCellScalars:!1,haveCellNormals:!1})):(i.primitives[la.TrisEdges].releaseGraphicsResources(i.openGLRenderWindow),i.primitives[la.TriStripsEdges].releaseGraphicsResources(i.openGLRenderWindow)),i.VBOBuildTime.modified(),i.VBOBuildString=Xe}}}}(o,t)}var gs={newInstance:r.b.newInstance(Vc,"vtkOpenGLPolyDataMapper"),extend:Vc};function Nc(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function X0(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}var Vi=r.b.vtkErrorMacro,q0=mn.a.Representation,ms=Po.ObjectType,Z0=kt.PassTypes,J0={type:"StartEvent"},$0={type:"EndEvent"};function ef(o,t){t.classHierarchy.push("vtkOpenGLGlyph3DMapper");var v=function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Nc(Object(i),!0).forEach(function(c){X0(n,c,i[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Nc(Object(i)).forEach(function(c){Object.defineProperty(n,c,Object.getOwnPropertyDescriptor(i,c))})}return n}({},o);o.renderPiece=function(n,e){if(o.invokeEvent(J0),t.renderable.getStatic()||t.renderable.update(),t.currentInput=t.renderable.getInputData(1),o.invokeEvent($0),t.currentInput){if(t.currentInput.getPoints&&t.currentInput.getPoints().getNumberOfValues()){var i=t.context;t.openGLRenderWindow.getWebgl2()?(t.hardwareSupport=!0,t.extension=null):t.extension||(t.extension=t.context.getExtension("ANGLE_instanced_arrays"),t.hardwareSupport=!!t.extension);var c=e.getProperty().getBackfaceCulling(),l=e.getProperty().getFrontfaceCulling();c||l?l?(t.openGLRenderWindow.enableCullFace(),i.cullFace(i.FRONT)):(t.openGLRenderWindow.enableCullFace(),i.cullFace(i.BACK)):t.openGLRenderWindow.disableCullFace(),o.renderPieceStart(n,e),o.renderPieceDraw(n,e),o.renderPieceFinish(n,e)}}else Vi("No input!")},o.multiply4x4WithOffset=function(n,e,i,c){var l=e[0],y=e[1],R=e[2],_=e[3],$=e[4],re=e[5],he=e[6],Ee=e[7],Se=e[8],ee=e[9],we=e[10],Fe=e[11],Xe=e[12],qe=e[13],tt=e[14],Ye=e[15],gt=i[c],At=i[c+1],Vt=i[c+2],Jt=i[c+3];n[0]=gt*l+At*$+Vt*Se+Jt*Xe,n[1]=gt*y+At*re+Vt*ee+Jt*qe,n[2]=gt*R+At*he+Vt*we+Jt*tt,n[3]=gt*_+At*Ee+Vt*Fe+Jt*Ye,gt=i[c+4],At=i[c+5],Vt=i[c+6],Jt=i[c+7],n[4]=gt*l+At*$+Vt*Se+Jt*Xe,n[5]=gt*y+At*re+Vt*ee+Jt*qe,n[6]=gt*R+At*he+Vt*we+Jt*tt,n[7]=gt*_+At*Ee+Vt*Fe+Jt*Ye,gt=i[c+8],At=i[c+9],Vt=i[c+10],Jt=i[c+11],n[8]=gt*l+At*$+Vt*Se+Jt*Xe,n[9]=gt*y+At*re+Vt*ee+Jt*qe,n[10]=gt*R+At*he+Vt*we+Jt*tt,n[11]=gt*_+At*Ee+Vt*Fe+Jt*Ye,gt=i[c+12],At=i[c+13],Vt=i[c+14],Jt=i[c+15],n[12]=gt*l+At*$+Vt*Se+Jt*Xe,n[13]=gt*y+At*re+Vt*ee+Jt*qe,n[14]=gt*R+At*he+Vt*we+Jt*tt,n[15]=gt*_+At*Ee+Vt*Fe+Jt*Ye},o.replaceShaderNormal=function(n,e,i){if(t.hardwareSupport&&t.lastBoundBO.getReferenceByName("lastLightComplexity")>0){var c=n.Vertex;t.lastBoundBO.getCABO().getNormalOffset()&&(c=qt.substitute(c,"//VTK::Normal::Dec",["attribute vec3 normalMC;","attribute mat3 gNormal;","uniform mat3 normalMatrix;","varying vec3 normalVCVSOutput;"]).result,c=qt.substitute(c,"//VTK::Normal::Impl",["normalVCVSOutput = normalMatrix * gNormal * normalMC;"]).result),n.Vertex=c}v.replaceShaderNormal(n,e,i)},o.replaceShaderColor=function(n,e,i){if(t.hardwareSupport&&t.renderable.getColorArray()){var c=n.Vertex,l=n.Geometry,y=n.Fragment,R=t.lastBoundBO.getReferenceByName("lastLightComplexity"),_=["uniform float ambient;","uniform float diffuse;","uniform float specular;","uniform float opacityUniform; // the fragment opacity"];R&&(_=_.concat(["uniform vec3 specularColorUniform;","uniform float specularPowerUniform;"]));var $=["vec3 ambientColor;","  vec3 diffuseColor;","  float opacity;"];R&&($=$.concat(["  vec3 specularColor;","  float specularPower;"])),$=$.concat(["  opacity = opacityUniform;"]),R&&($=$.concat(["  specularColor = specularColorUniform;","  specularPower = specularPowerUniform;"])),t.drawingEdges||(_=_.concat(["varying vec4 vertexColorVSOutput;"]),c=qt.substitute(c,"//VTK::Color::Dec",["attribute vec4 gColor;","varying vec4 vertexColorVSOutput;"]).result,c=qt.substitute(c,"//VTK::Color::Impl",["vertexColorVSOutput = gColor;"]).result,l=qt.substitute(l,"//VTK::Color::Dec",["in vec4 vertexColorVSOutput[];","out vec4 vertexColorGSOutput;"]).result,l=qt.substitute(l,"//VTK::Color::Impl",["vertexColorGSOutput = vertexColorVSOutput[i];"]).result,$=$.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])),y=qt.substitute(y,"//VTK::Color::Impl",$).result,y=qt.substitute(y,"//VTK::Color::Dec",_).result,n.Vertex=c,n.Geometry=l,n.Fragment=y}v.replaceShaderColor(n,e,i)},o.replaceShaderPositionVC=function(n,e,i){if(t.hardwareSupport){var c=n.Vertex;t.lastBoundBO.getReferenceByName("lastLightComplexity")>0?(c=qt.substitute(c,"//VTK::PositionVC::Impl",["vec4 gVertexMC = gMatrix * vertexMC;","vertexVCVSOutput = MCVCMatrix * gVertexMC;","  gl_Position = MCPCMatrix * gVertexMC;"]).result,c=qt.substitute(c,"//VTK::Camera::Dec",["attribute mat4 gMatrix;","uniform mat4 MCPCMatrix;","uniform mat4 MCVCMatrix;"]).result):(c=qt.substitute(c,"//VTK::Camera::Dec",["attribute mat4 gMatrix;","uniform mat4 MCPCMatrix;"]).result,c=qt.substitute(c,"//VTK::PositionVC::Impl",["vec4 gVertexMC = gMatrix * vertexMC;","  gl_Position = MCPCMatrix * gVertexMC;"]).result),n.Vertex=c}v.replaceShaderPositionVC(n,e,i)},o.replaceShaderPicking=function(n,e,i){if(t.hardwareSupport){var c=n.Fragment,l=n.Vertex;l=qt.substitute(l,"//VTK::Picking::Dec",["attribute vec3 mapperIndexVS;","varying vec3 mapperIndexVSOutput;"]).result,l=qt.substitute(l,"//VTK::Picking::Impl","  mapperIndexVSOutput = mapperIndexVS;").result,n.Vertex=l,c=qt.substitute(c,"//VTK::Picking::Dec",["varying vec3 mapperIndexVSOutput;","uniform vec3 mapperIndex;","uniform int picking;"]).result,c=qt.substitute(c,"//VTK::Picking::Impl",["  vec4 pickColor = picking == 2 ? vec4(mapperIndexVSOutput,1.0) : vec4(mapperIndex,1.0);","  gl_FragData[0] = picking != 0 ? pickColor : gl_FragData[0];"]).result,n.Fragment=c}else v.replaceShaderPicking(n,e,i)},o.updateGlyphShaderParameters=function(n,e,i,c,l,y,R,_){var $=i.getProgram();if(n){var re=t.normalMatrix,he=y,Ee=9*R,Se=t.tmpMat3,ee=re[0],we=re[1],Fe=re[2],Xe=re[3],qe=re[4],tt=re[5],Ye=re[6],gt=re[7],At=re[8],Vt=he[Ee],Jt=he[Ee+1],vn=he[Ee+2],Zt=he[Ee+3],on=he[Ee+4],Tn=he[Ee+5],En=he[Ee+6],jn=he[Ee+7],Nn=he[Ee+8];Se[0]=Vt*ee+Jt*Xe+vn*Ye,Se[1]=Vt*we+Jt*qe+vn*gt,Se[2]=Vt*Fe+Jt*tt+vn*At,Se[3]=Zt*ee+on*Xe+Tn*Ye,Se[4]=Zt*we+on*qe+Tn*gt,Se[5]=Zt*Fe+on*tt+Tn*At,Se[6]=En*ee+jn*Xe+Nn*Ye,Se[7]=En*we+jn*qe+Nn*gt,Se[8]=En*Fe+jn*tt+Nn*At,$.setUniformMatrix3x3("normalMatrix",t.tmpMat3)}if(o.multiply4x4WithOffset(t.tmpMat4,t.mcpcMatrix,l,16*R),$.setUniformMatrix("MCPCMatrix",t.tmpMat4),e&&(o.multiply4x4WithOffset(t.tmpMat4,t.mcvcMatrix,l,16*R),$.setUniformMatrix("MCVCMatrix",t.tmpMat4)),c){var Un=c.getData();t.tmpColor[0]=Un[4*R]/255,t.tmpColor[1]=Un[4*R+1]/255,t.tmpColor[2]=Un[4*R+2]/255,$.setUniform3fArray("ambientColorUniform",t.tmpColor),$.setUniform3fArray("diffuseColorUniform",t.tmpColor)}_&&$.setUniform3fArray("mapperIndex",_.getPropColorValue())},o.renderPieceDraw=function(n,e){var i=e.getProperty().getRepresentation(),c=t.context,l=e.getProperty().getEdgeVisibility()&&i===q0.SURFACE,y=t.openGLCamera.getKeyMatrices(n),R=t.openGLActor.getKeyMatrices();Be.b.multiply(t.normalMatrix,y.normalMatrix,R.normalMatrix),Be.c.multiply(t.mcpcMatrix,y.wcpc,R.mcwc),Be.c.multiply(t.mcvcMatrix,y.wcvc,R.mcwc);var _=t.renderable.getMatrixArray(),$=t.renderable.getNormalArray(),re=t.renderable.getColorArray(),he=_.length/16,Ee=!1;t.openGLRenderer.getSelector()&&t.openGLRenderer.getSelector().getCurrentPass()===Z0.COMPOSITE_INDEX_PASS&&(Ee=!0);for(var Se=t.primTypes.Start;Se<t.primTypes.End;Se++){var ee=t.primitives[Se].getCABO();if(ee.getElementCount()){t.drawingEdges=l&&(Se===t.primTypes.TrisEdges||Se===t.primTypes.TriStripsEdges),o.updateShaders(t.primitives[Se],n,e);var we=t.primitives[Se].getProgram(),Fe=o.getOpenGLMode(i,Se),Xe=we.isUniformUsed("normalMatrix"),qe=we.isUniformUsed("MCVCMatrix");if(t.hardwareSupport)t.extension?t.extension.drawArraysInstancedANGLE(Fe,0,ee.getElementCount(),he):c.drawArraysInstanced(Fe,0,ee.getElementCount(),he);else for(var tt=0;tt<he;++tt)Ee&&t.openGLRenderer.getSelector().renderCompositeIndex(tt),o.updateGlyphShaderParameters(Xe,qe,t.primitives[Se],re,_,$,tt,Ee?t.openGLRenderer.getSelector():null),c.drawArrays(Fe,0,ee.getElementCount())}}},o.setMapperShaderParameters=function(n,e,i){if(n.getCABO().getElementCount()&&(t.glyphBOBuildTime.getMTime()>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime()))return n.getProgram().isAttributeUsed("gMatrix")?n.getVAO().addAttributeMatrixWithDivisor(n.getProgram(),t.matrixBuffer,"gMatrix",0,64,t.context.FLOAT,4,!1,1)||Vi("Error setting gMatrix in shader VAO."):n.getVAO().removeAttributeArray("gMatrix"),n.getProgram().isAttributeUsed("gNormal")?n.getVAO().addAttributeMatrixWithDivisor(n.getProgram(),t.normalBuffer,"gNormal",0,36,t.context.FLOAT,3,!1,1)||Vi("Error setting gNormal in shader VAO."):n.getVAO().removeAttributeArray("gNormal"),n.getProgram().isAttributeUsed("gColor")?n.getVAO().addAttributeArrayWithDivisor(n.getProgram(),t.colorBuffer,"gColor",0,4,t.context.UNSIGNED_BYTE,4,!0,1,!1)||Vi("Error setting gColor in shader VAO."):n.getVAO().removeAttributeArray("gColor"),n.getProgram().isAttributeUsed("mapperIndexVS")?n.getVAO().addAttributeArrayWithDivisor(n.getProgram(),t.pickBuffer,"mapperIndexVS",0,4,t.context.UNSIGNED_BYTE,4,!0,1,!1)||Vi("Error setting mapperIndexVS in shader VAO."):n.getVAO().removeAttributeArray("mapperIndexVS"),v.setMapperShaderParameters(n,e,i),void n.getAttributeUpdateTime().modified();v.setMapperShaderParameters(n,e,i)},o.getNeedToRebuildBufferObjects=function(n,e){return t.renderable.buildArrays(),t.VBOBuildTime.getMTime()<t.renderable.getBuildTime().getMTime()||v.getNeedToRebuildBufferObjects(n,e)},o.buildBufferObjects=function(n,e){if(t.hardwareSupport){var i=t.renderable.getMatrixArray(),c=t.renderable.getNormalArray(),l=t.renderable.getColorArray();if(t.matrixBuffer||(t.matrixBuffer=Po.newInstance(),t.matrixBuffer.setOpenGLRenderWindow(t.openGLRenderWindow),t.normalBuffer=Po.newInstance(),t.normalBuffer.setOpenGLRenderWindow(t.openGLRenderWindow),t.colorBuffer=Po.newInstance(),t.colorBuffer.setOpenGLRenderWindow(t.openGLRenderWindow),t.pickBuffer=Po.newInstance(),t.pickBuffer.setOpenGLRenderWindow(t.openGLRenderWindow)),t.renderable.getBuildTime().getMTime()>t.glyphBOBuildTime.getMTime()){t.matrixBuffer.upload(i,ms.ARRAY_BUFFER),t.normalBuffer.upload(c,ms.ARRAY_BUFFER),l?t.colorBuffer.upload(l.getData(),ms.ARRAY_BUFFER):t.colorBuffer.releaseGraphicsResources();for(var y=i.length/16,R=new Uint8Array(4*y),_=0;_<y;++_){var $=_+1,re=4*_;R[re]=$%256,$-=R[re],$/=256,R[re+1]=$%256,$-=R[re+1],$/=256,R[re+2]=$%256,R[re+3]=255}t.pickBuffer.upload(R,ms.ARRAY_BUFFER),t.glyphBOBuildTime.modified()}}return v.buildBufferObjects(n,e)}}var tf={normalMatrix:null,mcpcMatrix:null,mcwcMatrix:null};function jc(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,tf,v),gs.extend(o,t,v),t.tmpMat3=Be.b.create(),t.normalMatrix=Be.b.create(),t.mcpcMatrix=Be.c.create(),t.mcvcMatrix=Be.c.create(),t.tmpColor=[],t.glyphBOBuildTime={},r.b.obj(t.glyphBOBuildTime,{mtime:0}),ef(o,t)}var nf={newInstance:r.b.newInstance(jc,"vtkOpenGLGlyph3DMapper"),extend:jc},Ti=r.b.vtkErrorMacro,ui=Lt.SlicingMode;function Gc(o,t,v){if(t.apply(o)){var n=o.getIndependentComponents();return"".concat(o.getMTime(),"-").concat(n,"-").concat(v)}return"0"}var rf={VBOBuildTime:0,VBOBuildString:null,openGLTexture:null,tris:null,imagemat:null,colorTexture:null,pwfTexture:null,lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastTextureComponents:0};function zc(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,rf,v),Ia.extend(o,t,v),Bc.implementReplaceShaderCoincidentOffset(o,t,v),t.tris=co.newInstance(),t.openGLTexture=qa.newInstance(),t.colorTexture=qa.newInstance(),t.pwfTexture=qa.newInstance(),t.imagemat=Be.c.create(),r.b.setGet(o,t,[]),t.VBOBuildTime={},r.b.obj(t.VBOBuildTime),function(n,e){e.classHierarchy.push("vtkOpenGLImageMapper"),n.buildPass=function(i){if(i){e.openGLImageSlice=n.getFirstAncestorOfType("vtkOpenGLImageSlice"),e.openGLRenderer=n.getFirstAncestorOfType("vtkOpenGLRenderer"),e.openGLRenderWindow=e.openGLRenderer.getParent(),e.context=e.openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e.openGLRenderWindow),e.openGLTexture.setOpenGLRenderWindow(e.openGLRenderWindow),e.colorTexture.setOpenGLRenderWindow(e.openGLRenderWindow),e.pwfTexture.setOpenGLRenderWindow(e.openGLRenderWindow);var c=e.openGLRenderer.getRenderable();e.openGLCamera=e.openGLRenderer.getViewNodeFor(c.getActiveCamera()),e.renderable.getSliceAtFocalPoint()&&e.renderable.setSliceFromCamera(c.getActiveCamera())}},n.translucentPass=function(i){i&&n.render()},n.opaqueZBufferPass=function(i){i&&(e.haveSeenDepthRequest=!0,e.renderDepth=!0,n.render(),e.renderDepth=!1)},n.opaquePass=function(i){i&&n.render()},n.getCoincidentParameters=function(i,c){return e.renderable.getResolveCoincidentTopology()?e.renderable.getCoincidentTopologyPolygonOffsetParameters():null},n.render=function(){var i=e.openGLImageSlice.getRenderable(),c=e.openGLRenderer.getRenderable();n.renderPiece(c,i)},n.buildShaders=function(i,c,l){n.getShaderTemplate(i,c,l),n.replaceShaderValues(i,c,l)},n.getShaderTemplate=function(i,c,l){i.Vertex=Zo.a,i.Fragment=Ha.a,i.Geometry=""},n.replaceShaderValues=function(i,c,l){var y=i.Vertex,R=i.Fragment;y=qt.substitute(y,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;"]).result,y=qt.substitute(y,"//VTK::PositionVC::Impl",["  gl_Position = MCPCMatrix * vertexMC;"]).result,y=qt.substitute(y,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result,y=qt.substitute(y,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result;var _=e.openGLTexture.getComponents(),$=l.getProperty().getIndependentComponents(),re=["varying vec2 tcoordVCVSOutput;","uniform float cshift0;","uniform float cscale0;","uniform float pwfshift0;","uniform float pwfscale0;","uniform sampler2D texture1;","uniform sampler2D colorTexture1;","uniform sampler2D pwfTexture1;","uniform float opacity;"];if($){for(var he=1;he<_;he++)re=re.concat(["uniform float cshift".concat(he,";"),"uniform float cscale".concat(he,";"),"uniform float pwfshift".concat(he,";"),"uniform float pwfscale".concat(he,";")]);switch(_){case 1:re=re.concat(["uniform float mix0;","#define height0 0.5"]);break;case 2:re=re.concat(["uniform float mix0;","uniform float mix1;","#define height0 0.25","#define height1 0.75"]);break;case 3:re=re.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","#define height0 0.17","#define height1 0.5","#define height2 0.83"]);break;case 4:re=re.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","uniform float mix3;","#define height0 0.125","#define height1 0.375","#define height2 0.625","#define height3 0.875"]);break;default:Ti("Unsupported number of independent coordinates.")}}if(R=qt.substitute(R,"//VTK::TCoord::Dec",re).result,$){for(var Ee=["r","g","b","a"],Se=["vec4 tvalue = texture2D(texture1, tcoordVCVSOutput);"],ee=0;ee<_;ee++)Se=Se.concat(["vec3 tcolor".concat(ee," = mix").concat(ee," * texture2D(colorTexture1, vec2(tvalue.").concat(Ee[ee]," * cscale").concat(ee," + cshift").concat(ee,", height").concat(ee,")).rgb;"),"float compWeight".concat(ee," = mix").concat(ee," * texture2D(pwfTexture1, vec2(tvalue.").concat(Ee[ee]," * pwfscale").concat(ee," + pwfshift").concat(ee,", height").concat(ee,")).r;")]);switch(_){case 1:Se=Se.concat(["gl_FragData[0] = vec4(tcolor0.rgb, opacity);"]);break;case 2:Se=Se.concat(["float weightSum = compWeight0 + compWeight1;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum))), opacity);"]);break;case 3:Se=Se.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum))), opacity);"]);break;case 4:Se=Se.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2 + compWeight3;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum)) + (tcolor3.rgb * (compWeight3 / weightSum))), opacity);"]);break;default:Ti("Unsupported number of independent coordinates.")}R=qt.substitute(R,"//VTK::TCoord::Impl",Se).result}else switch(_){case 1:R=qt.substitute(R,"//VTK::TCoord::Impl",["float intensity = texture2D(texture1, tcoordVCVSOutput).r;","vec3 tcolor = texture2D(colorTexture1, vec2(intensity * cscale0 + cshift0, 0.5)).rgb;","float scalarOpacity = texture2D(pwfTexture1, vec2(intensity * pwfscale0 + pwfshift0, 0.5)).r;","gl_FragData[0] = vec4(tcolor, scalarOpacity * opacity);"]).result;break;case 2:R=qt.substitute(R,"//VTK::TCoord::Impl",["vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","float intensity = tcolor.r*cscale0 + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(intensity, 0.5)).rgb, pwfscale0*tcolor.g + pwfshift0);"]).result;break;default:R=qt.substitute(R,"//VTK::TCoord::Impl",["vec4 tcolor = cscale0*texture2D(texture1, tcoordVCVSOutput.st) + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, tcolor.a);"]).result}e.haveSeenDepthRequest&&(R=qt.substitute(R,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,R=qt.substitute(R,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),i.Vertex=y,i.Fragment=R,n.replaceShaderCoincidentOffset(i,c,l)},n.getNeedToRebuildShaders=function(i,c,l){var y=e.openGLTexture.getComponents(),R=l.getProperty().getIndependentComponents();return(e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||i.getProgram()===0||e.lastTextureComponents!==y||e.lastIndependentComponents!==R)&&(e.lastHaveSeenDepthRequest=e.haveSeenDepthRequest,e.lastTextureComponents=y,e.lastIndependentComponents=R,!0)},n.updateShaders=function(i,c,l){if(e.lastBoundBO=i,n.getNeedToRebuildShaders(i,c,l)){var y={Vertex:null,Fragment:null,Geometry:null};n.buildShaders(y,c,l);var R=e.openGLRenderWindow.getShaderCache().readyShaderProgramArray(y.Vertex,y.Fragment,y.Geometry);R!==i.getProgram()&&(i.setProgram(R),i.getVAO().releaseGraphicsResources()),i.getShaderSourceTime().modified()}else e.openGLRenderWindow.getShaderCache().readyShaderProgram(i.getProgram());i.getVAO().bind(),n.setMapperShaderParameters(i,c,l),n.setCameraShaderParameters(i,c,l),n.setPropertyShaderParameters(i,c,l)},n.setMapperShaderParameters=function(i,c,l){i.getCABO().getElementCount()&&(e.VBOBuildTime>i.getAttributeUpdateTime().getMTime()||i.getShaderSourceTime().getMTime()>i.getAttributeUpdateTime().getMTime())&&(i.getProgram().isAttributeUsed("vertexMC")&&(i.getVAO().addAttributeArray(i.getProgram(),i.getCABO(),"vertexMC",i.getCABO().getVertexOffset(),i.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||Ti("Error setting vertexMC in shader VAO.")),i.getProgram().isAttributeUsed("tcoordMC")&&i.getCABO().getTCoordOffset()&&(i.getVAO().addAttributeArray(i.getProgram(),i.getCABO(),"tcoordMC",i.getCABO().getTCoordOffset(),i.getCABO().getStride(),e.context.FLOAT,i.getCABO().getTCoordComponents(),e.context.FALSE)||Ti("Error setting tcoordMC in shader VAO.")),i.getAttributeUpdateTime().modified());var y=e.openGLTexture.getTextureUnit();i.getProgram().setUniformi("texture1",y);var R=e.openGLTexture.getComponents(),_=l.getProperty().getIndependentComponents();if(_)for(var $=0;$<R;$++)i.getProgram().setUniformf("mix".concat($),l.getProperty().getComponentWeight($));for(var re=e.openGLTexture.getShiftAndScale(),he=0;he<R;he++){var Ee=l.getProperty().getColorWindow(),Se=l.getProperty().getColorLevel(),ee=_?he:0,we=l.getProperty().getRGBTransferFunction(ee);if(we){var Fe=we.getRange();Ee=Fe[1]-Fe[0],Se=.5*(Fe[1]+Fe[0])}var Xe=re.scale/Ee,qe=(re.shift-Se)/Ee+.5;i.getProgram().setUniformf("cshift".concat(he),qe),i.getProgram().setUniformf("cscale".concat(he),Xe)}for(var tt=0;tt<R;tt++){var Ye=1,gt=0,At=_?tt:0,Vt=l.getProperty().getPiecewiseFunction(At);if(Vt){var Jt=Vt.getRange(),vn=Jt[1]-Jt[0],Zt=.5*(Jt[0]+Jt[1]);Ye=re.scale/vn,gt=(re.shift-Zt)/vn+.5}i.getProgram().setUniformf("pwfshift".concat(tt),gt),i.getProgram().setUniformf("pwfscale".concat(tt),Ye)}if(e.haveSeenDepthRequest&&i.getProgram().setUniformi("depthRequest",e.renderDepth?1:0),i.getProgram().isUniformUsed("coffset")){var on=n.getCoincidentParameters(c,l);i.getProgram().setUniformf("coffset",on.offset),i.getProgram().isUniformUsed("cfactor")&&i.getProgram().setUniformf("cfactor",on.factor)}var Tn=e.colorTexture.getTextureUnit();i.getProgram().setUniformi("colorTexture1",Tn);var En=e.pwfTexture.getTextureUnit();i.getProgram().setUniformi("pwfTexture1",En)},n.setCameraShaderParameters=function(i,c,l){var y=i.getProgram(),R=e.openGLImageSlice.getKeyMatrices(),_=e.currentInput.getIndexToWorld();Be.c.multiply(e.imagemat,R.mcwc,_);var $=e.openGLCamera.getKeyMatrices(c);if(Be.c.multiply(e.imagemat,$.wcpc,e.imagemat),i.getCABO().getCoordShiftAndScaleEnabled()){var re=i.getCABO().getInverseShiftAndScaleMatrix();Be.c.multiply(e.imagemat,e.imagemat,re)}y.setUniformMatrix("MCPCMatrix",e.imagemat)},n.setPropertyShaderParameters=function(i,c,l){var y=i.getProgram(),R=l.getProperty().getOpacity();y.setUniformf("opacity",R)},n.renderPieceStart=function(i,c){n.updateBufferObjects(i,c),e.lastBoundBO=null},n.renderPieceDraw=function(i,c){var l=e.context;e.openGLTexture.activate(),e.colorTexture.activate(),e.pwfTexture.activate(),e.tris.getCABO().getElementCount()&&(n.updateShaders(e.tris,i,c),l.drawArrays(l.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release()),e.openGLTexture.deactivate(),e.colorTexture.deactivate(),e.pwfTexture.deactivate()},n.renderPieceFinish=function(i,c){},n.renderPiece=function(i,c){n.invokeEvent({type:"StartEvent"}),e.renderable.update(),e.currentInput=e.renderable.getInputData(),n.invokeEvent({type:"EndEvent"}),e.currentInput?(n.renderPieceStart(i,c),n.renderPieceDraw(i,c),n.renderPieceFinish(i,c)):Ti("No input!")},n.computeBounds=function(i,c){n.getInput()?e.bounds=n.getInput().getBounds():dt.H(e.bounds)},n.updateBufferObjects=function(i,c){n.getNeedToRebuildBufferObjects(i,c)&&n.buildBufferObjects(i,c)},n.getNeedToRebuildBufferObjects=function(i,c){return e.VBOBuildTime.getMTime()<n.getMTime()||e.VBOBuildTime.getMTime()<c.getMTime()||e.VBOBuildTime.getMTime()<e.renderable.getMTime()||e.VBOBuildTime.getMTime()<c.getProperty().getMTime()||e.VBOBuildTime.getMTime()<e.currentInput.getMTime()},n.buildBufferObjects=function(i,c){var l=e.currentInput;if(l!==null){var y=c.getProperty(),R=y.getInterpolationType();R===cn.NEAREST?(e.colorTexture.setMinificationFilter($n.NEAREST),e.colorTexture.setMagnificationFilter($n.NEAREST),e.pwfTexture.setMinificationFilter($n.NEAREST),e.pwfTexture.setMagnificationFilter($n.NEAREST)):(e.colorTexture.setMinificationFilter($n.LINEAR),e.colorTexture.setMagnificationFilter($n.LINEAR),e.pwfTexture.setMinificationFilter($n.LINEAR),e.pwfTexture.setMagnificationFilter($n.LINEAR));var _=l.getPointData().getScalars().getNumberOfComponents(),$=y.getIndependentComponents(),re=$?_:1,he=$?2*re:1,Ee=Gc(y,y.getRGBTransferFunction,re);if(e.colorTextureString!==Ee){var Se=new Uint8Array(1024*he*3),ee=y.getRGBTransferFunction();if(ee){for(var we=new Float32Array(3072),Fe=0;Fe<re;Fe++){var Xe=(ee=y.getRGBTransferFunction(Fe)).getRange();if(ee.getTable(Xe[0],Xe[1],1024,we,1),$)for(var qe=0;qe<3072;qe++)Se[1024*Fe*6+qe]=255*we[qe],Se[1024*Fe*6+qe+3072]=255*we[qe];else for(var tt=0;tt<3072;tt++)Se[1024*Fe*6+tt]=255*we[tt]}e.colorTexture.create2DFromRaw(1024,he,3,ha.b.UNSIGNED_CHAR,Se)}else{for(var Ye=0;Ye<3072;++Ye)Se[Ye]=255*Ye/3069,Se[Ye+1]=255*Ye/3069,Se[Ye+2]=255*Ye/3069;e.colorTexture.create2DFromRaw(1024,1,3,ha.b.UNSIGNED_CHAR,Se)}e.colorTextureString=Ee}var gt=Gc(y,y.getPiecewiseFunction,re);if(e.pwfTextureString!==gt){var At=1024*he,Vt=new Uint8Array(At),Jt=y.getPiecewiseFunction();if(e.pwfTexture.resetFormatAndType(),Jt){for(var vn=new Float32Array(At),Zt=new Float32Array(1024),on=0;on<re;++on)if((Jt=y.getPiecewiseFunction(on))===null)vn.fill(1);else{var Tn=Jt.getRange();if(Jt.getTable(Tn[0],Tn[1],1024,Zt,1),$)for(var En=0;En<1024;En++)vn[1024*on*2+En]=Zt[En],vn[1024*on*2+En+1024]=Zt[En];else for(var jn=0;jn<1024;jn++)vn[1024*on*2+jn]=Zt[jn]}e.pwfTexture.create2DFromRaw(1024,he,1,ha.b.FLOAT,vn)}else Vt.fill(255),e.pwfTexture.create2DFromRaw(1024,1,1,ha.b.UNSIGNED_CHAR,Vt);e.pwfTextureString=gt}var Nn=e.renderable.getClosestIJKAxis().ijkMode,Un=e.renderable.getSlice();Nn!==e.renderable.getSlicingMode()&&(Un=e.renderable.getSliceAtPosition(Un));var Xn,Qn=l.getExtent();Nn===ui.I&&(Xn=Un-Qn[0]),Nn===ui.J&&(Xn=Un-Qn[2]),Nn!==ui.K&&Nn!==ui.NONE||(Xn=Un-Qn[4]);var Er="".concat(Un,"A").concat(l.getMTime(),"A").concat(l.getPointData().getScalars().getMTime(),"B").concat(n.getMTime(),"C").concat(e.renderable.getSlicingMode(),"D").concat(c.getProperty().getMTime());if(e.VBOBuildString!==Er){var it=l.getDimensions();R===cn.NEAREST?(_===4&&e.openGLTexture.setGenerateMipmap(!0),e.openGLTexture.setMinificationFilter($n.NEAREST),e.openGLTexture.setMagnificationFilter($n.NEAREST)):(_===4?(e.openGLTexture.setGenerateMipmap(!0),e.openGLTexture.setMinificationFilter($n.LINEAR_MIPMAP_LINEAR)):e.openGLTexture.setMinificationFilter($n.LINEAR),e.openGLTexture.setMagnificationFilter($n.LINEAR)),e.openGLTexture.setWrapS(oa.CLAMP_TO_EDGE),e.openGLTexture.setWrapT(oa.CLAMP_TO_EDGE);for(var un=it[0]*it[1]*_,Cn=new Float32Array(12),yr=new Float32Array(8),Ar=0;Ar<4;Ar++)yr[2*Ar]=Ar%2?1:0,yr[2*Ar+1]=Ar>1?1:0;var er=l.getPointData().getScalars().getData(),tr=null;if(Nn===ui.I){tr=new er.constructor(it[2]*it[1]*_);for(var Rr=0,Cr=0;Cr<it[2];Cr++)for(var wa=0;wa<it[1];wa++){var fi=(Xn+wa*it[0]+Cr*it[0]*it[1])*_;Rr=(Cr*it[1]+wa)*_,tr.set(er.subarray(fi,fi+_),Rr)}it[0]=it[1],it[1]=it[2],Cn[0]=Un,Cn[1]=Qn[2],Cn[2]=Qn[4],Cn[3]=Un,Cn[4]=Qn[3],Cn[5]=Qn[4],Cn[6]=Un,Cn[7]=Qn[2],Cn[8]=Qn[5],Cn[9]=Un,Cn[10]=Qn[3],Cn[11]=Qn[5]}else if(Nn===ui.J){tr=new er.constructor(it[2]*it[0]*_);for(var di=0,jo=0;jo<it[2];jo++)for(var Go=0;Go<it[0];Go++){var Ai=(Go+Xn*it[0]+jo*it[0]*it[1])*_;di=(jo*it[0]+Go)*_,tr.set(er.subarray(Ai,Ai+_),di)}it[1]=it[2],Cn[0]=Qn[0],Cn[1]=Un,Cn[2]=Qn[4],Cn[3]=Qn[1],Cn[4]=Un,Cn[5]=Qn[4],Cn[6]=Qn[0],Cn[7]=Un,Cn[8]=Qn[5],Cn[9]=Qn[1],Cn[10]=Un,Cn[11]=Qn[5]}else Nn===ui.K||Nn===ui.NONE?(tr=er.subarray(Xn*un,(Xn+1)*un),Cn[0]=Qn[0],Cn[1]=Qn[2],Cn[2]=Un,Cn[3]=Qn[1],Cn[4]=Qn[2],Cn[5]=Un,Cn[6]=Qn[0],Cn[7]=Qn[3],Cn[8]=Un,Cn[9]=Qn[1],Cn[10]=Qn[3],Cn[11]=Un):Ti("Reformat slicing not yet supported.");e.openGLTexture.create2DFromRaw(it[0],it[1],_,l.getPointData().getScalars().getDataType(),tr),e.openGLTexture.activate(),e.openGLTexture.sendParameters(),e.openGLTexture.deactivate();var wi=oe.a.newInstance({numberOfComponents:3,values:Cn});wi.setName("points");var F1=oe.a.newInstance({numberOfComponents:2,values:yr});F1.setName("tcoords");var ni=new Uint16Array(8);ni[0]=3,ni[1]=0,ni[2]=1,ni[3]=3,ni[4]=3,ni[5]=0,ni[6]=3,ni[7]=2;var ug=oe.a.newInstance({numberOfComponents:1,values:ni});e.tris.getCABO().createVBO(ug,"polys",dn.a.SURFACE,{points:wi,tcoords:F1,cellOffset:0}),e.VBOBuildTime.modified(),e.VBOBuildString=Er}}}}(o,t)}var af={newInstance:r.b.newInstance(zc,"vtkOpenGLImageMapper"),extend:zc},of={context:null,keyMatrixTime:null,keyMatrices:null};function Wc(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,of,v),Ia.extend(o,t,v),t.keyMatrixTime={},r.b.obj(t.keyMatrixTime,{mtime:0}),t.keyMatrices={mcwc:Be.c.create()},r.b.setGet(o,t,["context"]),function(n,e){e.classHierarchy.push("vtkOpenGLImageSlice"),n.buildPass=function(i){if(e.renderable&&e.renderable.getVisibility()&&i){if(!e.renderable)return;e.openGLRenderer=n.getFirstAncestorOfType("vtkOpenGLRenderer"),n.prepareNodes(),n.addMissingNode(e.renderable.getMapper()),n.removeUnusedNodes()}},n.traverseOpaqueZBufferPass=function(i){n.traverseOpaquePass(i)},n.traverseOpaquePass=function(i){e.renderable&&e.renderable.getVisibility()&&e.renderable.getIsOpaque()&&(!e.openGLRenderer.getSelector()||e.renderable.getPickable())&&(n.apply(i,!0),e.children.forEach(function(c){c.traverse(i)}),n.apply(i,!1))},n.traverseTranslucentPass=function(i){!e.renderable||!e.renderable.getVisibility()||e.renderable.getIsOpaque()||e.openGLRenderer.getSelector()&&!e.renderable.getPickable()||(n.apply(i,!0),e.children.forEach(function(c){c.traverse(i)}),n.apply(i,!1))},n.queryPass=function(i,c){if(i){if(!e.renderable||!e.renderable.getVisibility())return;e.renderable.getIsOpaque()?c.incrementOpaqueActorCount():c.incrementTranslucentActorCount()}},n.opaqueZBufferPass=function(i,c){return n.opaquePass(i,c)},n.opaquePass=function(i,c){i&&(e.context=n.getFirstAncestorOfType("vtkOpenGLRenderWindow").getContext(),e.context.depthMask(!0))},n.translucentPass=function(i,c){i?(e.context=n.getFirstAncestorOfType("vtkOpenGLRenderWindow").getContext(),e.context.depthMask(!1)):e.context.depthMask(!0)},n.getKeyMatrices=function(){return e.renderable.getMTime()>e.keyMatrixTime.getMTime()&&(Be.c.copy(e.keyMatrices.mcwc,e.renderable.getMatrix()),Be.c.transpose(e.keyMatrices.mcwc,e.keyMatrices.mcwc),e.keyMatrixTime.modified()),e.keyMatrices}}(o,t)}var sf={newInstance:r.b.newInstance(Wc,"vtkOpenGLImageSlice"),extend:Wc},cf=r.b.vtkDebugMacro,uf={};function Kc(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,uf,v),Ia.extend(o,t,v),function(n,e){e.classHierarchy.push("vtkOpenGLPixelSpaceCallbackMapper"),n.opaquePass=function(i,c){e.openGLRenderer=n.getFirstAncestorOfType("vtkOpenGLRenderer"),e.openGLRenderWindow=e.openGLRenderer.getParent();var l=e.openGLRenderer.getAspectRatio(),y=e.openGLRenderer?e.openGLRenderer.getRenderable().getActiveCamera():null,R=e.openGLRenderer.getTiledSizeAndOrigin(),_=null;if(e.renderable.getUseZValues()){var $=c.getZBufferTexture(),re=Math.floor($.getWidth()),he=Math.floor($.getHeight()),Ee=e.openGLRenderWindow.getContext();$.bind();var Se=c.getFramebuffer();Se?Se.saveCurrentBindingsAndBuffers():cf("No framebuffer to save/restore");var ee=Ee.createFramebuffer();Ee.bindFramebuffer(Ee.FRAMEBUFFER,ee),Ee.framebufferTexture2D(Ee.FRAMEBUFFER,Ee.COLOR_ATTACHMENT0,Ee.TEXTURE_2D,$.getHandle(),0),Ee.checkFramebufferStatus(Ee.FRAMEBUFFER)===Ee.FRAMEBUFFER_COMPLETE&&(_=new Uint8Array(re*he*4),Ee.viewport(0,0,re,he),Ee.readPixels(0,0,re,he,Ee.RGBA,Ee.UNSIGNED_BYTE,_)),Se&&Se.restorePreviousBindingsAndBuffers(),Ee.deleteFramebuffer(ee)}e.renderable.invokeCallback(e.renderable.getInputData(),y,l,R,_)},n.queryPass=function(i,c){i&&(e.renderable.getUseZValues(),c.setDepthRequested(!0))}}(o,t)}var lf={newInstance:r.b.newInstance(Kc,"vtkOpenGLPixelSpaceCallbackMapper"),extend:Kc},ff=r.b.vtkDebugMacro,df={context:null,openGLRenderWindow:null,selector:null};function Hc(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,df,v),Ia.extend(o,t,v),r.b.get(o,t,["shaderCache"]),r.b.setGet(o,t,["selector"]),function(n,e){e.classHierarchy.push("vtkOpenGLRenderer"),n.buildPass=function(i){if(i){if(!e.renderable)return;e.renderable.isActiveCameraCreated()||e.renderable.resetCamera(),n.updateLights(),n.prepareNodes(),n.addMissingNode(e.renderable.getActiveCamera()),n.addMissingNodes(e.renderable.getViewPropsWithNestedProps()),n.removeUnusedNodes()}},n.updateLights=function(){for(var i=0,c=e.renderable.getLightsByReference(),l=0;l<c.length;++l)c[l].getSwitch()>0&&i++;return i||(ff("No lights are on, creating one."),e.renderable.createLight()),i},n.opaqueZBufferPass=function(i){if(i){var c=0,l=e.context;e.renderable.getTransparent()||(e.context.clearColor(1,0,0,1),c|=l.COLOR_BUFFER_BIT),e.renderable.getPreserveDepthBuffer()||(l.clearDepth(1),c|=l.DEPTH_BUFFER_BIT,l.depthMask(!0));var y=n.getTiledSizeAndOrigin();l.enable(l.SCISSOR_TEST),l.scissor(y.lowerLeftU,y.lowerLeftV,y.usize,y.vsize),l.viewport(y.lowerLeftU,y.lowerLeftV,y.usize,y.vsize),l.colorMask(!0,!0,!0,!0),l.clear(c),l.enable(l.DEPTH_TEST)}},n.cameraPass=function(i){i&&n.clear()},n.getAspectRatio=function(){var i=e.parent.getSizeByReference(),c=e.renderable.getViewportByReference();return i[0]*(c[2]-c[0])/((c[3]-c[1])*i[1])},n.getTiledSizeAndOrigin=function(){var i=e.renderable.getViewportByReference(),c=[0,0,1,1],l=dt.e(i[0]-c[0],0,1),y=dt.e(i[1]-c[1],0,1),R=e.parent.normalizedDisplayToDisplay(l,y),_=Math.round(R[0]),$=Math.round(R[1]),re=dt.e(i[2]-c[0],0,1),he=dt.e(i[3]-c[1],0,1);re>c[2]-c[0]&&(re=c[2]-c[0]),he>c[3]-c[1]&&(he=c[3]-c[1]);var Ee=e.parent.normalizedDisplayToDisplay(re,he),Se=Math.round(Ee[0])-_,ee=Math.round(Ee[1])-$;return Se<0&&(Se=0),ee<0&&(ee=0),{usize:Se,vsize:ee,lowerLeftU:_,lowerLeftV:$}},n.clear=function(){var i=0,c=e.context;if(!e.renderable.getTransparent()){var l=e.renderable.getBackgroundByReference();e.context.clearColor(l[0],l[1],l[2],l[3]),i|=c.COLOR_BUFFER_BIT}e.renderable.getPreserveDepthBuffer()||(c.clearDepth(1),i|=c.DEPTH_BUFFER_BIT,c.depthMask(!0)),c.colorMask(!0,!0,!0,!0);var y=n.getTiledSizeAndOrigin();c.enable(c.SCISSOR_TEST),c.scissor(y.lowerLeftU,y.lowerLeftV,y.usize,y.vsize),c.viewport(y.lowerLeftU,y.lowerLeftV,y.usize,y.vsize),c.clear(i),c.enable(c.DEPTH_TEST)},n.releaseGraphicsResources=function(){e.selector!==null&&e.selector.releaseGraphicsResources()},n.setOpenGLRenderWindow=function(i){e.openGLRenderWindow!==i&&(n.releaseGraphicsResources(),e.openGLRenderWindow=i,e.context=null,i&&(e.context=e.openGLRenderWindow.getContext()))}}(o,t)}var pf={newInstance:r.b.newInstance(Hc,"vtkOpenGLRenderer"),extend:Hc},Qc=r.b.vtkErrorMacro,gf={context:null};function Yc(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,gf,v),Ia.extend(o,t,v),t.openGLTexture=qa.newInstance(),t.tris=co.newInstance(),t.keyMatrixTime={},r.b.obj(t.keyMatrixTime,{mtime:0}),t.keyMatrices={normalMatrix:Be.b.create(),mcwc:Be.c.create()},r.b.setGet(o,t,["context"]),r.b.get(o,t,["activeTextures"]),function(n,e){e.classHierarchy.push("vtkOpenGLSkybox"),n.buildPass=function(i){if(i){e.openGLRenderer=n.getFirstAncestorOfType("vtkOpenGLRenderer"),e.openGLRenderWindow=e.openGLRenderer.getParent(),e.context=e.openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e.openGLRenderWindow),e.openGLTexture.setOpenGLRenderWindow(e.openGLRenderWindow);var c=e.openGLRenderer.getRenderable();e.openGLCamera=e.openGLRenderer.getViewNodeFor(c.getActiveCamera())}},n.queryPass=function(i,c){if(i){if(!e.renderable||!e.renderable.getVisibility())return;c.incrementOpaqueActorCount()}},n.opaquePass=function(i,c){if(i&&!e.openGLRenderer.getSelector()){n.updateBufferObjects(),e.openGLRenderWindow.enableDepthMask(),e.openGLRenderWindow.getShaderCache().readyShaderProgram(e.tris.getProgram()),e.openGLTexture.render(e.openGLRenderWindow);var l=e.openGLTexture.getTextureUnit();e.tris.getProgram().setUniformi("sbtexture",l);var y=e.openGLRenderer.getRenderable(),R=e.openGLCamera.getKeyMatrices(y),_=Be.c.create();if(Be.c.invert(_,R.wcpc),e.tris.getProgram().setUniformMatrix("IMCPCMatrix",_),e.lastFormat==="box"){var $=y.getActiveCamera().getPosition();e.tris.getProgram().setUniform3f("camPos",$[0],$[1],$[2])}e.tris.getVAO().bind(),e.context.drawArrays(e.context.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release(),e.openGLTexture.deactivate()}},n.updateBufferObjects=function(){if(!e.tris.getCABO().getElementCount()){for(var i=new Float32Array(12),c=0;c<4;c++)i[3*c]=c%2*2-1,i[3*c+1]=c>1?1:-1,i[3*c+2]=1;var l=oe.a.newInstance({numberOfComponents:3,values:i});l.setName("points");var y=new Uint16Array(8);y[0]=3,y[1]=0,y[2]=1,y[3]=3,y[4]=3,y[5]=0,y[6]=3,y[7]=2;var R=oe.a.newInstance({numberOfComponents:1,values:y});e.tris.getCABO().createVBO(R,"polys",dn.a.SURFACE,{points:l,cellOffset:0})}e.renderable.getFormat()!==e.lastFormat&&(e.lastFormat=e.renderable.getFormat(),e.lastFormat==="box"&&e.tris.setProgram(e.openGLRenderWindow.getShaderCache().readyShaderProgramArray(`//VTK::System::Dec
             attribute vec3 vertexMC;
             uniform mat4 IMCPCMatrix;
             varying vec3 TexCoords;
             void main () {
              gl_Position = vec4(vertexMC.xyz, 1.0);
              vec4 wpos = IMCPCMatrix * gl_Position;
              TexCoords = wpos.xyz/wpos.w;
             }`,`//VTK::System::Dec
             //VTK::Output::Dec
             varying vec3 TexCoords;
             uniform samplerCube sbtexture;
             uniform vec3 camPos;
             void main () {
               // skybox looks from inside out
               // which means we have to adjust
               // our tcoords. Otherwise text would
               // be flipped
               vec3 tc = normalize(TexCoords - camPos);
               if (abs(tc.z) < max(abs(tc.x),abs(tc.y)))
               {
                 tc = vec3(1.0, 1.0, -1.0) * tc;
               }
               else
               {
                 tc = vec3(-1.0, 1.0, 1.0) * tc;
               }
               gl_FragData[0] = textureCube(sbtexture, tc);
             }`,"")),e.lastFormat==="background"&&e.tris.setProgram(e.openGLRenderWindow.getShaderCache().readyShaderProgramArray(`//VTK::System::Dec
             attribute vec3 vertexMC;
             uniform mat4 IMCPCMatrix;
             varying vec2 TexCoords;
             void main () {
              gl_Position = vec4(vertexMC.xyz, 1.0);
              vec4 wpos = IMCPCMatrix * gl_Position;
              TexCoords = vec2(vertexMC.x, vertexMC.y)*0.5 + 0.5;
             }`,`//VTK::System::Dec
             //VTK::Output::Dec
             varying vec2 TexCoords;
             uniform sampler2D sbtexture;
             void main () {
               gl_FragData[0] = texture2D(sbtexture, TexCoords);
             }`,"")),e.tris.getShaderSourceTime().modified(),e.tris.getVAO().bind(),e.tris.getVAO().addAttributeArray(e.tris.getProgram(),e.tris.getCABO(),"vertexMC",e.tris.getCABO().getVertexOffset(),e.tris.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||Qc("Error setting vertexMC in shader VAO."));var _=e.renderable.getTextures();_.length||Qc("vtkSkybox requires a texture map"),e.openGLTexture.getRenderable()!==_[0]&&(e.openGLTexture.releaseGraphicsResources(e.openGLRenderWindow),e.openGLTexture.setRenderable(_[0]))}}(o,t)}var mf={newInstance:r.b.newInstance(Yc),extend:Yc},hf=a(182),vf=a.n(hf);function Xc(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function yf(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}var bf=r.b.vtkErrorMacro;function Af(o,t){t.classHierarchy.push("vtkOpenGLSphereMapper");var v=function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Xc(Object(i),!0).forEach(function(c){yf(n,c,i[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Xc(Object(i)).forEach(function(c){Object.defineProperty(n,c,Object.getOwnPropertyDescriptor(i,c))})}return n}({},o);o.getShaderTemplate=function(n,e,i){n.Vertex=vf.a,n.Fragment=Ha.a,n.Geometry=""},o.replaceShaderValues=function(n,e,i){var c=n.Vertex,l=n.Fragment;c=qt.substitute(c,"//VTK::Camera::Dec",[`uniform mat4 VCPCMatrix;
`,"uniform mat4 MCVCMatrix;"]).result,l=qt.substitute(l,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,l=qt.substitute(l,"//VTK::PositionVC::Impl",[`vec4 vertexVC = vertexVCVSOutput;
`]).result,l=qt.substitute(l,"//VTK::Normal::Dec",[`uniform float invertedDepth;
`,`uniform int cameraParallel;
`,`varying float radiusVCVSOutput;
`,`varying vec3 centerVCVSOutput;
`,`uniform mat4 VCPCMatrix;
`]).result;var y="";t.context.getExtension("EXT_frag_depth")&&(y=`gl_FragDepthEXT = (pos.z / pos.w + 1.0) / 2.0;
`),t.openGLRenderWindow.getWebgl2()&&(y=`gl_FragDepth = (pos.z / pos.w + 1.0) / 2.0;
`),l=qt.substitute(l,"//VTK::Depth::Impl",[`  vec3 EyePos;
`,`  vec3 EyeDir;
`,`  if (cameraParallel != 0) {
`,`    EyePos = vec3(vertexVC.x, vertexVC.y, vertexVC.z + 3.0*radiusVCVSOutput);
`,`    EyeDir = vec3(0.0,0.0,-1.0); }
`,`  else {
`,`    EyeDir = vertexVC.xyz;
`,`    EyePos = vec3(0.0,0.0,0.0);
`,`    float lengthED = length(EyeDir);
`,`    EyeDir = normalize(EyeDir);
`,`    if (lengthED > radiusVCVSOutput*3.0) {
`,`      EyePos = vertexVC.xyz - EyeDir*3.0*radiusVCVSOutput; }
`,`    }
`,`  EyePos = EyePos - centerVCVSOutput;
`,`  EyePos = EyePos/radiusVCVSOutput;
`,`  float b = 2.0*dot(EyePos,EyeDir);
`,`  float c = dot(EyePos,EyePos) - 1.0;
`,`  float d = b*b - 4.0*c;
`,`  vec3 normalVCVSOutput = vec3(0.0,0.0,1.0);
`,`  if (d < 0.0) { discard; }
`,`  else {
`,`    float t = (-b - invertedDepth*sqrt(d))*0.5;
`,`    normalVCVSOutput = invertedDepth*normalize(EyePos + t*EyeDir);
`,`    vertexVC.xyz = normalVCVSOutput*radiusVCVSOutput + centerVCVSOutput;
`,`    }
`,`  vec4 pos = VCPCMatrix * vertexVC;
`,y]).result,l=qt.substitute(l,"//VTK::Normal::Impl","").result,t.haveSeenDepthRequest&&(l=qt.substitute(l,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float computedZ = (pos.z / pos.w + 1.0) / 2.0;","float iz = floor(computedZ * 65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),n.Vertex=c,n.Fragment=l,v.replaceShaderValues(n,e,i)},o.setMapperShaderParameters=function(n,e,i){n.getCABO().getElementCount()&&(t.VBOBuildTime>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())&&n.getProgram().isAttributeUsed("offsetMC")&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"offsetMC",12,n.getCABO().getStride(),t.context.FLOAT,2,!1)||bf("Error setting 'offsetMC' in shader VAO.")),n.getProgram().isUniformUsed("invertedDepth")&&n.getProgram().setUniformf("invertedDepth",t.invert?-1:1),v.setMapperShaderParameters(n,e,i)},o.setCameraShaderParameters=function(n,e,i){var c=n.getProgram(),l=e.getActiveCamera(),y=t.openGLCamera.getKeyMatrices(e);if(c.isUniformUsed("VCPCMatrix")&&c.setUniformMatrix("VCPCMatrix",y.vcpc),c.isUniformUsed("MCVCMatrix"))if(i.getIsIdentity())c.setUniformMatrix("MCVCMatrix",y.wcvc);else{var R=t.openGLActor.getKeyMatrices(),_=Be.c.create();Be.c.multiply(_,y.wcvc,R.mcwc),c.setUniformMatrix("MCVCMatrix",_)}c.isUniformUsed("cameraParallel")&&n.getProgram().setUniformi("cameraParallel",l.getParallelProjection())},o.getOpenGLMode=function(n,e){return t.context.TRIANGLES},o.buildBufferObjects=function(n,e){var i=t.currentInput;if(i!==null){t.renderable.mapScalars(i,1);var c=t.renderable.getColorMapColors(),l=t.primitives[t.primTypes.Tris].getCABO(),y=i.getPointData(),R=i.getPoints(),_=R.getNumberOfPoints(),$=R.getData(),re=null;t.renderable.getScaleArray()!=null&&y.hasArray(t.renderable.getScaleArray())&&(re=y.getArray(t.renderable.getScaleArray()).getData());var he=null,Ee=0,Se=null;c?(Ee=c.getNumberOfComponents(),l.setColorOffset(0),l.setColorBOStride(4),he=c.getData(),Se=new Uint8Array(3*_*4),l.getColorBO()||l.setColorBO(Po.newInstance()),l.getColorBO().setOpenGLRenderWindow(t.openGLRenderWindow)):l.getColorBO()&&l.setColorBO(null),l.setColorComponents(Ee);var ee=new Float32Array(5*_*3);l.setStride(20);for(var we=Math.cos(dt.y(30)),Fe=0,Xe=0,qe=0,tt=0,Ye=0;Ye<_;++Ye){var gt=t.renderable.getRadius();re&&(gt=re[Ye]),Fe=3*Ye,ee[qe++]=$[Fe++],ee[qe++]=$[Fe++],ee[qe++]=$[Fe++],ee[qe++]=-2*gt*we,ee[qe++]=-gt,he&&(Xe=Ye*Ee,Se[tt++]=he[Xe],Se[tt++]=he[Xe+1],Se[tt++]=he[Xe+2],Se[tt++]=he[Xe+3]),Fe=3*Ye,ee[qe++]=$[Fe++],ee[qe++]=$[Fe++],ee[qe++]=$[Fe++],ee[qe++]=2*gt*we,ee[qe++]=-gt,he&&(Se[tt++]=he[Xe],Se[tt++]=he[Xe+1],Se[tt++]=he[Xe+2],Se[tt++]=he[Xe+3]),Fe=3*Ye,ee[qe++]=$[Fe++],ee[qe++]=$[Fe++],ee[qe++]=$[Fe++],ee[qe++]=0,ee[qe++]=2*gt,he&&(Se[tt++]=he[Xe],Se[tt++]=he[Xe+1],Se[tt++]=he[Xe+2],Se[tt++]=he[Xe+3])}l.setElementCount(qe/5),l.upload(ee,Co.ARRAY_BUFFER),c&&l.getColorBO().upload(Se,Co.ARRAY_BUFFER),t.VBOBuildTime.modified()}}}var wf={};function qc(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,wf,v),gs.extend(o,t,v),Af(o,t)}var xf={newInstance:r.b.newInstance(qc,"vtkOpenGLSphereMapper"),extend:qc},Sf=a(183),Cf=a.n(Sf);function Zc(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function Pf(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}var hs=r.n;function Of(o,t){t.classHierarchy.push("vtkOpenGLStickMapper");var v=function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Zc(Object(i),!0).forEach(function(c){Pf(n,c,i[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Zc(Object(i)).forEach(function(c){Object.defineProperty(n,c,Object.getOwnPropertyDescriptor(i,c))})}return n}({},o);o.getShaderTemplate=function(n,e,i){n.Vertex=Cf.a,n.Fragment=Ha.a,n.Geometry=""},o.replaceShaderValues=function(n,e,i){var c=n.Vertex,l=n.Fragment;c=qt.substitute(c,"//VTK::Camera::Dec",[`uniform mat4 VCPCMatrix;
`,"uniform mat4 MCVCMatrix;"]).result,l=qt.substitute(l,"//VTK::PositionVC::Dec","varying vec4 vertexVCVSOutput;").result,l=qt.substitute(l,"//VTK::PositionVC::Impl",`  vec4 vertexVC = vertexVCVSOutput;
`).result,l=qt.substitute(l,"//VTK::Normal::Dec",[`uniform int cameraParallel;
`,`varying float radiusVCVSOutput;
`,`varying vec3 orientVCVSOutput;
`,`varying float lengthVCVSOutput;
`,`varying vec3 centerVCVSOutput;
`,`uniform mat4 VCPCMatrix;
`]).result;var y="";t.context.getExtension("EXT_frag_depth")&&(y=`  gl_FragDepthEXT = (pos.z / pos.w + 1.0) / 2.0;
`),t.openGLRenderWindow.getWebgl2()&&(y=`gl_FragDepth = (pos.z / pos.w + 1.0) / 2.0;
`),l=qt.substitute(l,"//VTK::Depth::Impl",[`  vec3 EyePos;
`,`  vec3 EyeDir;
`,`  if (cameraParallel != 0) {
`,`    EyePos = vec3(vertexVC.x, vertexVC.y, vertexVC.z + 3.0*radiusVCVSOutput);
`,`    EyeDir = vec3(0.0,0.0,-1.0); }
`,`  else {
`,`    EyeDir = vertexVC.xyz;
`,`    EyePos = vec3(0.0,0.0,0.0);
`,`    float lengthED = length(EyeDir);
`,`    EyeDir = normalize(EyeDir);
`,`    if (lengthED > radiusVCVSOutput*3.0) {
`,`      EyePos = vertexVC.xyz - EyeDir*3.0*radiusVCVSOutput; }
`,`    }
`,`  EyePos = EyePos - centerVCVSOutput;
`,`  vec3 base1;
`,`  if (abs(orientVCVSOutput.z) < 0.99) {
`,`    base1 = normalize(cross(orientVCVSOutput,vec3(0.0,0.0,1.0))); }
`,`  else {
`,`    base1 = normalize(cross(orientVCVSOutput,vec3(0.0,1.0,0.0))); }
`,`  vec3 base2 = cross(orientVCVSOutput,base1);
`,`  EyePos = vec3(dot(EyePos,base1),dot(EyePos,base2),dot(EyePos,orientVCVSOutput));
`,`  EyeDir = vec3(dot(EyeDir,base1),dot(EyeDir,base2),dot(EyeDir,orientVCVSOutput));
`,`  EyePos = EyePos/radiusVCVSOutput;
`,`  float a = EyeDir.x*EyeDir.x + EyeDir.y*EyeDir.y;
`,`  float b = 2.0*(EyePos.x*EyeDir.x + EyePos.y*EyeDir.y);
`,`  float c = EyePos.x*EyePos.x + EyePos.y*EyePos.y - 1.0;
`,`  float d = b*b - 4.0*a*c;
`,`  vec3 normalVCVSOutput = vec3(0.0,0.0,1.0);
`,`  if (d < 0.0) { discard; }
`,`  else {
`,`    float t =  (-b - sqrt(d))/(2.0*a);
`,`    float tz = EyePos.z + t*EyeDir.z;
`,`    vec3 iPoint = EyePos + t*EyeDir;
`,`    if (abs(iPoint.z)*radiusVCVSOutput > lengthVCVSOutput*0.5) {
`,`      float t2 = (-b + sqrt(d))/(2.0*a);
`,`      float tz2 = EyePos.z + t2*EyeDir.z;
`,`      if (tz2*radiusVCVSOutput > lengthVCVSOutput*0.5 || tz*radiusVCVSOutput < -0.5*lengthVCVSOutput) { discard; }
`,`      else {
`,`        normalVCVSOutput = orientVCVSOutput;
`,`        float t3 = (lengthVCVSOutput*0.5/radiusVCVSOutput - EyePos.z)/EyeDir.z;
`,`        iPoint = EyePos + t3*EyeDir;
`,`        vertexVC.xyz = radiusVCVSOutput*(iPoint.x*base1 + iPoint.y*base2 + iPoint.z*orientVCVSOutput) + centerVCVSOutput;
`,`        }
`,`      }
`,`    else {
`,`      normalVCVSOutput = iPoint.x*base1 + iPoint.y*base2;
`,`      vertexVC.xyz = radiusVCVSOutput*(normalVCVSOutput + iPoint.z*orientVCVSOutput) + centerVCVSOutput;
`,`      }
`,`    }
`,`  vec4 pos = VCPCMatrix * vertexVC;
`,y]).result,l=qt.substitute(l,"//VTK::Normal::Impl","").result,t.haveSeenDepthRequest&&(l=qt.substitute(l,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float computedZ = (pos.z / pos.w + 1.0) / 2.0;","float iz = floor(computedZ * 65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),n.Vertex=c,n.Fragment=l,v.replaceShaderValues(n,e,i)},o.setMapperShaderParameters=function(n,e,i){n.getCABO().getElementCount()&&(t.VBOBuildTime>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())&&(n.getProgram().isAttributeUsed("orientMC")&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"orientMC",12,n.getCABO().getStride(),t.context.FLOAT,3,!1)||hs("Error setting 'orientMC' in shader VAO.")),n.getProgram().isAttributeUsed("offsetMC")&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO().getColorBO(),"offsetMC",0,n.getCABO().getColorBOStride(),t.context.UNSIGNED_BYTE,3,!0)||hs("Error setting 'offsetMC' in shader VAO.")),n.getProgram().isAttributeUsed("radiusMC")&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"radiusMC",24,n.getCABO().getStride(),t.context.FLOAT,1,!1)||hs("Error setting 'radiusMC' in shader VAO."))),v.setMapperShaderParameters(n,e,i)},o.setCameraShaderParameters=function(n,e,i){var c=n.getProgram(),l=e.getActiveCamera(),y=t.openGLCamera.getKeyMatrices(e);if(c.isUniformUsed("VCPCMatrix")&&c.setUniformMatrix("VCPCMatrix",y.vcpc),i.getIsIdentity())c.isUniformUsed("MCVCMatrix")&&c.setUniformMatrix("MCVCMatrix",y.wcvc),c.isUniformUsed("normalMatrix")&&c.setUniformMatrix3x3("normalMatrix",y.normalMatrix);else{var R=t.openGLActor.getKeyMatrices(),_=Be.c.create();if(c.isUniformUsed("MCVCMatrix")&&(Be.c.multiply(_,y.wcvc,R.mcwc),c.setUniformMatrix("MCVCMatrix",_)),c.isUniformUsed("normalMatrix")){var $=Be.b.create();Be.b.multiply($,y.normalMatrix,R.normalMatrix),c.setUniformMatrix3x3("normalMatrix",$)}}c.isUniformUsed("cameraParallel")&&n.getProgram().setUniformi("cameraParallel",l.getParallelProjection())},o.getOpenGLMode=function(n,e){return t.context.TRIANGLES},o.buildBufferObjects=function(n,e){var i=t.currentInput;if(i!==null){t.renderable.mapScalars(i,1);var c=t.renderable.getColorMapColors(),l=t.primitives[t.primTypes.Tris].getCABO(),y=i.getPointData(),R=i.getPoints(),_=R.getNumberOfPoints(),$=R.getData(),re=3;re+=4;var he=null,Ee=0;l.setColorBOStride(4),l.getColorBO()||l.setColorBO(Po.newInstance()),l.getColorBO().setOpenGLRenderWindow(t.openGLRenderWindow),c&&(Ee=c.getNumberOfComponents(),l.setColorOffset(4),he=c.getData(),l.setColorBOStride(8)),l.setColorComponents(Ee),l.setStride(4*re);var Se=new Float32Array(re*_*12),ee=new Uint8Array(12*_*(he?8:4)),we=null,Fe=null;t.renderable.getScaleArray()!=null&&y.hasArray(t.renderable.getScaleArray())&&(we=y.getArray(t.renderable.getScaleArray()).getData()),t.renderable.getOrientationArray()!=null&&y.hasArray(t.renderable.getOrientationArray())?Fe=y.getArray(t.renderable.getOrientationArray()).getData():hs([`Error setting orientationArray.
`,"You have to specify the stick orientation"]);for(var Xe=[0,1,3,0,3,2,2,3,5,2,5,4],qe=0,tt=0,Ye=0,gt=0,At=0;At<_;++At){var Vt=t.renderable.getLength(),Jt=t.renderable.getRadius();we&&(Vt=we[2*At],Jt=we[2*At+1]);for(var vn=0;vn<Xe.length;++vn)qe=3*At,Se[Ye++]=$[qe++],Se[Ye++]=$[qe++],Se[Ye++]=$[qe++],qe=3*At,Se[Ye++]=Fe[qe++]*Vt,Se[Ye++]=Fe[qe++]*Vt,Se[Ye++]=Fe[qe++]*Vt,Se[Ye++]=Jt,ee[gt++]=Xe[vn]%2*255,ee[gt++]=Xe[vn]>=4?255:0,ee[gt++]=Xe[vn]>=2?255:0,ee[gt++]=255,tt=At*Ee,he&&(ee[gt++]=he[tt],ee[gt++]=he[tt+1],ee[gt++]=he[tt+2],ee[gt++]=he[tt+3])}l.setElementCount(Ye/re),l.upload(Se,Co.ARRAY_BUFFER),l.getColorBO().upload(ee,Co.ARRAY_BUFFER),t.VBOBuildTime.modified()}}}var Tf={};function Jc(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Tf,v),gs.extend(o,t,v),Of(o,t)}var If={newInstance:r.f(Jc,"vtkOpenGLStickMapper"),extend:Jc},Ef={};function $c(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Ef,v),Ia.extend(o,t,v),t.keyMatrixTime={},r.b.obj(t.keyMatrixTime,{mtime:0}),t.normalMatrix=Be.b.create(),t.MCWCMatrix=Be.c.create(),r.b.setGet(o,t,["context"]),function(n,e){e.classHierarchy.push("vtkOpenGLVolume"),n.buildPass=function(i){e.renderable&&e.renderable.getVisibility()&&i&&(e.openGLRenderer=n.getFirstAncestorOfType("vtkOpenGLRenderer"),n.prepareNodes(),n.addMissingNode(e.renderable.getMapper()),n.removeUnusedNodes())},n.queryPass=function(i,c){if(i){if(!e.renderable||!e.renderable.getVisibility())return;c.incrementVolumeCount()}},n.traverseVolumePass=function(i){e.renderable&&e.renderable.getVisibility()&&(!e.openGLRenderer.getSelector()||e.renderable.getPickable())&&(n.apply(i,!0),e.children[0].traverse(i),n.apply(i,!1))},n.volumePass=function(i){e.renderable&&e.renderable.getVisibility()&&(i?(e.context=n.getFirstAncestorOfType("vtkOpenGLRenderWindow").getContext(),e.context.depthMask(!1)):e.context.depthMask(!0))},n.getKeyMatrices=function(){return e.renderable.getMTime()>e.keyMatrixTime.getMTime()&&(e.renderable.computeMatrix(),Be.c.copy(e.MCWCMatrix,e.renderable.getMatrix()),Be.c.transpose(e.MCWCMatrix,e.MCWCMatrix),e.renderable.getIsIdentity()?Be.b.identity(e.normalMatrix):(Be.b.fromMat4(e.normalMatrix,e.MCWCMatrix),Be.b.invert(e.normalMatrix,e.normalMatrix)),e.keyMatrixTime.modified()),{mcwc:e.MCWCMatrix,normalMatrix:e.normalMatrix}}}(o,t)}var Rf={newInstance:r.b.newInstance($c,"vtkOpenGLVolume"),extend:$c},Mf=a(184),kf=a.n(Mf),Df=a(185),Uf=a.n(Df),Bf=r.b.vtkWarningMacro,$s=r.b.vtkErrorMacro,Ff={context:null,VBOBuildTime:null,scalarTexture:null,scalarTextureString:null,opacityTexture:null,opacityTextureString:null,colorTexture:null,colorTextureString:null,jitterTexture:null,tris:null,framebuffer:null,copyShader:null,copyVAO:null,lastXYF:1,targetXYF:1,zBufferTexture:null,lastZBufferTexture:null,lastLightComplexity:0,fullViewportTime:1,idxToView:null,idxNormalMatrix:null,modelToView:null,projectionToView:null,avgWindowArea:0,avgFrameTime:0};function eu(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Ff,v),Ia.extend(o,t,v),t.VBOBuildTime={},r.b.obj(t.VBOBuildTime,{mtime:0}),t.tris=co.newInstance(),t.scalarTexture=qa.newInstance(),t.opacityTexture=qa.newInstance(),t.colorTexture=qa.newInstance(),t.jitterTexture=qa.newInstance(),t.jitterTexture.setWrapS(oa.REPEAT),t.jitterTexture.setWrapT(oa.REPEAT),t.framebuffer=_i.newInstance(),t.idxToView=Be.c.create(),t.idxNormalMatrix=Be.b.create(),t.modelToView=Be.c.create(),t.projectionToView=Be.c.create(),t.projectionToWorld=Be.c.create(),r.b.setGet(o,t,["context"]),function(n,e){e.classHierarchy.push("vtkOpenGLVolumeMapper"),n.buildPass=function(){e.zBufferTexture=null},n.opaqueZBufferPass=function(i,c){if(i){var l=c.getZBufferTexture();l!==e.zBufferTexture&&(e.zBufferTexture=l)}},n.volumePass=function(i,c){if(i){e.openGLRenderWindow=n.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e.context=e.openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e.openGLRenderWindow),e.jitterTexture.setOpenGLRenderWindow(e.openGLRenderWindow),e.framebuffer.setOpenGLRenderWindow(e.openGLRenderWindow),e.scalarTexture.setOpenGLRenderWindow(e.openGLRenderWindow),e.colorTexture.setOpenGLRenderWindow(e.openGLRenderWindow),e.opacityTexture.setOpenGLRenderWindow(e.openGLRenderWindow),e.openGLVolume=n.getFirstAncestorOfType("vtkOpenGLVolume");var l=e.openGLVolume.getRenderable();e.openGLRenderer=n.getFirstAncestorOfType("vtkOpenGLRenderer");var y=e.openGLRenderer.getRenderable();e.openGLCamera=e.openGLRenderer.getViewNodeFor(y.getActiveCamera()),n.renderPiece(y,l)}},n.buildShaders=function(i,c,l){n.getShaderTemplate(i,c,l),n.replaceShaderValues(i,c,l)},n.getShaderTemplate=function(i,c,l){i.Vertex=kf.a,i.Fragment=Uf.a,i.Geometry=""},n.replaceShaderValues=function(i,c,l){var y=i.Fragment;l.getProperty().getInterpolationType()===Gt.a.LINEAR&&(y=qt.substitute(y,"//VTK::TrilinearOn","#define vtkTrilinearOn").result),l.getProperty().getUseLabelOutline()===!0&&(y=qt.substitute(y,"//VTK::ImageLabelOutlineOn","#define vtkImageLabelOutlineOn").result);var R=e.scalarTexture.getComponents();y=qt.substitute(y,"//VTK::NumComponents","#define vtkNumComponents ".concat(R)).result;var _=l.getProperty().getIndependentComponents();if(_){y=qt.substitute(y,"//VTK::IndependentComponentsOn","#define vtkIndependentComponentsOn").result;for(var $=[],re=0;re<R;re++)l.getProperty().getOpacityMode(re)===Gt.b.PROPORTIONAL&&$.push("#define vtkComponent".concat(re,"Proportional"));$.length>0&&(y=qt.substitute(y,"//VTK::vtkProportionalComponents",$.join(`
`)).result)}var he=e.currentInput.getExtent(),Ee=e.currentInput.getSpacing(),Se=Be.e.create();Be.e.set(Se,(he[1]-he[0])*Ee[0],(he[3]-he[2])*Ee[1],(he[5]-he[4])*Ee[2]);var ee=Be.e.length(Se)/e.renderable.getSampleDistance();y=qt.substitute(y,"//VTK::MaximumSamplesValue","".concat(Math.ceil(ee))).result,y=qt.substitute(y,"//VTK::LightComplexity","#define vtkLightComplexity ".concat(e.lastLightComplexity)).result,e.gopacity=l.getProperty().getUseGradientOpacity(0);for(var we=1;_&&!e.gopacity&&we<R;++we)l.getProperty().getUseGradientOpacity(we)&&(e.gopacity=!0);e.gopacity&&(y=qt.substitute(y,"//VTK::GradientOpacityOn","#define vtkGradientOpacityOn").result),e.zBufferTexture!==null&&(y=qt.substitute(y,"//VTK::ZBuffer::Dec",["uniform sampler2D zBufferTexture;","uniform float vpWidth;","uniform float vpHeight;"]).result,y=qt.substitute(y,"//VTK::ZBuffer::Impl",["vec4 depthVec = texture2D(zBufferTexture, vec2(gl_FragCoord.x / vpWidth, gl_FragCoord.y/vpHeight));","float zdepth = (depthVec.r*256.0 + depthVec.g)/257.0;","zdepth = zdepth * 2.0 - 1.0;","zdepth = -2.0 * camFar * camNear / (zdepth*(camFar-camNear)-(camFar+camNear)) - camNear;","zdepth = -zdepth/rayDir.z;","dists.y = min(zdepth,dists.y);"]).result),y=qt.substitute(y,"//VTK::BlendMode","".concat(e.renderable.getBlendMode())).result;var Fe=e.renderable.getAverageIPScalarRange();y=qt.substitute(y,"//VTK::AverageIPScalarRangeMin","".concat(Fe[0],".0")).result,y=qt.substitute(y,"//VTK::AverageIPScalarRangeMax","".concat(Fe[1],".0")).result,i.Fragment=y,n.replaceShaderLight(i,c,l)},n.replaceShaderLight=function(i,c,l){var y=i.Fragment;switch(e.lastLightComplexity){default:case 0:break;case 1:case 2:case 3:var R=0;c.getLights().forEach(function(_){_.getSwitch()>0&&(y=qt.substitute(y,"//VTK::Light::Dec",["uniform vec3 lightColor".concat(R,";"),"uniform vec3 lightDirectionVC".concat(R,"; // normalized"),"uniform vec3 lightHalfAngleVC".concat(R,"; // normalized"),"//VTK::Light::Dec"],!1).result,y=qt.substitute(y,"//VTK::Light::Impl",["  float df = abs(dot(normal.rgb, -lightDirectionVC".concat(R,"));"),"  diffuse += ((df".concat("",") * lightColor").concat(R,");"),"    float sf = pow( abs(dot(lightHalfAngleVC".concat(R,",normal.rgb)), vSpecularPower);"),"    specular += ((sf".concat("",") * lightColor").concat(R,");"),"  //VTK::Light::Impl"],!1).result,R++)})}i.Fragment=y},n.getNeedToRebuildShaders=function(i,c,l){var y=0;l.getProperty().getShade()&&e.renderable.getBlendMode()===Jr.COMPOSITE_BLEND&&(y=0,e.numberOfLights=0,c.getLights().forEach(function(_){_.getSwitch()>0&&(e.numberOfLights++,y===0&&(y=1)),y===1&&(e.numberOfLights>1||_.getIntensity()!==1||!_.lightTypeIsHeadLight())&&(y=2),y<3&&_.getPositional()&&(y=3)}));var R=!1;return e.lastLightComplexity!==y&&(e.lastLightComplexity=y,R=!0),!!(i.getProgram()===0||R||e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||!!e.lastZBufferTexture!=!!e.zBufferTexture||i.getShaderSourceTime().getMTime()<n.getMTime()||i.getShaderSourceTime().getMTime()<l.getMTime()||i.getShaderSourceTime().getMTime()<e.renderable.getMTime()||i.getShaderSourceTime().getMTime()<e.currentInput.getMTime())&&(e.lastZBufferTexture=e.zBufferTexture,!0)},n.updateShaders=function(i,c,l){if(e.lastBoundBO=i,n.getNeedToRebuildShaders(i,c,l)){var y={Vertex:null,Fragment:null,Geometry:null};n.buildShaders(y,c,l);var R=e.openGLRenderWindow.getShaderCache().readyShaderProgramArray(y.Vertex,y.Fragment,y.Geometry);R!==i.getProgram()&&(i.setProgram(R),i.getVAO().releaseGraphicsResources()),i.getShaderSourceTime().modified()}else e.openGLRenderWindow.getShaderCache().readyShaderProgram(i.getProgram());i.getVAO().bind(),n.setMapperShaderParameters(i,c,l),n.setCameraShaderParameters(i,c,l),n.setPropertyShaderParameters(i,c,l)},n.setMapperShaderParameters=function(i,c,l){var y=i.getProgram();if(i.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>i.getAttributeUpdateTime().getMTime()||i.getShaderSourceTime().getMTime()>i.getAttributeUpdateTime().getMTime())&&(y.isAttributeUsed("vertexDC")&&(i.getVAO().addAttributeArray(y,i.getCABO(),"vertexDC",i.getCABO().getVertexOffset(),i.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||$s("Error setting vertexDC in shader VAO.")),i.getAttributeUpdateTime().modified()),y.setUniformi("texture1",e.scalarTexture.getTextureUnit()),y.setUniformf("sampleDistance",e.renderable.getSampleDistance()),e.zBufferTexture!==null){y.setUniformi("zBufferTexture",e.zBufferTexture.getTextureUnit());var R=n.getRenderTargetSize();y.setUniformf("vpWidth",R[0]),y.setUniformf("vpHeight",R[1])}},n.setCameraShaderParameters=function(i,c,l){var y=e.openGLCamera.getKeyMatrices(c),R=e.openGLVolume.getKeyMatrices();Be.c.multiply(e.modelToView,y.wcvc,R.mcwc);var _=i.getProgram(),$=e.openGLCamera.getRenderable(),re=$.getClippingRange();_.setUniformf("camThick",re[1]-re[0]),_.setUniformf("camNear",re[0]),_.setUniformf("camFar",re[1]);for(var he=e.currentInput.getBounds(),Ee=e.currentInput.getDimensions(),Se=Be.e.create(),ee=Be.e.create(),we=1,Fe=-1,Xe=1,qe=-1,tt=0;tt<8;++tt){if(Be.e.set(Se,he[tt%2],he[2+Math.floor(tt/2)%2],he[4+Math.floor(tt/4)]),Be.e.transformMat4(Se,Se,e.modelToView),!$.getParallelProjection()){Be.e.normalize(ee,Se);var Ye=-re[0]/Se[2];Be.e.scale(Se,ee,Ye)}Be.e.transformMat4(Se,Se,y.vcpc),we=Math.min(Se[0],we),Fe=Math.max(Se[0],Fe),Xe=Math.min(Se[1],Xe),qe=Math.max(Se[1],qe)}_.setUniformf("dcxmin",we),_.setUniformf("dcxmax",Fe),_.setUniformf("dcymin",Xe),_.setUniformf("dcymax",qe),_.isUniformUsed("cameraParallel")&&_.setUniformi("cameraParallel",$.getParallelProjection());var gt=e.currentInput.getExtent(),At=e.currentInput.getSpacing(),Vt=Be.e.create();Be.e.set(Vt,(gt[1]-gt[0]+1)*At[0],(gt[3]-gt[2]+1)*At[1],(gt[5]-gt[4]+1)*At[2]),_.setUniform3f("vSpacing",At[0],At[1],At[2]),Be.e.set(Se,gt[0],gt[2],gt[4]),e.currentInput.indexToWorldVec3(Se,Se),Be.e.transformMat4(Se,Se,e.modelToView),_.setUniform3f("vOriginVC",Se[0],Se[1],Se[2]);var Jt=e.currentInput.getIndexToWorld();Be.c.multiply(e.idxToView,e.modelToView,Jt),Be.b.multiply(e.idxNormalMatrix,y.normalMatrix,R.normalMatrix),Be.b.multiply(e.idxNormalMatrix,e.idxNormalMatrix,e.currentInput.getDirection());var vn=Be.e.length(Vt)/e.renderable.getSampleDistance();vn>e.renderable.getMaximumSamplesPerRay()&&Bf("The number of steps required ".concat(Math.ceil(vn),` is larger than the
        specified maximum number of steps `).concat(e.renderable.getMaximumSamplesPerRay(),`.
        Please either change the
        volumeMapper sampleDistance or its maximum number of samples.`));var Zt=Be.e.create();if(Be.e.set(Zt,1,1,1),Be.e.divide(Zt,Zt,Vt),_.setUniform3f("vVCToIJK",Zt[0],Zt[1],Zt[2]),_.setUniform3i("volumeDimensions",Ee[0],Ee[1],Ee[2]),!e.openGLRenderWindow.getWebgl2()){var on=e.scalarTexture.getVolumeInfo();_.setUniformf("texWidth",e.scalarTexture.getWidth()),_.setUniformf("texHeight",e.scalarTexture.getHeight()),_.setUniformi("xreps",on.xreps),_.setUniformi("xstride",on.xstride),_.setUniformi("ystride",on.ystride)}for(var Tn=Be.e.create(),En=Be.e.create(),jn=0;jn<6;++jn){switch(jn){default:case 0:Be.e.set(Tn,1,0,0),Be.e.set(En,gt[1],gt[3],gt[5]);break;case 1:Be.e.set(Tn,-1,0,0),Be.e.set(En,gt[0],gt[2],gt[4]);break;case 2:Be.e.set(Tn,0,1,0),Be.e.set(En,gt[1],gt[3],gt[5]);break;case 3:Be.e.set(Tn,0,-1,0),Be.e.set(En,gt[0],gt[2],gt[4]);break;case 4:Be.e.set(Tn,0,0,1),Be.e.set(En,gt[1],gt[3],gt[5]);break;case 5:Be.e.set(Tn,0,0,-1),Be.e.set(En,gt[0],gt[2],gt[4])}Be.e.transformMat3(Tn,Tn,e.idxNormalMatrix),Be.e.transformMat4(En,En,e.idxToView);var Nn=-1*Be.e.dot(En,Tn);if(_.setUniform3f("vPlaneNormal".concat(jn),Tn[0],Tn[1],Tn[2]),_.setUniformf("vPlaneDistance".concat(jn),Nn),l.getProperty().getUseLabelOutline()){var Un=e.currentInput.getWorldToIndex();_.setUniformMatrix("vWCtoIDX",Un),Be.c.invert(e.projectionToWorld,y.wcpc),_.setUniformMatrix("PCWCMatrix",e.projectionToWorld);var Xn=n.getRenderTargetSize();_.setUniformf("vpWidth",Xn[0]),_.setUniformf("vpHeight",Xn[1])}}switch(Be.c.invert(e.projectionToView,y.vcpc),_.setUniformMatrix("PCVCMatrix",e.projectionToView),e.lastLightComplexity){default:case 0:break;case 1:case 2:case 3:var Qn=0,Er=[];c.getLights().forEach(function(it){if(it.getSwitch()>0){var un=it.getColor(),Cn=it.getIntensity();Er[0]=un[0]*Cn,Er[1]=un[1]*Cn,Er[2]=un[2]*Cn,_.setUniform3fArray("lightColor".concat(Qn),Er);var yr=it.getDirection();Be.e.set(Tn,yr[0],yr[1],yr[2]),Be.e.transformMat3(Tn,Tn,y.normalMatrix),_.setUniform3f("lightDirectionVC".concat(Qn),Tn[0],Tn[1],Tn[2]);var Ar=[-.5*Tn[0],-.5*Tn[1],-.5*(Tn[2]-1)];_.setUniform3fArray("lightHalfAngleVC".concat(Qn),Ar),Qn++}})}},n.setPropertyShaderParameters=function(i,c,l){var y=i.getProgram();y.setUniformi("ctexture",e.colorTexture.getTextureUnit()),y.setUniformi("otexture",e.opacityTexture.getTextureUnit()),y.setUniformi("jtexture",e.jitterTexture.getTextureUnit());var R=e.scalarTexture.getVolumeInfo(),_=l.getProperty(),$=e.scalarTexture.getComponents(),re=l.getProperty().getIndependentComponents();if(re&&$>=2)for(var he=0;he<$;he++)y.setUniformf("mix".concat(he),l.getProperty().getComponentWeight(he));for(var Ee=0;Ee<$;Ee++){var Se=re?Ee:0,ee=R.scale[Ee],we=_.getScalarOpacity(Se).getRange(),Fe=ee/(we[1]-we[0]),Xe=(R.offset[Ee]-we[0])/(we[1]-we[0]);y.setUniformf("oshift".concat(Ee),Xe),y.setUniformf("oscale".concat(Ee),Fe);var qe=_.getRGBTransferFunction(Se).getRange();y.setUniformf("cshift".concat(Ee),(R.offset[Ee]-qe[0])/(qe[1]-qe[0])),y.setUniformf("cscale".concat(Ee),ee/(qe[1]-qe[0]))}if(e.gopacity)if(re)for(var tt=0;tt<$;++tt){var Ye=R.scale[tt];if(_.getUseGradientOpacity(tt)){var gt=_.getGradientOpacityMinimumOpacity(tt),At=_.getGradientOpacityMaximumOpacity(tt);y.setUniformf("gomin".concat(tt),gt),y.setUniformf("gomax".concat(tt),At);var Vt=[_.getGradientOpacityMinimumValue(tt),_.getGradientOpacityMaximumValue(tt)];y.setUniformf("goscale".concat(tt),Ye*(At-gt)/(Vt[1]-Vt[0])),y.setUniformf("goshift".concat(tt),-Vt[0]*(At-gt)/(Vt[1]-Vt[0])+gt)}else y.setUniformf("gomin".concat(tt),1),y.setUniformf("gomax".concat(tt),1),y.setUniformf("goscale".concat(tt),0),y.setUniformf("goshift".concat(tt),1)}else{var Jt=R.scale[$-1],vn=_.getGradientOpacityMinimumOpacity(0),Zt=_.getGradientOpacityMaximumOpacity(0);y.setUniformf("gomin0",vn),y.setUniformf("gomax0",Zt);var on=[_.getGradientOpacityMinimumValue(0),_.getGradientOpacityMaximumValue(0)];y.setUniformf("goscale0",Jt*(Zt-vn)/(on[1]-on[0])),y.setUniformf("goshift0",-on[0]*(Zt-vn)/(on[1]-on[0])+vn)}if(l.getProperty().getUseLabelOutline()===!0){var Tn=l.getProperty().getLabelOutlineThickness();y.setUniformi("outlineThickness",Tn)}e.lastLightComplexity>0&&(y.setUniformf("vAmbient",_.getAmbient()),y.setUniformf("vDiffuse",_.getDiffuse()),y.setUniformf("vSpecular",_.getSpecular()),y.setUniformf("vSpecularPower",_.getSpecularPower()))},n.getRenderTargetSize=function(){if(e.lastXYF>1.43){var i=e.framebuffer.getSize();return[e.fvp[0]*i[0],e.fvp[1]*i[1]]}return e.openGLRenderWindow.getFramebufferSize()},n.renderPieceStart=function(i,c){if(e.renderable.getAutoAdjustSampleDistances()){var l=i.getVTKWindow().getInteractor(),y=l.getLastFrameTime();if(e.avgFrameTime=.97*e.avgFrameTime+.03*y,e.avgWindowArea=.97*e.avgWindowArea+.03/(e.lastXYF*e.lastXYF),i.getVTKWindow().getInteractor().isAnimating()){var R=Math.sqrt(e.avgFrameTime*l.getDesiredUpdateRate()/e.avgWindowArea);R>10&&(R=10),e.targetXYF=R}else e.targetXYF=Math.sqrt(e.avgFrameTime*l.getStillUpdateRate()/e.avgWindowArea);e.targetXYF<1.53&&e.targetXYF>1.33&&(e.targetXYF=e.lastXYF),Math.abs(1-e.targetXYF/e.lastXYF)<.1&&(e.targetXYF=e.lastXYF),e.lastXYF=e.targetXYF}else e.lastXYF=e.renderable.getImageSampleDistance();e.lastXYF<=1.43&&(e.lastXYF=1);var _=e.lastXYF,$=e.openGLRenderWindow.getFramebufferSize();if(_>1.43){if(e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.getGLFramebuffer()===null)e.framebuffer.create(Math.floor(.7*$[0]),Math.floor(.7*$[1])),e.framebuffer.populateFramebuffer();else{var re=e.framebuffer.getSize();re[0]===Math.floor(.7*$[0])&&re[1]===Math.floor(.7*$[1])||(e.framebuffer.create(Math.floor(.7*$[0]),Math.floor(.7*$[1])),e.framebuffer.populateFramebuffer())}e.framebuffer.bind();var he=e.context;he.clearColor(0,0,0,0),he.colorMask(!0,!0,!0,!0),he.clear(he.COLOR_BUFFER_BIT),he.viewport(0,0,$[0]/_,$[1]/_),e.fvp=[Math.floor($[0]/_)/Math.floor(.7*$[0]),Math.floor($[1]/_)/Math.floor(.7*$[1])]}e.context.disable(e.context.DEPTH_TEST),n.updateBufferObjects(i,c),c.getProperty().getInterpolationType()===Gt.a.NEAREST?(e.scalarTexture.setMinificationFilter($n.NEAREST),e.scalarTexture.setMagnificationFilter($n.NEAREST)):(e.scalarTexture.setMinificationFilter($n.LINEAR),e.scalarTexture.setMagnificationFilter($n.LINEAR)),e.lastBoundBO=null,e.zBufferTexture!==null&&e.zBufferTexture.activate()},n.renderPieceDraw=function(i,c){var l=e.context;e.scalarTexture.activate(),e.opacityTexture.activate(),e.colorTexture.activate(),e.jitterTexture.activate(),n.updateShaders(e.tris,i,c),l.drawArrays(l.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release(),e.scalarTexture.deactivate(),e.colorTexture.deactivate(),e.opacityTexture.deactivate(),e.jitterTexture.deactivate()},n.renderPieceFinish=function(i,c){if(e.zBufferTexture!==null&&e.zBufferTexture.deactivate(),e.lastXYF>1.43){if(e.framebuffer.restorePreviousBindingsAndBuffers(),e.copyShader===null){e.copyShader=e.openGLRenderWindow.getShaderCache().readyShaderProgramArray(["//VTK::System::Dec","attribute vec4 vertexDC;","uniform vec2 tfactor;","varying vec2 tcoord;","void main() { tcoord = vec2(vertexDC.x*0.5 + 0.5, vertexDC.y*0.5 + 0.5) * tfactor; gl_Position = vertexDC; }"].join(`
`),["//VTK::System::Dec","//VTK::Output::Dec","uniform sampler2D texture1;","varying vec2 tcoord;","void main() { gl_FragData[0] = texture2D(texture1,tcoord); }"].join(`
`),"");var l=e.copyShader;e.copyVAO=ro.newInstance(),e.copyVAO.setOpenGLRenderWindow(e.openGLRenderWindow),e.tris.getCABO().bind(),e.copyVAO.addAttributeArray(l,e.tris.getCABO(),"vertexDC",e.tris.getCABO().getVertexOffset(),e.tris.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||$s("Error setting vertexDC in copy shader VAO.")}else e.openGLRenderWindow.getShaderCache().readyShaderProgram(e.copyShader);var y=e.openGLRenderWindow.getFramebufferSize();e.context.viewport(0,0,y[0],y[1]);var R=e.framebuffer.getColorTexture();R.activate(),e.copyShader.setUniformi("texture",R.getTextureUnit()),e.copyShader.setUniform2f("tfactor",e.fvp[0],e.fvp[1]);var _=e.context;_.blendFuncSeparate(_.ONE,_.ONE_MINUS_SRC_ALPHA,_.ONE,_.ONE_MINUS_SRC_ALPHA),e.context.drawArrays(e.context.TRIANGLES,0,e.tris.getCABO().getElementCount()),R.deactivate(),_.blendFuncSeparate(_.SRC_ALPHA,_.ONE_MINUS_SRC_ALPHA,_.ONE,_.ONE_MINUS_SRC_ALPHA)}},n.renderPiece=function(i,c){n.invokeEvent({type:"StartEvent"}),e.renderable.update(),e.currentInput=e.renderable.getInputData(),n.invokeEvent({type:"EndEvent"}),e.currentInput?(n.renderPieceStart(i,c),n.renderPieceDraw(i,c),n.renderPieceFinish(i,c)):$s("No input!")},n.computeBounds=function(i,c){n.getInput()?e.bounds=n.getInput().getBounds():dt.H(e.Bounds)},n.updateBufferObjects=function(i,c){n.getNeedToRebuildBufferObjects(i,c)&&n.buildBufferObjects(i,c)},n.getNeedToRebuildBufferObjects=function(i,c){return e.VBOBuildTime.getMTime()<n.getMTime()||e.VBOBuildTime.getMTime()<c.getMTime()||e.VBOBuildTime.getMTime()<e.renderable.getMTime()||e.VBOBuildTime.getMTime()<c.getProperty().getMTime()||e.VBOBuildTime.getMTime()<e.currentInput.getMTime()},n.buildBufferObjects=function(i,c){var l=e.currentInput;if(l!==null){var y=c.getProperty();if(!e.jitterTexture.getHandle()){for(var R=new Uint8Array(1024),_=0;_<1024;++_)R[_]=255*Math.random();e.jitterTexture.setMinificationFilter($n.LINEAR),e.jitterTexture.setMagnificationFilter($n.LINEAR),e.jitterTexture.create2DFromRaw(32,32,1,ha.b.UNSIGNED_CHAR,R)}var $=l.getPointData().getScalars().getNumberOfComponents(),re=y.getIndependentComponents()?$:1,he="".concat(y.getMTime());if(e.opacityTextureString!==he){for(var Ee=2048*re,Se=new Float32Array(Ee),ee=new Float32Array(1024),we=0;we<re;++we){var Fe=y.getScalarOpacity(we),Xe=e.renderable.getSampleDistance()/y.getScalarOpacityUnitDistance(we),qe=Fe.getRange();Fe.getTable(qe[0],qe[1],1024,ee,1);for(var tt=0;tt<1024;++tt)Se[1024*we*2+tt]=1-Math.pow(1-ee[tt],Xe),Se[1024*we*2+tt+1024]=Se[1024*we*2+tt]}if(e.opacityTexture.releaseGraphicsResources(e.openGLRenderWindow),e.opacityTexture.setMinificationFilter($n.LINEAR),e.opacityTexture.setMagnificationFilter($n.LINEAR),e.openGLRenderWindow.getWebgl2()||e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear"))e.opacityTexture.create2DFromRaw(1024,2*re,1,ha.b.FLOAT,Se);else{for(var Ye=new Uint8Array(Ee),gt=0;gt<Ee;++gt)Ye[gt]=255*Se[gt];e.opacityTexture.create2DFromRaw(1024,2*re,1,ha.b.UNSIGNED_CHAR,Ye)}e.opacityTextureString=he}if(he="".concat(y.getMTime()),e.colorTextureString!==he){for(var At=new Uint8Array(2048*re*3),Vt=new Float32Array(3072),Jt=0;Jt<re;++Jt){var vn=y.getRGBTransferFunction(Jt),Zt=vn.getRange();vn.getTable(Zt[0],Zt[1],1024,Vt,1);for(var on=0;on<3072;++on)At[1024*Jt*6+on]=255*Vt[on],At[1024*Jt*6+on+3072]=255*Vt[on]}e.colorTexture.releaseGraphicsResources(e.openGLRenderWindow),e.colorTexture.setMinificationFilter($n.LINEAR),e.colorTexture.setMagnificationFilter($n.LINEAR),e.colorTexture.create2DFromRaw(1024,2*re,3,ha.b.UNSIGNED_CHAR,At),e.colorTextureString=he}if(he="".concat(l.getMTime()),e.scalarTextureString!==he){var Tn=l.getDimensions();e.scalarTexture.releaseGraphicsResources(e.openGLRenderWindow),e.scalarTexture.resetFormatAndType(),e.scalarTexture.create3DFilterableFromRaw(Tn[0],Tn[1],Tn[2],$,l.getPointData().getScalars().getDataType(),l.getPointData().getScalars().getData()),e.scalarTextureString=he}if(!e.tris.getCABO().getElementCount()){for(var En=new Float32Array(12),jn=0;jn<4;jn++)En[3*jn]=jn%2*2-1,En[3*jn+1]=jn>1?1:-1,En[3*jn+2]=-1;var Nn=new Uint16Array(8);Nn[0]=3,Nn[1]=0,Nn[2]=1,Nn[3]=3,Nn[4]=3,Nn[5]=0,Nn[6]=3,Nn[7]=2;var Un=oe.a.newInstance({numberOfComponents:3,values:En});Un.setName("points");var Xn=oe.a.newInstance({numberOfComponents:1,values:Nn});e.tris.getCABO().createVBO(Xn,"polys",dn.a.SURFACE,{points:Un,cellOffset:0})}e.VBOBuildTime.modified()}}}(o,t)}var Lf={newInstance:r.b.newInstance(eu,"vtkOpenGLVolumeMapper"),extend:eu},_f={};function tu(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,_f,v),r.b.obj(o,t),function(n,e){e.overrides={},e.classHierarchy.push("vtkViewNodeFactory"),n.createNode=function(i){if(i.isDeleted())return null;for(var c=0,l=i.getClassName(c++),y=!1,R=Object.keys(e.overrides);l&&!y;)R.indexOf(l)!==-1?y=!0:l=i.getClassName(c++);if(!y)return null;var _=e.overrides[l]();return _.setMyFactory(n),_},n.registerOverride=function(i,c){e.overrides[i]=c}}(o,t)}var Vf={newInstance:r.b.newInstance(tu,"vtkViewNodeFactory"),extend:tu},Nf={};function nu(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Nf,v),Vf.extend(o,t,v),function(n,e){e.classHierarchy.push("vtkOpenGLViewNodeFactory")}(0,t),o.registerOverride("vtkActor",Ws.newInstance),o.registerOverride("vtkActor2D",Hs.newInstance),o.registerOverride("vtkCamera",Ys.newInstance),o.registerOverride("vtkGlyph3DMapper",nf.newInstance),o.registerOverride("vtkImageMapper",af.newInstance),o.registerOverride("vtkImageSlice",sf.newInstance),o.registerOverride("vtkMapper",gs.newInstance),o.registerOverride("vtkPixelSpaceCallbackMapper",lf.newInstance),o.registerOverride("vtkRenderer",pf.newInstance),o.registerOverride("vtkSkybox",mf.newInstance),o.registerOverride("vtkSphereMapper",xf.newInstance),o.registerOverride("vtkStickMapper",If.newInstance),o.registerOverride("vtkTexture",qa.newInstance),o.registerOverride("vtkVolume",Rf.newInstance),o.registerOverride("vtkVolumeMapper",Lf.newInstance),o.registerOverride("vtkWidgetRepresentation",rs.newInstance)}var jf={newInstance:r.b.newInstance(nu,"vtkOpenGLViewNodeFactory"),extend:nu},Gf=a(186),zf=a.n(Gf),Wf=["lastShaderBound","context","openGLRenderWindow"],Kf={lastShaderBound:null,shaderPrograms:null,context:null,openGLRenderWindow:null};function ru(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.assign(t,Kf,v),t.shaderPrograms={},r.b.obj(o,t),r.b.setGet(o,t,Wf),function(n,e){e.classHierarchy.push("vtkShaderCache"),n.replaceShaderValues=function(i,c,l){var y=c;l.length>0&&(y=qt.substitute(y,"VSOut","GSOut").result);var R=e.openGLRenderWindow.getWebgl2(),_=`
`,$=`#version 100
`;R?$=`#version 300 es
#define attribute in
#define textureCube texture
#define texture2D texture
#define textureCubeLod textureLod
#define texture2DLod textureLod
`:(e.context.getExtension("OES_standard_derivatives"),e.context.getExtension("EXT_frag_depth")&&(_=`#extension GL_EXT_frag_depth : enable
`),e.context.getExtension("EXT_shader_texture_lod")&&(_+=`#extension GL_EXT_shader_texture_lod : enable
#define textureCubeLod textureCubeLodEXT
#define texture2DLod texture2DLodEXT`)),y=qt.substitute(y,"//VTK::System::Dec",["".concat($,`
`),R?"":`#extension GL_OES_standard_derivatives : enable
`,_,"#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","precision highp int;","#else","precision mediump float;","precision mediump int;","#endif"]).result;var re=qt.substitute(i,"//VTK::System::Dec",["".concat($,`
`),"#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","precision highp int;","#else","precision mediump float;","precision mediump int;","#endif"]).result;return R&&(re=qt.substitute(re,"varying","out").result,y=qt.substitute(y,"varying","in").result,y=qt.substitute(y,"gl_FragData\\[0\\]","fragOutput0").result,y=qt.substitute(y,"//VTK::Output::Dec","layout(location = 0) out vec4 fragOutput0;").result),{VSSource:re,FSSource:y,GSSource:qt.substitute(l,"//VTK::System::Dec",$).result}},n.readyShaderProgramArray=function(i,c,l){var y=n.replaceShaderValues(i,c,l),R=n.getShaderProgram(y.VSSource,y.FSSource,y.GSSource);return n.readyShaderProgram(R)},n.readyShaderProgram=function(i){return i&&(i.getCompiled()||i.compileShader())&&n.bindShader(i)?i:null},n.getShaderProgram=function(i,c,l){var y="".concat(i).concat(c).concat(l),R=zf()(y);if(Object.keys(e.shaderPrograms).indexOf(R)===-1){var _=qt.newInstance();return _.setContext(e.context),_.getVertexShader().setSource(i),_.getFragmentShader().setSource(c),l&&_.getGeometryShader().setSource(l),_.setMd5Hash(R),e.shaderPrograms[R]=_,_}return e.shaderPrograms[R]},n.releaseGraphicsResources=function(i){n.releaseCurrentShader(),Object.keys(e.shaderPrograms).map(function(c){return e.shaderPrograms[c]}).forEach(function(c){return c.releaseGraphicsResources(i)})},n.releaseGraphicsResources=function(){e.astShaderBound&&(e.lastShaderBound.release(),e.lastShaderBound=null)},n.bindShader=function(i){return e.lastShaderBound===i||(e.lastShaderBound&&e.lastShaderBound.release(),i.bind(),e.lastShaderBound=i),1}}(o,t),Object.freeze(o)}var Hf={newInstance:r.b.newInstance(ru,"vtkShaderCache"),extend:ru},Qf=r.b.vtkErrorMacro,Yf={context:null,numberOfTextureUnits:0,textureUnits:0};function au(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Yf,v),r.b.obj(o,t),t.textureUnits=[],r.b.get(o,t,["numberOfTextureUnits"]),r.b.setGet(o,t,["context"]),function(n,e){e.classHierarchy.push("vtkOpenGLTextureUnitManager"),n.deleteTable=function(){for(var i=0;i<e.numberOfTextureUnits;++i)e.textureUnits[i]===!0&&Qf("some texture units  were not properly released");e.textureUnits=[],e.numberOfTextureUnits=0},n.setContext=function(i){if(e.context!==i){if(e.context!==0&&n.deleteTable(),e.context=i,e.context){e.numberOfTextureUnits=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS);for(var c=0;c<e.numberOfTextureUnits;++c)e.textureUnits[c]=!1}n.modified()}},n.allocate=function(){for(var i=0;i<e.numberOfTextureUnits;i++)if(!n.isAllocated(i))return e.textureUnits[i]=!0,i;return-1},n.allocateUnit=function(i){return n.isAllocated(i)?-1:(e.textureUnits[i]=!0,i)},n.isAllocated=function(i){return e.textureUnits[i]},n.free=function(i){e.textureUnits[i]=!1}}(o,t)}var Xf={newInstance:r.b.newInstance(au,"vtkOpenGLTextureUnitManager"),extend:au},qf=a(187),Zf=a.n(qf);function Jf(o,t){return function(v){if(Array.isArray(v))return v}(o)||function(v,n){var e=v==null?null:typeof Symbol!="undefined"&&v[Symbol.iterator]||v["@@iterator"];if(e!=null){var i,c,l=[],y=!0,R=!1;try{for(e=e.call(v);!(y=(i=e.next()).done)&&(l.push(i.value),!n||l.length!==n);y=!0);}catch(_){R=!0,c=_}finally{try{y||e.return==null||e.return()}finally{if(R)throw c}}return l}}(o,t)||ou(o,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $f(o){return function(t){if(Array.isArray(t))return ec(t)}(o)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(o)||ou(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ou(o,t){if(o){if(typeof o=="string")return ec(o,t);var v=Object.prototype.toString.call(o).slice(8,-1);return v==="Object"&&o.constructor&&(v=o.constructor.name),v==="Map"||v==="Set"?Array.from(o):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?ec(o,t):void 0}}function ec(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}var iu=r.b.vtkDebugMacro,tc=r.b.vtkErrorMacro,ed=navigator.userAgent.indexOf("Chrome")!==-1;function Ja(o,t,v){var n=o.createFramebuffer(),e=o.createTexture();o.bindTexture(o.TEXTURE_2D,e),o.texImage2D(o.TEXTURE_2D,0,t,2,2,0,t,v,null),o.bindFramebuffer(o.FRAMEBUFFER,n),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,e,0);var i=o.checkFramebufferStatus(o.FRAMEBUFFER);return o.bindFramebuffer(o.FRAMEBUFFER,null),o.bindTexture(o.TEXTURE_2D,null),i===o.FRAMEBUFFER_COMPLETE}var vs=0,ys=[];function td(){vs--,ys.forEach(function(o){return o(vs)})}function nd(o,t){t.classHierarchy.push("vtkOpenGLRenderWindow");var v=[0,0];o.onModified(function(){t.renderable&&(t.size[0]===v[0]&&t.size[1]===v[1]||(v[0]=t.size[0],v[1]=t.size[1],t.canvas.setAttribute("width",t.size[0]),t.canvas.setAttribute("height",t.size[1]))),t.viewStream&&t.viewStream.setSize(t.size[0],t.size[1]),t.canvas.style.display=t.useOffScreen?"none":"block",t.el&&(t.el.style.cursor=t.cursorVisibility?t.cursor:"none"),t.containerSize=null}),o.buildPass=function(n){if(n){if(!t.renderable)return;o.prepareNodes(),o.addMissingNodes(t.renderable.getRenderersByReference()),o.removeUnusedNodes(),o.initialize(),t.children.forEach(function(e){e.setOpenGLRenderWindow(o)})}},o.initialize=function(){if(!t.initialized){t.context=o.get3DContext(),t.textureUnitManager=Xf.newInstance(),t.textureUnitManager.setContext(t.context),t.shaderCache.setContext(t.context);var n=t.context;n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA),n.depthFunc(n.LEQUAL),n.enable(n.BLEND),t.initialized=!0}},o.makeCurrent=function(){t.context.makeCurrent()},o.setContainer=function(n){t.el&&t.el!==n&&(t.canvas.parentNode!==t.el&&tc("Error: canvas parent node does not match container"),t.el.removeChild(t.canvas),t.el.contains(t.bgImage)&&t.el.removeChild(t.bgImage)),t.el!==n&&(t.el=n,t.el&&(t.el.appendChild(t.canvas),t.useBackgroundImage&&t.el.appendChild(t.bgImage)),o.modified())},o.getContainer=function(){return t.el},o.getContainerSize=function(){if(!t.containerSize&&t.el){var n=t.el.getBoundingClientRect(),e=n.width,i=n.height;t.containerSize=[e,i]}return t.containerSize||t.size},o.getFramebufferSize=function(){return t.activeFramebuffer?t.activeFramebuffer.getSize():t.size},o.isInViewport=function(n,e,i){var c=i.getViewportByReference(),l=o.getFramebufferSize();return c[0]*l[0]<=n&&c[2]*l[0]>=n&&c[1]*l[1]<=e&&c[3]*l[1]>=e},o.getViewportSize=function(n){var e=n.getViewportByReference(),i=o.getFramebufferSize();return[(e[2]-e[0])*i[0],(e[3]-e[1])*i[1]]},o.getViewportCenter=function(n){var e=o.getViewportSize(n);return[.5*e[0],.5*e[1]]},o.displayToNormalizedDisplay=function(n,e,i){var c=o.getFramebufferSize();return[n/c[0],e/c[1],i]},o.normalizedDisplayToDisplay=function(n,e,i){var c=o.getFramebufferSize();return[n*c[0],e*c[1],i]},o.worldToView=function(n,e,i,c){return c.worldToView(n,e,i)},o.viewToWorld=function(n,e,i,c){return c.viewToWorld(n,e,i)},o.worldToDisplay=function(n,e,i,c){var l=c.worldToView(n,e,i),y=o.getViewportSize(c),R=c.viewToProjection(l[0],l[1],l[2],y[0]/y[1]),_=c.projectionToNormalizedDisplay(R[0],R[1],R[2]);return o.normalizedDisplayToDisplay(_[0],_[1],_[2])},o.displayToWorld=function(n,e,i,c){var l=o.displayToNormalizedDisplay(n,e,i),y=c.normalizedDisplayToProjection(l[0],l[1],l[2]),R=o.getViewportSize(c),_=c.projectionToView(y[0],y[1],y[2],R[0]/R[1]);return c.viewToWorld(_[0],_[1],_[2])},o.normalizedDisplayToViewport=function(n,e,i,c){var l=c.getViewportByReference();l=o.normalizedDisplayToDisplay(l[0],l[1],0);var y=o.normalizedDisplayToDisplay(n,e,i);return[y[0]-l[0]-.5,y[1]-l[1]-.5,i]},o.viewportToNormalizedViewport=function(n,e,i,c){var l=o.getViewportSize(c);return l&&l[0]!==0&&l[1]!==0?[n/(l[0]-1),e/(l[1]-1),i]:[n,e,i]},o.normalizedViewportToViewport=function(n,e,i){var c=o.getFramebufferSize();return[n*(c[0]-1),e*(c[1]-1),i]},o.displayToLocalDisplay=function(n,e,i){return[n,o.getFramebufferSize()[1]-e-1,i]},o.viewportToNormalizedDisplay=function(n,e,i,c){var l=c.getViewportByReference(),y=n+(l=o.normalizedDisplayToDisplay(l[0],l[1],0))[0]+.5,R=e+l[1]+.5;return o.displayToNormalizedDisplay(y,R,i)},o.getPixelData=function(n,e,i,c){var l=new Uint8Array((i-n+1)*(c-e+1)*4);return t.context.readPixels(n,e,i-n+1,c-e+1,t.context.RGBA,t.context.UNSIGNED_BYTE,l),l},o.get3DContext=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{preserveDrawingBuffer:!1,depth:!0,alpha:!0},e=null,i=typeof WebGL2RenderingContext!="undefined";return t.webgl2=!1,t.defaultToWebgl2&&i&&(e=t.canvas.getContext("webgl2",n))&&(t.webgl2=!0,iu("using webgl2")),e||(iu("using webgl1"),e=t.canvas.getContext("webgl",n)||t.canvas.getContext("experimental-webgl",n)),new Zf.a({PROVIDE_MOBILE_VRDISPLAY:!0,DIRTY_SUBMIT_FRAME_BINDINGS:!1,BUFFER_SCALE:.75}),navigator.getVRDisplays&&navigator.getVRDisplays().then(function(c){c.length>0&&(t.vrDisplay=c[0],t.vrDisplay.depthNear=.01,t.vrDisplay.depthFar=100,o.invokeHaveVRDisplay())}),t.canvas.addEventListener("webglcontextlost",function(c){c.preventDefault()},!1),t.canvas.addEventListener("webglcontextrestored",o.restoreContext,!1),e},o.startVR=function(){t.oldCanvasSize=t.size.slice(),t.vrDisplay.capabilities.canPresent?t.vrDisplay.requestPresent([{source:t.canvas}]).then(function(){if(t.el&&t.vrDisplay.capabilities.hasExternalDisplay&&t.hideCanvasInVR&&(t.el.style.display="none"),t.queryVRSize){var n=t.vrDisplay.getEyeParameters("left"),e=t.vrDisplay.getEyeParameters("right"),i=Math.floor(n.renderWidth+e.renderWidth),c=Math.floor(Math.max(n.renderHeight,e.renderHeight));o.setSize(i,c)}else o.setSize(t.vrResolution);t.renderable.getRenderers()[0].resetCamera(),t.vrFrameData=new VRFrameData,t.renderable.getInteractor().switchToVRAnimation(),t.vrSceneFrame=t.vrDisplay.requestAnimationFrame(o.vrRender),ed&&(t.vrSceneFrame=t.vrDisplay.requestAnimationFrame(o.vrRender))}).catch(function(){console.error("failed to requestPresent")}):tc("vrDisplay is not connected")},o.stopVR=function(){t.renderable.getInteractor().returnFromVRAnimation(),t.vrDisplay.exitPresent(),t.vrDisplay.cancelAnimationFrame(t.vrSceneFrame),o.setSize.apply(o,$f(t.oldCanvasSize)),t.el&&t.vrDisplay.capabilities.hasExternalDisplay&&(t.el.style.display="block");var n=t.renderable.getRenderers()[0];n.getActiveCamera().setProjectionMatrix(null),n.setViewport(0,0,1,1),o.traverseAllPasses()},o.vrRender=function(){if(t.vrDisplay.isPresenting){t.renderable.getInteractor().updateGamepads(t.vrDisplay.displayId),t.vrSceneFrame=t.vrDisplay.requestAnimationFrame(o.vrRender),t.vrDisplay.getFrameData(t.vrFrameData);var n=t.renderable.getRenderers()[0];n.setViewport(0,0,.5,1),n.getActiveCamera().computeViewParametersFromPhysicalMatrix(t.vrFrameData.leftViewMatrix),n.getActiveCamera().setProjectionMatrix(t.vrFrameData.leftProjectionMatrix),o.traverseAllPasses(),n.setViewport(.5,0,1,1),n.getActiveCamera().computeViewParametersFromPhysicalMatrix(t.vrFrameData.rightViewMatrix),n.getActiveCamera().setProjectionMatrix(t.vrFrameData.rightProjectionMatrix),o.traverseAllPasses(),t.vrDisplay.submitFrame()}},o.restoreContext=function(){var n=$i.newInstance();n.setCurrentOperation("Release"),n.traverse(o,null)},o.activateTexture=function(n){var e=t.textureResourceIds.get(n);if(e===void 0){var i=o.getTextureUnitManager().allocate();i<0?tc("Hardware does not support the number of textures defined."):(t.textureResourceIds.set(n,i),t.context.activeTexture(t.context.TEXTURE0+i))}else t.context.activeTexture(t.context.TEXTURE0+e)},o.deactivateTexture=function(n){var e=t.textureResourceIds.get(n);e!==void 0&&(o.getTextureUnitManager().free(e),t.textureResourceIds.delete(n))},o.getTextureUnitForTexture=function(n){var e=t.textureResourceIds.get(n);return e!==void 0?e:-1},o.getDefaultTextureInternalFormat=function(n,e,i){if(t.webgl2)switch(n){case ha.b.UNSIGNED_CHAR:switch(e){case 1:return t.context.R8;case 2:return t.context.RG8;case 3:return t.context.RGB8;case 4:default:return t.context.RGBA8}default:case ha.b.FLOAT:switch(e){case 1:return t.context.R16F;case 2:return t.context.RG16F;case 3:return t.context.RGB16F;case 4:default:return t.context.RGBA16F}}switch(e){case 1:return t.context.LUMINANCE;case 2:return t.context.LUMINANCE_ALPHA;case 3:return t.context.RGB;case 4:default:return t.context.RGBA}},o.setBackgroundImage=function(n){t.bgImage.src=n.src},o.setUseBackgroundImage=function(n){t.useBackgroundImage=n,t.useBackgroundImage&&!t.el.contains(t.bgImage)?t.el.appendChild(t.bgImage):!t.useBackgroundImage&&t.el.contains(t.bgImage)&&t.el.removeChild(t.bgImage)},o.captureNextImage=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png";if(t.deleted)return null;t.imageFormat=n;var e=t.notifyStartCaptureImage;return t.notifyStartCaptureImage=!0,new Promise(function(i,c){var l=o.onImageReady(function(y){t.notifyStartCaptureImage=e,l.unsubscribe(),i(y)})})},o.getGLInformations=function(){for(var n=o.get3DContext(),e=n.getExtension("OES_texture_float"),i=n.getExtension("OES_texture_half_float"),c=n.getExtension("WEBGL_debug_renderer_info"),l=n.getExtension("WEBGL_draw_buffers"),y=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),R=[["Max Vertex Attributes","MAX_VERTEX_ATTRIBS",n.getParameter(n.MAX_VERTEX_ATTRIBS)],["Max Varying Vectors","MAX_VARYING_VECTORS",n.getParameter(n.MAX_VARYING_VECTORS)],["Max Vertex Uniform Vectors","MAX_VERTEX_UNIFORM_VECTORS",n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS)],["Max Fragment Uniform Vectors","MAX_FRAGMENT_UNIFORM_VECTORS",n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS)],["Max Fragment Texture Image Units","MAX_TEXTURE_IMAGE_UNITS",n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)],["Max Vertex Texture Image Units","MAX_VERTEX_TEXTURE_IMAGE_UNITS",n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS)],["Max Combined Texture Image Units","MAX_COMBINED_TEXTURE_IMAGE_UNITS",n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS)],["Max 2D Texture Size","MAX_TEXTURE_SIZE",n.getParameter(n.MAX_TEXTURE_SIZE)],["Max Cube Texture Size","MAX_CUBE_MAP_TEXTURE_SIZE",n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE)],["Max Texture Anisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT",y&&n.getParameter(y.MAX_TEXTURE_MAX_ANISOTROPY_EXT)],["Point Size Range","ALIASED_POINT_SIZE_RANGE",n.getParameter(n.ALIASED_POINT_SIZE_RANGE).join(" - ")],["Line Width Range","ALIASED_LINE_WIDTH_RANGE",n.getParameter(n.ALIASED_LINE_WIDTH_RANGE).join(" - ")],["Max Viewport Dimensions","MAX_VIEWPORT_DIMS",n.getParameter(n.MAX_VIEWPORT_DIMS).join(" - ")],["Max Renderbuffer Size","MAX_RENDERBUFFER_SIZE",n.getParameter(n.MAX_RENDERBUFFER_SIZE)],["Framebuffer Red Bits","RED_BITS",n.getParameter(n.RED_BITS)],["Framebuffer Green Bits","GREEN_BITS",n.getParameter(n.GREEN_BITS)],["Framebuffer Blue Bits","BLUE_BITS",n.getParameter(n.BLUE_BITS)],["Framebuffer Alpha Bits","ALPHA_BITS",n.getParameter(n.ALPHA_BITS)],["Framebuffer Depth Bits","DEPTH_BITS",n.getParameter(n.DEPTH_BITS)],["Framebuffer Stencil Bits","STENCIL_BITS",n.getParameter(n.STENCIL_BITS)],["Framebuffer Subpixel Bits","SUBPIXEL_BITS",n.getParameter(n.SUBPIXEL_BITS)],["MSAA Samples","SAMPLES",n.getParameter(n.SAMPLES)],["MSAA Sample Buffers","SAMPLE_BUFFERS",n.getParameter(n.SAMPLE_BUFFERS)],["Supported Formats for UByte Render Targets     ","UNSIGNED_BYTE RENDER TARGET FORMATS",[e&&Ja(n,n.RGBA,n.UNSIGNED_BYTE)?"RGBA":"",e&&Ja(n,n.RGB,n.UNSIGNED_BYTE)?"RGB":"",e&&Ja(n,n.LUMINANCE,n.UNSIGNED_BYTE)?"LUMINANCE":"",e&&Ja(n,n.ALPHA,n.UNSIGNED_BYTE)?"ALPHA":"",e&&Ja(n,n.LUMINANCE_ALPHA,n.UNSIGNED_BYTE)?"LUMINANCE_ALPHA":""].join(" ")],["Supported Formats for Half Float Render Targets","HALF FLOAT RENDER TARGET FORMATS",[i&&Ja(n,n.RGBA,i.HALF_FLOAT_OES)?"RGBA":"",i&&Ja(n,n.RGB,i.HALF_FLOAT_OES)?"RGB":"",i&&Ja(n,n.LUMINANCE,i.HALF_FLOAT_OES)?"LUMINANCE":"",i&&Ja(n,n.ALPHA,i.HALF_FLOAT_OES)?"ALPHA":"",i&&Ja(n,n.LUMINANCE_ALPHA,i.HALF_FLOAT_OES)?"LUMINANCE_ALPHA":""].join(" ")],["Supported Formats for Full Float Render Targets","FLOAT RENDER TARGET FORMATS",[e&&Ja(n,n.RGBA,n.FLOAT)?"RGBA":"",e&&Ja(n,n.RGB,n.FLOAT)?"RGB":"",e&&Ja(n,n.LUMINANCE,n.FLOAT)?"LUMINANCE":"",e&&Ja(n,n.ALPHA,n.FLOAT)?"ALPHA":"",e&&Ja(n,n.LUMINANCE_ALPHA,n.FLOAT)?"LUMINANCE_ALPHA":""].join(" ")],["Max Multiple Render Targets Buffers","MAX_DRAW_BUFFERS_WEBGL",l?n.getParameter(l.MAX_DRAW_BUFFERS_WEBGL):0],["High Float Precision in Vertex Shader","HIGH_FLOAT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).rangeMax,"</sup>)"].join("")],["Medium Float Precision in Vertex Shader","MEDIUM_FLOAT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).rangeMax,"</sup>)"].join("")],["Low Float Precision in Vertex Shader","LOW_FLOAT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_FLOAT).rangeMax,"</sup>)"].join("")],["High Float Precision in Fragment Shader","HIGH_FLOAT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).rangeMax,"</sup>)"].join("")],["Medium Float Precision in Fragment Shader","MEDIUM_FLOAT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).rangeMax,"</sup>)"].join("")],["Low Float Precision in Fragment Shader","LOW_FLOAT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_FLOAT).rangeMax,"</sup>)"].join("")],["High Int Precision in Vertex Shader","HIGH_INT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_INT).rangeMax,"</sup>)"].join("")],["Medium Int Precision in Vertex Shader","MEDIUM_INT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_INT).rangeMax,"</sup>)"].join("")],["Low Int Precision in Vertex Shader","LOW_INT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_INT).rangeMax,"</sup>)"].join("")],["High Int Precision in Fragment Shader","HIGH_INT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_INT).rangeMax,"</sup>)"].join("")],["Medium Int Precision in Fragment Shader","MEDIUM_INT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_INT).rangeMax,"</sup>)"].join("")],["Low Int Precision in Fragment Shader","LOW_INT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_INT).rangeMax,"</sup>)"].join("")],["Supported Extensions","EXTENSIONS",n.getSupportedExtensions().join("<br/>					    ")],["WebGL Renderer","RENDERER",n.getParameter(n.RENDERER)],["WebGL Vendor","VENDOR",n.getParameter(n.VENDOR)],["WebGL Version","VERSION",n.getParameter(n.VERSION)],["Shading Language Version","SHADING_LANGUAGE_VERSION",n.getParameter(n.SHADING_LANGUAGE_VERSION)],["Unmasked Renderer","UNMASKED_RENDERER",c&&n.getParameter(c.UNMASKED_RENDERER_WEBGL)],["Unmasked Vendor","UNMASKED_VENDOR",c&&n.getParameter(c.UNMASKED_VENDOR_WEBGL)],["WebGL Version","WEBGL_VERSION",t.webgl2?2:1]],_={};R.length;){var $=Jf(R.pop(),3),re=$[0],he=$[1],Ee=$[2];he&&(_[he]={label:re,value:Ee})}return _},o.traverseAllPasses=function(){if(t.renderPasses)for(var n=0;n<t.renderPasses.length;++n)t.renderPasses[n].traverse(o,null);t.notifyStartCaptureImage&&function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.imageFormat,i=document.createElement("canvas"),c=i.getContext("2d");i.width=t.canvas.width,i.height=t.canvas.height,c.drawImage(t.canvas,0,0);var l=t.canvas.getBoundingClientRect();t.renderable.getRenderers().forEach(function(R){R.getViewProps().forEach(function(_){if(_.getContainer)for(var $=_.getContainer().getElementsByTagName("canvas"),re=0;re<$.length;re++){var he=$[re],Ee=he.getBoundingClientRect(),Se=Ee.x-l.x,ee=Ee.y-l.y;c.drawImage(he,Se,ee)}})});var y=i.toDataURL(e);i.remove(),o.invokeImageReady(y)}()},o.disableDepthMask=function(){t.depthMaskEnabled&&(t.context.depthMask(!1),t.depthMaskEnabled=!1)},o.enableDepthMask=function(){t.depthMaskEnabled||(t.context.depthMask(!0),t.depthMaskEnabled=!0)},o.disableCullFace=function(){t.cullFaceEnabled&&(t.context.disable(t.context.CULL_FACE),t.cullFaceEnabled=!1)},o.enableCullFace=function(){t.cullFaceEnabled||(t.context.enable(t.context.CULL_FACE),t.cullFaceEnabled=!0)},o.setViewStream=function(n){return t.viewStream===n?!1:(t.subscription&&(t.subscription.unsubscribe(),t.subscription=null),t.viewStream=n,t.viewStream&&(t.renderable.getRenderers()[0].getBackgroundByReference()[3]=0,o.setUseBackgroundImage(!0),t.subscription=t.viewStream.onImageReady(function(e){return o.setBackgroundImage(e.image)}),t.viewStream.setSize(t.size[0],t.size[1]),t.viewStream.invalidateCache(),t.viewStream.render(),o.modified()),!0)},o.delete=r.b.chain(o.delete,o.setViewStream,td)}var rd={cullFaceEnabled:!1,depthMaskEnabled:!0,shaderCache:null,initialized:!1,context:null,canvas:null,size:[300,300],cursorVisibility:!0,cursor:"pointer",textureUnitManager:null,textureResourceIds:null,containerSize:null,renderPasses:[],notifyStartCaptureImage:!1,webgl2:!1,defaultToWebgl2:!0,vrResolution:[2160,1200],queryVRSize:!1,hideCanvasInVR:!0,activeFramebuffer:null,vrDisplay:null,imageFormat:"image/png",useOffScreen:!1,useBackgroundImage:!1};function su(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,rd,v),t.canvas=document.createElement("canvas"),t.canvas.style.width="100%",vs++,ys.forEach(function(n){return n(vs)}),t.bgImage=new Image,t.bgImage.style.position="absolute",t.bgImage.style.left="0",t.bgImage.style.top="0",t.bgImage.style.width="100%",t.bgImage.style.height="100%",t.bgImage.style.zIndex="-1",t.textureResourceIds=new Map,Ia.extend(o,t,v),t.myFactory=jf.newInstance(),t.myFactory.registerOverride("vtkRenderWindow",cu),t.shaderCache=Hf.newInstance(),t.shaderCache.setOpenGLRenderWindow(o),t.renderPasses[0]=ts.newInstance(),r.b.event(o,t,"imageReady"),r.b.event(o,t,"haveVRDisplay"),r.b.get(o,t,["shaderCache","textureUnitManager","webgl2","vrDisplay","useBackgroundImage"]),r.b.setGet(o,t,["initialized","context","canvas","renderPasses","notifyStartCaptureImage","defaultToWebgl2","cursor","queryVRSize","hideCanvasInVR","useOffScreen","activeFramebuffer"]),r.b.setGetArray(o,t,["size","vrResolution"],2),nd(o,t)}var cu=r.b.newInstance(su,"vtkOpenGLRenderWindow"),ad={newInstance:cu,extend:su,pushMonitorGLContextCount:function(o){ys.push(o)},popMonitorGLContextCount:function(o){return ys.pop()}};function uo(o){return function(t){if(Array.isArray(t))return nc(t)}(o)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(o)||function(t,v){if(!!t){if(typeof t=="string")return nc(t,v);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nc(t,v)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nc(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}var bs=r.b.vtkDebugMacro,od={position:[0,0,1],focalPoint:[0,0,0],viewUp:[0,1,0],directionOfProjection:[0,0,-1],parallelProjection:!1,useHorizontalViewAngle:!1,viewAngle:30,parallelScale:1,clippingRange:[.01,1000.01],windowCenter:[0,0],viewPlaneNormal:[0,0,1],useOffAxisProjection:!1,screenBottomLeft:[-.5,-.5,-.5],screenBottomRight:[.5,-.5,-.5],screenTopRight:[.5,.5,-.5],freezeFocalPoint:!1,projectionMatrix:null,viewMatrix:null,physicalTranslation:[0,0,0],physicalScale:1,physicalViewUp:[0,1,0],physicalViewNorth:[0,0,-1]};function uu(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,od,v),r.b.obj(o,t),r.b.get(o,t,["distance"]),r.b.setGet(o,t,["parallelProjection","useHorizontalViewAngle","viewAngle","parallelScale","useOffAxisProjection","freezeFocalPoint","physicalScale"]),r.b.getArray(o,t,["directionOfProjection","viewPlaneNormal","position","focalPoint"]),r.b.setGetArray(o,t,["clippingRange","windowCenter"],2),r.b.setGetArray(o,t,["viewUp","screenBottomLeft","screenBottomRight","screenTopRight","physicalTranslation","physicalViewUp","physicalViewNorth"],3),function(n,e){e.classHierarchy.push("vtkCamera");var i=Be.e.create(),c=Be.e.fromValues(0,0,-1),l=Be.e.fromValues(0,1,0),y=Be.c.create(),R=Be.e.create(),_=Be.e.create(),$=Be.e.create(),re=Be.c.create(),he=Be.c.create(),Ee=Be.e.create(),Se=Be.e.create();function ee(){e.viewPlaneNormal[0]=-e.directionOfProjection[0],e.viewPlaneNormal[1]=-e.directionOfProjection[1],e.viewPlaneNormal[2]=-e.directionOfProjection[2]}n.orthogonalizeViewUp=function(){var we=n.getViewMatrix();e.viewUp[0]=we[4],e.viewUp[1]=we[5],e.viewUp[2]=we[6],n.modified()},n.setPosition=function(we,Fe,Xe){we===e.position[0]&&Fe===e.position[1]&&Xe===e.position[2]||(e.position[0]=we,e.position[1]=Fe,e.position[2]=Xe,n.computeDistance(),n.modified())},n.setFocalPoint=function(we,Fe,Xe){we===e.focalPoint[0]&&Fe===e.focalPoint[1]&&Xe===e.focalPoint[2]||(e.focalPoint[0]=we,e.focalPoint[1]=Fe,e.focalPoint[2]=Xe,n.computeDistance(),n.modified())},n.setDistance=function(we){if(e.distance!==we){e.distance=we,e.distance<1e-20&&(e.distance=1e-20,bs("Distance is set to minimum."));var Fe=e.directionOfProjection;e.focalPoint[0]=e.position[0]+Fe[0]*e.distance,e.focalPoint[1]=e.position[1]+Fe[1]*e.distance,e.focalPoint[2]=e.position[2]+Fe[2]*e.distance,n.modified()}},n.computeDistance=function(){var we=e.focalPoint[0]-e.position[0],Fe=e.focalPoint[1]-e.position[1],Xe=e.focalPoint[2]-e.position[2];if(e.distance=Math.sqrt(we*we+Fe*Fe+Xe*Xe),e.distance<1e-20){e.distance=1e-20,bs("Distance is set to minimum.");var qe=e.directionOfProjection;e.focalPoint[0]=e.position[0]+qe[0]*e.distance,e.focalPoint[1]=e.position[1]+qe[1]*e.distance,e.focalPoint[2]=e.position[2]+qe[2]*e.distance}e.directionOfProjection[0]=we/e.distance,e.directionOfProjection[1]=Fe/e.distance,e.directionOfProjection[2]=Xe/e.distance,ee()},n.dolly=function(we){if(!(we<=0)){var Fe=e.distance/we;n.setPosition(e.focalPoint[0]-Fe*e.directionOfProjection[0],e.focalPoint[1]-Fe*e.directionOfProjection[1],e.focalPoint[2]-Fe*e.directionOfProjection[2])}},n.roll=function(we){var Fe=e.position,Xe=e.focalPoint,qe=e.viewUp,tt=Be.f.fromValues(qe[0],qe[1],qe[2],0);Be.c.identity(re);var Ye=Be.e.fromValues(Xe[0]-Fe[0],Xe[1]-Fe[1],Xe[2]-Fe[2]);Be.c.rotate(re,re,dt.y(we),Ye),Be.f.transformMat4(tt,tt,re),e.viewUp[0]=tt[0],e.viewUp[1]=tt[1],e.viewUp[2]=tt[2],n.modified()},n.azimuth=function(we){var Fe=e.focalPoint;Be.c.identity(he),Be.c.translate(he,he,Be.e.fromValues(Fe[0],Fe[1],Fe[2])),Be.c.rotate(he,he,dt.y(we),Be.e.fromValues(e.viewUp[0],e.viewUp[1],e.viewUp[2])),Be.c.translate(he,he,Be.e.fromValues(-Fe[0],-Fe[1],-Fe[2])),Be.e.transformMat4(Ee,Be.e.fromValues(e.position[0],e.position[1],e.position[2]),he),n.setPosition(Ee[0],Ee[1],Ee[2])},n.yaw=function(we){var Fe=e.position;Be.c.identity(he),Be.c.translate(he,he,Be.e.fromValues(Fe[0],Fe[1],Fe[2])),Be.c.rotate(he,he,dt.y(we),Be.e.fromValues(e.viewUp[0],e.viewUp[1],e.viewUp[2])),Be.c.translate(he,he,Be.e.fromValues(-Fe[0],-Fe[1],-Fe[2])),Be.e.transformMat4(Se,Be.e.fromValues(e.focalPoint[0],e.focalPoint[1],e.focalPoint[2]),he),n.setFocalPoint(Se[0],Se[1],Se[2])},n.elevation=function(we){var Fe=e.focalPoint,Xe=n.getViewMatrix(),qe=[-Xe[0],-Xe[1],-Xe[2]];Be.c.identity(he),Be.c.translate(he,he,Be.e.fromValues(Fe[0],Fe[1],Fe[2])),Be.c.rotate(he,he,dt.y(we),Be.e.fromValues(qe[0],qe[1],qe[2])),Be.c.translate(he,he,Be.e.fromValues(-Fe[0],-Fe[1],-Fe[2])),Be.e.transformMat4(Ee,Be.e.fromValues(e.position[0],e.position[1],e.position[2]),he),n.setPosition(Ee[0],Ee[1],Ee[2])},n.pitch=function(we){var Fe=e.position,Xe=n.getViewMatrix(),qe=[Xe[0],Xe[1],Xe[2]];Be.c.identity(he),Be.c.translate(he,he,Be.e.fromValues(Fe[0],Fe[1],Fe[2])),Be.c.rotate(he,he,dt.y(we),Be.e.fromValues(qe[0],qe[1],qe[2])),Be.c.translate(he,he,Be.e.fromValues(-Fe[0],-Fe[1],-Fe[2])),Be.e.transformMat4(Se,Be.e.fromValues.apply(Be.e,uo(e.focalPoint)),he),n.setFocalPoint.apply(n,uo(Se))},n.zoom=function(we){we<=0||(e.parallelProjection?e.parallelScale/=we:e.viewAngle/=we,n.modified())},n.applyTransform=function(we){var Fe=[].concat(uo(e.viewUp),[1]),Xe=[],qe=[],tt=[];Fe[0]+=e.position[0],Fe[1]+=e.position[1],Fe[2]+=e.position[2],Be.f.transformMat4(Xe,[].concat(uo(e.position),[1]),we),Be.f.transformMat4(qe,[].concat(uo(e.focalPoint),[1]),we),Be.f.transformMat4(tt,Fe,we),tt[0]-=Xe[0],tt[1]-=Xe[1],tt[2]-=Xe[2],n.setPosition.apply(n,uo(Xe.slice(0,3))),n.setFocalPoint.apply(n,uo(qe.slice(0,3))),n.setViewUp.apply(n,uo(tt.slice(0,3)))},n.getThickness=function(){return e.clippingRange[1]-e.clippingRange[0]},n.setThickness=function(we){var Fe=we;Fe<1e-20&&(Fe=1e-20,bs("Thickness is set to minimum.")),n.setClippingRange(e.clippingRange[0],e.clippingRange[0]+Fe)},n.setThicknessFromFocalPoint=function(we){var Fe=we;Fe<1e-20&&(Fe=1e-20,bs("Thickness is set to minimum.")),n.setClippingRange(e.distance-Fe/2,e.distance+Fe/2)},n.setRoll=function(we){},n.getRoll=function(){},n.setObliqueAngles=function(we,Fe){},n.getOrientation=function(){},n.getOrientationWXYZ=function(){},n.getFrustumPlanes=function(we){},n.getCameraLightTransformMatrix=function(){},n.deepCopy=function(we){},n.physicalOrientationToWorldDirection=function(we){var Fe=Be.d.fromValues(we[0],we[1],we[2],we[3]),Xe=Be.d.create(),qe=Be.d.fromValues(0,0,1,0);return Be.d.conjugate(Xe,Fe),Be.d.multiply(qe,Fe,qe),Be.d.multiply(qe,qe,Xe),[qe[0],qe[1],qe[2]]},n.getPhysicalToWorldMatrix=function(we){n.getWorldToPhysicalMatrix(we),Be.c.invert(we,we)},n.getWorldToPhysicalMatrix=function(we){Be.c.identity(we);var Fe=[3];dt.i(e.physicalViewNorth,e.physicalViewUp,Fe),we[0]=Fe[0],we[1]=Fe[1],we[2]=Fe[2],we[4]=e.physicalViewUp[0],we[5]=e.physicalViewUp[1],we[6]=e.physicalViewUp[2],we[8]=-e.physicalViewNorth[0],we[9]=-e.physicalViewNorth[1],we[10]=-e.physicalViewNorth[2],Be.c.transpose(we,we),Be.e.set(R,1/e.physicalScale,1/e.physicalScale,1/e.physicalScale),Be.c.scale(we,we,R),Be.c.translate(we,we,e.physicalTranslation)},n.computeViewParametersFromViewMatrix=function(we){Be.c.invert(y,we),Be.e.transformMat4(R,i,y),n.computeDistance();var Fe=e.distance;n.setPosition(R[0],R[1],R[2]),Be.e.transformMat4(_,c,y),Be.e.subtract(_,_,R),Be.e.normalize(_,_),n.setDirectionOfProjection(_[0],_[1],_[2]),Be.e.transformMat4($,l,y),Be.e.subtract($,$,R),Be.e.normalize($,$),n.setViewUp($[0],$[1],$[2]),n.setDistance(Fe)},n.computeViewParametersFromPhysicalMatrix=function(we){n.getWorldToPhysicalMatrix(y),Be.c.multiply(y,we,y),n.computeViewParametersFromViewMatrix(y)},n.setViewMatrix=function(we){e.viewMatrix=we,e.viewMatrix&&(Be.c.copy(y,e.viewMatrix),n.computeViewParametersFromViewMatrix(y),Be.c.transpose(e.viewMatrix,e.viewMatrix))},n.getViewMatrix=function(){if(e.viewMatrix)return e.viewMatrix;var we=Be.c.create();return Be.c.lookAt(y,Be.e.fromValues.apply(Be.e,uo(e.position)),Be.e.fromValues.apply(Be.e,uo(e.focalPoint)),Be.e.fromValues.apply(Be.e,uo(e.viewUp))),Be.c.transpose(y,y),Be.c.copy(we,y),we},n.setProjectionMatrix=function(we){e.projectionMatrix=we},n.getProjectionMatrix=function(we,Fe,Xe){var qe=Be.c.create();if(e.projectionMatrix){var tt=1/e.physicalScale;return Be.e.set(R,tt,tt,tt),Be.c.copy(qe,e.projectionMatrix),Be.c.scale(qe,qe,R),Be.c.transpose(qe,qe),qe}Be.c.identity(y);var Ye=e.clippingRange[1]-e.clippingRange[0],gt=[e.clippingRange[0]+(Fe+1)*Ye/2,e.clippingRange[0]+(Xe+1)*Ye/2];if(e.parallelProjection){var At=e.parallelScale*we,Vt=e.parallelScale,Jt=(e.windowCenter[0]-1)*At,vn=(e.windowCenter[0]+1)*At,Zt=(e.windowCenter[1]-1)*Vt,on=(e.windowCenter[1]+1)*Vt;Be.c.ortho(y,Jt,vn,Zt,on,gt[0],gt[1]),Be.c.transpose(y,y)}else{if(e.useOffAxisProjection)throw new Error("Off-Axis projection is not supported at this time");var Tn,En,jn=Math.tan(dt.y(e.viewAngle)/2);e.useHorizontalViewAngle===!0?(Tn=e.clippingRange[0]*jn,En=e.clippingRange[0]*jn/we):(Tn=e.clippingRange[0]*jn*we,En=e.clippingRange[0]*jn);var Nn=(e.windowCenter[0]-1)*Tn,Un=(e.windowCenter[0]+1)*Tn,Xn=(e.windowCenter[1]-1)*En,Qn=(e.windowCenter[1]+1)*En,Er=gt[0],it=gt[1];y[0]=2*Er/(Un-Nn),y[5]=2*Er/(Qn-Xn),y[2]=(Nn+Un)/(Un-Nn),y[6]=(Xn+Qn)/(Qn-Xn),y[10]=-(Er+it)/(it-Er),y[14]=-1,y[11]=-2*Er*it/(it-Er),y[15]=0}return Be.c.copy(qe,y),qe},n.getCompositeProjectionMatrix=function(we,Fe,Xe){var qe=n.getViewMatrix(),tt=n.getProjectionMatrix(we,Fe,Xe),Ye=Be.c.create();return Be.c.multiply(Ye,qe,tt),Ye},n.setDirectionOfProjection=function(we,Fe,Xe){if(e.directionOfProjection[0]!==we||e.directionOfProjection[1]!==Fe||e.directionOfProjection[2]!==Xe){e.directionOfProjection[0]=we,e.directionOfProjection[1]=Fe,e.directionOfProjection[2]=Xe;var qe=e.directionOfProjection;e.focalPoint[0]=e.position[0]+qe[0]*e.distance,e.focalPoint[1]=e.position[1]+qe[1]*e.distance,e.focalPoint[2]=e.position[2]+qe[2]*e.distance,ee()}},n.setDeviceAngles=function(we,Fe,Xe,qe){var tt=[3];dt.i(e.physicalViewNorth,e.physicalViewUp,tt);var Ye=Be.c.create();Be.c.rotate(Ye,Ye,dt.y(we),e.physicalViewUp),Be.c.rotate(Ye,Ye,dt.y(Fe),tt),Be.c.rotate(Ye,Ye,dt.y(Xe),e.physicalViewNorth),Be.c.rotate(Ye,Ye,dt.y(-qe),e.physicalViewUp);var gt=Be.e.fromValues(-e.physicalViewUp[0],-e.physicalViewUp[1],-e.physicalViewUp[2]),At=Be.e.fromValues(e.physicalViewNorth[0],e.physicalViewNorth[1],e.physicalViewNorth[2]);Be.e.transformMat4(gt,gt,Ye),Be.e.transformMat4(At,At,Ye),n.setDirectionOfProjection(gt[0],gt[1],gt[2]),n.setViewUp(At[0],At[1],At[2]),n.modified()},n.setOrientationWXYZ=function(we,Fe,Xe,qe){var tt=Be.c.create();if(we!==0&&(Fe!==0||Xe!==0||qe!==0)){var Ye=dt.y(we),gt=Be.d.create();Be.d.setAxisAngle(gt,[Fe,Xe,qe],Ye),Be.d.toMat4(gt,tt)}var At=Be.e.fromValues(0,0,-1),Vt=Be.e.create();Be.e.transformMat4(Vt,At,tt);var Jt=Be.e.fromValues(0,1,0),vn=Be.e.create();Be.e.transformMat4(vn,Jt,tt),n.setDirectionOfProjection.apply(n,uo(Vt)),n.setViewUp.apply(n,uo(vn)),n.modified()},n.computeClippingRange=function(we){var Fe,Xe;Fe=e.viewPlaneNormal,Xe=e.position;for(var qe=-Fe[0],tt=-Fe[1],Ye=-Fe[2],gt=-(qe*Xe[0]+tt*Xe[1]+Ye*Xe[2]),At=[qe*we[0]+tt*we[2]+Ye*we[4]+gt,1e-18],Vt=0;Vt<2;Vt++)for(var Jt=0;Jt<2;Jt++)for(var vn=0;vn<2;vn++){var Zt=qe*we[vn]+tt*we[2+Jt]+Ye*we[4+Vt]+gt;At[0]=Zt<At[0]?Zt:At[0],At[1]=Zt>At[1]?Zt:At[1]}return At}}(o,t)}var id={newInstance:r.b.newInstance(uu,"vtkCamera"),extend:uu},sd={switch:!0,intensity:1,color:[1,1,1],position:[0,0,1],focalPoint:[0,0,0],positional:!1,exponent:1,coneAngle:30,attenuationValues:[1,0,0],transformMatrix:null,lightType:"SceneLight",shadowAttenuation:1,direction:[0,0,0],directionMTime:0};function lu(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,sd,v),r.b.obj(o,t),r.b.setGet(o,t,["intensity","switch","positional","exponent","coneAngle","transformMatrix","lightType","shadowAttenuation"]),r.b.setGetArray(o,t,["color","position","focalPoint","attenuationValues"],3),function(n,e){e.classHierarchy.push("vtkLight"),n.getTransformedPosition=function(){return e.transformMatrix?[]:[].concat(e.position)},n.getTransformedFocalPoint=function(){return e.transformMatrix?[]:[].concat(e.focalPoint)},n.getDirection=function(){return e.directionMTime<e.mtime&&(e.direction[0]=e.focalPoint[0]-e.position[0],e.direction[1]=e.focalPoint[1]-e.position[1],e.direction[2]=e.focalPoint[2]-e.position[2],dt.w(e.direction),e.directionMTime=e.mtime),e.direction},n.setDirectionAngle=function(i,c){var l=dt.y(i),y=dt.y(c);n.setPosition(Math.cos(l)*Math.sin(y),Math.sin(l),Math.cos(l)*Math.cos(y)),n.setFocalPoint(0,0,0),n.setPositional(0)},n.setLightTypeToHeadLight=function(){n.setLightType("HeadLight")},n.setLightTypeToCameraLight=function(){n.setLightType("CameraLight")},n.setLightTypeToSceneLight=function(){n.setTransformMatrix(null),n.setLightType("SceneLight")},n.lightTypeIsHeadLight=function(){return e.lightType==="HeadLight"},n.lightTypeIsSceneLight=function(){return e.lightType==="SceneLight"},n.lightTypeIsCameraLight=function(){return e.lightType==="CameraLight"}}(o,t)}var cd={newInstance:r.b.newInstance(lu,"vtkLight"),extend:lu,LIGHT_TYPES:["HeadLight","CameraLight","SceneLight"]},As=r.b.vtkErrorMacro;function ud(o,t){function v(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];e.push(n);var i=n.getNestedProps();if(i&&i.length)for(var c=0;c<i.length;c++)v(i[c],e);return e}t.classHierarchy.push("vtkViewport"),o.getViewProps=function(){return t.props},o.hasViewProp=function(n){return!!t.props.filter(function(e){return e===n}).length},o.addViewProp=function(n){n&&!o.hasViewProp(n)&&(t.props=t.props.concat(n))},o.removeViewProp=function(n){var e=t.props.filter(function(i){return i!==n});t.props.length!==e.length&&(t.props=e)},o.removeAllViewProps=function(){t.props=[]},o.getViewPropsWithNestedProps=function(){for(var n=[],e=0;e<t.props.length;e++)v(t.props[e],n);return n},o.addActor2D=o.addViewProp,o.removeActor2D=function(n){o.removeViewProp(n)},o.getActors2D=function(){return t.actors2D=[],t.props.forEach(function(n){t.actors2D=t.actors2D.concat(n.getActors2D())}),t.actors2D},o.displayToView=function(){return As("call displayToView on your view instead")},o.viewToDisplay=function(){return As("callviewtodisplay on your view instead")},o.getSize=function(){return As("call getSize on your View instead")},o.normalizedDisplayToProjection=function(n,e,i){var c=o.normalizedDisplayToNormalizedViewport(n,e,i);return o.normalizedViewportToProjection(c[0],c[1],c[2])},o.normalizedDisplayToNormalizedViewport=function(n,e,i){var c=[t.viewport[2]-t.viewport[0],t.viewport[3]-t.viewport[1]];return[(n-t.viewport[0])/c[0],(e-t.viewport[1])/c[1],i]},o.normalizedViewportToProjection=function(n,e,i){return[2*n-1,2*e-1,2*i-1]},o.projectionToNormalizedDisplay=function(n,e,i){var c=o.projectionToNormalizedViewport(n,e,i);return o.normalizedViewportToNormalizedDisplay(c[0],c[1],c[2])},o.normalizedViewportToNormalizedDisplay=function(n,e,i){var c=[t.viewport[2]-t.viewport[0],t.viewport[3]-t.viewport[1]];return[n*c[0]+t.viewport[0],e*c[1]+t.viewport[1],i]},o.projectionToNormalizedViewport=function(n,e,i){return[.5*(n+1),.5*(e+1),.5*(i+1)]},o.PickPropFrom=function(n){return function(){return As("vtkViewport::".concat(n," - NOT IMPLEMENTED"))}}("PickPropFrom")}var ld={vtkWindow:null,background:[0,0,0],background2:[.2,.2,.2],gradientBackground:!1,viewport:[0,0,1,1],aspect:[1,1],pixelAspect:[1,1],props:[],actors2D:[]};function fu(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,ld,v),r.b.obj(o,t),r.b.event(o,t,"event"),r.b.setGetArray(o,t,["viewport"],4),r.b.setGetArray(o,t,["background","background2"],3),ud(o,t)}var fd={newInstance:r.b.newInstance(fu,"vtkViewport"),extend:fu},Ni=r.m,li=r.n,dd=r.o;function du(o){return function(){return li("vtkRenderer::".concat(o," - NOT IMPLEMENTED"))}}var pd={pickedProp:null,activeCamera:null,allBounds:[],ambient:[1,1,1],allocatedRenderTime:100,timeFactor:1,createdLight:null,automaticLightCreation:!0,twoSidedLighting:!0,lastRenderTimeInSeconds:-1,renderWindow:null,lights:[],actors:[],volumes:[],lightFollowCamera:!0,numberOfPropsRendered:0,propArray:null,pathArray:null,layer:0,preserveColorBuffer:!1,preserveDepthBuffer:!1,computeVisiblePropBounds:dt.h(),interactive:!0,nearClippingPlaneTolerance:0,clippingRangeExpansion:.05,erase:!0,draw:!0,useShadows:!1,useDepthPeeling:!1,occlusionRatio:0,maximumNumberOfPeels:4,selector:null,delegate:null,texturedBackground:!1,backgroundTexture:null,pass:0};function pu(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,pd,v),fd.extend(o,t,v),r.d(o,t,["renderWindow","allocatedRenderTime","timeFactor","lastRenderTimeInSeconds","numberOfPropsRendered","lastRenderingUsedDepthPeeling","selector"]),r.k(o,t,["twoSidedLighting","lightFollowCamera","automaticLightCreation","erase","draw","nearClippingPlaneTolerance","clippingRangeExpansion","backingStore","interactive","layer","preserveColorBuffer","preserveDepthBuffer","useDepthPeeling","occlusionRatio","maximumNumberOfPeels","delegate","backgroundTexture","texturedBackground","useShadows","pass"]),r.e(o,t,["actors","volumes","lights"]),r.l(o,t,["background"],4,1),function(n,e){for(e.classHierarchy.push("vtkRenderer"),e.background||(e.background=[0,0,0,1]);e.background.length<3;)e.background.push(0);e.background.length===3&&e.background.push(1);var i={type:"ComputeVisiblePropBoundsEvent",renderer:n},c={type:"ResetCameraClippingRangeEvent",renderer:n},l={type:"ResetCameraEvent",renderer:n};n.updateCamera=function(){return e.activeCamera||(Ni("No cameras are on, creating one."),n.getActiveCameraAndResetIfCreated()),e.activeCamera.render(n),!0},n.updateLightsGeometryToFollowCamera=function(){var y=n.getActiveCameraAndResetIfCreated();e.lights.forEach(function(R){R.lightTypeIsSceneLight()||R.lightTypeIsCameraLight()||(R.lightTypeIsHeadLight()?(R.setPositionFrom(y.getPositionByReference()),R.setFocalPointFrom(y.getFocalPointByReference()),R.modified(y.getMTime())):li("light has unknown light type",R.get()))})},n.updateLightGeometry=function(){return!e.lightFollowCamera||n.updateLightsGeometryToFollowCamera()},n.allocateTime=du("allocateTime"),n.updateGeometry=du("updateGeometry"),n.getVTKWindow=function(){return e.renderWindow},n.setLayer=function(y){Ni(n.getClassName(),n,"setting Layer to ",y),e.layer!==y&&(e.layer=y,n.modified()),n.setPreserveColorBuffer(!!y)},n.setActiveCamera=function(y){return e.activeCamera!==y&&(e.activeCamera=y,n.modified(),n.invokeEvent({type:"ActiveCameraEvent",camera:y}),!0)},n.makeCamera=function(){var y=id.newInstance();return n.invokeEvent({type:"CreateCameraEvent",camera:y}),y},n.getActiveCamera=function(){return e.activeCamera||(e.activeCamera=n.makeCamera()),e.activeCamera},n.getActiveCameraAndResetIfCreated=function(){return e.activeCamera||(n.getActiveCamera(),n.resetCamera()),e.activeCamera},n.getActors=function(){return e.actors=[],e.props.forEach(function(y){e.actors=e.actors.concat(y.getActors())}),e.actors},n.addActor=n.addViewProp,n.removeActor=function(y){e.actors=e.actors.filter(function(R){return R!==y}),n.removeViewProp(y),n.modified()},n.removeAllActors=function(){e.actors.forEach(function(y){n.removeViewProp(y)}),e.actors=[],n.modified()},n.getVolumes=function(){return e.volumes=[],e.props.forEach(function(y){e.volumes=e.volumes.concat(y.getVolumes())}),e.volumes},n.addVolume=n.addViewProp,n.removeVolume=function(y){e.volumes=e.volumes.filter(function(R){return R!==y}),n.removeViewProp(y),n.modified()},n.removeAllVolumes=function(){e.volumes.forEach(function(y){n.removeViewProp(y)}),e.volumes=[],n.modified()},n.addLight=function(y){e.lights=[].concat(e.lights,y),n.modified()},n.removeLight=function(y){e.lights=e.lights.filter(function(R){return R!==y}),n.modified()},n.removeAllLights=function(){e.lights=[],n.modified()},n.setLightCollection=function(y){e.lights=y,n.modified()},n.makeLight=cd.newInstance,n.createLight=function(){e.automaticLightCreation&&(e.createdLight&&(n.removeLight(e.createdLight),e.createdLight.delete(),e.createdLight=null),e.createdLight=n.makeLight(),n.addLight(e.createdLight),e.createdLight.setLightTypeToHeadLight(),e.createdLight.setPosition(n.getActiveCamera().getPosition()),e.createdLight.setFocalPoint(n.getActiveCamera().getFocalPoint()))},n.normalizedDisplayToWorld=function(y,R,_,$){var re=n.normalizedDisplayToProjection(y,R,_);return re=n.projectionToView(re[0],re[1],re[2],$),n.viewToWorld(re[0],re[1],re[2])},n.worldToNormalizedDisplay=function(y,R,_,$){var re=n.worldToView(y,R,_);return re=n.viewToProjection(re[0],re[1],re[2],$),n.projectionToNormalizedDisplay(re[0],re[1],re[2])},n.viewToWorld=function(y,R,_){if(e.activeCamera===null)return li("ViewToWorld: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];var $=e.activeCamera.getViewMatrix();Be.c.invert($,$),Be.c.transpose($,$);var re=Be.e.fromValues(y,R,_);return Be.e.transformMat4(re,re,$),[re[0],re[1],re[2]]},n.projectionToView=function(y,R,_,$){if(e.activeCamera===null)return li("ProjectionToView: no active camera, cannot compute projection to view, returning 0,0,0"),[0,0,0];var re=e.activeCamera.getProjectionMatrix($,-1,1);Be.c.invert(re,re),Be.c.transpose(re,re);var he=Be.e.fromValues(y,R,_);return Be.e.transformMat4(he,he,re),[he[0],he[1],he[2]]},n.worldToView=function(y,R,_){if(e.activeCamera===null)return li("WorldToView: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];var $=e.activeCamera.getViewMatrix();Be.c.transpose($,$);var re=Be.e.fromValues(y,R,_);return Be.e.transformMat4(re,re,$),[re[0],re[1],re[2]]},n.viewToProjection=function(y,R,_,$){if(e.activeCamera===null)return li("ViewToProjection: no active camera, cannot compute view to projection, returning 0,0,0"),[0,0,0];var re=e.activeCamera.getProjectionMatrix($,-1,1);Be.c.transpose(re,re);var he=Be.e.fromValues(y,R,_);return Be.e.transformMat4(he,he,re),[he[0],he[1],he[2]]},n.computeVisiblePropBounds=function(){e.allBounds[0]=W.a.INIT_BOUNDS[0],e.allBounds[1]=W.a.INIT_BOUNDS[1],e.allBounds[2]=W.a.INIT_BOUNDS[2],e.allBounds[3]=W.a.INIT_BOUNDS[3],e.allBounds[4]=W.a.INIT_BOUNDS[4],e.allBounds[5]=W.a.INIT_BOUNDS[5];var y=!0;n.invokeEvent(i);for(var R=0;R<e.props.length;++R){var _=e.props[R];if(_.getVisibility()&&_.getUseBounds()){var $=_.getBounds();$&&dt.b($)&&(y=!1,$[0]<e.allBounds[0]&&(e.allBounds[0]=$[0]),$[1]>e.allBounds[1]&&(e.allBounds[1]=$[1]),$[2]<e.allBounds[2]&&(e.allBounds[2]=$[2]),$[3]>e.allBounds[3]&&(e.allBounds[3]=$[3]),$[4]<e.allBounds[4]&&(e.allBounds[4]=$[4]),$[5]>e.allBounds[5]&&(e.allBounds[5]=$[5]))}}return y&&(dt.H(e.allBounds),Ni("Can't compute bounds, no 3D props are visible")),e.allBounds},n.resetCamera=function(){var y=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:null)||n.computeVisiblePropBounds(),R=[0,0,0];if(!dt.b(y))return Ni("Cannot reset camera!"),!1;var _=null;if(!n.getActiveCamera())return li("Trying to reset non-existent camera"),!1;_=e.activeCamera.getViewPlaneNormal(),e.activeCamera.setViewAngle(30),R[0]=(y[0]+y[1])/2,R[1]=(y[2]+y[3])/2,R[2]=(y[4]+y[5])/2;var $=y[1]-y[0],re=y[3]-y[2],he=y[5]-y[4],Ee=($*=$)+(re*=re)+(he*=he);Ee=Ee===0?1:Ee,Ee=.5*Math.sqrt(Ee);var Se=dt.y(e.activeCamera.getViewAngle()),ee=Ee,we=Ee/Math.sin(.5*Se),Fe=e.activeCamera.getViewUp();return Math.abs(dt.m(Fe,_))>.999&&(dd("Resetting view-up since view plane normal is parallel"),e.activeCamera.setViewUp(-Fe[2],Fe[0],Fe[1])),e.activeCamera.setFocalPoint(R[0],R[1],R[2]),e.activeCamera.setPosition(R[0]+we*_[0],R[1]+we*_[1],R[2]+we*_[2]),n.resetCameraClippingRange(y),e.activeCamera.setParallelScale(ee),e.activeCamera.setPhysicalScale(Ee),e.activeCamera.setPhysicalTranslation(-R[0],-R[1],-R[2]),n.invokeEvent(l),!0},n.resetCameraClippingRange=function(){var y=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:null)||n.computeVisiblePropBounds();if(!dt.b(y))return Ni("Cannot reset camera clipping range!"),!1;if(n.getActiveCameraAndResetIfCreated(),!e.activeCamera)return li("Trying to reset clipping range of non-existent camera"),!1;var R=e.activeCamera.computeClippingRange(y),_=0;if(e.activeCamera.getParallelProjection())_=.1*e.activeCamera.getParallelScale();else{var $=dt.y(e.activeCamera.getViewAngle());_=.2*Math.tan($/2)*R[1]}return R[1]-R[0]<_&&(_=_-R[1]+R[0],R[1]+=_/2,R[0]-=_/2),R[0]<0&&(R[0]=0),R[0]=.99*R[0]-(R[1]-R[0])*e.clippingRangeExpansion,R[1]=1.01*R[1]+(R[1]-R[0])*e.clippingRangeExpansion,R[0]=R[0]>=R[1]?.01*R[1]:R[0],e.nearClippingPlaneTolerance||(e.nearClippingPlaneTolerance=.01),R[0]<e.nearClippingPlaneTolerance*R[1]&&(R[0]=e.nearClippingPlaneTolerance*R[1]),e.activeCamera.setClippingRange(R[0],R[1]),n.invokeEvent(c),!1},n.setRenderWindow=function(y){y!==e.renderWindow&&(e.vtkWindow=y,e.renderWindow=y)},n.visibleActorCount=function(){return e.props.filter(function(y){return y.getVisibility()}).length},n.visibleVolumeCount=n.visibleActorCount,n.getMTime=function(){var y=e.mtime,R=e.activeCamera?e.activeCamera.getMTime():0;R>y&&(y=R);var _=e.createdLight?e.createdLight.getMTime():0;return _>y&&(y=_),y},n.getTransparent=function(){return!!e.preserveColorBuffer},n.isActiveCameraCreated=function(){return!!e.activeCamera}}(o,t)}var gu={newInstance:r.f(pu,"vtkRenderer"),extend:pu},rc={Corners:{TOP_LEFT:"TOP_LEFT",TOP_RIGHT:"TOP_RIGHT",BOTTOM_LEFT:"BOTTOM_LEFT",BOTTOM_RIGHT:"BOTTOM_RIGHT"}};function gd(o){return function(t){if(Array.isArray(t))return ac(t)}(o)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(o)||mu(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function md(o,t){return function(v){if(Array.isArray(v))return v}(o)||function(v,n){var e=v==null?null:typeof Symbol!="undefined"&&v[Symbol.iterator]||v["@@iterator"];if(e!=null){var i,c,l=[],y=!0,R=!1;try{for(e=e.call(v);!(y=(i=e.next()).done)&&(l.push(i.value),!n||l.length!==n);y=!0);}catch(_){R=!0,c=_}finally{try{y||e.return==null||e.return()}finally{if(R)throw c}}return l}}(o,t)||mu(o,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mu(o,t){if(o){if(typeof o=="string")return ac(o,t);var v=Object.prototype.toString.call(o).slice(8,-1);return v==="Object"&&o.constructor&&(v=o.constructor.name),v==="Map"||v==="Set"?Array.from(o):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?ac(o,t):void 0}}function ac(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}function hu(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function vu(o){for(var t=1;t<arguments.length;t++){var v=arguments[t]!=null?arguments[t]:{};t%2?hu(Object(v),!0).forEach(function(n){hd(o,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(v)):hu(Object(v)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(v,n))})}return o}function hd(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}var oc=r.b.vtkErrorMacro,ws=rc.Corners,vd={viewportCorner:rc.Corners.BOTTOM_LEFT,viewportSize:.2,minPixelSize:50,maxPixelSize:200};function yu(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,vd,v),r.b.obj(o,t),r.b.get(o,t,["enabled","viewportCorner","viewportSize"]),r.b.setGet(o,t,["interactor","minPixelSize","maxPixelSize"]),r.b.get(o,t,["actor"]),function(n,e){e.classHierarchy.push("vtkOrientationMarkerWidget");var i=vu({},n),c=[],l=gu.newInstance(),y=null,R=null,_=null;n.computeViewport=function(){var $=md(e.interactor.getView().getSize(),2),re=$[0],he=$[1],Ee=Math.min(re,he),Se=e.viewportSize*Ee,ee=(Se=Math.max(Math.min(e.minPixelSize,Ee),Math.min(e.maxPixelSize,Se)))/re,we=Se/he;switch(e.viewportCorner){case ws.TOP_LEFT:return[0,1-we,ee,1];case ws.TOP_RIGHT:return[1-ee,1-we,1,1];case ws.BOTTOM_LEFT:return[0,0,ee,we];case ws.BOTTOM_RIGHT:return[1-ee,0,1,we];default:return oc("Invalid widget corner"),null}},n.updateViewport=function(){l.setViewport.apply(l,gd(n.computeViewport())),e.interactor.render()},n.updateMarkerOrientation=function(){var $=e.interactor.findPokedRenderer().getActiveCamera();if($){var re=$.getReferenceByName("position"),he=$.getReferenceByName("focalPoint"),Ee=$.getReferenceByName("viewUp");if(c[0]!==re[0]||c[1]!==re[1]||c[2]!==re[2]||c[3]!==he[0]||c[4]!==he[1]||c[5]!==he[2]||c[6]!==Ee[0]||c[7]!==Ee[1]||c[8]!==Ee[2]){c[0]=re[0],c[1]=re[1],c[2]=re[2],c[3]=he[0],c[4]=he[1],c[5]=he[2],c[6]=Ee[0],c[7]=Ee[1],c[8]=Ee[2];var Se=l.getActiveCamera();Se.setPosition(re[0],re[1],re[2]),Se.setFocalPoint(he[0],he[1],he[2]),Se.setViewUp(Ee[0],Ee[1],Ee[2]),l.resetCamera()}}},n.setEnabled=function($){if($){if(e.enabled)return;if(!e.actor)return void oc("Must set actor before enabling orientation marker.");if(!e.interactor)return void oc("Must set interactor before enabling orientation marker.");var re=e.interactor.findPokedRenderer().getRenderWindow();re.addRenderer(l),re.getNumberOfLayers()<2&&re.setNumberOfLayers(2),l.setLayer(re.getNumberOfLayers()-1),l.setInteractive(!1),l.addViewProp(e.actor),e.actor.setVisibility(!0);var he=e.interactor.onAnimation(n.updateMarkerOrientation);y=he.unsubscribe;var Ee=e.interactor.getView().onModified(n.updateViewport);R=Ee.unsubscribe,n.updateViewport(),n.updateMarkerOrientation(),e.enabled=!0}else{if(!e.enabled)return;e.enabled=!1,R(),R=null,y(),y=null,e.actor.setVisibility(!1),l.removeViewProp(e.actor);var Se=e.interactor.findPokedRenderer().getRenderWindow();Se&&Se.removeRenderer(l)}n.modified()},n.setViewportCorner=function($){$!==e.viewportCorner&&(e.viewportCorner=$,e.enabled&&n.updateViewport())},n.setViewportSize=function($){var re=Math.min(1,Math.max(0,$));re!==e.viewportSize&&(e.viewportSize=re,e.enabled&&n.updateViewport())},n.setActor=function($){var re=e.enabled;n.setEnabled(!1),e.actor=$,n.setEnabled(re)},n.getRenderer=function(){return l},n.delete=function(){i.delete(),_&&(_.unsubscribe(),_=null),y&&(y(),y=null),R&&(R(),R=null)},_=n.onModified(n.updateViewport)}(o,t)}var bu=vu({newInstance:r.b.newInstance(yu,"vtkOrientationMarkerWidget"),extend:yu},rc),yd={renderers:[],views:[],interactor:null,neverRendered:!0,numberOfLayers:1};function Au(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,yd,v),r.b.obj(o,t),r.b.setGet(o,t,["interactor","numberOfLayers","views"]),r.b.get(o,t,["neverRendered"]),r.b.getArray(o,t,["renderers"]),r.b.event(o,t,"completion"),function(n,e){e.classHierarchy.push("vtkRenderWindow"),n.addRenderer=function(i){n.hasRenderer(i)||(i.setRenderWindow(n),e.renderers.push(i),n.modified())},n.removeRenderer=function(i){e.renderers=e.renderers.filter(function(c){return c!==i}),n.modified()},n.hasRenderer=function(i){return e.renderers.indexOf(i)!==-1},n.addView=function(i){n.hasView(i)||(i.setRenderable(n),e.views.push(i),n.modified())},n.removeView=function(i){e.views=e.views.filter(function(c){return c!==i}),n.modified()},n.hasView=function(i){return e.views.indexOf(i)!==-1},n.render=function(){e.interactor?e.interactor.render():e.views.forEach(function(i){return i.traverseAllPasses()})},n.getStatistics=function(){var i={propCount:0,invisiblePropCount:0};return e.renderers.forEach(function(c){c.getViewProps().forEach(function(l){if(l.getVisibility()){i.propCount+=1;var y=l.getMapper&&l.getMapper();if(y&&y.getPrimitiveCount){var R=y.getPrimitiveCount();Object.keys(R).forEach(function(_){i[_]||(i[_]=0),i[_]+=R[_]})}}else i.invisiblePropCount+=1})}),i.str=Object.keys(i).map(function(c){return"".concat(c,": ").concat(i[c])}).join(`
`),i},n.captureImages=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png";return r.b.setImmediate(n.render),e.views.map(function(c){return c.captureNextImage?c.captureNextImage(i):void 0}).filter(function(c){return!!c})}}(o,t)}var bd={newInstance:r.b.newInstance(Au,"vtkRenderWindow"),extend:Au},Ad=a(96),wd={center:[0,0,0],rotationFactor:1,displayCenter:[0,0]},No={extend:function(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,wd,v),r.b.setGet(o,t,["rotationFactor"]),r.b.setGetArray(o,t,["displayCenter"],2),r.b.setGetArray(o,t,["center"],3),function(n,e){e.classHierarchy.push("vtkCompositeCameraManipulator"),n.computeDisplayCenter=function(i,c){var l=i.computeWorldToDisplay(c,e.center[0],e.center[1],e.center[2]);e.displayCenter[0]=l[0],e.displayCenter[1]=l[1]}}(o,t)}},xd={pinchEnabled:!0,panEnabled:!0,rotateEnabled:!0},wu={extend:function(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,xd,v),r.b.set(o,t,["pinchEnabled","panEnabled","rotateEnabled"]),r.b.setGet(o,t,["interactorStyle"]),function(n,e){e.classHierarchy.push("vtkCompositeGestureManipulator"),n.startInteraction=function(){},n.endInteraction=function(){},n.onStartPinch=function(i,c){},n.onStartRotate=function(i,c){},n.onStartPan=function(i,c){},n.onPinch=function(i,c,l){},n.onRotate=function(i,c,l){},n.onPan=function(i,c,l){},n.onEndPinch=function(i){},n.onEndRotate=function(i){},n.onEndPan=function(i){},n.isPinchEnabled=function(){return e.pinchEnabled},n.isPanEnabled=function(){return e.panEnabled},n.isRotateEnabled=function(){return e.rotateEnabled}}(o,t)}},Sd={},xu={extend:function(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Sd,v),function(n,e){e.classHierarchy.push("vtkCompositeKeyboardManipulator"),n.onKeyPress=function(i,c,l){},n.onKeyDown=function(i,c,l){},n.onKeyUp=function(i,c,l){}}(o,t)}},Jo=a(21),xs=a(51),Cd={},Su={extend:function(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Cd,v),r.b.setGet(o,t,["device","input"]),function(n,e){e.classHierarchy.push("vtkCompositeVRManipulator"),n.onButton3D=function(i,c,l,y,R,_){},n.onMove3D=function(i,c,l,y,R,_){}}(o,t)},Device:xs.a,Input:xs.b},Pd={};function Cu(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Pd,v),r.b.obj(o,t),wu.extend(o,t,v),No.extend(o,t,v),function(n,e){e.classHierarchy.push("vtkGestureCameraManipulator"),n.onStartPinch=function(i,c){e.previousScale=c},n.onStartRotate=function(i,c){e.previousRotation=c},n.onStartPan=function(i,c){e.previousTranslation=c},n.onPinch=function(i,c,l){jr.dollyByFactor(i,c,l/e.previousScale),e.previousScale=l},n.onPan=function(i,c,l){var y=c.getActiveCamera(),R=i.getInteractorStyle(),_=y.getFocalPoint(),$=(_=R.computeWorldToDisplay(c,_[0],_[1],_[2]))[2],re=l,he=e.previousTranslation,Ee=R.computeDisplayToWorld(c,_[0]+re[0]-he[0],_[1]+re[1]-he[1],$),Se=R.computeDisplayToWorld(c,_[0],_[1],$),ee=[];ee[0]=Se[0]-Ee[0],ee[1]=Se[1]-Ee[1],ee[2]=Se[2]-Ee[2],_=y.getFocalPoint();var we=y.getPosition();y.setFocalPoint(ee[0]+_[0],ee[1]+_[1],ee[2]+_[2]),y.setPosition(ee[0]+we[0],ee[1]+we[1],ee[2]+we[2]),i.getLightFollowCamera()&&c.updateLightsGeometryToFollowCamera(),y.orthogonalizeViewUp(),e.previousTranslation=l},n.onRotate=function(i,c,l){var y=c.getActiveCamera();y.roll(l-e.previousRotation),y.orthogonalizeViewUp(),e.previousRotation=l}}(o,t)}var Od={newInstance:r.b.newInstance(Cu,"vtkGestureCameraManipulator"),extend:Cu},Td=r.b.vtkErrorMacro,Pu="vtkKeyboardCameraManipulator";function Id(o,t){t.classHierarchy.push("vtkKeyboardCameraManipulator");var v={keysDown:[],direction:[0,0,0],skipUpdateDirection:!1,animationSub:null,cameraModifiedSub:null};o.inMotion=function(){return v.animationSub!==null},o.resetMovementSpeed=function(){var n=t.renderer.computeVisiblePropBounds();t.movementSpeed=W.a.getMaxLength(n)/500},o.startMovement=function(){if(o.inMotion())Td("Camera is already in motion!");else{t.movementSpeed===null&&o.resetMovementSpeed();var n=t.interactor,e=t.renderer;o.calculateCurrentDirection();var i=e.getActiveCamera();v.cameraModifiedSub=i.onModified(o.calculateCurrentDirection),n.requestAnimation(Pu),v.animationSub=n.onAnimation(function(){v.keysDown.length!==0&&(v.skipUpdateDirection=!0,o.moveCamera(e.getActiveCamera(),v.direction,t.movementSpeed),e.resetCameraClippingRange(),n.getLightFollowCamera()&&e.updateLightsGeometryToFollowCamera(),v.skipUpdateDirection=!1)})}},o.endMovement=function(){v.animationSub&&(v.animationSub.unsubscribe(),v.animationSub=null),t.interactor.cancelAnimation(Pu),v.cameraModifiedSub&&(v.cameraModifiedSub.unsubscribe(),v.cameraModifiedSub=null)},o.calculateCurrentDirection=function(){if(!v.skipUpdateDirection){v.direction=[0,0,0];var n=t.renderer;if(n){var e=n.getActiveCamera();if(e&&v.keysDown.length!==0){var i=v.keysDown.map(function(l){return o.getDirectionFromKey(l,e)});if((i=i.filter(function(l){return l})).length!==0){var c=i.reduce(function(l,y){return dt.a(l,y,y),y});dt.w(c),v.direction=c}}}}},o.getDirectionFromKey=function(n,e){var i;if(t.moveForwardKeys.includes(n))i=e.getDirectionOfProjection();else if(t.moveLeftKeys.includes(n)){var c=e.getDirectionOfProjection();i=[0,0,0],dt.i(e.getViewUp(),c,i)}else if(t.moveBackwardKeys.includes(n))i=e.getDirectionOfProjection().map(function(y){return-y});else if(t.moveRightKeys.includes(n)){var l=e.getDirectionOfProjection();i=[0,0,0],dt.i(l,e.getViewUp(),i)}else if(t.moveUpKeys.includes(n))i=e.getViewUp();else{if(!t.moveDownKeys.includes(n))return;i=e.getViewUp().map(function(y){return-y})}return dt.w(i),i},o.moveCamera=function(n,e,i){var c=n.getPosition(),l=n.getFocalPoint();n.setFocalPoint(l[0]+e[0]*i,l[1]+e[1]*i,l[2]+e[2]*i),n.setPosition(c[0]+e[0]*i,c[1]+e[1]*i,c[2]+e[2]*i)},o.onKeyPress=function(n,e,i){},o.onKeyDown=function(n,e,i){v.keysDown.includes(i)||(v.keysDown.push(i),o.calculateCurrentDirection()),o.inMotion()||(Object.assign(t,{interactor:n,renderer:e}),o.startMovement())},o.onKeyUp=function(n,e,i){v.keysDown=v.keysDown.filter(function(c){return c.toUpperCase()!==i.toUpperCase()}),o.calculateCurrentDirection(),v.keysDown.length===0&&o.endMovement()}}var Ed={movementSpeed:null,moveForwardKeys:["w","W","ArrowUp"],moveLeftKeys:["a","A","ArrowLeft"],moveBackwardKeys:["s","S","ArrowDown"],moveRightKeys:["d","D","ArrowRight"],moveUpKeys:[" "],moveDownKeys:["Shift"],interactor:null,renderer:null};function Ou(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Ed,v),r.b.obj(o,t),xu.extend(o,t,v),r.b.setGet(o,t,["movementSpeed","moveForwardKeys","moveLeftKeys","moveBackwardKeys","moveRightKeys","moveUpKeys","moveDownKeys","interactor","renderer"]),Id(o,t)}var Rd={newInstance:r.b.newInstance(Ou,"vtkKeyboardCameraManipulator"),extend:Ou},Md={rotationAxis:[0,0,1],useHalfAxis:!0};function Tu(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Md,v),r.b.obj(o,t),r.b.setGet(o,t,["rotationAxis","useHalfAxis"]),Jo.a.extend(o,t,v),No.extend(o,t,v),function(n,e){e.classHierarchy.push("vtkMouseCameraAxisRotateManipulator");var i=new Float64Array(3),c=new Float64Array(3),l=new Float64Array(16),y=new Float64Array(3),R=new Float64Array(3),_=new Float64Array(3),$=new Float64Array(3);n.onButtonDown=function(re,he,Ee){e.previousPosition=Ee},n.onMouseMove=function(re,he,Ee){if(Ee){var Se=he.getActiveCamera(),ee=Se.getPosition(),we=Se.getFocalPoint(),Fe=Se.getViewUp(),Xe=Se.getDirectionOfProjection();Be.c.identity(l);var qe=e.center,tt=e.rotationFactor,Ye=e.rotationAxis;Be.c.translate(l,l,qe);var gt=e.previousPosition.x-Ee.x,At=e.previousPosition.y-Ee.y,Vt=re.getView().getSize();if(Be.c.rotate(l,l,dt.y(360*gt/Vt[0]*tt),Ye),dt.i(Xe,Fe,y),Be.c.rotate(l,l,dt.y(-360*At/Vt[1]*tt),y),R[0]=-qe[0],R[1]=-qe[1],R[2]=-qe[2],Be.c.translate(l,l,R),Be.e.transformMat4(i,ee,l),Be.e.transformMat4(c,we,l),Be.e.subtract($,i,c),Be.e.normalize($,$),Math.abs(Be.e.dot($,Ye))>.95)e.previousPosition=Ee;else{if(e.useHalfAxis){var Jt=Be.e.distance(i,qe);Be.e.subtract(_,i,qe),Be.e.normalize(_,_);var vn=Be.e.dot(Ye,_);if(vn<0){Be.e.scaleAndAdd(i,i,Ye,-vn*Jt),Be.e.subtract(_,i,qe),Be.e.normalize(_,_),Be.e.scaleAndAdd(i,qe,_,Jt),Be.e.subtract(y,ee,qe),Be.e.normalize(y,y);var Zt=Math.min(1,Math.max(-1,Be.e.dot(_,y))),on=Math.acos(Zt);Be.e.cross(y,y,_),Be.e.normalize(y,y),Be.e.subtract(c,we,qe);var Tn=Be.e.length(c),En=dt.C(c,y,on);Be.e.scaleAndAdd(c,qe,En,Tn)}}Se.setPosition(i[0],i[1],i[2]),Se.setFocalPoint(c[0],c[1],c[2]),Se.setViewUp(Ye),he.resetCameraClippingRange(),re.getLightFollowCamera()&&he.updateLightsGeometryToFollowCamera(),e.previousPosition=Ee}}}}(o,t)}var kd={newInstance:r.b.newInstance(Tu,"vtkMouseCameraAxisRotateManipulator"),extend:Tu},Dd={};function Iu(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Dd,v),r.b.obj(o,t),No.extend(o,t,v),Jo.a.extend(o,t,v),function(n,e){e.classHierarchy.push("vtkMouseCameraSliceManipulator"),n.onButtonDown=function(i,c,l){e.previousPosition=l},n.onMouseMove=function(i,c,l){if(l){var y=l.y-e.previousPosition.y,R=c.getActiveCamera(),_=R.getClippingRange(),$=R.getDistance(),re=0;if(R.getParallelProjection())re=R.getParallelScale();else{var he=dt.y(R.getViewAngle());re=2*$*Math.tan(.5*he)}($+=y*re/i.getView().getViewportSize(c)[1])<_[0]&&($=_[0]+.001*re),$>_[1]&&($=_[1]-.001*re),R.setDistance($),e.previousPosition=l}},n.onScroll=function(i,c,l){if(l){var y=1-l;y*=25;var R=c.getActiveCamera(),_=R.getClippingRange(),$=R.getDistance();($+=y)<_[0]&&($=_[0]),$>_[1]&&($=_[1]),R.setDistance($)}}}(o,t)}var Ud={newInstance:r.b.newInstance(Iu,"vtkMouseCameraSliceManipulator"),extend:Iu},Bd="vtkMouseCameraTrackballFirstPersonManipulator";function Fd(o,t){t.classHierarchy.push("vtkMouseCameraTrackballFirstPersonManipulator");var v={interactor:null,renderer:null,previousPosition:null};o.onButtonDown=function(n,e,i){v.previousPosition=i,t.usePointerLock&&!n.isPointerLocked()&&(Object.assign(v,{interactor:n,renderer:e}),n.requestPointerLock(),o.startPointerLockInteraction())},o.startPointerLockInteraction=function(){var n=v.interactor;document.addEventListener("mousemove",o.onPointerLockMove);var e=null;e=n.onEndPointerLock(function(){document.removeEventListener("mousemove",o.onPointerLockMove),e.unsubscribe()})},o.onPointerLockMove=function(n){var e=t.sensitivity,i=-1*n.movementX*e,c=-1*n.movementY*e;o.moveCamera(i,c)},o.onMouseMove=function(n,e,i){if(i){var c=v.previousPosition,l=t.sensitivity,y=(c.x-i.x)*l,R=(i.y-c.y)*l;Object.assign(v,{interactor:n,renderer:e}),o.moveCamera(y,R),v.previousPosition=i}},o.moveCamera=function(n,e){var i=v.renderer,c=v.interactor,l=i.getActiveCamera(),y=t.numAnimationSteps,R=n/y,_=e/y,$=performance.now().toString(),re="".concat(Bd,".").concat($),he=0,Ee=null;c.requestAnimation(re),Ee=c.onAnimation(function(){return l.yaw(R),l.pitch(_),l.orthogonalizeViewUp(),void((he+=1)===y&&(Ee.unsubscribe(),i.resetCameraClippingRange(),c.getLightFollowCamera()&&i.updateLightsGeometryToFollowCamera(),setTimeout(function(){v.interactor.cancelAnimation(re)},0)))})}}var Ld={numAnimationSteps:5,sensitivity:.05,usePointerLock:!0};function Eu(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Ld,v),r.b.obj(o,t),No.extend(o,t,v),Jo.a.extend(o,t,v),r.b.setGet(o,t,["numAnimationSteps","sensitivity","usePointerLock"]),Fd(o,t)}var _d={newInstance:r.b.newInstance(Eu,"vtkMouseCameraTrackballFirstPersonManipulator"),extend:Eu},Vd={};function Ru(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Vd,v),r.b.obj(o,t),Jo.a.extend(o,t,v),No.extend(o,t,v),function(n,e){e.classHierarchy.push("vtkMouseCameraTrackballRotateManipulator");var i=new Float64Array(3),c=new Float64Array(3),l=new Float64Array(3),y=new Float64Array(16),R=new Float64Array(3),_=new Float64Array(3),$=new Float64Array(3);n.onButtonDown=function(re,he,Ee){e.previousPosition=Ee},n.onMouseMove=function(re,he,Ee){if(Ee){var Se=he.getActiveCamera(),ee=Se.getPosition(),we=Se.getFocalPoint();Be.c.identity(y);var Fe=e.center,Xe=e.rotationFactor;Be.c.translate(y,y,Fe);var qe=e.previousPosition.x-Ee.x,tt=e.previousPosition.y-Ee.y,Ye=re.getView().getSize(),gt=Se.getViewUp();Be.c.rotate(y,y,dt.y(360*qe/Ye[0]*Xe),gt),dt.i(Se.getDirectionOfProjection(),gt,R),Be.c.rotate(y,y,dt.y(-360*tt/Ye[1]*Xe),R),_[0]=-Fe[0],_[1]=-Fe[1],_[2]=-Fe[2],Be.c.translate(y,y,_),Be.e.transformMat4(i,ee,y),Be.e.transformMat4(c,we,y),$[0]=gt[0]+ee[0],$[1]=gt[1]+ee[1],$[2]=gt[2]+ee[2],Be.e.transformMat4(l,$,y),Se.setPosition(i[0],i[1],i[2]),Se.setFocalPoint(c[0],c[1],c[2]),Se.setViewUp(l[0]-i[0],l[1]-i[1],l[2]-i[2]),Se.orthogonalizeViewUp(),he.resetCameraClippingRange(),re.getLightFollowCamera()&&he.updateLightsGeometryToFollowCamera(),e.previousPosition=Ee}}}(o,t)}var Mu={newInstance:r.b.newInstance(Ru,"vtkMouseCameraTrackballRotateManipulator"),extend:Ru},Nd={};function ku(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Nd,v),r.b.obj(o,t),No.extend(o,t,v),Jo.a.extend(o,t,v),function(n,e){e.classHierarchy.push("vtkMouseCameraTrackballRollManipulator");var i=new Float64Array(3),c=new Float64Array(3),l=new Float64Array(3),y=new Float64Array(16),R=new Float64Array(3),_=new Float64Array(3),$=new Float64Array(3);n.onButtonDown=function(re,he,Ee){e.previousPosition=Ee},n.onMouseMove=function(re,he,Ee){if(Ee){var Se=he.getActiveCamera(),ee=Se.getPosition(),we=Se.getFocalPoint(),Fe=Se.getViewUp();i[0]=we[0]-ee[0],i[1]=we[1]-ee[1],i[2]=we[2]-ee[2],n.computeDisplayCenter(re.getInteractorStyle(),he);var Xe=e.previousPosition.x-e.displayCenter[0],qe=Ee.x-e.displayCenter[0],tt=e.previousPosition.y-e.displayCenter[1],Ye=Ee.y-e.displayCenter[1];if(!(qe===0&&Ye===0||Xe===0&&tt===0)){var gt=dt.j((Xe*Ye-tt*qe)/(Math.sqrt(Xe*Xe+tt*tt)*Math.sqrt(qe*qe+Ye*Ye))),At=e.center;Be.c.identity(y),l[0]=-At[0],l[1]=-At[1],l[2]=-At[2],Be.c.translate(y,y,At),Be.c.rotate(y,y,dt.y(gt),i),Be.c.translate(y,y,l),Be.e.transformMat4(R,ee,y),Be.e.transformMat4(_,we,y),c[0]=Fe[0]+ee[0],c[1]=Fe[1]+ee[1],c[2]=Fe[2]+ee[2],Be.e.transformMat4($,c,y),Se.setPosition(R[0],R[1],R[2]),Se.setFocalPoint(_[0],_[1],_[2]),Se.setViewUp($[0]-R[0],$[1]-R[1],$[2]-R[2]),Se.orthogonalizeViewUp(),he.resetCameraClippingRange(),re.getLightFollowCamera()&&he.updateLightsGeometryToFollowCamera(),e.previousPosition=Ee}}}}(o,t)}var Du={newInstance:r.b.newInstance(ku,"vtkMouseCameraTrackballRollManipulator"),extend:ku};function Uu(o){return o*o}var jd={};function Bu(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,jd,v),r.b.obj(o,t),Jo.a.extend(o,t,v),No.extend(o,t,v),function(n,e){e.classHierarchy.push("vtkMouseCameraTrackballMultiRotateManipulator");var i=Mu.newInstance(),c=Du.newInstance(),l=null;n.onButtonDown=function(y,R,_){var $=y.getView().getSize(),re=[.5*$[0],.5*$[1]],he=.9*function(Se,ee){return Se<ee?ee:Se}(re[0],re[1]),Ee=Uu(re[0]-_.x)+Uu(re[1]-_.y);(l=he*he>Ee?i:c).setButton(n.getButton()),l.setShift(n.getShift()),l.setControl(n.getControl()),l.setCenter(n.getCenter()),l.onButtonDown(y,_)},n.onButtonUp=function(y){l&&l.onButtonUp(y)},n.onMouseMove=function(y,R,_){l&&l.onMouseMove(y,R,_)}}(o,t)}var Gd={newInstance:r.b.newInstance(Bu,"vtkMouseCameraTrackballMultiRotateManipulator"),extend:Bu},zd={};function Fu(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,zd,v),r.b.obj(o,t),No.extend(o,t,v),Jo.a.extend(o,t,v),function(n,e){e.classHierarchy.push("vtkMouseCameraTrackballPanManipulator"),n.onButtonDown=function(i,c,l){e.previousPosition=l},n.onMouseMove=function(i,c,l){if(l){var y=l,R=e.previousPosition;e.previousPosition=l;var _=c.getActiveCamera(),$=_.getPosition(),re=_.getFocalPoint();if(_.getParallelProjection()){_.orthogonalizeViewUp();var he=_.getViewUp(),Ee=_.getViewPlaneNormal(),Se=[0,0,0];dt.i(Ee,he,Se);var ee=i.getView().getSize()[1],we=(y.x-R.x)/ee,Fe=(R.y-y.y)/ee,Xe=_.getParallelScale();Fe*=2*Xe;var qe=Se[0]*(we*=2*Xe)+he[0]*Fe;$[0]+=qe,re[0]+=qe,qe=Se[1]*we+he[1]*Fe,$[1]+=qe,re[1]+=qe,qe=Se[2]*we+he[2]*Fe,$[2]+=qe,re[2]+=qe,_.setPosition($[0],$[1],$[2]),_.setFocalPoint(re[0],re[1],re[2])}else{var tt=e.center,Ye=i.getInteractorStyle(),gt=Ye.computeWorldToDisplay(c,tt[0],tt[1],tt[2])[2],At=Ye.computeDisplayToWorld(c,y.x,y.y,gt),Vt=Ye.computeDisplayToWorld(c,R.x,R.y,gt),Jt=[$[0]+(Vt[0]-At[0]),$[1]+(Vt[1]-At[1]),$[2]+(Vt[2]-At[2])],vn=[re[0]+(Vt[0]-At[0]),re[1]+(Vt[1]-At[1]),re[2]+(Vt[2]-At[2])];_.setPosition(Jt[0],Jt[1],Jt[2]),_.setFocalPoint(vn[0],vn[1],vn[2])}c.resetCameraClippingRange(),i.getLightFollowCamera()&&c.updateLightsGeometryToFollowCamera()}}}(o,t)}var Wd={newInstance:r.b.newInstance(Fu,"vtkMouseCameraTrackballPanManipulator"),extend:Fu},Kd={zoomScale:0,flipDirection:!1};function Lu(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Kd,v),r.b.obj(o,t),Jo.a.extend(o,t,v),No.extend(o,t,v),r.b.setGet(o,t,["flipDirection"]),function(n,e){e.classHierarchy.push("vtkMouseCameraTrackballZoomManipulator"),n.onButtonDown=function(i,c,l){e.previousPosition=l;var y=i.getView().getSize(),R=c.getActiveCamera(),_=e.flipDirection?-1:1;if(R.getParallelProjection())e.zoomScale=1.5/y[1]*_;else{var $=R.getClippingRange();e.zoomScale=$[1]/y[1]*1.5*_}},n.onMouseMove=function(i,c,l){if(l){var y=e.previousPosition.y-l.y,R=c.getActiveCamera();if(R.getParallelProjection()){var _=y*e.zoomScale;R.setParallelScale((1-_)*R.getParallelScale())}else{var $=R.getPosition(),re=R.getFocalPoint(),he=R.getDirectionOfProjection(),Ee=y*e.zoomScale,Se=Ee*he[0];$[0]+=Se,re[0]+=Se,Se=Ee*he[1],$[1]+=Se,re[1]+=Se,Se=Ee*he[2],$[2]+=Se,re[2]+=Se,R.getFreezeFocalPoint()||R.setFocalPoint(re[0],re[1],re[2]),R.setPosition($[0],$[1],$[2]),c.resetCameraClippingRange()}i.getLightFollowCamera()&&c.updateLightsGeometryToFollowCamera(),e.previousPosition=l}},n.onScroll=function(i,c,l){if(l){var y=c.getActiveCamera(),R=1-l/10;y.getParallelProjection()?y.setParallelScale(y.getParallelScale()/R):(y.dolly(R),c.resetCameraClippingRange()),i.getLightFollowCamera()&&c.updateLightsGeometryToFollowCamera()}}}(o,t)}var _u={newInstance:r.b.newInstance(Lu,"vtkMouseCameraTrackballZoomManipulator"),extend:Lu},Hd={zoomPosition:null};function Vu(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Hd,v),_u.extend(o,t,v),function(n,e){e.classHierarchy.push("vtkMouseCameraTrackballZoomToMouseManipulator");var i=n.onButtonDown;n.onButtonDown=function(c,l,y){i(c,l,y),e.zoomPosition=y},n.onMouseMove=function(c,l,y){if(y){var R=(e.previousPosition.y-y.y)*e.zoomScale;jr.dollyToPosition(1-R,e.zoomPosition,l,c),c.getLightFollowCamera()&&l.updateLightsGeometryToFollowCamera(),e.previousPosition=y}},n.onScroll=function(c,l,y,R){if(y&&R){var _=1-.1*y;jr.dollyToPosition(_,R,l,c),c.getLightFollowCamera()&&l.updateLightsGeometryToFollowCamera()}}}(o,t)}var Qd={newInstance:r.b.newInstance(Vu,"vtkMouseCameraTrackballZoomToMouseManipulator"),extend:Vu},Nu=a(59),Yd={device:xs.a.RightController,input:xs.b.TrackPad};function ju(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Yd,v),r.b.obj(o,t),Su.extend(o,t,v),function(n,e){e.classHierarchy.push("vtkVRButtonPanManipulator"),n.onButton3D=function(i,c,l,y,R,_){_?i.startCameraPose():l===ot.IS_CAMERA_POSE&&i.endCameraPose()},n.onMove3D=function(i,c,l,y){if(l===ot.IS_CAMERA_POSE){var R=c.getActiveCamera(),_=R.getPhysicalTranslation(),$=.05*y.gamepad.axes[1]/R.getPhysicalScale(),re=R.physicalOrientationToWorldDirection(y.orientation);R.setPhysicalTranslation(_[0]+re[0]*$,_[1]+re[1]*$,_[2]+re[2]*$)}}}(o,t)}var Xd={newInstance:r.b.newInstance(ju,"vtkVRButtonPanManipulator"),extend:ju},lo={vtkCompositeCameraManipulator:No,vtkCompositeGestureManipulator:wu,vtkCompositeKeyboardManipulator:xu,vtkCompositeMouseManipulator:Jo.a,vtkCompositeVRManipulator:Su,vtkGestureCameraManipulator:Od,vtkKeyboardCameraManipulator:Rd,vtkMouseCameraAxisRotateManipulator:kd,vtkMouseCameraSliceManipulator:Ud,vtkMouseCameraTrackballFirstPersonManipulator:_d,vtkMouseCameraTrackballMultiRotateManipulator:Gd,vtkMouseCameraTrackballPanManipulator:Wd,vtkMouseCameraTrackballRollManipulator:Du,vtkMouseCameraTrackballRotateManipulator:Mu,vtkMouseCameraTrackballZoomManipulator:_u,vtkMouseCameraTrackballZoomToMouseManipulator:Qd,vtkMouseRangeManipulator:Nu.a,vtkVRButtonPanManipulator:Xd},Gu={slice:lo.vtkMouseCameraSliceManipulator,multiRotate:lo.vtkMouseCameraTrackballMultiRotateManipulator,pan:lo.vtkMouseCameraTrackballPanManipulator,roll:lo.vtkMouseCameraTrackballRollManipulator,rotate:lo.vtkMouseCameraTrackballRotateManipulator,axisRotate:lo.vtkMouseCameraAxisRotateManipulator,zoom:lo.vtkMouseCameraTrackballZoomManipulator,zoomToMouse:lo.vtkMouseCameraTrackballZoomToMouseManipulator,range:lo.vtkMouseRangeManipulator,vrPan:lo.vtkVRButtonPanManipulator,gestureCamera:lo.vtkGestureCameraManipulator,movement:lo.vtkKeyboardCameraManipulator,freeLook:lo.vtkMouseCameraTrackballFirstPersonManipulator},zu={"3D":[{type:"rotate"},{type:"pan",options:{shift:!0}},{type:"zoom",options:{control:!0}},{type:"zoom",options:{alt:!0}},{type:"zoom",options:{dragEnabled:!1,scrollEnabled:!0}},{type:"zoom",options:{button:3}},{type:"roll",options:{shift:!0,control:!0}},{type:"roll",options:{shift:!0,alt:!0}},{type:"roll",options:{shift:!0,button:3}},{type:"vrPan"},{type:"gestureCamera"}],"2D":[{type:"pan",options:{shift:!0}},{type:"zoom",options:{control:!0}},{type:"zoom",options:{alt:!0}},{type:"zoom",options:{button:3}},{type:"roll",options:{shift:!0,alt:!0}},{type:"roll",options:{shift:!0,button:3}},{type:"roll",options:{shift:!0}},{type:"vrPan"},{type:"gestureCamera"}],FirstPerson:[{type:"movement"},{type:"freeLook"}],zRotateTop:[{type:"pan",options:{shift:!0}},{type:"axisRotate",options:{rotationAxis:[0,0,1],useHalfAxis:!0}},{type:"zoom",options:{control:!0}},{type:"zoom",options:{alt:!0}},{type:"zoom",options:{dragEnabled:!1,scrollEnabled:!0}},{type:"zoom",options:{button:3}}],zRotateAll:[{type:"pan",options:{shift:!0}},{type:"axisRotate",options:{rotationAxis:[0,0,1],useHalfAxis:!1}},{type:"zoom",options:{control:!0}},{type:"zoom",options:{alt:!0}},{type:"zoom",options:{dragEnabled:!1,scrollEnabled:!0}},{type:"zoom",options:{button:3}}]};function Wu(o,t){t.removeAllManipulators();for(var v=0;v<o.length;v++){var n=o[v],e=Gu[n.type].newInstance(n.options);e.isA("vtkCompositeVRManipulator")?t.addVRManipulator(e):e.isA("vtkCompositeGestureManipulator")?t.addGestureManipulator(e):e.isA("vtkCompositeKeyboardManipulator")?t.addKeyboardManipulator(e):t.addMouseManipulator(e)}return!0}var Ii={applyDefinitions:Wu,applyPreset:function(o,t){return Wu(zu[o],t)},registerManipulatorType:function(o,t){Gu[o]=t},registerStylePreset:function(o,t){zu[o]=t}};function $o(o){return function(t){if(Array.isArray(t))return ic(t)}(o)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(o)||Ku(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qd(o,t){return function(v){if(Array.isArray(v))return v}(o)||function(v,n){var e=v==null?null:typeof Symbol!="undefined"&&v[Symbol.iterator]||v["@@iterator"];if(e!=null){var i,c,l=[],y=!0,R=!1;try{for(e=e.call(v);!(y=(i=e.next()).done)&&(l.push(i.value),!n||l.length!==n);y=!0);}catch(_){R=!0,c=_}finally{try{y||e.return==null||e.return()}finally{if(R)throw c}}return l}}(o,t)||Ku(o,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ku(o,t){if(o){if(typeof o=="string")return ic(o,t);var v=Object.prototype.toString.call(o).slice(8,-1);return v==="Object"&&o.constructor&&(v=o.constructor.name),v==="Map"||v==="Set"?Array.from(o):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?ic(o,t):void 0}}function ic(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}var ji=1e-6;function Zd(o,t){function v(){var n=qd(t.renderer.getBackground(),3),e=n[0],i=n[1],c=n[2];t.cornerAnnotation.getAnnotationContainer().style.color=e+i+c>1.5?"black":"white"}t.classHierarchy.push("vtkViewProxy"),t.renderWindow=bd.newInstance(),t.renderer=gu.newInstance({background:[0,0,0]}),t.renderWindow.addRenderer(t.renderer),t.openglRenderWindow=ad.newInstance(),t.renderWindow.addView(t.openglRenderWindow),t.interactor=Ad.a.newInstance(),t.interactor.setView(t.openglRenderWindow),t.interactorStyle3D=jr.newInstance(),t.interactorStyle2D=jr.newInstance(),Ii.applyPreset("3D",t.interactorStyle3D),Ii.applyPreset("2D",t.interactorStyle2D),t.cornerAnnotation=Ne.newInstance(),t.interactor.setInteractorStyle(t.useParallelRendering?t.interactorStyle2D:t.interactorStyle3D),t.camera=t.renderer.getActiveCamera(),t.camera.setParallelProjection(!!t.useParallelRendering),t.orientationAxesArrow=fn.newInstance(),t.orientationAxesCube=Ao.newInstance(),Xa.applyPreset("default",t.orientationAxesCube),Xa.applyPreset("lps",t.orientationAxesCube),t.orientationAxesMap={arrow:t.orientationAxesArrow,cube:t.orientationAxesCube},t.orientationWidget=bu.newInstance({actor:t.orientationAxesArrow,interactor:t.renderWindow.getInteractor()}),t.orientationWidget.setEnabled(!0),t.orientationWidget.setViewportCorner(bu.Corners.BOTTOM_LEFT),t.orientationWidget.setViewportSize(.1),o.setPresetToInteractor3D=function(n){return Array.isArray(n)?Ii.applyDefinitions(n,t.interactorStyle3D):Ii.applyPreset(n,t.interactorStyle3D)},o.setPresetToInteractor2D=function(n){return Array.isArray(n)?Ii.applyDefinitions(n,t.interactorStyle2D):Ii.applyPreset(n,t.interactorStyle2D)},o.setOrientationAxesType=function(n){var e=t.orientationAxesMap[n];e&&(t.orientationAxesType=n,t.orientationWidget.setActor(e),o.renderLater())},o.registerOrientationAxis=function(n,e){t.orientationAxesMap[n]=e},o.unregisterOrientationAxis=function(n){delete t.orientationAxesMap[n]},o.listOrientationAxis=function(){return Object.keys(t.orientationAxesMap)},o.setPresetToOrientationAxes=function(n){var e=!1;return typeof n=="string"?(t.presetToOrientationAxes!==n&&(t.presetToOrientationAxes=n,e=Xa.applyPreset(n,t.orientationAxesCube),o.modified()),e):(t.presetToOrientationAxes="Custom",e=Xa.applyDefinitions(n,t.orientationAxesCube),o.modified(),e)},o.setContainer=function(n){t.container&&(t.interactor.unbindEvents(t.container),t.openglRenderWindow.setContainer(null),t.cornerAnnotation.setContainer(null)),t.container=n,n&&(t.openglRenderWindow.setContainer(n),t.cornerAnnotation.setContainer(n),t.interactor.initialize(),t.interactor.bindEvents(n))},o.resize=function(){if(t.container){var n=t.container.getBoundingClientRect();if(n.width===n.height&&n.width===0)return;var e=window.devicePixelRatio||1,i=Math.max(10,Math.floor(e*n.width)),c=Math.max(10,Math.floor(e*n.height));t.openglRenderWindow.setSize(i,c),o.invokeResize({width:i,height:c}),o.renderLater()}},o.renderLater=function(){o.render(!1)},o.render=function(){var n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];t.representations.length>0&&t.resetCameraOnFirstRender&&(t.resetCameraOnFirstRender=!1,o.resetCamera()),t.orientationWidget.updateMarkerOrientation(),t.renderer.resetCameraClippingRange(),n?t.renderWindow.render():setTimeout(t.renderWindow.render,0)},o.addRepresentation=function(n){n&&t.representations.indexOf(n)===-1&&(t.representations.push(n),t.renderer.addViewProp(n))},o.removeRepresentation=function(n){n&&(t.representations.indexOf(n)!==-1&&(t.representations=t.representations.filter(function(e){return e!==n}),t.renderer.removeViewProp(n)),t.representations.length===0&&(t.resetCameraOnFirstRender=!0))},o.resetCamera=function(){t.renderer.resetCamera(),t.renderer.resetCameraClippingRange(),t.interactorStyle2D.setCenterOfRotation(t.camera.getFocalPoint()),t.interactorStyle3D.setCenterOfRotation(t.camera.getFocalPoint()),o.renderLater()},o.captureImage=function(){return t.renderWindow.captureImages()[0]},o.openCaptureImage=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"_blank",e=new Image;return o.captureImage().then(function(i){e.src=i;var c=window.open("",n);c.document.write(e.outerHTML),c.document.title="vtk.js Image Capture",window.focus()})},o.setCornerAnnotation=function(n,e){t.cornerAnnotation.updateTemplates(function(i,c,l){return c in i?Object.defineProperty(i,c,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[c]=l,i}({},n,function(i){return Ne.applyTemplate(e,i)}))},o.setCornerAnnotations=function(n){arguments.length>1&&arguments[1]!==void 0&&arguments[1]?Object.keys(n).forEach(function(e){o.setCornerAnnotation(e,n[e])}):t.cornerAnnotation.updateTemplates(n)},o.updateCornerAnnotation=function(n){return t.cornerAnnotation.updateMetadata(n)},o.setAnnotationOpacity=function(n){t.annotationOpacity!==Number(n)&&(t.annotationOpacity=Number(n),t.cornerAnnotation.getAnnotationContainer().style.opacity=n,o.modified())},o.setBackground=r.a(t.renderer.setBackground,v),o.getBackground=t.renderer.getBackground,o.setAnimation=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o;if(!t.disableAnimation||!n)if(n)t.renderWindow.getInteractor().requestAnimation(e);else{var i=e===o||"".concat(e).indexOf("ViewProxy.moveCamera.")===0;t.renderWindow.getInteractor().cancelAnimation(e,i)}},o.updateOrientation=function(n,e,i){var c,l,y,R,_,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(n===void 0)return Promise.resolve();var re=t.camera.getPosition(),he=t.camera.getViewUp(),Ee=t.camera.getFocalPoint();t.axis=n,t.orientation=e,t.viewUp=i;var Se=t.camera.getFocalPoint();Se[t.axis]+=t.orientation,(c=t.camera).setPosition.apply(c,$o(Se)),(l=t.camera).setViewUp.apply(l,$o(i)),t.renderer.resetCamera();var ee=t.camera.getFocalPoint(),we=t.camera.getPosition(),Fe=t.camera.getViewUp();return(y=t.camera).setFocalPoint.apply(y,$o(Ee)),(R=t.camera).setPosition.apply(R,$o(re)),(_=t.camera).setViewUp.apply(_,$o(he)),o.moveCamera(ee,we,Fe,$)},o.moveCamera=function(n,e,i){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=t.camera.getFocalPoint(),y=t.camera.getPosition(),R=t.camera.getViewUp(),_=[{focalPoint:n,position:e,viewUp:i}];if(c){var $=[(l[0]-n[0])/c,(l[1]-n[1])/c,(l[2]-n[2])/c],re=[(y[0]-e[0])/c,(y[1]-e[1])/c,(y[2]-e[2])/c],he=[(R[0]-i[0])/c,(R[1]-i[1])/c,(R[2]-i[2])/c],Ee=$[0]||$[1]||$[2]||re[0]||re[1]||re[2]||he[0]||he[1]||he[2],Se=$.map(function(Ye){return Math.abs(Ye)<ji?0:1}).reduce(function(Ye,gt){return Ye+gt},0),ee=re.map(function(Ye){return Math.abs(Ye)<ji?0:1}).reduce(function(Ye,gt){return Ye+gt},0),we=he.map(function(Ye){return Math.abs(Ye)<ji?0:1}).reduce(function(Ye,gt){return Ye+gt},0);if(Ee)if(we===1&&ee===0&&Se===0)for(var Fe=l.map(function(Ye,gt){return Math.abs(y[gt]-Ye)<ji?gt:null}).filter(function(Ye){return Ye!==null}).find(function(Ye){return Math.abs(he[Ye])<ji}),Xe=0;Xe<c;Xe++){var qe=[i[0]+(Xe+1)*he[0],i[1]+(Xe+1)*he[1],i[2]+(Xe+1)*he[2]];qe[Fe]=Math.sin(Math.PI*Xe/(c-1)),_.push({focalPoint:n,position:e,viewUp:qe})}else for(var tt=0;tt<c;tt++)_.push({focalPoint:[n[0]+(tt+1)*$[0],n[1]+(tt+1)*$[1],n[2]+(tt+1)*$[2]],position:[e[0]+(tt+1)*re[0],e[1]+(tt+1)*re[1],e[2]+(tt+1)*re[2]],viewUp:[i[0]+(tt+1)*he[0],i[1]+(tt+1)*he[1],i[2]+(tt+1)*he[2]]})}return _.length===1?(t.camera.set(_.pop()),t.renderer.resetCameraClippingRange(),t.interactor.getLightFollowCamera()&&t.renderer.updateLightsGeometryToFollowCamera(),Promise.resolve()):new Promise(function(Ye,gt){var At=performance.now().toString(),Vt="ViewProxy.moveCamera.".concat(At);o.setAnimation(!0,Vt);var Jt=null;Jt=setInterval(function(){if(_.length){var vn,Zt,on,Tn=_.pop(),En=Tn.focalPoint,jn=Tn.position,Nn=Tn.viewUp;(vn=t.camera).setFocalPoint.apply(vn,$o(En)),(Zt=t.camera).setPosition.apply(Zt,$o(jn)),(on=t.camera).setViewUp.apply(on,$o(Nn)),t.renderer.resetCameraClippingRange(),t.interactor.getLightFollowCamera()&&t.renderer.updateLightsGeometryToFollowCamera()}else clearInterval(Jt),o.setAnimation(!1,Vt),Ye()},1)})},o.resetOrientation=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return o.updateOrientation(t.axis,t.orientation,t.viewUp,n)},o.rotate=function(n){var e,i=t.camera.get("viewUp","focalPoint","position"),c=i.viewUp,l=i.focalPoint,y=i.position,R=[l[0]-y[0],l[1]-y[1],l[2]-y[2]];sr.buildFromDegree().rotate(Number.isNaN(n)?90:n,R).apply(c),(e=t.camera).setViewUp.apply(e,$o(c)),t.camera.modified(),t.orientationWidget.updateMarkerOrientation(),t.renderWindow.render()},o.focusTo=r.a(t.camera.setFocalPoint,t.interactorStyle2D.setCenterOfRotation,t.interactorStyle3D.setCenterOfRotation),o.delete=r.a(o.setContainer,t.openglRenderWindow.delete,o.delete),o.resetOrientation(),v()}var Jd={representations:[],sectionName:"view",annotationOpacity:1,resetCameraOnFirstRender:!0,presetToOrientationAxes:"lps",orientationAxesType:"arrow",disableAnimation:!1,axis:1,orientation:0,viewUp:[0,0,1]};function Hu(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Jd,v),r.g(o,t),r.k(o,t,["name","disableAnimation"]),r.d(o,t,["annotationOpacity","camera","container","cornerAnnotation","interactor","interactorStyle2D","interactorStyle3D","openglRenderWindow","orientationAxesType","presetToOrientationAxes","renderer","renderWindow","representations","useParallelRendering"]),r.c(o,t,"Resize"),Zd(o,t),r.h(o,t),r.i(o,t,{orientationAxesVisibility:{modelKey:"orientationWidget",property:"enabled"},orientationAxesCorner:{modelKey:"orientationWidget",property:"viewportCorner"},orientationAxesSize:{modelKey:"orientationWidget",property:"viewportSize"},cameraViewUp:{modelKey:"camera",property:"viewUp",modified:!1},cameraPosition:{modelKey:"camera",property:"position",modified:!1},cameraFocalPoint:{modelKey:"camera",property:"focalPoint",modified:!1}})}var $d={newInstance:r.f(Hu,"vtkViewProxy"),extend:Hu},ep=a(108),tp=r.b.vtkErrorMacro,np={pointId:-1,pointIJK:[],useCells:!1};function Qu(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,np,v),ep.a.extend(o,t,v),r.b.getArray(o,t,["pointIJK"]),r.b.get(o,t,["pointId"]),r.b.setGet(o,t,["useCells"]),function(n,e){e.classHierarchy.push("vtkPointPicker"),n.intersectWithLine=function(i,c,l,y){var R=Number.MAX_VALUE;if(y.isA("vtkImageMapper")){var _=y.intersectWithLineForPointPicking(i,c);_&&(R=_.t,e.pointIJK=_.ijk)}else y.isA("vtkMapper")&&(R=n.intersectActorWithLine(i,c,l,y));return R},n.intersectActorWithLine=function(i,c,l,y){var R=y.getInputData(),_=0,$=R.getPoints().getNumberOfPoints();if($<=_)return 2;for(var re=[],he=0;he<3;he++)re[he]=c[he]-i[he];var Ee,Se=dt.m(re,re);if(Se===0)return tp("Cannot process points"),2;var ee=-1,we=Number.MAX_VALUE,Fe=Number.MAX_VALUE,Xe=[],qe=[],tt=R.getPoints();if(e.useCells)for(var Ye=R.getPolys().getData(),gt=Ye[0],At=R.getPolys().getNumberOfCells(),Vt=0;Vt<At;Vt++)for(var Jt=Vt*gt+1,vn=Jt+gt,Zt=Jt;Zt<vn;Zt++){var on=Ye[Zt];if(tt.getPoint(on,qe),(Ee=(re[0]*(qe[0]-i[0])+re[1]*(qe[1]-i[1])+re[2]*(qe[2]-i[2]))/Se)>=0&&Ee<=1&&Ee<=we+e.tolerance){for(var Tn=0,En=0;En<3;En++){Xe[En]=i[En]+Ee*re[En];var jn=Math.abs(qe[En]-Xe[En]);jn>Tn&&(Tn=jn)}Tn<=l&&Tn<Fe&&(ee=_,qe[0],qe[1],qe[2],Fe=Tn,we=Ee)}}else for(_=0;_<$;_++)if(tt.getPoint(_,qe),(Ee=(re[0]*(qe[0]-i[0])+re[1]*(qe[1]-i[1])+re[2]*(qe[2]-i[2]))/Se)>=0&&Ee<=1&&Ee<=we+e.tolerance){for(var Nn=0,Un=0;Un<3;Un++){Xe[Un]=i[Un]+Ee*re[Un];var Xn=Math.abs(qe[Un]-Xe[Un]);Xn>Nn&&(Nn=Xn)}Nn<=l&&Nn<Fe&&(ee=_,qe[0],qe[1],qe[2],Fe=Nn,we=Ee)}return e.pointId=ee,we}}(o,t)}var rp={newInstance:r.b.newInstance(Qu,"vtkPointPicker"),extend:Qu},Yu=a(50),Gi={DEFAULT:0,GEOMETRY:1,SLICE:2,VOLUME:3,AXIAL:4,CORONAL:5,SAGITTAL:6},Ei={PICKING_BUFFER:0,FRONT_BUFFER:1},Ss={ViewTypes:Gi,RenderingTypes:Ei,CaptureOn:{MOUSE_MOVE:0,MOUSE_RELEASE:1}},ap=.5,op={contextVisibility:!0,handleVisibility:!0,hasFocus:!1};function Xu(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,op,v),Ge.a.extend(o,t,v),Qe.a.extend(o,t,v),r.b.setGet(o,t,["contextVisibility","handleVisibility","widgetManager"]),r.b.get(o,t,["representations","widgetState"]),r.b.event(o,t,"ActivateHandle"),function(n,e){e.classHierarchy.push("vtkAbstractWidget"),e.actorToRepresentationMap=new WeakMap,n.getBounds=e.widgetState.getBounds,n.getNestedProps=function(){return e.representations},n.activateHandle=function(i){var c=i.selectedState,l=i.representation;e.widgetState.activateOnly(c),e.activeState=c,c&&c.updateManipulator&&c.updateManipulator(),n.invokeActivateHandle({selectedState:c,representation:l}),n.updateCursor&&n.updateCursor()},n.deactivateAllHandles=function(){e.widgetState.deactivate()},n.hasActor=function(i){return e.actorToRepresentationMap.has(i)},n.grabFocus=function(){e.hasFocus=!0},n.loseFocus=function(){e.hasFocus=!1},n.hasFocus=function(){return e.hasFocus},n.placeWidget=function(i){return e.widgetState.placeWidget(i)},n.getPlaceFactor=function(){return e.widgetState.getPlaceFactor()},n.setPlaceFactor=function(i){return e.widgetState.setPlaceFactor(i)},n.getRepresentationFromActor=function(i){return e.actorToRepresentationMap.get(i)},n.updateRepresentationForRender=function(){for(var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ei.FRONT_BUFFER,c=0;c<e.representations.length;c++)e.representations[c].updateActorVisibility(i,e.visibility,e.contextVisibility,e.handleVisibility)},n.getViewWidgets=function(){return e.factory.getViewIds().map(function(i){return e.factory.getWidgetForView({viewId:i})})},n.setPriority(ap)}(o,t)}var ip={newInstance:r.b.newInstance(Xu,"vtkAbstractWidget"),extend:Xu},sp=a(95),qu=a(75),Ri={HANDLE:0,CONTEXT:1};function cp(o){return function(t){if(Array.isArray(t))return sc(t)}(o)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(o)||function(t,v){if(!!t){if(typeof t=="string")return sc(t,v);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sc(t,v)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sc(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}var up=r.b.vtkErrorMacro,lp=r.b.vtkWarningMacro,fp=["active","inactive","static"],dp={actors:[],labels:[],behavior:Ri.CONTEXT,coincidentTopologyParameters:{Point:{factor:-1,offset:-1},Line:{factor:-1,offset:-1},Polygon:{factor:-1,offset:-1}},scaleInPixels:!1,displayScaleParams:{dispHeightFactor:1,cameraPosition:[0,0,0],cameraDir:[1,0,0],isParallel:!1,rendererPixelDims:[1,1]}},cc={extend:function(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,dp,v),Ge.a.extend(o,t,v),r.b.algo(o,t,1,1),r.b.get(o,t,["labels","coincidentTopologyParameters"]),r.b.set(o,t,["displayScaleParams"]),r.b.setGet(o,t,["scaleInPixels"]),function(n,e){e.classHierarchy.push("vtkWidgetRepresentation");var i={mtimes:{},states:[]};function c(l,y){l&&l.setResolveCoincidentTopologyToPolygonOffset&&(l.setResolveCoincidentTopologyToPolygonOffset(),ur.a.forEach(function(R){if(y[R]){var _="setRelativeCoincidentTopology".concat(R,"OffsetParameters");if(l[_]){var $=y[R],re=$.factor,he=$.offset;l[_](re,he)}}}))}n.getActors=function(){return e.actors},n.getNestedProps=n.getActors,n.setLabels=function(){for(var l=arguments.length,y=new Array(l),R=0;R<l;R++)y[R]=arguments[R];y.length===1?e.labels=[].concat(y[0]):e.labels=y,n.modified()},n.getRepresentationStates=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.inputData[0];return i.mtimes.representation===n.getMTime()&&i.mtimes.input===l.getMTime()||(i.mtimes.representation=n.getMTime(),i.mtimes.input=l.getMTime(),i.states=[],e.labels.forEach(function(y){i.states=i.states.concat(l.getStatesWithLabel(y)||[])})),i.states},n.getSelectedState=function(l,y){var R=n.getRepresentationStates();return y<R.length?R[y]:(up("Representation ".concat(n.getClassName()," should implement getSelectedState(prop, compositeID) method.")),null)},n.updateActorVisibility=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ei.FRONT_BUFFER,y=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],R=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],_=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],$=!0;switch(e.behavior){case Ri.HANDLE:$=l===Ei.PICKING_BUFFER||_;break;case Ri.CONTEXT:$=l===Ei.FRONT_BUFFER&&R;break;default:$=!0}for(var re=y&&$,he=0;he<e.actors.length;he++)e.visibilityFlagArray?e.actors[he].setVisibility(re&&e.visibilityFlagArray[he]):e.actors[he].setVisibility(re);if(e.alwaysVisibleActors)for(var Ee=0;Ee<e.alwaysVisibleActors.length;Ee++)e.alwaysVisibleActors[Ee].setVisibility(!0)},e.actors.push=function(){lp("You should use publicAPI.addActor() to initialize the actor properly");for(var l=arguments.length,y=new Array(l),R=0;R<l;R++)y[R]=arguments[R];y.forEach(function(_){return n.addActor(_)})},n.addActor=function(l){c(l.getMapper(),e.coincidentTopologyParameters),Array.prototype.push.apply(e.actors,[l])},n.setCoincidentTopologyParameters=function(l){e.coincidentTopologyParameters=l,n.getActors().forEach(function(y){c(y.getMapper(),e.coincidentTopologyParameters)})},n.getPixelWorldHeightAtCoord=function(l){var y=e.displayScaleParams,R=y.dispHeightFactor,_=y.cameraPosition,$=y.cameraDir,re=y.isParallel,he=y.rendererPixelDims,Ee=1;if(re)Ee=R;else{var Se=cp(l);Object(dt.G)(Se,_,Se),Ee=Object(dt.m)(Se,$)*R}return Ee/he[1]},n.setLabels(e.labels)}(o,t)},mergeStyles:function(o){for(var t=arguments.length,v=new Array(t>1?t-1:0),n=1;n<t;n++)v[n-1]=arguments[n];var e={active:{},inactive:{},static:{}};return fp.forEach(function(i){var c=e[i];o.forEach(function(l){c[l]||(c[l]={}),v.filter(function(y){return y&&y[i]&&y[i][l]}).forEach(function(y){return Object.assign(c[l],y[i][l])})})}),e},applyStyles:function(o,t,v){v?Object.keys(o).forEach(function(n){var e=o[n].actor===v?t.active[n]:t.inactive[n];e&&o[n].actor.getProperty().set(e)}):(Object.keys(t.static).forEach(function(n){o[n]&&o[n].actor.getProperty().set(t.static[n])}),Object.keys(t.inactive).forEach(function(n){o[n]&&o[n].actor.getProperty().set(t.inactive[n])}))},connectPipeline:function(o){o.source.isA("vtkDataSet")?o.mapper.setInputData(o.source):o.mapper.setInputConnection(o.source.getOutputPort()),o.glyph&&o.mapper.setInputConnection(o.glyph.getOutputPort(),1),o.actor.setMapper(o.mapper)}},pp="http://www.w3.org/2000/svg";function gp(o,t){t.classHierarchy.push("vtkSVGRepresentation");var v=null;t.psActor=nt.a.newInstance({pickable:!1}),t.psMapper=qu.a.newInstance(),t.points=mt.a.newInstance(),t.psMapper.setInputData(t.points),t.psActor.setMapper(t.psMapper),t.psMapper.setCallback(function(){if(v){var n=v;v=null,n.resolve({coords:arguments.length<=0?void 0:arguments[0],camera:arguments.length<=1?void 0:arguments[1],aspect:arguments.length<=2?void 0:arguments[2],depthValues:arguments.length<=3?void 0:arguments[3],windowSize:arguments.length<=4?void 0:arguments[4]})}}),o.addActor(t.psActor),o.worldPointsToPixelSpace=function(n){for(var e=new Float32Array(3*n.length),i=0;i<n.length;i++)e[3*i+0]=n[i][0],e[3*i+1]=n[i][1],e[3*i+2]=n[i][2];return t.points.getPoints().setData(e),t.points.modified(),(v=function(){var c,l;return{promise:new Promise(function(y,R){c=y,l=R}),resolve:c,reject:l}}()).promise},o.updateActorVisibility=function(){arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ei.FRONT_BUFFER;var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],e=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];t.behavior===Ri.CONTEXT?o.setVisibility(n&&e):t.Behavior===Ri.HANDLE&&o.setVisibility(n&&i)},o.render=function(){throw new Error("Not implemented")}}var mp={visibility:!0},Cs={extend:function(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,mp,v),cc.extend(o,t,v),r.b.setGet(o,t,["visibility"]),gp(o,t)},createSvgElement:function(o){return{name:o,attrs:{},textContent:null,children:[],setAttribute:function(t,v){this.attrs[t]=v},removeAttribute:function(t){delete this.attrs[t]},appendChild:function(t){this.children.push(t)}}},createSvgDomElement:function(o){return document.createElementNS(pp,o)}};function Zu(o,t){return function(v){if(Array.isArray(v))return v}(o)||function(v,n){var e=v==null?null:typeof Symbol!="undefined"&&v[Symbol.iterator]||v["@@iterator"];if(e!=null){var i,c,l=[],y=!0,R=!1;try{for(e=e.call(v);!(y=(i=e.next()).done)&&(l.push(i.value),!n||l.length!==n);y=!0);}catch(_){R=!0,c=_}finally{try{y||e.return==null||e.return()}finally{if(R)throw c}}return l}}(o,t)||function(v,n){if(!!v){if(typeof v=="string")return Ju(v,n);var e=Object.prototype.toString.call(v).slice(8,-1);if(e==="Object"&&v.constructor&&(e=v.constructor.name),e==="Map"||e==="Set")return Array.from(v);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Ju(v,n)}}(o,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ju(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}var hp="http://www.w3.org/2000/svg";function Ps(o){for(var t=document.createElementNS(hp,o.name),v=Object.keys(o.attrs),n=0;n<v.length;n++){var e=v[n];t.setAttribute(e,o.attrs[e])}if(o.textContent)t.textContent=o.textContent;else for(var i=0;i<o.children.length;i++)t.appendChild(Ps(o.children[i]));return t}function $u(o,t){if(t.textContent!==null&&t.children.length)throw new Error("Tree cannot have both children and textContent!");if(!o)return[function(){return Ps(t)}];if(!t)return[function(he){return he.remove()}];if(o.name!==t.name)return[function(he){var Ee=Ps(t);return he.replaceWith(Ee),Ee}];var v=[],n=Zu(function(he,Ee){for(var Se=[],ee=[],we=Object.keys(he),Fe=Object.keys(Ee),Xe=new Set(we),qe=new Set(Fe),tt=0;tt<we.length;tt++){var Ye=we[tt];qe.has(Ye)?he[Ye]!==Ee[Ye]&&Se.push([Ye,Ee[Ye]]):ee.push(Ye)}for(var gt=0;gt<Fe.length;gt++){var At=Fe[gt];Xe.has(At)||Se.push([At,Ee[At]])}return[Se,ee]}(o.attrs,t.attrs),2),e=n[0],i=n[1];if((e.length||i.length)&&v.push(function(he){for(var Ee=0;Ee<e.length;Ee++){var Se=Zu(e[Ee],2),ee=Se[0],we=Se[1];he.setAttribute(ee,we)}for(var Fe=0;Fe<i.length;Fe++){var Xe=i[Fe];he.removeAttribute(Xe)}return he}),o.textContent!==t.textContent&&t.textContent!==null&&v.push(function(he){return he.textContent=t.textContent,he}),t.textContent===null){for(var c=Math.min(o.children.length,t.children.length),l=function(he){var Ee=$u(o.children[he],t.children[he]);v.push(function(Se){for(var ee=0;ee<Ee.length;ee++)Ee[ee](Se.children[he]);return Se})},y=0;y<c;y++)l(y);if(o.children.length<t.children.length)for(var R=function(he){v.push(function(Ee){return Ee.appendChild(Ps(t.children[he])),Ee})},_=c;_<t.children.length;_++)R(_);else for(var $=function(he){v.push(function(Ee){return Ee.children[he].remove(),Ee})},re=o.children.length-1;re>=c;re--)$(re)}return v}function Os(o,t){return function(v){if(Array.isArray(v))return v}(o)||function(v,n){var e=v==null?null:typeof Symbol!="undefined"&&v[Symbol.iterator]||v["@@iterator"];if(e!=null){var i,c,l=[],y=!0,R=!1;try{for(e=e.call(v);!(y=(i=e.next()).done)&&(l.push(i.value),!n||l.length!==n);y=!0);}catch(_){R=!0,c=_}finally{try{y||e.return==null||e.return()}finally{if(R)throw c}}return l}}(o,t)||function(v,n){if(!!v){if(typeof v=="string")return el(v,n);var e=Object.prototype.toString.call(v).slice(8,-1);if(e==="Object"&&v.constructor&&(e=v.constructor.name),e==="Map"||e==="Set")return Array.from(v);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return el(v,n)}}(o,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function el(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}var uc=Ss.ViewTypes,tl=Ss.RenderingTypes,lc=Ss.CaptureOn,vp=r.b.vtkErrorMacro,yp=Cs.createSvgElement,bp=Cs.createSvgDomElement,Ap=1;function nl(o){var t=o.getActiveCamera(),v=o.getRenderWindow(),n=v.getInteractor();return{renderer:o,renderWindow:v,interactor:n,openGLRenderWindow:n.getView(),camera:t}}function wp(o,t){t.viewId||(t.viewId="view-".concat(Ap++)),t.classHierarchy.push("vtkWidgetManager");var v=new WeakMap,n=new WeakMap,e=new WeakMap,i=[];function c(ee){return ee&&(ee.isA("vtkAbstractWidget")?ee:ee.getWidgetForView({viewId:t.viewId}))}t.selector=kt.newInstance(),t.selector.setFieldAssociation(sp.a.FIELD_ASSOCIATION_POINTS),t.svgRoot=function(ee){var we=bp("svg");return we.setAttribute("style","position: absolute; top: 0; left: 0; width: 100%; height: 100%;"),we.setAttribute("version","1.1"),we.setAttribute("baseProfile","full"),we}(t.viewId);var l=new WeakMap;function y(){var ee=t.openGLRenderWindow.getReferenceByName("el"),we=t.openGLRenderWindow.getCanvas();ee.insertBefore(t.svgRoot,we.nextSibling),window.getComputedStyle(ee).position==="static"&&(ee.style.position="relative")}function R(){var ee=Os(t.openGLRenderWindow.getSize(),2),we=ee[0],Fe=ee[1],Xe=window.devicePixelRatio||1,qe=String(we/Xe),tt=String(Fe/Xe),Ye="0 0 ".concat(we," ").concat(Fe),gt=t.svgRoot.getAttribute("width"),At=t.svgRoot.getAttribute("height"),Vt=t.svgRoot.getAttribute("viewBox");gt!==qe&&t.svgRoot.setAttribute("width",qe),At!==tt&&t.svgRoot.setAttribute("height",tt),Vt!==Ye&&t.svgRoot.setAttribute("viewBox",Ye)}function _(){if(t.useSvgLayer)for(var ee=function(Fe){var Xe=t.widgets[Fe],qe=Xe.getRepresentations().filter(function(At){return At.isA("vtkSVGRepresentation")}),tt=[];Xe.getVisibility()&&(tt=qe.filter(function(At){return At.getVisibility()}).map(function(At){return At.render()}));var Ye=Promise.all(tt),gt=l.get(Xe)||[];gt.push(Ye),l.set(Xe,gt),Ye.then(function(At){var Vt=l.get(Xe)||[],Jt=Vt.indexOf(Ye);if(!t.deleted&&Jt!==-1){Vt=Vt.slice(Jt+1),l.set(Xe,Vt);for(var vn=e.get(Xe),Zt=yp("g"),on=0;on<At.length;on++)Zt.appendChild(At[on]);for(var Tn=n.get(Xe),En=Tn,jn=$u(vn,Zt),Nn=0;Nn<jn.length;Nn++)En=jn[Nn](En);!Tn&&En?(t.svgRoot.appendChild(En),n.set(Xe,En)):Tn&&!En&&(Tn.remove(),n.delete(Xe)),e.set(Xe,Zt)}})},we=0;we<t.widgets.length;we++)ee(we)}function $(){var ee=t.openGLRenderWindow,we=t.camera,Fe=t.renderer;if(Fe&&ee&&we){var Xe=Os(ee.getSize(),2),qe=Xe[0],tt=Xe[1],Ye=Os(Fe.getViewport(),4),gt=Ye[0],At=Ye[1],Vt=[qe*(Ye[2]-gt),tt*(Ye[3]-At)],Jt=we.getPosition(),vn=we.getDirectionOfProjection(),Zt=we.getParallelProjection(),on=Zt?we.getParallelScale():2*Math.tan(Object(dt.y)(we.getViewAngle())/2);t.widgets.forEach(function(Tn){Tn.getNestedProps().forEach(function(En){En.getScaleInPixels()&&En.setDisplayScaleParams({dispHeightFactor:on,cameraPosition:Jt,cameraDir:vn,isParallel:Zt,rendererPixelDims:Vt})})})}}function re(ee){ee.updateRepresentationForRender(t.renderingType)}function he(){t.renderingType=tl.FRONT_BUFFER,t.widgets.forEach(re)}function Ee(ee,we,Fe,Xe){return t.renderingType=tl.PICKING_BUFFER,t.widgets.forEach(re),t.selector.setArea(ee,we,Fe,Xe),t.selector.releasePixBuffers(),t.previousSelectedData=null,t.selector.captureBuffers()}o.enablePicking=function(){t.pickingEnabled=!0,t.pickingAvailable=!0,o.renderWidgets()},o.renderWidgets=function(){if(t.pickingEnabled&&t.captureOn===lc.MOUSE_RELEASE){var ee=Os(t.openGLRenderWindow.getSize(),2),we=ee[0],Fe=ee[1];t.pickingAvailable=Ee(0,0,we,Fe)}he(),o.modified()},o.disablePicking=function(){t.pickingEnabled=!1,t.pickingAvailable=!1},o.setRenderer=function(ee){for(Object.assign(t,nl(ee));i.length;)i.pop().unsubscribe();t.selector.attach(t.openGLRenderWindow,t.renderer),i.push(t.interactor.onRenderEvent(_)),i.push(t.openGLRenderWindow.onModified(R)),R(),i.push(t.openGLRenderWindow.onModified($)),i.push(t.camera.onModified($)),$(),i.push(t.interactor.onStartAnimation(function(){t.isAnimating=!0})),i.push(t.interactor.onEndAnimation(function(){t.isAnimating=!1,t.pickingEnabled&&o.enablePicking()})),i.push(t.interactor.onMouseMove(function(we){var Fe=we.position;if(!t.isAnimating&&t.pickingAvailable){o.updateSelectionFromXY(Fe.x,Fe.y);var Xe=o.getSelectedData(),qe=Xe.requestCount,tt=Xe.selectedState,Ye=Xe.representation,gt=Xe.widget;if(!qe)if(t.openGLRenderWindow.setCursor(gt?"pointer":"default"),t.widgetInFocus===gt&&gt.hasFocus())gt.activateHandle({selectedState:tt,representation:Ye}),t.interactor.render(),t.interactor.render();else{for(var At=0;At<t.widgets.length;At++){var Vt=t.widgets[At];Vt===gt&&Vt.getPickable()?(Vt.activateHandle({selectedState:tt,representation:Ye}),t.activeWidget=Vt):Vt.deactivateAllHandles()}t.interactor.render(),t.interactor.render()}}})),o.modified(),t.pickingEnabled&&o.enablePicking(),t.useSvgLayer&&y()},o.addWidget=function(ee,we,Fe){if(!t.renderer)return vp("Widget manager MUST BE link to a view before registering widgets"),null;var Xe=t.viewId,qe=t.renderer,tt=ee.getWidgetForView({viewId:Xe,renderer:qe,viewType:we||uc.DEFAULT,initialValues:Fe});return t.widgets.indexOf(tt)===-1&&(t.widgets.push(tt),tt.setWidgetManager(o),function(Ye){for(var gt=Ye.getRepresentations(),At=0;At<gt.length;At++)for(var Vt=gt[At],Jt={widget:Ye,representation:Vt},vn=Vt.getActors(),Zt=0;Zt<vn.length;Zt++){var on=vn[Zt];v.set(on,Jt)}}(tt),t.renderer.addActor(tt),o.modified()),tt},o.removeWidget=function(ee){var we=c(ee),Fe=t.widgets.indexOf(we);Fe!==-1&&(t.widgets.splice(Fe,1),t.renderer.removeActor(we),t.renderer.getRenderWindow().getInteractor().render(),o.enablePicking(),function(Xe){var qe=n.get(Xe);qe&&(n.delete(Xe),e.delete(Xe),t.svgRoot.removeChild(qe))}(we),t.widgetInFocus===we&&o.releaseFocus(),we.delete())},o.updateSelectionFromXY=function(ee,we){if(t.pickingEnabled){var Fe=t.pickingAvailable;t.captureOn===lc.MOUSE_MOVE&&(Fe=Ee(ee,we,ee,we),he()),Fe&&(t.selections=t.selector.generateSelection(ee,we,ee,we))}},o.updateSelectionFromMouseEvent=function(ee){var we=ee.pageX,Fe=ee.pageY,Xe=t.openGLRenderWindow.getCanvas().getBoundingClientRect(),qe=Xe.top,tt=we-Xe.left,Ye=Xe.height-(Fe-qe);o.updateSelectionFromXY(tt,Ye)},o.getSelectedData=function(){if(!t.selections||!t.selections.length)return t.previousSelectedData=null,{};var ee=t.selections[0].getProperties(),we=ee.propID,Fe=ee.compositeID,Xe=ee.prop;if(t.previousSelectedData&&t.previousSelectedData.prop===Xe&&t.previousSelectedData.compositeID===Fe)return t.previousSelectedData.requestCount++,t.previousSelectedData;if(!v.has(Xe))return{};var qe=v.get(Xe),tt=qe.widget,Ye=qe.representation;if(tt&&Ye){var gt=Ye.getSelectedState(Xe,Fe);return t.previousSelectedData={requestCount:0,propID:we,compositeID:Fe,prop:Xe,widget:tt,representation:Ye,selectedState:gt},t.previousSelectedData}return t.previousSelectedData=null,{}},o.grabFocus=function(ee){var we=c(ee);t.widgetInFocus&&t.widgetInFocus!==we&&t.widgetInFocus.loseFocus(),t.widgetInFocus=we,t.widgetInFocus&&t.widgetInFocus.grabFocus()},o.releaseFocus=function(){return o.grabFocus(null)},o.setUseSvgLayer=function(ee){return ee!==t.useSvgLayer&&(t.useSvgLayer=ee,t.renderer&&(ee?(y(),_()):t.openGLRenderWindow.getReferenceByName("el").removeChild(t.svgRoot)),!0)};var Se=o.delete;o.delete=function(){for(;i.length;)i.pop().unsubscribe();Se()}}var xp={viewId:null,widgets:[],renderer:[],viewType:uc.DEFAULT,pickingAvailable:!1,isAnimating:!1,pickingEnabled:!0,selections:null,previousSelectedData:null,widgetInFocus:null,useSvgLayer:!0,captureOn:lc.MOUSE_MOVE};function rl(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,xp,v),r.b.obj(o,t),r.b.setGet(o,t,["captureOn",{type:"enum",name:"viewType",enum:uc}]),r.b.get(o,t,["selections","widgets","viewId","pickingEnabled","useSvgLayer"]),wp(o,t)}var Sp={newInstance:r.b.newInstance(rl,"vtkWidgetManager"),extend:rl,Constants:Ss};function al(o){return function(t){if(Array.isArray(t))return fc(t)}(o)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(o)||function(t,v){if(!!t){if(typeof t=="string")return fc(t,v);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fc(t,v)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fc(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}function ol(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function il(o){for(var t=1;t<arguments.length;t++){var v=arguments[t]!=null?arguments[t]:{};t%2?ol(Object(v),!0).forEach(function(n){Ts(o,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(v)):ol(Object(v)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(v,n))})}return o}function Ts(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}function Cp(){}function sl(o,t){r.b.obj(o,t),r.b.get(o,t,["widgetState"]),r.b.event(o,t,"WidgetChange"),function(v,n){n.classHierarchy.push("vtkAbstractWidgetFactory");var e={};v.getWidgetForView=function(c){var l=c.viewId,y=c.renderer,R=c.viewType,_=c.initialValues;if(!e[l]){if(!y)return null;var $=nl(y),re=$.interactor,he=$.openGLRenderWindow,Ee=$.camera,Se={},ee={onWidgetChange:v.onWidgetChange};Object.assign(Se,n,{viewType:R,renderer:y,camera:Ee,openGLRenderWindow:he,factory:v}),r.b.safeArrays(Se),ip.extend(ee,Se,_);var we=_;Se.representations=v.getRepresentationsForViewType(R).map(function(Xe){var qe=Xe.builder,tt=Xe.labels,Ye=Xe.initialValues;return qe.newInstance(il(il({labels:tt},Ye),we))}),Se.representations.forEach(function(Xe){Xe.setInputData(Se.widgetState),Xe.getActors().forEach(function(qe){Se.actorToRepresentationMap.set(qe,Xe)})}),n.behavior(ee,Se),["coincidentTopologyParameters"].concat(al(n.methodsToLink||[])).forEach(function(Xe){var qe,tt="set".concat(r.b.capitalize(Xe)),Ye="get".concat(r.b.capitalize(Xe)),gt=(Ts(qe={},Xe,[]),Ts(qe,tt,[]),Ts(qe,Ye,[]),qe);Se.representations.forEach(function(At){At[Xe]&&gt[Xe].push(At[Xe]),At[tt]&&gt[tt].push(At[tt]),At[Ye]&&gt[Ye].push(At[Ye])}),Object.keys(gt).forEach(function(At){var Vt=gt[At];Vt.length===1?ee[At]=Vt[0]:Vt.length>1&&(ee[At]=r.b.chain.apply(r.b,al(Vt)))})}),ee.delete=r.b.chain(function(){delete e[l]},ee.delete),ee.setInteractor(re);var Fe=Object.freeze(ee);return e[l]=Fe,Fe}return e[l]},v.getViewIds=function(){return Object.keys(e)},v.setVisibility=function(c){for(var l=Object.keys(e),y=0;y<l.length;y++)e[l[y]].setVisibility(c)},v.setPickable=function(c){for(var l=Object.keys(e),y=0;y<l.length;y++)e[l[y]].setPickable(c)},v.setContextVisibility=function(c){for(var l=Object.keys(e),y=0;y<l.length;y++)e[l[y]].setContextVisibility(c)},v.setHandleVisibility=function(c){for(var l=Object.keys(e),y=0;y<l.length;y++)e[l[y]].setHandleVisibility(c)},v.placeWidget=function(c){return n.widgetState.placeWidget(c)},v.getPlaceFactor=function(){return n.widgetState.getPlaceFactor()},v.setPlaceFactor=function(c){return n.widgetState.setPlaceFactor(c)};var i=Cp;v.delete=r.b.chain(v.delete,function(){return i()}),setTimeout(function(){i=n.widgetState.onModified(function(){return v.invokeWidgetChange(n.widgetState)}).unsubscribe},0)}(o,t)}var Pp={newInstance:r.b.newInstance(sl,"vtkAbstractWidget"),extend:sl};function Op(o,t,v,n,e,i){var c=i.displayToWorld(o,t,0,e),l=i.displayToWorld(o,t,1,e);return zt.a.intersectWithLine(c,l,v,n).x}var Tp={normal:[0,0,1],origin:[0,0,0]};function Ip(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Tp,v),r.b.obj(o,t),r.b.setGetArray(o,t,["normal","origin"],3),function(n,e){e.classHierarchy.push("vtkPlaneManipulator"),n.handleEvent=function(i,c){return Op(i.position.x,i.position.y,e.origin,e.normal,i.pokedRenderer,c)}}(o,t)}r.b.newInstance(Ip,"vtkPlaneManipulator");function Ep(o,t){t.classHierarchy.push("vtkPolyLineRepresentation"),t.internalPolyData=mt.a.newInstance({mtime:0}),t.cells=[],t.mapper=st.a.newInstance(),t.actor=nt.a.newInstance(),t.mapper.setInputConnection(o.getOutputPort()),t.actor.setMapper(t.mapper),o.addActor(t.actor),o.requestData=function(v,n){var e=o.getRepresentationStates(v[0]),i=e.length;if(i>1){var c=e[e.length-1],l=c.getOrigin(),y=e[e.length-2].getOrigin(),R=dt.l(l,y)>t.threshold?0:1;R||!c.isVisible||c.isVisible()||R++,i-=R}for(var _=function(he){var Ee=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(he===0)t.internalPolyData.getPoints().setData(new Float32Array([0,0,0])),t.internalPolyData.getLines().setData(new Uint8Array(0));else if(!t.points||t.points.length!==3*he){t.points=new Float32Array(3*he),t.cells=new Uint8Array(he+1+(Ee?1:0)),t.cells[0]=t.cells.length-1;for(var Se=1;Se<t.cells.length;Se++)t.cells[Se]=Se-1;Ee&&(t.cells[t.cells.length-1]=0,console.log("closePolyLine",Ee,t.cells)),t.internalPolyData.getPoints().setData(t.points,3),t.internalPolyData.getLines().setData(t.cells)}return t.points}(i,t.closePolyLine&&i>2),$=0;$<i;$++){var re=e[$].getOrigin();_[3*$]=re[0],_[3*$+1]=re[1],_[3*$+2]=re[2]}t.internalPolyData.modified(),n[0]=t.internalPolyData}}var Rp={threshold:Number.EPSILON,closePolyLine:!1};function cl(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Rp,v),cc.extend(o,t,v),r.b.setGet(o,t,["threshold","closePolyLine"]),Ep(o,t)}var Mp={newInstance:r.b.newInstance(cl,"vtkPolyLineRepresentation"),extend:cl};function ul(o,t){var v=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),v.push.apply(v,n)}return v}function ll(o){for(var t=1;t<arguments.length;t++){var v=arguments[t]!=null?arguments[t]:{};t%2?ul(Object(v),!0).forEach(function(n){kp(o,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(v)):ul(Object(v)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(v,n))})}return o}function kp(o,t,v){return t in o?Object.defineProperty(o,t,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[t]=v,o}var Dp={activeScaleFactor:1.2,activeColor:1,useActiveColor:!0,behavior:Ri.HANDLE,pickable:!0},Up={extend:function(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=ll(ll({},Dp),v);cc.extend(o,t,n),r.b.setGet(o,t,["activeScaleFactor","activeColor","useActiveColor"]),function(e,i){i.classHierarchy.push("vtkHandleRepresentation")}(0,t)}},Bp=a(45),Fp={glyphResolution:8,defaultScale:1};function Lp(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Fp,v),Up.extend(o,t,v),r.b.setGet(o,t,["glyphResolution","defaultScale"]),r.b.get(o,t,["glyph","mapper","actor"]),function(n,e){function i(c){if(e.displayCallback){for(var l=[],y=n.getRepresentationStates(),R=0;R<y.length;R++)y[R].getActive()&&l.push(c[R]);if(l.length)return void e.displayCallback(l)}e.displayCallback()}e.classHierarchy.push("vtkSphereHandleRepresentation"),e.internalPolyData=mt.a.newInstance({mtime:0}),e.internalArrays={points:e.internalPolyData.getPoints(),scale:oe.a.newInstance({name:"scale",numberOfComponents:1,empty:!0}),color:oe.a.newInstance({name:"color",numberOfComponents:1,empty:!0})},e.internalPolyData.getPointData().addArray(e.internalArrays.scale),e.internalPolyData.getPointData().addArray(e.internalArrays.color),e.displayMapper=qu.a.newInstance(),e.displayActor=nt.a.newInstance(),e.displayActor.setMapper(e.displayMapper),e.displayMapper.setInputConnection(n.getOutputPort()),n.addActor(e.displayActor),e.alwaysVisibleActors=[e.displayActor],e.mapper=Ya.newInstance({scaleArray:"scale",colorByArrayName:"color",scalarMode:Bp.a.USE_POINT_FIELD_DATA}),e.actor=nt.a.newInstance(),e.glyph=xa.a.newInstance({phiResolution:e.glyphResolution,thetaResolution:e.glyphResolution}),e.mapper.setInputConnection(n.getOutputPort(),0),e.mapper.setInputConnection(e.glyph.getOutputPort(),1),e.actor.setMapper(e.mapper),n.addActor(e.actor),n.setGlyphResolution=r.b.chain(n.setGlyphResolution,function(c){return e.glyph.setPhiResolution(c)&&e.glyph.setThetaResolution(c)}),n.setDisplayCallback=function(c){e.displayCallback=c,e.displayMapper.setCallback(c?i:null)},n.requestData=function(c,l){var y=e.internalArrays,R=y.points,_=y.scale,$=y.color,re=n.getRepresentationStates(c[0]),he=re.length;$.getNumberOfValues()!==he&&(R.setData(new Float32Array(3*he),3),_.setData(new Float32Array(he)),$.setData(new Float32Array(he)));for(var Ee={points:R.getData(),scale:_.getData(),color:$.getData()},Se=0;Se<re.length;Se++){var ee=re[Se],we=ee.getActive(),Fe=we?e.activeScaleFactor:1,Xe=ee.getOrigin();Ee.points[3*Se+0]=Xe[0],Ee.points[3*Se+1]=Xe[1],Ee.points[3*Se+2]=Xe[2],Ee.scale[Se]=Fe*(!ee.isVisible||ee.isVisible()?1:0)*(ee.getScale1?ee.getScale1():e.defaultScale),n.getScaleInPixels()&&(Ee.scale[Se]*=n.getPixelWorldHeightAtCoord(Xe)),Ee.color[Se]=e.useActiveColor&&we?e.activeColor:ee.getColor()}e.internalPolyData.modified(),l[0]=e.internalPolyData}}(o,t)}r.b.newInstance(Lp,"vtkSphereHandleRepresentation");var dc=Cs.createSvgElement,_p={circleProps:{r:5,stroke:"red",fill:"red"},textProps:{fill:"white",dx:12,dy:-12}};function fl(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,_p,v),Cs.extend(o,t,v),r.b.setGet(o,t,["circleProps","textProps"]),function(n,e){e.classHierarchy.push("vtkSVGMarkerTextRepresentation"),n.render=function(){if(n.getVisibility()){for(var i=n.getRepresentationStates(),c=[],l=0;l<i.length;l++)c.push(i[l].getOrigin());var y=0;return n.worldPointsToPixelSpace(c).then(function(R){for(var _=R.coords,$=R.windowSize[1],re=dc("g"),he=function(Se){var ee=_[Se],we=ee[0],Fe=$-ee[1],Xe=dc("circle");Object.keys(e.circleProps||{}).forEach(function(tt){return Xe.setAttribute(tt,e.circleProps[tt])}),Xe.setAttribute("cx",we),Xe.setAttribute("cy",Fe);var qe=dc("text");Object.keys(e.textProps||{}).forEach(function(tt){return qe.setAttribute(tt,e.textProps[tt])}),qe.setAttribute("x",we),qe.setAttribute("y",Fe),qe.textContent=i[y].getText(),re.appendChild(Xe),re.appendChild(qe),y++},Ee=0;Ee<_.length;Ee++)he(Ee);return re})}}}(o,t)}var Vp={extend:fl,newInstance:r.b.newInstance(fl,"vtkSVGMarkerTextRepresentation")};function Np(o,t){t.classHierarchy.push("vtkAxesLabelsWidgetProp");var v=null;function n(e){return e.altKey||e.controlKey||e.shiftKey}o.setDisplayCallback=function(e){return t.representations[0].setDisplayCallback(e)},o.handleRightButtonPress=function(e){return t.activeState&&t.activeState.getActive()&&t.pickable&&!n(e)?(o.invokeStartInteractionEvent(),o.invokeInteractionEvent(),o.invokeEndInteractionEvent(),r.b.EVENT_ABORT):r.b.VOID},o.handleLeftButtonPress=function(e){return t.activeState&&t.activeState.getActive()&&t.pickable&&!n(e)?(o.invokeStartInteractionEvent(),r.b.EVENT_ABORT):r.b.VOID},o.handleMouseMove=function(e){//!ignoreKey(callData)
return t.hasFocus&&t.widgetManager.disablePicking(),r.b.VOID},o.handleLeftButtonRelease=function(){v&&t.pickable&&(t.openGLRenderWindow.setCursor("pointer"),t.widgetState.deactivate(),t.interactor.cancelAnimation(o),o.invokeEndInteractionEvent()),(t.hasFocus&&!t.activeState||t.activeState&&!t.activeState.getActive())&&(o.invokeEndInteractionEvent(),t.widgetManager.enablePicking(),t.interactor.render()),v=!1},o.handleKeyDown=function(e){e.key==="Escape"&&o.loseFocus()},o.grabFocus=function(){t.hasFocus=!0},o.loseFocus=function(){t.hasFocus&&(t.interactor.cancelAnimation(o),o.invokeEndInteractionEvent()),t.widgetState.deactivate(),t.activeState=null,t.hasFocus=!1,t.widgetManager.enablePicking(),t.interactor.render()}}var pc="default";function dl(o,t){var v=o.indexOf(t);v!==-1&&o.splice(v,1)}var jp={active:!1},pl={extend:function(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,jp,v),r.b.obj(o,t),r.b.setGet(o,t,["active"]),function(n,e){e.classHierarchy.push("vtkWidgetState");var i=[];e.labels={},e.nestedStates=[],n.bindState=function(c){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[pc];if(e.nestedStates.push(c),i.push(c.onModified(n.modified)),Array.isArray(l)&&l.length)for(var y=0;y<l.length;y++){var R=l[y];e.labels[R]||(e.labels[R]=[]),e.labels[R].push(c)}else{var _=Array.isArray(l)?pc:l||pc;e.labels[_]||(e.labels[_]=[]),e.labels[_].push(c)}},n.unbindState=function(c){for(;i.length;)i.pop().unsubscribe();dl(e.nestedStates,c);for(var l=0;l<e.nestedStates.length;l++)i.push(e.nestedStates[l].onModified(n.modified));Object.keys(e.labels).forEach(function(y){dl(e.labels[y],c)})},n.unbindAll=function(){for(;i.length;)i.pop().unsubscribe();e.nestedStates=[]},n.activate=function(){return n.setActive(!0)},n.deactivate=function(c){c!==n&&n.setActive(!1);for(var l=0;l<e.nestedStates.length;l++)e.nestedStates[l].deactivate(c)},n.activateOnly=function(c){c&&c.setActive(!0),n.deactivate(c)},n.getStatesWithLabel=function(c){return e.labels[c]},n.getAllNestedStates=function(){return e.nestedStates},n.delete=r.b.chain(n.unbindAll,n.delete)}(o,t)}},Gp={bounds:[-1,1,-1,1,-1,1],placeFactor:1},gl={extend:function(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Gp,v),r.b.setGetArray(o,t,["bounds"],6),r.b.get(o,t,["placeFactor"]),r.b.event(o,t,"BoundsChange"),t.bounds=t.bounds.slice(),function(n,e){var i=[],c=W.a.newInstance();n.containsPoint=function(l,y,R){return Array.isArray(l)?c.containsPoint(l[0],l[1],l[2]):c.containsPoint(l,y,R)},n.placeWidget=function(l){e.bounds=[];for(var y=[(l[0]+l[1])/2,(l[2]+l[3])/2,(l[4]+l[5])/2],R=0;R<6;R++){var _=y[Math.floor(R/2)];i[R]=l[R],e.bounds[R]=(l[R]-_)*e.placeFactor+_}c.setBounds(e.bounds),n.invokeBoundsChange(e.bounds),n.modified()},n.setPlaceFactor=function(l){if(e.placeFactor!==l){e.placeFactor=l,e.bounds=[];for(var y=[(i[0]+i[1])/2,(i[2]+i[3])/2,(i[4]+i[5])/2],R=0;R<6;R++){var _=y[Math.floor(R/2)];e.bounds[R]=(i[R]-_)*e.placeFactor+_}c.setBounds(e.bounds),n.invokeBoundsChange(e.bounds),n.modified()}}}(o,t)}},zp={color:.5},Wp={extend:function(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,zp,v),r.b.setGet(o,t,["color"])}};function Kp(o,t){return function(v){if(Array.isArray(v))return v}(o)||function(v,n){var e=v==null?null:typeof Symbol!="undefined"&&v[Symbol.iterator]||v["@@iterator"];if(e!=null){var i,c,l=[],y=!0,R=!1;try{for(e=e.call(v);!(y=(i=e.next()).done)&&(l.push(i.value),!n||l.length!==n);y=!0);}catch(_){R=!0,c=_}finally{try{y||e.return==null||e.return()}finally{if(R)throw c}}return l}}(o,t)||function(v,n){if(!!v){if(typeof v=="string")return ml(v,n);var e=Object.prototype.toString.call(v).slice(8,-1);if(e==="Object"&&v.constructor&&(e=v.constructor.name),e==="Map"||e==="Set")return Array.from(v);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ml(v,n)}}(o,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ml(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}var Hp={corner:[0,0,0]},Qp={extend:function(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Hp,v),r.b.setGetArray(o,t,["corner"],3),function(n,e){n.translate=function(i,c,l){var y=Kp(n.getCornerByReference(),3),R=y[0],_=y[1],$=y[2];n.setCorner(R+i,_+c,$+l)}}(o)}},Yp={direction:[1,0,0]},Xp={extend:function(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Yp,v),r.b.setGetArray(o,t,["direction"],3),function(n,e){var i=e.angleUnit==="degree"?sr.buildFromDegree():sr.buildFromRadian();n.rotateFromDirections=function(c,l){i.identity().rotateFromDirections(c,l).apply(e.direction),n.modified()},n.rotate=function(c,l){i.identity().rotate(c,l).apply(e.direction)},n.rotateX=function(c){i.identity().rotateX(c).apply(e.direction)},n.rotateY=function(c){i.identity().rotateY(c).apply(e.direction)},n.rotateZ=function(c){i.identity().rotateZ(c).apply(e.direction)}}(o,t)}},qp={manipulator:null},Zp={extend:function(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,qp,v),r.b.setGet(o,t,["manipulator"]),function(n,e){n.updateManipulator=function(){if(e.manipulator){var i=e.origin,c=e.normal,l=e.direction,y=e.manipulator,R=y.setOrigin,_=y.setCenter,$=y.setNormal,re=y.setDirection;i&&R?R(i):i&&_&&_(i),l&&re?re(l):l&&!c&&$?$(l):c&&re&&re(c)}}}(o,t)}},Jp={name:""},$p={extend:function(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Jp,v),r.b.setGet(o,t,["name"])}};function gc(o,t){return o.length===3&&t.length===3&&o[0]===t[0]&&o[1]===t[1]&&o[2]===t[2]}function e2(o,t){var v={o:[],p1:[],p2:[]};o.normalize=function(){dt.w(t.up),dt.w(t.right),dt.w(t.direction),o.modified()},o.updateFromOriginRightUp=function(n,e,i){(function(c,l,y,R){return gc(c,R.o)&&gc(l,R.p1)&&gc(y,R.p2)})(n,e,i,v)||(v.o=n.slice(),v.p1=e.slice(),v.p2=i.slice(),t.up=[i[0]-n[0],i[1]-n[1],i[2]-n[2]],t.right=[e[0]-n[0],e[1]-n[1],e[2]-n[2]],dt.i(t.up,t.right,t.direction),dt.i(t.direction,t.up,t.right),o.normalize(),o.modified())}}var t2={up:[0,1,0],right:[1,0,0],direction:[0,0,1]},n2={extend:function(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,t2,v),r.b.setGetArray(o,t,["up","right","direction"],3),e2(o,t)}};function r2(o,t){return function(v){if(Array.isArray(v))return v}(o)||function(v,n){var e=v==null?null:typeof Symbol!="undefined"&&v[Symbol.iterator]||v["@@iterator"];if(e!=null){var i,c,l=[],y=!0,R=!1;try{for(e=e.call(v);!(y=(i=e.next()).done)&&(l.push(i.value),!n||l.length!==n);y=!0);}catch(_){R=!0,c=_}finally{try{y||e.return==null||e.return()}finally{if(R)throw c}}return l}}(o,t)||function(v,n){if(!!v){if(typeof v=="string")return hl(v,n);var e=Object.prototype.toString.call(v).slice(8,-1);if(e==="Object"&&v.constructor&&(e=v.constructor.name),e==="Map"||e==="Set")return Array.from(v);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return hl(v,n)}}(o,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hl(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}var a2={origin:[0,0,0]},o2={extend:function(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,a2,v),r.b.setGetArray(o,t,["origin"],3),function(n,e){n.translate=function(i,c,l){var y=r2(n.getOriginByReference(),3),R=y[0],_=y[1],$=y[2];n.setOrigin(R+i,_+c,$+l)}}(o)}},i2={scale1:.5},s2={extend:function(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,i2,v),r.b.setGet(o,t,["scale1"])}},c2={scale3:[1,1,1]},u2={extend:function(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,c2,v),r.b.setGetArray(o,t,["scale3"],3)}},l2={text:"DefaultText"},f2={extend:function(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,l2,v),r.b.setGet(o,t,["text"])}},d2={visible:!0},p2={extend:function(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,d2,v),r.b.setGet(o,t,["visible"]),o.isVisible=o.getVisible}};function vl(o,t){for(var v=0;v<t.length;v++){var n=t[v];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}var g2=r.b.vtkErrorMacro,m2={bounds:gl,color:Wp,corner:Qp,direction:Xp,manipulator:Zp,name:$p,orientation:n2,origin:o2,scale1:s2,scale3:u2,text:f2,visible:p2};function mc(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};arguments.length>4&&arguments[4]!==void 0&&arguments[4]||pl.extend(v,n,t);for(var e=0;e<o.length;e++){var i=m2[o[e]];i?i.extend(v,n,t):g2("Invalid mixin name:",o[e])}return r.b.safeArrays(n),Object.freeze(v)}var h2=function(){function o(){(function(t,v){if(!(t instanceof v))throw new TypeError("Cannot call a class as a function")})(this,o),this.publicAPI={},this.model={},pl.extend(this.publicAPI,this.model),gl.extend(this.publicAPI,this.model)}return function(t,v,n){v&&vl(t.prototype,v),n&&vl(t,n)}(o,[{key:"addDynamicMixinState",value:function(t){var v=this,n=t.labels,e=t.mixins,i=t.name,c=t.initialValues,l="".concat(i,"List");return this.model[l]=[],this.publicAPI["add".concat(r.b.capitalize(i))]=function(){var y=mc(e,c);return v.publicAPI.bindState(y,n),v.model[l].push(y),v.publicAPI.modified(),y},this.publicAPI["remove".concat(r.b.capitalize(i))]=function(y){var R=v.model[l].indexOf(y);R===-1&&y<v.model[l].length&&(R=y);var _=v.model[l][R];_&&v.publicAPI.unbindState(_),v.model[l].splice(R,1),v.publicAPI.modified()},this.publicAPI["get".concat(r.b.capitalize(i),"List")]=function(){return v.model[l].slice()},this.publicAPI["clear".concat(r.b.capitalize(i),"List")]=function(){for(;v.model[l].length;){var y=v.model[l].pop();y&&v.publicAPI.unbindState(y)}v.publicAPI.modified()},this}},{key:"addStateFromMixin",value:function(t){var v=t.labels,n=t.mixins,e=t.name,i=mc(n,t.initialValues);return this.model[e]=i,this.publicAPI.bindState(i,v),r.b.setGet(this.publicAPI,this.model,[e]),this}},{key:"addStateFromInstance",value:function(t){var v=t.labels,n=t.name,e=t.instance;return this.model[n]=e,this.publicAPI.bindState(e,v),r.b.setGet(this.publicAPI,this.model,[n]),this}},{key:"addField",value:function(t){var v=t.name,n=t.initialValue;return Array.isArray(n)?r.b.setGetArray(this.publicAPI,this.model,[v],n.length):r.b.setGet(this.publicAPI,this.model,[v]),this.model[v]=n,this}},{key:"build",value:function(){for(var t=arguments.length,v=new Array(t),n=0;n<t;n++)v[n]=arguments[n];return mc(v,{},this.publicAPI,this.model,!0)}}]),o}(),v2={createBuilder:function(){return new h2}};function y2(o,t){t.classHierarchy.push("vtkAxesLabelsWidget"),t.methodsToLink=["circleProps","textProps","closePolyLine"],t.behavior=Np,t.widgetState=v2.createBuilder().addDynamicMixinState({labels:["handles"],mixins:["origin","color","text"],name:"handle",initialValues:{origin:[-1,-1,-1]}}).build(),o.getRepresentationsForViewType=function(v){switch(v){case Gi.DEFAULT:case Gi.GEOMETRY:case Gi.SLICE:case Gi.VOLUME:default:return[{builder:Vp,labels:["handles"]},{builder:Mp,labels:["handles"]}]}},t.widgetState.onBoundsChange(function(v){v[0],v[1],v[2],v[3],v[4],v[5]})}var b2={manipulator:null};function yl(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,b2,v),Pp.extend(o,t,v),y2(o,t)}var Is={newInstance:r.b.newInstance(yl,"vtkAxesLabelsWidget"),extend:yl},hc=r.b.vtkErrorMacro;function vc(o,t){var v=Number.parseFloat(o).toPrecision(t);return o>1&&(v=Number.parseInt(Number.parseFloat(v))),v}function A2(o,t){function v(){if(t.axesOriginWidget){if(!t.enableAxes)return t.axesGridActor.setVisibility(!1),t.axesOriginWidget.setVisibility(!1),t.axesXWidget.setVisibility(!1),t.axesXActor.setVisibility(!1),t.axesYWidget.setVisibility(!1),t.axesYActor.setVisibility(!1),t.axesZWidget.setVisibility(!1),void t.axesZActor.setVisibility(!1);switch(t.axesOriginWidget.setVisibility(!0),t.viewMode){case"XPlane":t.axesGridActor.setVisibility(!1),t.axesOriginHandle.setText(t.axesOriginXText),t.axesYHandle.setText(t.axesYXText),t.axesZHandle.setText(t.axesZXText),t.axesXWidget.setVisibility(!1),t.axesXActor.setVisibility(!1),t.axesYWidget.setVisibility(!0),t.axesYActor.setVisibility(!0),t.axesZWidget.setVisibility(!0),t.axesZActor.setVisibility(!0);break;case"YPlane":t.axesGridActor.setVisibility(!1),t.axesOriginHandle.setText(t.axesOriginYText),t.axesXHandle.setText(t.axesXYText),t.axesZHandle.setText(t.axesZYText),t.axesXWidget.setVisibility(!0),t.axesXActor.setVisibility(!0),t.axesYWidget.setVisibility(!1),t.axesYActor.setVisibility(!1),t.axesZWidget.setVisibility(!0),t.axesZActor.setVisibility(!0);break;case"ZPlane":t.axesGridActor.setVisibility(!1),t.axesOriginHandle.setText(t.axesOriginZText),t.axesXHandle.setText(t.axesXZText),t.axesYHandle.setText(t.axesYZText),t.axesXWidget.setVisibility(!0),t.axesXActor.setVisibility(!0),t.axesYWidget.setVisibility(!0),t.axesYActor.setVisibility(!0),t.axesZWidget.setVisibility(!1),t.axesZActor.setVisibility(!1);break;case"VolumeRendering":t.axesGridActor.setVisibility(!0),t.axesOriginHandle.setText(t.axesOriginVText),t.axesXHandle.setText(t.axesXVText),t.axesYHandle.setText(t.axesYVText),t.axesZHandle.setText(t.axesZVText),t.axesXWidget.setVisibility(!0),t.axesXActor.setVisibility(!0),t.axesYWidget.setVisibility(!0),t.axesYActor.setVisibility(!0),t.axesZWidget.setVisibility(!0),t.axesZActor.setVisibility(!0);break;default:hc("Unexpected view mode")}}}function n(we){if(t.enableAxes&&v(),we===-1){var Fe,Xe,qe,tt;t.interactor.setInteractorStyle(t.interactorStyle3D),t.rotate&&!t.rotateAnimationCallback&&(t.rotateAnimationCallback=t.interactor.onAnimation(Se),t.interactor.requestAnimation("itk-vtk-view-rotate")),t.volumeRenderingCameraState&&((Fe=t.camera).setFocalPoint.apply(Fe,f()(t.volumeRenderingCameraState.focalPoint)),(Xe=t.camera).setPosition.apply(Xe,f()(t.volumeRenderingCameraState.position)),(qe=t.camera).setViewUp.apply(qe,f()(t.volumeRenderingCameraState.viewUp)),t.camera.setViewAngle(t.volumeRenderingCameraState.viewAngle),t.camera.setParallelScale(t.volumeRenderingCameraState.parallelScale),(tt=t.camera).setPhysicalTranslation.apply(tt,f()(t.volumeRenderingCameraState.physicalTranslation))),t.camera.setParallelProjection(!1),t.volumeRepresentation&&(t.viewPlanes?o.setCornerAnnotation("se",t.seCornerAnnotation):o.setCornerAnnotation("se",""),t.volumeRepresentation.setSliceVisibility(t.viewPlanes),t.volumeRepresentation.setVolumeVisibility(!0))}else switch(t.camera.setParallelProjection(!0),o.setCornerAnnotation("se",t.seCornerAnnotation),t.interactor.setInteractorStyle(t.interactorStyle2D),t.rotate&&t.rotateAnimationCallback&&(t.interactor.cancelAnimation("itk-vtk-view-rotate"),t.rotateAnimationCallback.unsubscribe(),t.rotateAnimationCallback=null),t.volumeRepresentation&&(t.volumeRepresentation.setVolumeVisibility(!1),t.volumeRepresentation.getActors().forEach(function(Ye,gt){gt===we?Ye.setVisibility(!0):Ye.setVisibility(!1)})),we){case 0:o.updateOrientation(0,1,[0,0,1]);break;case 1:o.updateOrientation(1,-1,[0,0,1]);break;case 2:o.updateOrientation(2,-1,[0,-1,0]);break;default:hc("Unexpected view mode")}}function e(){return t.labelIndex===null?'style="display: none;"':""}function i(we){var Fe=we.position;t.annotationPicker.pick([Fe.x,Fe.y,0],we.pokedRenderer);var Xe=t.annotationPicker.getPointIJK();if(t.volumeRepresentation){o.setCornerAnnotation("se",t.seCornerAnnotation);var qe=t.volumeRepresentation.getInputDataSet(),tt=qe.getDimensions(),Ye=qe.getPointData().getScalars().getTuple(tt[0]*tt[1]*Xe[2]+tt[0]*Xe[1]+Xe[0]),gt=function(Jt){var vn=Jt[t.labelIndex];return t.labelNames!==null&&t.labelNames.has(vn)?t.labelNames.get(vn):vn}(Ye),At=t.annotationPicker.getPickedPositions();if(Xe.length>0&&At.length>0){var Vt=At[0];t.dataProbeCubeSource.setCenter(Vt),t.dataProbeActor.setVisibility(!0),t.dataProbeFrameActor.setVisibility(!0),t.lastPickedValues={iIndex:Xe[0],jIndex:Xe[1],kIndex:Xe[2],xPosition:String(Vt[0]).substring(0,4),yPosition:String(Vt[1]).substring(0,4),zPosition:String(Vt[2]).substring(0,4),value:t.labelIndex===null?Ye:Ye.slice(0,t.labelIndex),label:t.labelIndex===null?null:Ye[t.labelIndex],annotation:gt,annotationLabelStyle:e()},o.updateCornerAnnotation(t.lastPickedValues)}else o.setCornerAnnotation("se",""),t.dataProbeActor.setVisibility(!1),t.dataProbeFrameActor.setVisibility(!1),t.lastPickedValues=null}else t.lastPickedValues=null}function c(){t.axesBoundingBox.reset(),t.representations.forEach(function(Er){var it;(it=t.axesBoundingBox).addBounds.apply(it,f()(Er.getBounds()))});for(var we=t.axesBoundingBox.getMinPoint(),Fe=t.axesBoundingBox.getMaxPoint(),Xe=t.numberOfAxisTicks,qe=(Fe[0]-we[0])/(Xe-1),tt=(Fe[1]-we[1])/(Xe-1),Ye=(Fe[2]-we[2])/(Xe-1),gt=new Float32Array(Xe*Xe*3*3),At=0,Vt=0;Vt<Xe;Vt++)for(var Jt=0;Jt<Xe;Jt++)gt[At]=we[0]+Vt*qe,gt[At+1]=we[1]+Jt*tt,gt[At+2]=we[2],At+=3;for(var vn=0;vn<Xe;vn++)for(var Zt=0;Zt<Xe;Zt++)gt[At]=we[0],gt[At+1]=we[1]+vn*tt,gt[At+2]=we[2]+Zt*Ye,At+=3;for(var on=0;on<Xe;on++)for(var Tn=0;Tn<Xe;Tn++)gt[At]=we[0]+on*qe,gt[At+1]=we[1],gt[At+2]=we[2]+Tn*Ye,At+=3;function En(Er,it,un){for(var Cn=0;Cn<un-1;Cn++)for(var yr=0;yr<un-1;yr++){var Ar=Cn*un+yr+it;Er=Er.concat([5,Ar,Ar+1,(Cn+1)*un+yr+1+it,(Cn+1)*un+yr+it,Ar])}return Er}var jn=[];jn=En(jn=En(jn=En(jn,At=0,Xe),At+=Xe*Xe,Xe),At+=Xe*Xe,Xe);var Nn=new Uint32Array(gt.length);Nn.fill(1);for(var Un=0;Un<gt.length;Un++)Nn[2*Un+1]=Un;t.axesPolyData.getPoints().setData(gt,3),t.axesPolyData.getVerts().setData(Nn),t.axesPolyData.getLines().setData(new Uint32Array(jn));var Xn=we.map(function(Er){return vc(Er,2)}),Qn=Fe.map(function(Er){return vc(Er,2)});t.axesOriginHandle.setOrigin(we),t.axesOriginXText="Origin: ".concat(Xn[1],", ").concat(Xn[2]),t.axesOriginYText="Origin: ".concat(Xn[0],", ").concat(Xn[2]),t.axesOriginZText="Origin: ".concat(Xn[0],", ").concat(Xn[1]),t.axesOriginVText="Origin: ".concat(Xn[0],", ").concat(Xn[1],", ").concat(Xn[2]),t.axesOriginHandle.setText(t.axesOriginVText),t.axesXOriginHandle.setOrigin(we),t.axesXOriginHandle.setText(""),t.axesXHandle.setOrigin([Fe[0],we[1],we[2]]),t.axesXYText="X, Z: ".concat(Qn[0],", ").concat(Xn[2]),t.axesXZText="X, Y: ".concat(Qn[0],", ").concat(Xn[1]),t.axesXVText="X: ".concat(Qn[0],", ").concat(Xn[1],", ").concat(Xn[2]),t.axesXHandle.setText(t.axesXVText),t.axesYOriginHandle.setOrigin(we),t.axesYOriginHandle.setText(""),t.axesYHandle.setOrigin([we[0],Fe[1],we[2]]),t.axesYXText="Y, Z: ".concat(Qn[1],", ").concat(Xn[2]),t.axesYZText="X, Y: ".concat(Xn[0],", ").concat(Qn[1]),t.axesYVText="Y: ".concat(Xn[0],", ").concat(Qn[1],", ").concat(Xn[2]),t.axesYHandle.setText(t.axesYVText),t.axesZOriginHandle.setOrigin(we),t.axesZOriginHandle.setText(""),t.axesZHandle.setOrigin([we[0],we[1],Fe[2]]),t.axesZXText="Y, Z: ".concat(Xn[1],", ").concat(Qn[2]),t.axesZYText="X, Z: ".concat(Xn[0],", ").concat(Qn[2]),t.axesZVText="Z: ".concat(Xn[0],", ").concat(Xn[1],", ").concat(Qn[2]),t.axesZHandle.setText(t.axesZVText)}t.classHierarchy.push("ItkVtkViewProxy"),o.setCornerAnnotation("se",""),o.updateCornerAnnotation({iIndex:"&nbsp;N/A",jIndex:"&nbsp;N/A",kIndex:"&nbsp;N/A",xPosition:"&nbsp;N/A",yPosition:"&nbsp;N/A",zPosition:"&nbsp;N/A",value:"N/A&nbsp;",annotation:"N/A&nbsp;",annotationLabelStyle:e()}),o.setAnnotationOpacity(0),t.annotationPicker=rp.newInstance(),t.annotationPicker.setPickFromList(1),t.annotationPicker.initializePickList(),t.interactor.onLeftButtonPress(function(we){t.clickCallback&&t.lastPickedValues&&t.clickCallback(t.lastPickedValues)}),t.interactor.onMouseMove(function(we){i(we)}),t.interactor.onStartMouseMove(function(we){(t.viewMode!=="VolumeRendering"||t.viewPlanes)&&o.getInteractor().requestAnimation("annotationMouseMove")}),t.interactor.onEndMouseMove(function(we){(t.viewMode!=="VolumeRendering"||t.viewPlanes)&&o.getInteractor().cancelAnimation("annotationMouseMove")}),t.interactor.onEndMouseWheel(function(we){R()}),t.dataProbeCubeSource=za.newInstance(),t.dataProbeMapper=st.a.newInstance(),t.dataProbeMapper.setInputConnection(t.dataProbeCubeSource.getOutputPort()),t.dataProbeActor=nt.a.newInstance(),t.dataProbeActor.setMapper(t.dataProbeMapper),t.dataProbeFrameActor=nt.a.newInstance(),t.dataProbeFrameActor.setMapper(t.dataProbeMapper),t.renderer.addActor(t.dataProbeActor);var l=t.dataProbeActor.getProperty();l.setLighting(!1),l.setColor(1,1,1);var y=t.dataProbeFrameActor.getProperty();function R(){if(t.volumeRepresentation){var we=t.volumeRepresentation.getInputDataSet().getSpacing(),Fe=null;t.camera.getParallelProjection()?Fe=t.camera.getParallelScale()/40:Fe=t.camera.getDistance()/150,t.dataProbeCubeSource.setXLength(Math.max(we[0],Fe)),t.dataProbeCubeSource.setYLength(Math.max(we[1],Fe)),t.dataProbeCubeSource.setZLength(Math.max(we[2],Fe))}}y.setRepresentation(1),y.setColor(0,0,0),t.renderer.addActor(t.dataProbeFrameActor),t.dataProbeActor.setVisibility(!1),t.dataProbeFrameActor.setVisibility(!1),t.camera.pitch(-30),t.camera.azimuth(30),t.orientationWidget.setViewportSize(.1);var _=o.renderLater;function $(){var we=window.devicePixelRatio||1,Fe=t.scaleBarCanvas.getContext("2d"),Xe={width:t.scaleBarCanvas.clientWidth*we,height:t.scaleBarCanvas.clientHeight*we};Fe.clearRect(0,0,Xe.width,Xe.height),Fe.fillStyle=t.cornerAnnotation.getAnnotationContainer().style.color,Fe.fillRect(0,0,Xe.width,2*we),Fe.font="".concat(16*we,"px arial"),Fe.textAlign="center",Fe.textBaseline="top",t.scaleBarCoordWidth.setValue(Xe.width,0);var qe=t.scaleBarCoordWidth.getComputedWorldValue(),tt=t.scaleBarCenterCoord.getComputedWorldValue(),Ye=Math.sqrt((qe[0]-tt[0])*(qe[0]-tt[0])+(qe[1]-tt[1])*(qe[1]-tt[1]),(qe[2]-tt[2])*(qe[2]-tt[2]));t.lengthPixelRatio=Ye/Xe.width;var gt=vc(Ye,1);Fe.fillText("".concat(gt," ").concat(t.units),.5*Xe.width,6*we,.9*Xe.width)}o.renderLater=function(){if(_(),!t.widgetManagerInitialized){var we,Fe,Xe;t.widgetManager.setRenderer(t.renderer),t.widgetManager.disablePicking(),t.axesOriginWidget=t.widgetManager.addWidget(t.axesOriginLabel),t.axesXWidget=t.widgetManager.addWidget(t.axesXLabels),t.axesYWidget=t.widgetManager.addWidget(t.axesYLabels),t.axesZWidget=t.widgetManager.addWidget(t.axesZLabels);var qe=t.axesGridActor.getProperty().getColor()[0]===0?"black":"white";t.axesOriginWidget.setCircleProps({r:t.axesCircleRadius,stroke:qe,fill:qe}),t.axesOriginWidget.setTextProps({fill:qe,dx:-10*t.axesTextOffset,dy:2*t.axesTextOffset}),t.axesXWidget.setCircleProps({r:t.axesCircleRadius,stroke:qe,fill:qe}),t.axesXWidget.setTextProps({fill:qe,dx:t.axesTextOffset,dy:2*t.axesTextOffset}),t.axesYWidget.setCircleProps({r:t.axesCircleRadius,stroke:qe,fill:qe}),t.axesYWidget.setTextProps({fill:qe,dx:t.axesTextOffset,dy:2*t.axesTextOffset}),t.axesZWidget.setCircleProps({r:t.axesCircleRadius,stroke:qe,fill:qe}),t.axesZWidget.setTextProps({fill:qe,dx:t.axesTextOffset,dy:-1*t.axesTextOffset});var tt=t.axesOriginLabel.getWidgetState();t.axesOriginHandle=tt.addHandle(),tt=t.axesXLabels.getWidgetState(),t.axesXOriginHandle=tt.addHandle(),t.axesXHandle=tt.addHandle(),t.axesXActor=t.axesXWidget.getRepresentations()[1].getActors()[0];var Ye=t.axesGridActor.getProperty().getColor();(we=t.axesXActor.getProperty()).setColor.apply(we,f()(Ye)),tt=t.axesYLabels.getWidgetState(),t.axesYOriginHandle=tt.addHandle(),t.axesYHandle=tt.addHandle(),t.axesYActor=t.axesYWidget.getRepresentations()[1].getActors()[0],(Fe=t.axesYActor.getProperty()).setColor.apply(Fe,f()(Ye)),tt=t.axesZLabels.getWidgetState(),t.axesZOriginHandle=tt.addHandle(),t.axesZHandle=tt.addHandle(),t.axesZActor=t.axesZWidget.getRepresentations()[1].getActors()[0],(Xe=t.axesZActor.getProperty()).setColor.apply(Xe,f()(Ye)),t.widgetManagerInitialized=!0,c(),v()}$()},t.scaleBarCanvas=document.createElement("canvas"),t.scaleBarCanvas.style.position="absolute",t.scaleBarCanvas.style.left="50%",t.scaleBarCanvas.style.bottom="5.0%",t.scaleBarCanvas.style.width="100px",t.scaleBarCanvas.style.height="30px",t.scaleBarCanvas.width=100*window.devicePixelRatio,t.scaleBarCanvas.height=30*window.devicePixelRatio,t.scaleBarCenterCoord=Yu.a.newInstance(),t.scaleBarCenterCoord.setRenderer(t.renderer),t.scaleBarCenterCoord.setCoordinateSystemToNormalizedViewport(),t.scaleBarCenterCoord.setValue(.5,.5),t.scaleBarCoordWidth=Yu.a.newInstance(),t.scaleBarCoordWidth.setReferenceCoordinate(t.scaleBarCenterCoord),t.scaleBarCoordWidth.setCoordinateSystemToViewport(),t.scaleBarCoordWidth.setRenderer(t.renderer),t.scaleBarCoordWidth.setValue(t.scaleBarCanvas.width,0),t.interactor.onEndMouseWheel($),t.interactor.onEndPinch($),t.axesPolyData=mt.a.newInstance(),t.axesMapper=st.a.newInstance(),t.axesMapper.setInputData(t.axesPolyData),t.axesGridActor=nt.a.newInstance(),t.axesGridActor.setMapper(t.axesMapper),t.axesGridActor.getProperty().setOpacity(.5),t.axesGridActor.setVisibility(!1),t.renderer.addActor(t.axesGridActor),t.numberOfAxisTicks=7,t.axesBoundingBox=W.a.newInstance(),t.widgetManagerInitialized=!1,t.widgetManager=Sp.newInstance(),t.axesOriginLabel=Is.newInstance(),t.axesXLabels=Is.newInstance(),t.axesYLabels=Is.newInstance(),t.axesZLabels=Is.newInstance(),t.axesCircleRadius=4,t.axesTextOffset=14,o.updateDataProbeSize=R,o.updateScaleBar=$;var re=o.setBackground;o.setBackground=function(we){re(we),we[0]+we[1]+we[2]<=1.5?(t.axesGridActor.getProperty().setColor([1,1,1]),t.widgetManagerInitialized&&(t.axesXActor.getProperty().setColor(1,1,1),t.axesOriginWidget.setCircleProps({r:t.axesCircleRadius,stroke:"white",fill:"white"}),t.axesOriginWidget.setTextProps({fill:"white",dx:-10*t.axesTextOffset,dy:2*t.axesTextOffset}),t.axesXWidget.setCircleProps({r:t.axesCircleRadius,stroke:"white",fill:"white"}),t.axesXWidget.setTextProps({fill:"white",dx:t.axesTextOffset,dy:2*t.axesTextOffset}),t.axesYActor.getProperty().setColor(1,1,1),t.axesYWidget.setCircleProps({r:t.axesCircleRadius,stroke:"white",fill:"white"}),t.axesYWidget.setTextProps({fill:"white",dx:t.axesTextOffset,dy:2*t.axesTextOffset}),t.axesZActor.getProperty().setColor(1,1,1),t.axesZWidget.setCircleProps({r:t.axesCircleRadius,stroke:"white",fill:"white"}),t.axesZWidget.setTextProps({fill:"white",dx:t.axesTextOffset,dy:-1*t.axesTextOffset}))):(t.axesGridActor.getProperty().setColor([0,0,0]),t.widgetManagerInitialized&&(t.axesXActor.getProperty().setColor(0,0,0),t.axesOriginWidget.setCircleProps({r:t.axesCircleRadius,stroke:"black",fill:"black"}),t.axesOriginWidget.setTextProps({fill:"black",dx:-10*t.axesTextOffset,dy:2*t.axesTextOffset}),t.axesXWidget.setCircleProps({r:t.axesCircleRadius,stroke:"black",fill:"black"}),t.axesXWidget.setTextProps({fill:"black",dx:t.axesTextOffset,dy:2*t.axesTextOffset}),t.axesYActor.getProperty().setColor(0,0,0),t.axesYWidget.setCircleProps({r:t.axesCircleRadius,stroke:"black",fill:"black"}),t.axesYWidget.setTextProps({fill:"black",dx:t.axesTextOffset,dy:2*t.axesTextOffset}),t.axesZActor.getProperty().setColor(0,0,0),t.axesZWidget.setCircleProps({r:t.axesCircleRadius,stroke:"black",fill:"black"}),t.axesZWidget.setTextProps({fill:"black",dx:t.axesTextOffset,dy:-1*t.axesTextOffset})))},o.setViewMode=function(we){switch(t.viewMode==="VolumeRendering"&&(t.volumeRenderingCameraState=t.camera.getState()),we){case"XPlane":if(t.viewMode==="XPlane")break;t.viewMode=we,t.axesZWidget.setVisibility(!1),t.axesZActor.setVisibility(!1),n(0);break;case"YPlane":if(t.viewMode==="YPlane")break;t.viewMode=we,n(1);break;case"ZPlane":if(t.viewMode==="ZPlane")break;t.viewMode=we,n(2);break;case"VolumeRendering":if(t.viewMode==="VolumeRendering")break;t.viewMode=we,n(-1);break;default:hc("Unexpected view mode")}o.resetCamera(),R()},o.setViewPlanes=function(we){t.viewPlanes=we,t.viewMode==="VolumeRendering"&&t.volumeRepresentation&&(t.volumeRepresentation.setSliceVisibility(we),we&&o.setCornerAnnotation("se",t.seCornerAnnotation),t.renderWindow.render())},o.setOrientationAnnotationVisibility=function(we){we?(t.scaleBarCanvas.style.display="block",t.volumeRepresentation&&(o.setAnnotationOpacity(1),t.orientationWidget.setEnabled(!0),t.renderWindow.render())):(t.scaleBarCanvas.style.display="none",o.setAnnotationOpacity(0),t.orientationWidget.setEnabled(!1),t.renderWindow.render())},o.setPlanesUseLinearInterpolation=function(we){t.volumeRepresentation&&(we?(t.volumeRepresentation.getActors().forEach(function(Fe){Fe.getProperty().setInterpolationTypeToLinear(),Fe.getProperty().getRGBTransferFunction().modified()}),t.renderWindow.render()):(t.volumeRepresentation.getActors().forEach(function(Fe){Fe.getProperty().setInterpolationTypeToNearest(),Fe.getProperty().getRGBTransferFunction().modified()}),t.renderWindow.render()))},o.setEnableAxes=function(we){we!=t.enableAxes&&(t.enableAxes=we,v(),o.modified(),o.renderLater())};var he=o.addRepresentation;o.addRepresentation=function(we){if(he(we),we){var Fe=t.representations.filter(function(qe){return!!qe.getVolumes().length});if(Fe[0]){t.volumeRepresentation=Fe[0];var Xe=t.volumeRepresentation.getVolumes()[0].getProperty();Xe.setAmbient(.4),Xe.setDiffuse(1),Xe.setSpecular(.4),Xe.setSpecularPower(15),t.volumeRepresentation.getActors().forEach(t.annotationPicker.addPickList),R(),o.setAnnotationOpacity(1)}t.widgetManagerInitialized&&c()}};var Ee=o.removeRepresentation;function Se(){t.renderer.getActiveCamera().azimuth(.25),t.renderer.resetCameraClippingRange()}o.removeRepresentation=function(we){Ee(we),we&&we.getActors().forEach(t.annotationPicker.deletePickList)},t.rotateAnimationCallback=null,o.setRotate=function(we){t.rotate!==we&&(t.rotate=we,we?(t.rotateAnimationCallback=t.interactor.onAnimation(Se),t.interactor.requestAnimation("itk-vtk-view-rotate")):(t.interactor.cancelAnimation("itk-vtk-view-rotate"),t.rotateAnimationCallback&&(t.rotateAnimationCallback.unsubscribe(),t.rotateAnimationCallback=null)))};var ee=o.setContainer;o.setContainer=function(we){ee(we),we&&we.appendChild(t.scaleBarCanvas)},o.resize,o.resize=function(){if(t.container){var we=t.container.getBoundingClientRect();if(we.width===we.height&&we.width===0)return;var Fe=window.devicePixelRatio||1,Xe=Math.max(10,Math.floor(Fe*we.width)),qe=Math.max(10,Math.floor(Fe*we.height));t.openglRenderWindow.setSize(Xe,qe),t.scaleBarCanvas.width=(100*Fe).toFixed(),t.scaleBarCanvas.height=(30*Fe).toFixed(),o.invokeResize({width:Xe,height:qe}),o.renderLater()}}}var w2={viewMode:"VolumeRendering",viewPlanes:!1,rotate:!1,units:"",seCornerAnnotation:'<table class="corner-annotation" style="margin-left: 0;"><tr><td style="margin-left: auto; margin-right: 0;">Index:</td><td>${iIndex},</td><td>${jIndex},</td><td>${kIndex}</td></tr><tr><td style="margin-left: auto; margin-right: 0;">Position:</td><td>${xPosition},</td><td>${yPosition},</td><td>${zPosition}</td></tr><tr><td style="margin-left: auto; margin-right: 0;"">Value:</td><td style="text-align:center;" colspan="3">${value}</td></tr><tr ${annotationLabelStyle}><td style="margin-left: auto; margin-right: 0;">Label:</td><td style="text-align:center;" colspan="3">${annotation}</td></tr></table>',labelIndex:null,labelNames:null,clickCallback:null,lengthPixelRatio:1,lastPickedValues:{iIndex:null,jIndex:null,kIndex:null,xPosition:null,yPosition:null,zPosition:null,value:null,label:null},enableAxes:!1};function bl(o,t){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,w2,v),$d.extend(o,t,v),r.b.get(o,t,["viewMode","viewPlanes","rotate","lengthPixelRatio","axesActor","enableAxes"]),r.b.setGet(o,t,["units","seCornerAnnotation","labelNames","labelIndex","clickCallback"]),A2(o,t)}var x2={newInstance:r.b.newInstance(bl,"ItkVtkViewProxy"),extend:bl},Al=[{type:"pan",options:{button:3}},{type:"pan",options:{button:1,shift:!0}},{type:"rotate",options:{button:1,control:!0}},{type:"zoom",options:{dragEnabled:!1,scrollEnabled:!0}}],S2=Al.concat([{type:"rotate",options:{button:1}}]),C2=Al.concat([{type:"pan",options:{button:1}}]),P2={definitions:{Proxy:{LookupTable:{class:ta.a},PiecewiseFunction:{class:ce}},Sources:{TrivialProducer:{class:ze,options:{}}},Representations:{Geometry:{class:Kt,options:{}},Slice:{class:Va,options:{}},Volume:{class:Dr,options:{}},PointSet:{class:ue,options:{}}},Views:{ItkVtkView:{class:x2,options:{axis:1,orientation:-1,viewUp:[0,0,1],useParallelRendering:!1},props:{presetToInteractor3D:S2,presetToInteractor2D:C2}}}},representations:{ItkVtkView:{vtkPolyData:{name:"Geometry"},vtkImageData:{name:"Volume"}}}},bi=a(25),hn=a(2),O2=a(18),yc=a.n(O2),T2=a(99),ei=new Map;ei.set("glasbey","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAbUlEQVQ4T2O8zsDwnwENbLXBEGIo82FEV8bwT+U4htiMYEsMsfSGixhiuY11GGKTlz7EEIucdgFDbIVMJIYYw8oWTLG/nzDEGK8zMPyjuYcbsXi4YeA8/JfmHh5kMfyH5h4eZDH8m+YeHkQxDACSRl3zepXFtQAAAABJRU5ErkJggg=="),ei.set("glasbey_light","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAXUlEQVQ4T2O8zsDwnwENaHegizAwbKnAUMYQsOY4hsJJwVYYYunLDDANfDUDQ6zq8HQMsfY1BRhiG5ZjmveEoxVDHdueGgwxxusMDP9Gmof/jjQP/xlpHv49kjwMAGwvWgYDwlVYAAAAAElFTkSuQmCC"),ei.set("glasbey_warm","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAXklEQVQ4T2O8zsDwnwENaCT9QBdiWGvNgSF2IrkQQ+yuZz+G2LrATgyxSdcZMcTyGp5hiF3kF8QQ22S1EUOstuMQhtjuVTYYYozXGRj+jTQP/x1pHv4z0jz8eyR5GAB6w1ulCOS6owAAAABJRU5ErkJggg=="),ei.set("modulate","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAJ0lEQVQ4T+XPBw0AAAjAMPAvmTOCjtVBEyBEEljRNz48tnDbwmUKHxUmE+jjOrX6AAAAAElFTkSuQmCC"),ei.set("glasbey_bw","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAbUlEQVQ4T2O8zsDwnwENbLXBEGIo82FEV8bwT+U4htiMYEsMsfSGixhiuY11GGKTlz7EEGOMzsUQays4jSFWdfMWhpj/w32Y5l1nYPhHcw83YvFww8B5+C/NPTzIYvgPzT08yGL4N809PIhiGADz42FUcjTZogAAAABJRU5ErkJggg=="),ei.set("glasbey_dark","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAbklEQVQ4T2O8zsDwnwENbLXBEGIo82FEV8bwT+U4htjzn5YYYhK3LmKI5TbWYYi9sd6IIbZCJhJDTLTLBEPstXwAhtiisl4MMcbrDAz/aO7h21g83DBwHv5Lcw8Pshj+Q3MPD7IY/k1zDw+iGAYAOVBcgZzUS9MAAAAASUVORK5CYII="),ei.set("glasbey_cool","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAcElEQVQ4T2Pkzfr/nwEN/NH2Qxdi+G46A0PMy3QNhti2yPMYYmt95mOInTg3AUPsep8+hpj/7ocYYr9cgjHtmIBpx75t/RjqGHmz/v8baR7+O9I8/Gekefg3dT18DkseXkBBHn6EJQ8HEZmH+zDUAQAnhWrvPnCKfAAAAABJRU5ErkJggg=="),ei.set("modulate_dark","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAFCAYAAAAZiY8XAAAAJklEQVQ4T+XPBw0AAAjAsOFfMjfoWB00gEUkgBF9+XDbwmULpyl8/eAE9wt5lvIAAAAASUVORK5CYII=");var I2=ei;function E2(o,t){var v=typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!v){if(Array.isArray(o)||(v=function(y,R){if(!!y){if(typeof y=="string")return wl(y,R);var _=Object.prototype.toString.call(y).slice(8,-1);if(_==="Object"&&y.constructor&&(_=y.constructor.name),_==="Map"||_==="Set")return Array.from(y);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return wl(y,R)}}(o))||t&&o&&typeof o.length=="number"){v&&(o=v);var n=0,e=function(){};return{s:e,n:function(){return n>=o.length?{done:!0}:{done:!1,value:o[n++]}},e:function(y){throw y},f:e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,c=!0,l=!1;return{s:function(){v=v.call(o)},n:function(){var y=v.next();return c=y.done,y},e:function(y){l=!0,i=y},f:function(){try{c||v.return==null||v.return()}finally{if(l)throw i}}}}function wl(o,t){(t==null||t>o.length)&&(t=o.length);for(var v=0,n=new Array(t);v<t;v++)n[v]=o[v];return n}var R2=function(o){var t={selectedIconWidth:140,selectedIconHeight:22,selectedBoxPadding:1,iconsWidth:60,iconsHeight:22,boxIconSpace:1,vectoralIconNumber:2,horizontalIconNumber:4},v=new T2.a("".concat(o.id),o,t);o.style.width="154px";var n,e=new Array(8),i=0,c=E2(I2.entries());try{for(c.s();!(n=c.n()).done;){var l=yc()(n.value,2),y=l[0],R=l[1];e[2*Math.floor(i%4)+Math.floor(i/4)]={iconFilePath:R,iconValue:y},i++}}catch(_){c.e(_)}finally{c.f()}return v.refresh(e),v},ti=new Map;ti.set("glasbey",[[.843137,0,0],[.54902,.235294,1],[.007843,.533333,0],[0,.67451,.780392],[.596078,1,0],[1,.498039,.819608],[.423529,0,.309804],[1,.647059,.188235],[.345098,.231373,0],[0,.341176,.34902],[0,0,.866667],[0,.992157,.811765],[.631373,.458824,.415686],[.737255,.717647,1],[.584314,.709804,.470588],[.752941,.015686,.72549],[.392157,.329412,.454902],[.47451,0,0],[.027451,.454902,.847059],[.996078,.960784,.564706],[0,.294118,0],[.560784,.478431,0],[1,.447059,.4],[.933333,.72549,.72549],[.368627,.494118,.4],[.607843,.894118,1],[.92549,0,.466667],[.65098,.482353,.72549],[.352941,0,.643137],[.015686,.776471,0],[.619608,.294118,0],[.611765,.231373,.313725],[.796078,.768627,0],[.443137,.509804,.596078],[0,.686275,.541176],[.513725,.533333,1],[.364706,.215686,.231373],[.223529,0,0],[.992157,.752941,1],[.745098,.905882,.752941],[.858824,.427451,.003922],[.576471,.721569,.713725],[.894118,.321569,1],[.184314,.32549,.509804],[.768627,.4,.564706],[.333333,.384314,.12549],[.772549,.623529,.447059],[.015686,.509804,.529412],[.411765,.905882,.501961],[.501961,.152941,.564706],[.427451,.705882,1],[.305882,.2,1],[.52549,.639216,.007843],[.996078,.011765,.796078],[.760784,.65098,.772549],[.772549,.341176,.27451],[.462745,.345098,.239216],[.003922,.407843,.258824],[0,.839216,.835294],[.854902,.878431,1],[.976471,1,0],[.415686,.407843,.690196],[.764706,.596078,0],[.882353,.803922,.611765],[.854902,.588235,1],[.733333,.011765,.992157],[.572549,.321569,.509804],[.627451,0,.45098],[.341176,.607843,.333333],[.827451,.54902,.560784],[.215686,.270588,.152941],[.592157,.647059,.764706],[.556863,.552941,.372549],[1,.27451,0],[.784314,1,.980392],[.682353,.427451,1],[.431373,.815686,.654902],[.74902,1,.54902],[.54902,.329412,.694118],[.470588,.211765,.098039],[1,.627451,.47451],[.662745,0,.121569],[1,.109804,.270588],[.372549,.066667,.137255],[.403922,.592157,.580392],[1,.372549,.580392],[.298039,.403922,.454902],[.32549,.572549,.8],[.666667,.443137,.192157],[.007843,.811765,.996078],[0,.768627,.423529],[.380392,.207843,.364706],[.564706,.831373,.184314],[.74902,.835294,.486275],[.317647,.270588,.635294],[.305882,.137255,.047059],[.486275,.352941,0],[1,.807843,.266667],[.513725,.007843,.811765],[.301961,.992157,1],[.537255,0,.239216],[.482353,.321569,.360784],[0,.454902,.615686],[.666667,.513725,.596078],[.505882,.443137,.560784],[.384314,.396078,.996078],[.764706,.203922,.537255],[.803922,.160784,.278431],[1,.603922,.709804],[.764706,.364706,.733333],[.129412,.407843,.007843],[0,.556863,.396078],[.388235,.501961,.137255],[.537255,.529412,.74902],[.596078,.866667,.835294],[.807843,.498039,.345098],[.823529,.717647,.356863],[.380392,0,.431373],[.6,.329412,.266667],[.690196,.780392,.858824],[.94902,1,.823529],[0,.92549,.007843],[.803922,.52549,.741176],[.270588,0,.772549],[.478431,.615686,.498039],[.447059,.443137,.278431],[.576471,1,.729412],[0,.329412,.756863],[.678431,.580392,.92549],[.247059,.643137,.086275],[.372549,.227451,.501961],[0,.298039,.2],[.486275,.721569,.827451],[.596078,.164706,0],[.223529,.431373,.392157],[.721569,0,.356863],[1,.501961,.239216],[1,.823529,.913725],[.501961,.188235,.352941],[.129412,.203922,0],[.631373,.368627,.435294],[.309804,.709804,.690196],[.623529,.623529,.27451],[.2,.486275,.239216],[.760784,.254902,0],[.780392,.909804,.243137],[.423529,.019608,.909804],[.462745,.737255,.313725],[.647059,.772549,.662745],[.854902,.329412,.431373],[.847059,.560784,.219608],[.984314,.486275,1],[.294118,.392157,.286275],[.839216,.764706,.921569],[.478431,.180392,.211765],[.298039,.560784,.647059],[.27451,.533333,1],[.639216,0,.768627],[.917647,.639216,.835294],[1,.737255,.470588],[.278431,.282353,0],[.635294,.780392,1],[.568627,.635294,.917647],[.309804,.411765,.576471],[.905882,.368627,.698039],[.623529,.568627,.690196],[.345098,.317647,.168627],[.690196,.368627,.831373],[.52549,.427451,.882353],[.756863,.431373,.447059],[.894118,0,.890196],[.72549,.717647,.545098],[.223529,.180392,0],[.890196,.494118,.643137],[.678431,.231373,.188235],[.662745,.733333,.298039],[.411765,.709804,.513725],[.580392,.823529,.564706],[.690196,.552941,.27451],[.027451,.372549,.470588],[0,.596078,.537255],[.352941,.058824,.007843],[.356863,.490196,.501961],[.188235,.345098,.14902],[.898039,.396078,.231373],[.372549,.25098,.160784],[.45098,.290196,.737255],[.294118,.32549,.419608],[.788235,.478431,.866667],[.611765,.196078,.568627],[.784314,.901961,.94902],[.019608,.670588,.921569],[.654902,.419608,.603922],[.905882,.690196,0],[.376471,1,.388235],[.94902,.870588,0],[.466667,.266667,.003922],[.376471,.145098,.254902],[.407843,.498039,.796078],[.47451,.623529,.690196],[.05098,.913725,.635294],[.615686,.972549,.858824],[.517647,0,.462745],[.556863,.427451,.286275],[.890196,.254902,.188235],[.72549,.286275,.423529],[.478431,.290196,.52549],[1,.815686,.713725],[.298039,.364706,.780392],[.886275,.701961,.572549],[1,.298039,.933333],[.839216,.941176,.647059],[.74902,.376471,.14902],[.843137,.639216,.709804],[.741176,.490196,0],[.533333,.435294,.698039],[1,.188235,.631373],[1,.913725,.690196],[.2,.345098,.298039],[.721569,.54902,.478431],[.423529,.529412,.321569],[.737255,.580392,.823529],[.105882,.901961,.996078],[.631373,.235294,.447059],[.639216,.317647,.658824],[.427451,0,.596078],[.537255,.396078,.482353],[.352941,.345098,.545098],[.976471,.560784,.545098],[.905882,.843137,.486275],[.439216,.423529,.003922],[.098039,.34902,1],[.090196,.14902,1],[0,.847059,.337255],[.972549,.631373,.992157],[.478431,.588235,.235294],[.694118,.654902,.835294],[.494118,.815686,.866667],[0,.796078,.690196],[.478431,.278431,.235294],[.854902,1,.901961],[.858824,.019608,.694118],[.952941,.866667,1],[.639216,.894118,.435294],[.541176,.07451,.137255],[.4,.407843,.513725],[.909804,.992157,.439216],[.847059,.670588,.909804],[.878431,.729412,.835294],[.996078,.32549,.411765],[.458824,.682353,.607843],[.596078,.2,.878431],[.894118,.45098,.494118],[.54902,.34902,.14902],[.466667,.278431,.411765],[.184314,.243137,.658824]]),ti.set("glasbey_bw",[[.843137,0,0],[.54902,.235294,1],[.007843,.533333,0],[0,.67451,.780392],[.596078,1,0],[1,.498039,.819608],[.423529,0,.309804],[1,.647059,.188235],[0,0,.615686],[.52549,.439216,.407843],[0,.286275,.258824],[.309804,.164706,0],[0,.992157,.811765],[.737255,.717647,1],[.584314,.705882,.478431],[.752941,.015686,.72549],[.145098,.4,.635294],[.156863,0,.254902],[.862745,.701961,.686275],[.996078,.960784,.564706],[.313725,.270588,.356863],[.643137,.486275,0],[1,.443137,.4],[.247059,.505882,.431373],[.509804,0,.05098],[.639216,.482353,.701961],[.203922,.305882,0],[.607843,.894118,1],[.921569,0,.466667],[.176471,0,.039216],[.368627,.564706,1],[0,.780392,.12549],[.345098,.003922,.666667],[0,.117647,0],[.603922,.278431,0],[.588235,.623529,.65098],[.607843,.258824,.360784],[0,.121569,.196078],[.784314,.768627,0],[1,.815686,1],[0,.745098,.603922],[.215686,.082353,1],[.176471,.145098,.145098],[.87451,.345098,1],[.745098,.905882,.752941],[.498039,.270588,.596078],[.321569,.309804,.235294],[.847059,.4,0],[.392157,.454902,.219608],[.756863,.45098,.533333],[.431373,.454902,.541176],[.501961,.615686,.011765],[.745098,.545098,.396078],[.388235,.2,.223529],[.792157,.803922,.854902],[.423529,.921569,.513725],[.133333,.25098,.411765],[.635294,.498039,1],[.996078,.011765,.796078],[.462745,.737255,.992157],[.85098,.764706,.509804],[.807843,.639216,.807843],[.427451,.313725,0],[0,.411765,.454902],[.278431,.623529,.368627],[.580392,.776471,.74902],[.976471,1,0],[.752941,.329412,.270588],[0,.396078,.235294],[.356863,.313725,.658824],[.32549,.12549,.392157],[.309804,.372549,1],[.494118,.560784,.466667],[.72549,.031373,.980392],[.545098,.572549,.764706],[.701961,0,.207843],[.533333,.376471,.494118],[.623529,0,.458824],[1,.870588,.768627],[.317647,.031373,0],[.101961,.031373,0],[.298039,.537255,.713725],[0,.87451,.87451],[.784314,1,.980392],[.188235,.207843,.082353],[1,.152941,.278431],[1,.592157,.666667],[.015686,0,.101961],[.788235,.376471,.694118],[.764706,.635294,.215686],[.486275,.309804,.227451],[.976471,.619608,.466667],[.337255,.396078,.392157],[.819608,.576471,1],[.176471,.121569,.411765],[.254902,.105882,.203922],[.686275,.576471,.596078],[.384314,.619608,.6],[.741176,.870588,.482353],[1,.368627,.580392],[.058824,.160784,.137255],[.721569,.745098,.67451],[.454902,.231373,.396078],[.062745,0,.05098],[.498039,.431373,.741176],[.619608,.419608,.231373],[1,.27451,0],[.498039,0,.529412],[1,.807843,.243137],[.188235,.231373,.262745],[.996078,.647059,1],[.541176,.007843,.243137],[.462745,.172549,.003922],[.039216,.541176,.588235],[.019608,0,.321569],[.556863,.839216,.196078],[.32549,.768627,.45098],[.278431,.34902,.443137],[.345098,.007843,.133333],[.65098,.133333,.003922],[.564706,.576471,.298039],[0,.262745,.117647],[.505882,0,.819608],[.184314,.14902,.247059],[.74902,.223529,.517647],[.960784,1,.835294],[0,.827451,1],[.415686,0,.972549],[.611765,.733333,.823529],[.478431,.85098,.670588],[.411765,.341176,.364706],[0,.411765,.019608],[.211765,.211765,.611765],[.003922,.513725,.278431],[.266667,.117647,.094118],[.027451,.647059,.937255],[1,.505882,.188235],[.654902,.333333,.721569],[.407843,.352941,.513725],[.45098,1,1],[.85098,.529412,.007843],[.733333,.827451,1],[.556863,.215686,.184314],[.654902,.627451,.501961],[0,.490196,.890196],[.556863,.494118,.560784],[.6,.266667,.533333],[0,.945098,.207843],[.682353,.666667,.788235],[.627451,.380392,.384314],[.298039,.227451,.466667],[.423529,.509804,.513725],[.945098,.866667,.905882],[1,.733333,.827451],[.219608,.647059,.137255],[.705882,1,.658824],[.047059,.070588,.027451],[.843137,.321569,.431373],[.584314,.623529,.996078],[.490196,.498039,0],[.462745,.623529,.72549],[.858824,.529412,.498039],[.066667,.07451,.098039],[.831373,.509804,.831373],[.623529,0,.74902],[.862745,.937255,1],[.556863,.670588,.603922],[.443137,.392157,.258824],[.290196,.235294,.243137],[.031373,.305882,.372549],[.611765,.721569,.266667],[.847059,.870588,.835294],[.796078,1,.423529],[.701961,.392157,.921569],[.27451,.364706,.2],[0,.619608,.490196],[.760784,.254902,0],[.309804,.737255,.733333],[.85098,.545098,.694118],[.356863,.45098,.713725],[.294118,.254902,.003922],[.584314,.513725,.368627],[.286275,.454902,.545098],[1,.45098,1],[.513725,.415686,.113725],[.862745,.811765,1],[.494118,.419608,.996078],[.388235,.462745,.376471],[1,.756863,.572549],[.34902,.368627,0],[.894118,.035294,.901961],[.72549,.694118,.717647],[.827451,.176471,.254902],[.196078,.258824,.215686],[.85098,.639216,.388235],[.356863,.545098,.2],[.184314,.121569,0],[.596078,.905882,.843137],[.164706,.384314,.341176],[.807843,.447059,.301961],[.364706,.239216,.156863],[0,.34902,.85098],[.678431,.580392,.839216],[.419608,.117647,.580392],[.705882,.003922,.368627],[.254902,0,.27451],[.615686,1,.811765],[.894118,.282353,.615686],[.890196,.890196,.278431],[.862745,.886275,.647059],[0,.156863,.352941],[.666667,.356863,.509804],[0,0,.862745],[.294118,.305882,.317647],[.854902,.74902,.835294],[0,.301961,.6],[.533333,.392157,.619608],[.415686,.117647,.113725],[.556863,.321569,.772549],[.721569,.854902,.87451],[.866667,.701961,.992157],[.482353,.282353,.329412],[.298039,.45098,0],[.270588,0,.466667],[.698039,.372549,0],[.572549,.819608,.52549],[.333333,.2,.298039],[.411765,.690196,.521569],[.670588,.576471,.690196],[.905882,.329412,.258824],[.560784,.54902,.541176],[.439216,.678431,.317647],[.670588,.486275,.454902],[0,.203922,.235294],[.145098,.058824,.07451],[.905882,.690196,0],[.478431,.8,.862745],[.094118,.078431,.227451],[.615686,.321569,.223529],[.733333,.482353,.192157],[.717647,.792157,.580392],[.192157,.031373,0],[.639216,.584314,.023529],[0,.854902,.729412],[.454902,.627451,.870588],[.388235,.235294,.45098],[1,.854902,.560784],[.466667,.721569,0],[.25098,.184314,.113725],[.345098,.529412,.34902],[.176471,0,.129412],[.960784,.631373,.831373],[.854902,0,.666667],[.462745,.160784,.286275],[.741176,.898039,0],[.764706,.760784,.364706]]),ti.set("glasbey_warm",[[.843137,0,0],[1,.384314,.972549],[.67451,.615686,0],[.454902,0,.443137],[.317647,.286275,0],[1,.603922,.537255],[.568627,.443137,.541176],[1,.945098,.439216],[.815686,0,.505882],[.509804,.227451,.196078],[1,.760784,.956863],[.729412,.423529,.188235],[.776471,.74902,.572549],[1,.607843,0],[1,.301961,.419608],[.470588,.45098,.298039],[.835294,.545098,.701961],[.392157,.27451,.368627],[1,.352941,0],[.627451,.25098,.607843],[.713725,.345098,.388235],[.576471,0,.301961],[.52549,.309804,.003922],[.729412,.54902,.498039],[.603922,0,0],[1,.8,.729412],[.87451,0,.811765],[.894118,.752941,0],[1,.27451,.686275],[.619608,.596078,.388235],[.592157,.458824,0],[.976471,.94902,.756863],[1,.776471,.443137],[.74902,.011765,.25098],[.682353,.25098,.015686],[.541176,.376471,.341176],[.768627,.364706,.607843],[.835294,.615686,.368627],[.866667,.447059,.380392],[.564706,.266667,.4],[.403922,.309804,.192157],[.882353,.690196,.745098],[.780392,.521569,0],[1,.494118,.615686],[1,.588235,.901961],[.972549,.52549,.270588],[.431373,.388235,.003922],[.843137,.278431,.258824],[.607843,0,.490196],[.913725,0,.380392],[1,0,.192157],[.756863,.713725,.337255],[.717647,.466667,.537255],[.619608,.470588,.341176],[.823529,.45098,.788235],[.862745,.682353,.588235],[.662745,.231373,.219608],[.486275,.227451,.462745],[.529412,.207843,0],[.858824,.396078,.517647],[.827451,.32549,0],[.533333,.082353,.156863],[.611765,.341176,.196078],[.682353,.54902,.65098],[.894118,.858824,.541176],[.698039,.215686,.388235],[.858824,.541176,.564706],[.74902,0,.627451],[.870588,.447059,0],[1,.662745,.427451],[1,.623529,.764706],[.447059,.290196,.298039],[.847059,.635294,.039216],[.501961,.341176,.478431],[.964706,.466667,.756863],[.713725,.439216,.384314],[1,.803922,.866667],[.639216,.368627,.498039],[.478431,.133333,.34902],[.870588,.65098,.831373],[1,.376471,.298039],[.560784,.407843,.176471],[.709804,.533333,.286275],[.686275,.45098,.654902],[.956863,.87451,0],[.745098,.313725,.721569],[1,.184314,.854902],[.823529,.509804,.317647],[.741176,.345098,.227451],[.945098,.203922,.003922],[.588235,.301961,.317647],[.917647,.023529,.670588],[.545098,.513725,.25098],[.890196,.247059,.529412],[.513725,.180392,.27451],[.690196,.258824,.52549],[.917647,.819608,.647059],[.721569,.07451,.105882],[1,.721569,.172549],[.866667,.011765,.215686],[.647059,.352941,0],[.733333,.643137,.486275],[.392157,.372549,.188235],[.486275,.27451,.141176],[.686275,.003922,.427451],[.733333,.611765,.254902],[.807843,.254902,.376471],[.411765,.27451,0],[1,.486275,.466667],[.972549,.827451,.333333],[1,.701961,.690196],[.862745,.584314,.482353],[.784314,.6,.654902],[.627451,.141176,.262745],[.858824,.717647,.435294],[.607843,.423529,.454902],[.890196,.552941,.180392],[.894118,.415686,.211765],[.886275,.34902,.729412],[.992157,.360784,.576471],[.486275,.380392,.258824],[.529412,.345098,.403922],[.615686,.364706,.588235],[.580392,.176471,.105882],[.588235,.537255,.003922],[.694118,.443137,.007843],[.792157,.239216,.094118],[.458824,.231373,.34902],[.760784,.698039,.070588],[.635294,0,.631373],[.886275,.305882,.862745],[.988235,.752941,.568627],[.756863,.313725,.482353],[.85098,.443137,.647059],[.870588,.552941,.827451],[.933333,.662745,.298039],[.8,.239216,.647059],[.894118,.74902,.858824],[.580392,.160784,.396078],[.662745,.552941,.415686],[.635294,0,.141176],[1,.172549,.486275],[.666667,.529412,.14902],[.886275,.360784,.392157],[.894118,.631373,.619608],[.490196,.439216,.168627],[.796078,.086275,.380392],[.470588,.356863,.105882],[.65098,.360784,.313725],[1,.454902,0],[.803922,.454902,.478431],[1,.945098,.611765],[.839216,.792157,.34902],[.596078,.282353,.027451],[.929412,.203922,.313725],[.564706,.286275,.498039],[.756863,.12549,.74902],[.533333,.109804,.517647],[.988235,.717647,.839216],[.768627,.192157,.227451],[.592157,.266667,.176471],[.698039,.666667,.411765],[.662745,.14902,0],[.976471,.588235,.635294],[.937255,.52549,.407843],[.87451,.713725,.270588],[.517647,.305882,.254902],[.619608,.478431,.215686],[.992157,0,.592157],[.909804,.321569,.196078],[.772549,.603922,.737255],[.721569,.501961,.368627],[.788235,.380392,.34902],[.564706,.513725,.356863],[.72549,.341176,.086275],[.764706,.517647,.729412],[.8,.505882,.439216],[.784314,.431373,.294118],[.623529,.588235,.254902],[.698039,0,.32549],[.784314,.490196,.180392],[.972549,.678431,.564706],[1,.858824,.584314],[1,0,.996078],[.662745,.411765,.278431],[1,.376471,.839216],[.956863,.419608,.498039],[.768627,.580392,.431373],[.509804,.262745,.313725],[.647059,.301961,.407843],[.670588,.486275,.482353],[.890196,.603922,.694118],[.811765,.780392,.486275],[.529412,.396078,0],[1,.6,.258824],[.419608,.164706,.403922],[.890196,.505882,.627451],[.333333,.313725,.160784],[.941176,.564706,.780392],[.960784,.490196,.878431],[.917647,.588235,.380392],[.898039,.168627,.156863],[.741176,.298039,.282353],[.52549,.101961,0],[.52549,.341176,.168627],[.580392,.223529,.254902],[.756863,.478431,.631373],[1,.447059,.254902],[.760784,.403922,.537255],[.905882,.286275,.443137],[.898039,.678431,.478431],[.4,.32549,0],[.619608,.2,.509804],[.615686,.431373,.380392],[.466667,.247059,0],[1,.262745,.282353],[1,.835294,.960784],[.992157,.67451,.894118],[.501961,.454902,0],[.788235,.392157,.003922],[.658824,.478431,.588235],[.905882,.352941,.615686],[.733333,.572549,.003922],[.756863,.533333,.560784],[.572549,.4,.282353],[.835294,.607843,.227451],[.517647,0,.419608],[1,.807843,0],[.690196,.262745,.32549],[.796078,.239216,.541176],[1,.533333,.003922],[.866667,.741176,.580392],[.8,.611765,.564706],[.466667,.298039,.384314],[.709804,.266667,.168627],[.596078,.207843,.337255],[.698039,.32549,.607843],[.611765,.4,.007843],[.752941,.4,.694118],[.623529,.360784,.403922],[.737255,.603922,.364706],[.529412,0,.054902],[.894118,0,.478431],[.690196,.415686,.443137],[.498039,0,.301961],[.752941,.137255,0],[.729412,.12549,.521569],[.905882,.780392,.419608],[.52549,0,.211765],[.643137,.407843,.164706],[1,.015686,.364706],[.866667,.490196,.745098],[.678431,.466667,.262745],[.901961,.482353,.490196],[.870588,.270588,.631373],[.803922,.34902,.423529]]),ti.set("glasbey_cool",[[.05098,.415686,1],[.035294,.584314,.301961],[0,.792157,.898039],[.290196,1,.568627],[0,.345098,.376471],[.678431,.643137,1],[.458824,.447059,.560784],[.298039,0,.745098],[.607843,.733333,.623529],[.584314,1,.94902],[.258824,.560784,.568627],[0,.270588,.12549],[.737255,.858824,1],[.254902,.643137,1],[.305882,.419608,.32549],[.572549,.65098,.729412],[.027451,.313725,.588235],[0,.784314,.494118],[.52549,.435294,.980392],[.003922,.478431,.666667],[.380392,.329412,.682353],[.443137,.572549,.462745],[.780392,.913725,.792157],[.294118,.32549,.419608],[0,.858824,.760784],[.113725,0,1],[.603922,.803922,.815686],[.478431,.54902,.776471],[.329412,.690196,.603922],[0,.639216,.784314],[.313725,.431373,.466667],[.745098,.729412,.862745],[.482353,.768627,.996078],[0,.509804,.4],[.513725,.870588,.662745],[.356863,.141176,1],[.007843,.396078,.196078],[0,.945098,1],[.823529,.964706,.996078],[0,1,.788235],[.439216,.537255,.611765],[.329412,.443137,.72549],[.180392,.321569,.270588],[.356863,.517647,.992157],[.407843,.686275,.72549],[.662745,1,.737255],[.352941,.662745,.439216],[.890196,.87451,1],[.172549,.380392,.501961],[.568627,.556863,.670588],[.556863,.662745,.886275],[.529412,.866667,.988235],[.015686,.545098,.866667],[0,.447059,.439216],[.223529,.341176,.768627],[.380392,.360784,.94902],[.462745,.607843,.592157],[0,.619608,.470588],[.34902,.494118,.454902],[.254902,.262745,.596078],[.686275,.760784,1],[.478431,.447059,.733333],[.623529,.756863,.862745],[.541176,.564706,.980392],[.286275,.360784,.568627],[.490196,.784314,.698039],[.011765,.72549,.956863],[.34902,.454902,.580392],[.423529,.615686,.768627],[.627451,.890196,.811765],[.015686,.403922,.317647],[0,.756863,.733333],[.309804,.509804,.356863],[0,.886275,.466667],[0,.498039,.568627],[.47451,.760784,.545098],[.647059,.631373,.811765],[0,.490196,.262745],[.796078,1,.933333],[.552941,.701961,.686275],[.270588,.545098,.666667],[0,.968627,.894118],[0,.654902,.662745],[0,.403922,.694118],[.376471,.843137,.854902],[.647059,.909804,.937255],[.003922,.866667,.639216],[.227451,.380392,.372549],[.380392,.368627,.517647],[.482353,.662745,.54902],[.454902,.709804,.839216],[0,.270588,1],[.313725,.294118,.494118],[.239216,.192157,.803922],[0,.776471,.623529],[.658824,.831373,.701961],[.333333,.576471,.505882],[.576471,.984314,.827451],[.341176,.521569,.733333],[.231373,.341176,.392157],[.380392,.6,.658824],[.807843,.8,1],[.588235,.560784,.835294],[0,.705882,.368627],[.729412,.843137,.894118],[.345098,.227451,.752941],[0,.705882,.501961],[0,.239216,.705882],[0,.337255,.215686],[.47451,.635294,1],[.415686,.454902,.858824],[.415686,.905882,.768627],[.494118,.784314,.862745],[.447059,.498039,.647059],[0,.419608,.486275],[.341176,.396078,.478431],[.431373,.964706,.690196],[.113725,.462745,.815686],[.364706,.505882,.533333],[.235294,.443137,.388235],[0,.709804,.788235],[.368627,.572549,.878431],[.4,.427451,.619608],[.227451,.611765,.847059],[.211765,.368627,.25098],[.317647,.819608,1],[.443137,.760784,.752941],[0,.564706,.501961],[.419608,.686275,.92549],[.309804,.588235,.415686],[.752941,.905882,.886275],[.639216,.694118,.831373],[.411765,.278431,.87451],[0,.588235,.662745],[.443137,.380392,.803922],[.839216,.913725,1],[.54902,.603922,.756863],[.729412,.705882,.94902],[.74902,.796078,.894118],[.184314,.443137,.305882],[.556863,.713725,.764706],[.498039,.909804,.87451],[.227451,.447059,.54902],[.529412,.509804,.713725],[.403922,.835294,.533333],[.043137,.505882,1],[.513725,.501961,.854902],[.14902,.635294,.568627],[.631373,.784314,.733333],[.27451,.294118,1],[.243137,.419608,.603922],[.780392,1,.839216],[.223529,.498039,.482353],[.658824,.921569,.74902],[.003922,.345098,.313725],[.184314,.003922,.827451],[.501961,.972549,1],[.607843,.823529,.996078],[.733333,.913725,1],[.196078,.329412,.498039],[0,.87451,.992157],[.501961,.639216,.67451],[.062745,.556863,.376471],[.341176,.380392,.768627],[0,.647059,.4],[.317647,.435294,1],[.305882,.501961,.843137],[.360784,.647059,.631373],[.568627,.729412,1],[.376471,.713725,.54902],[.031373,.92549,.603922],[.380392,.8,.623529],[.333333,.643137,.509804],[.152941,.290196,.188235],[.733333,1,1],[.360784,.654902,.760784],[0,.545098,.752941],[.596078,.666667,1],[.486275,.6,.686275],[.423529,.486275,.745098],[.156863,.576471,.996078],[0,.392157,.839216],[.007843,.345098,.439216],[.435294,.552941,.698039],[0,.301961,.784314],[.215686,.321569,.623529],[.52549,.6,.882353],[.552941,.717647,.890196],[0,.368627,.576471],[.4,.545098,.529412],[.341176,0,.890196],[.505882,.831373,.792157],[.478431,.894118,.945098],[.513725,.717647,.635294],[.329412,.756863,.682353],[.627451,.823529,.909804],[.247059,.152941,1],[.482353,.352941,.984314],[.321569,.494118,.580392],[.25098,.392157,.682353],[.403922,1,.878431],[.47451,.498039,1],[.270588,.423529,.847059],[.27451,.52549,.431373],[.552941,.784314,.643137],[.243137,.384314,.32549],[.392157,.513725,.419608],[.345098,.733333,.462745],[.207843,.454902,.490196],[.321569,.752941,.8],[.45098,.623529,.862745],[.301961,.305882,.701961],[.247059,.470588,.698039],[.423529,.392157,.67451],[.031373,.698039,.647059],[.435294,.52549,.862745],[.52549,.654902,.796078],[.219608,.396078,.435294],[.27451,.368627,.494118],[.458824,.905882,.588235],[.419608,.478431,.560784],[.309804,.666667,.854902],[.266667,.729412,.862745],[.352941,.345098,.576471],[.443137,.568627,.596078],[.643137,.666667,.905882],[.682353,.788235,.945098],[0,.898039,.866667],[.509804,.501961,.623529],[0,.423529,.588235],[.662745,.776471,.823529],[.435294,.701961,.670588],[.501961,.54902,.654902],[.682353,.839216,.815686],[.294118,.196078,.639216],[.807843,.847059,.984314],[.721569,.941176,.843137],[.435294,.611765,.537255],[.329412,.286275,.596078],[.054902,.388235,.384314],[.254902,.305882,.521569],[.227451,.639216,.705882],[.533333,.847059,.72549],[.305882,.470588,.380392],[.572549,.501961,1],[.607843,.615686,.72549],[.145098,1,.996078],[.007843,.823529,.796078],[.345098,.392157,.65098],[.682353,.670588,.788235],[.662745,.937255,.901961],[.423529,.623529,.466667],[.32549,.313725,.847059],[0,.529412,.545098],[.435294,.572549,1],[.25098,.529412,.588235]]),ti.set("modulate",[[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1]]),ti.set("glasbey_light",[[.843137,0,0],[.007843,.533333,0],[.713725,0,1],[.023529,.67451,.776471],[.596078,1,0],[1,.647059,.188235],[1,.560784,.784314],[.47451,.321569,.372549],[0,.996078,.811765],[.690196,.647059,1],[.580392,.678431,.517647],[.603922,.411765,0],[.215686,.415686,.384314],[.827451,0,.54902],[.996078,.960784,.564706],[.784314,.435294,.4],[.619608,.890196,1],[0,.788235,.27451],[.662745,.466667,.678431],[.721569,.733333,.007843],[.956863,.752941,.694118],[1,.156863,.992157],[.952941,.807843,1],[0,.623529,.490196],[1,.384314,0],[.337255,.396078,.168627],[.588235,.247059,.121569],[.568627,.192157,.560784],[1,.203922,.396078],[.627451,.894118,.572549],[.552941,.607843,.698039],[.509804,.568627,.14902],[.682353,.035294,.247059],[.470588,.780392,.733333],[.737255,.572549,.345098],[.898039,.560784,1],[.447059,.72549,1],[.776471,.647059,.756863],[1,.568627,.443137],[.827451,.764706,.490196],[.741176,.933333,.858824],[.419608,.521569,.407843],[.572549,.431373,.337255],[.976471,1,0],[.729412,.760784,.878431],[.678431,.341176,.490196],[1,.807843,.011765],[1,.290196,.694118],[.760784,.341176,.011765],[.364706,.54902,.564706],[.760784,.266667,.741176],[0,.458824,.25098],[.729412,.435294,.996078],[0,.831373,.580392],[0,1,.462745],[.286275,.635294,.317647],[.8,.596078,.568627],[0,.921569,.933333],[.858824,.494118,.003922],[.972549,.458824,.541176],[.72549,.588235,0],[.788235,.258824,.282353],[0,.815686,.980392],[.462745,.345098,.152941],[.521569,.831373,.003922],[.92549,1,.831373],[.654902,.482353,.533333],[.862745,.447059,.788235],[.796078,.890196,.341176],[.545098,.74902,.368627],[.631373,.129412,.419608],[.52549,.356863,.537255],[.541176,.733333,.815686],[1,.729412,.843137],[.717647,.811765,.670588],[.592157,.254902,.305882],[.407843,.670588,0],[.996078,.882353,.698039],[1,.215686,.160784],[.501961,.478431,.243137],[.843137,.909804,1],[.654902,.584314,.776471],[.494118,.647059,.607843],[.819608,.513725,.643137],[.329412,.509804,.231373],[.901961,.662745,.45098],[.611765,1,1],[.854902,.333333,.505882],[.019608,.705882,.666667],[1,.670588,.964706],[.819608,.686275,.937255],[.854902,.007843,.368627],[.67451,.105882,.07451],[.376471,.701961,.521569],[.835294,.258824,.992157],[.678431,.670588,.34902],[.984314,.615686,.654902],[.701961,.447059,.235294],[.94902,.415686,.32549],[.682353,.823529,.835294],[.607843,1,.768627],[.858824,.701961,.2],[.92549,.007843,.764706],[.6,0,.772549],[.815686,1,.619608],[.65098,.352941,.290196],[.235294,.427451,.003922],[0,.521569,.478431],[.584314,.572549,.403922],[.541176,.862745,.701961],[.427451,.454902,0],[.666667,.368627,.792157],[.027451,.941176,0],[.505882,.309804,.243137],[.85098,.505882,.321569],[1,.784314,.388235],[.721569,0,.623529],[.6,.67451,.870588],[.568627,.309804,0],[.54902,.270588,.439216],[.309804,.431373,.321569],[1,.533333,.203922],[.780392,.560784,.807843],[.835294,.886275,.619608],[.698039,.509804,.427451],[.615686,.984314,.458824],[.341176,.870588,.466667],[.980392,0,.529412],[.635294,.803922,1],[.078431,.796078,.823529],[.066667,.560784,.333333],[.823529,.329412,.647059],[0,.87451,.764706],[.639216,.517647,.184314],[.466667,.592157,.356863],[.733333,.670588,.501961],[.439216,.639216,.690196],[.839216,.984314,1],[.909804,.007843,.227451],[.847059,.278431,.133333],[1,.513725,.929412],[.717647,.219608,.388235],[.717647,.807843,.447059],[.596078,.384314,.419608],[.541176,.454902,.568627],[0,.639216,.090196],[0,.960784,.631373],[.752941,.568627,.94902],[.541176,.894118,.847059],[.643137,.305882,.584314],[.431373,.368627,0],[.54902,.776471,.556863],[.584314,.666667,.168627],[.780392,.45098,.866667],[.705882,.231373,.003922],[.843137,.603922,.215686],[.87451,.678431,.717647],[0,.607843,.627451],[.352941,.564706,0],[.592157,.737255,.658824],[.678431,.552941,.658824],[.854902,.835294,1],[.333333,.490196,.447059],[0,.733333,.411765],[1,.768627,.556863],[.72549,0,.831373],[.878431,.815686,.356863],[.388235,.603922,.482353],[.752941,.933333,.737255],[.760784,.745098,.996078],[.501961,.827451,.870588],[.886275,.521569,.494118],[.980392,.921569,.305882],[.752941,.427451,.513725],[.796078,1,.313725],[.941176,.447059,.666667],[.929412,.407843,1],[.6,.278431,.682353],[.427451,.411765,.262745],[.890196,.341176,.380392],[.866667,.4,.176471],[.615686,.858824,.364706],[.886275,.615686,.815686],[.72549,.462745,0],[.776471,0,.176471],[.87451,.741176,.854902],[.352941,.713725,.87451],[1,.352941,.854902],[.219608,.760784,.631373],[.619608,.415686,.54902],[.678431,.666667,.784314],[.588235,.388235,.188235],[.713725,.337255,.384314],[.172549,.498039,.376471],[.698039,.894118,0],[.933333,.647059,.568627],[.584314,.996078,.886275],[1,.333333,.556863],[.745098,.435294,.631373],[.666667,.235294,.215686],[.85098,.811765,0],[.670588,.501961,.807843],[.627451,.501961,.321569],[.882353,0,.909804],[.764706,.360784,.243137],[.709804,.227451,.521569],[.54902,.470588,0],[.858824,.737255,.588235],[.321569,.619608,.576471],[.690196,.741176,.513725],[.572549,.713725,.717647],[.654902,.329412,.141176],[1,.835294,.937255],[.47451,.682353,.419608],[.368627,.709804,.298039],[.501961,.984314,.607843],[.282353,1,.937255],[.596078,.588235,.282353],[.580392,.533333,.654902],[.196078,.835294,0],[.431373,.917647,.337255],[.717647,.831373,.921569],[.439216,.333333,.439216],[.94902,.858824,.545098],[.670588,.835294,.760784],[.498039,.803922,.94902],[.541176,.733333,0],[.396078,.717647,.733333],[1,.713725,0],[.764706,.509804,.52549],[.796078,.670588,.372549],[.396078,.470588,.282353],[.34902,.890196,1],[.87451,.305882,.803922],[.917647,1,.47451],[.741176,.4,.72549],[.768627,.584314,.65098],[.392157,.776471,.454902],[.819608,.584314,.439216],[.439216,.811765,.309804],[.670588,.431373,.4],[.615686,.380392,.647059],[0,.721569,0],[.890196,.6,.705882],[.741176,0,.423529],[.701961,.913725,.941176],[.807843,.74902,.894118],[.466667,.639216,.262745],[.521569,.384314,.470588],[.341176,.560784,.360784],[.619608,.690196,.772549],[.909804,.188235,.627451],[.145098,.486275,.164706],[.509804,.407843,.137255],[.752941,.737255,.305882],[.866667,.827451,.647059]]),ti.set("glasbey_dark",[[.843137,0,0],[.54902,.235294,1],[.007843,.533333,0],[0,.67451,.780392],[.905882,.647059,0],[1,.498039,.819608],[.423529,0,.309804],[.345098,.231373,0],[0,.341176,.34902],[.082353,.882353,.552941],[0,0,.866667],[.635294,.462745,.415686],[.737255,.717647,1],[.752941,.015686,.72549],[.392157,.329412,.45098],[.47451,0,0],[.027451,.454902,.847059],[.45098,.607843,.490196],[1,.470588,.321569],[0,.294118,0],[.560784,.482353,.003922],[.952941,0,.482353],[.560784,.729412,0],[.65098,.482353,.721569],[.352941,.007843,.639216],[.890196,.686275,.686275],[.627451,.227451,.321569],[.635294,.784314,.784314],[.619608,.294118,0],[.329412,.403922,.270588],[.733333,.764706,.537255],[.372549,.482353,.533333],[.376471,.219608,.235294],[.513725,.533333,1],[.223529,0,0],[.890196,.32549,1],[.188235,.32549,.509804],[.498039,.792157,1],[.772549,.4,.560784],[0,.505882,.415686],[.572549,.619608,.717647],[.8,.454902,.027451],[.498039,.168627,.556863],[0,.745098,.643137],[.176471,.694118,.321569],[.305882,.2,1],[0,.898039,0],[1,0,.807843],[.784314,.345098,.282353],[.898039,.611765,1],[.113725,.631373,1],[.431373,.439216,.670588],[.784314,.603922,.411765],[.470588,.341176,.231373],[.015686,.854902,.901961],[.756863,.639216,.768627],[1,.415686,.541176],[.733333,0,.996078],[.572549,.32549,.501961],[.623529,.007843,.454902],[.580392,.631373,.313725],[.215686,.266667,.145098],[.686275,.427451,1],[.34902,.427451,0],[1,.192157,.278431],[.513725,.501961,.341176],[0,.427451,.180392],[.537255,.337255,.686275],[.352941,.290196,.639216],[.466667,.207843,.086275],[.52549,.764706,.603922],[.372549,.066667,.137255],[.835294,.521569,.505882],[.643137,.160784,.094118],[0,.533333,.694118],[.796078,0,.266667],[1,.627451,.337255],[.921569,.305882,0],[.423529,.592157,0],[.32549,.52549,.286275],[.458824,.352941,0],[.784314,.768627,.25098],[.572549,.827451,.439216],[.294118,.596078,.580392],[.301961,.137255,.05098],[.380392,.203922,.360784],[.517647,0,.811765],[.545098,0,.192157],[.623529,.431373,.196078],[.67451,.517647,.6],[.776471,.192157,.537255],[.007843,.329412,.219608],[.031373,.419608,.517647],[.529412,.658824,.92549],[.392157,.4,.937255],[.768627,.364706,.729412],[.003922,.623529,.439216],[.505882,.317647,.34902],[.513725,.435294,.54902],[.701961,.752941,.854902],[.72549,.568627,.160784],[1,.592157,.698039],[.654902,.576471,.882353],[.411765,.552941,.745098],[.298039,.313725,.003922],[.282353,.007843,.8],[.380392,0,.431373],[.270588,.415686,.4],[.615686,.341176,.262745],[.482353,.67451,.709804],[.803922,.517647,.741176],[0,.329412,.756863],[.482353,.184314,.309804],[.984314,.486275,0],[.203922,.752941,0],[1,.611765,.533333],[.882353,.717647,.411765],[.32549,.380392,.466667],[.360784,.227451,.486275],[.929412,.647059,.854902],[.941176,.32549,.639216],[.364706,.494118,.411765],[.768627,.466667,.313725],[.819608,.282353,.407843],[.431373,0,.921569],[.121569,.203922,0],[.756863,.254902,.015686],[.427451,.835294,.760784],[.27451,.439216,.623529],[.635294,.003922,.768627],[.039216,.509804,.537255],[.686275,.65098,.003922],[.65098,.360784,.419608],[.996078,.466667,1],[.545098,.521569,.682353],[.780392,.498039,.913725],[.603922,.670588,.521569],[.529412,.423529,.85098],[.003922,.729412,.968627],[.686275,.368627,.823529],[.34902,.317647,.168627],[.713725,0,.372549],[.486275,.713725,.415686],[.286275,.521569,1],[0,.760784,.509804],[.823529,.584314,.670588],[.639216,.294118,.658824],[.890196,.023529,.890196],[.086275,.639216,0],[.223529,.180392,0],[.517647,.188235,.2],[.368627,.584314,.666667],[.352941,.062745,0],[.482353,.27451,0],[.435294,.435294,.192157],[.2,.345098,.14902],[.301961,.376471,.713725],[.635294,.584314,.392157],[.384314,.25098,.156863],[.270588,.831373,.345098],[.439216,.666667,.815686],[.180392,.419608,.305882],[.45098,.686275,.619608],[.992157,.082353,0],[.847059,.705882,.572549],[.478431,.537255,.231373],[.490196,.776471,.85098],[.862745,.568627,.215686],[.92549,.380392,.368627],[.92549,.372549,.831373],[.898039,.482353,.654902],[.65098,.423529,.596078],[0,.592157,.266667],[.729412,.372549,.133333],[.737255,.678431,.32549],[.533333,.847059,.188235],[.529412,.207843,.45098],[.682353,.658824,.823529],[.890196,.54902,.388235],[.819608,.694118,.92549],[.215686,.258824,.623529],[.227451,.745098,.760784],[.4,.615686,.301961],[.619608,.011765,.6],[.305882,.305882,.478431],[.482353,.298039,.52549],[.764706,.207843,.192157],[.552941,.4,.466667],[.666667,0,.176471],[.498039,.003922,.458824],[.003922,.509804,.301961],[.45098,.290196,.403922],[.447059,.466667,.568627],[.431373,0,.6],[.627451,.729412,.321569],[.882353,.431373,.192157],[.772549,.415686,.443137],[.427451,.356863,.588235],[.639216,.235294,.454902],[.196078,.384314,0],[.533333,0,.313725],[.2,.345098,.411765],[.729412,.552941,.486275],[.098039,.34902,1],[.568627,.572549,.007843],[.172549,.545098,.835294],[.090196,.14902,1],[.129412,.827451,1],[.643137,.564706,.686275],[.545098,.427451,.309804],[.368627,.129412,.243137],[.862745,.011765,.701961],[.435294,.341176,.792157],[.396078,.156863,.129412],[.678431,.466667,0],[.639216,.74902,.968627],[.709804,.517647,.27451],[.592157,.219608,.862745],[.698039,.317647,.580392],[.447059,.258824,.639216],[.529412,.560784,.819608],[.541176,.439216,.694118],[.419608,.686275,.211765],[.352941,.478431,.788235],[.780392,.623529,1],[.337255,.517647,.101961],[0,.839216,.654902],[.509804,.278431,.223529],[.066667,.262745,.113725],[.352941,.670588,.458824],[.568627,.356863,.003922],[.964706,.270588,.439216],[1,.592157,.011765],[.882353,.258824,.192157],[.729412,.572549,.811765],[.203922,.345098,.301961],[.972549,.501961,.490196],[.568627,.203922,0],[.701961,.803922,0],[.180392,.623529,.827451],[.47451,.545098,.623529],[.317647,.505882,.490196],[.756863,.211765,.843137],[.92549,.019608,.32549],[.72549,.67451,.494118],[.282353,.439216,.196078],[.517647,.584314,.396078],[.85098,.615686,.537255],[0,.392157,.639216],[.298039,.564706,.470588],[.560784,.380392,.596078],[1,.32549,.219608],[.654902,.258824,.231373],[0,.431373,.439216],[.596078,.517647,.243137],[.862745,.690196,.784314]]),ti.set("modulate_dark",[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]]);var M2=ti,xl=function(o,t,v){var n=t.length,e=M2.get(v),i=new Array(n),c=0;t[0]===0&&(c=1,i[0]=[t[0],0,0,0,.5,1]);for(var l=c;l<n;l++){var y=e[(l-c)%e.length];i[l]=[t[l],y[0],y[1],y[2],.5,1]}o.setMode(ta.a.Mode.RGBPoints),o.setRGBPoints(i),o.getLookupTable().setMappingRange(t[0],t[n-1])},Sl=function(o){if(o.imageUI.haveLabelMap){var t=o.imageUI.labelMapBlend,v=o.imageUI.representationProxy.getVolumes()[0].getProperty(),n=o.imageUI.representationProxy.getActors()[0].getProperty(),e=o.imageUI.numberOfComponents,i=o.imageUI.visualizedComponents,c=o.imageUI.componentVisibilities;i.forEach(function(l,y){var R=c[l];R.weight=1-t,R.visible&&(v.setComponentWeight(y,R.weight),n.setComponentWeight(y,R.weight))}),v.setComponentWeight(e,t),n.setComponentWeight(e,t)}},k2=a(4),Oa=a.n(k2),Es=a(7),D2=a(77),U2=a.n(D2),B2=function(o,t){var v=o.id,n=document.createElement("div");o.imageUI.labelMapColorUIGroup=n,n.setAttribute("class",Oa.a.uiGroup);var e=document.createElement("div");e.setAttribute("class",Oa.a.uiRow),e.className+=" ".concat(v,"-toggle");var i=document.createElement("div");i.id="".concat(o.id,"-labelMapLookupTableSelector");var c=R2(i);Object(hn.e)(function(){return o.imageUI.labelMapLookupTable},function($){(function(){var re=o.imageUI.labelMapLookupTable,he=o.imageUI.labelMapLookupTableProxy;he.getLookupTable(),re.startsWith("Custom")||xl(he,o.imageUI.labelMapLabels,re),c.setSelectedValue(re);var Ee=o.renderWindow;Ee.getInteractor().isAnimating()||Ee.render()})()}),i.addEventListener("changed",Object(hn.a)(function($){$.preventDefault(),$.stopPropagation(),o.imageUI.labelMapLookupTable=c.getSelectedValue()})),c.setSelectedValue(o.imageUI.labelMapLookupTable);var l=document.createElement("div");l.setAttribute("class",Oa.a.sliderEntry),l.innerHTML=`
    <div itk-vtk-tooltip itk-vtk-tooltip-top itk-vtk-tooltip-content="Label map blend" class="`.concat(Oa.a.gradientOpacitySlider,`">
      `).concat(U2.a,`
    </div>
    <input type="range" min="0" max="1" value="`).concat(o.imageUI.labelMapBlend,`" step="0.01"
      id="`).concat(o.id,`-labelMapColorOpacitySlider"
      class="`).concat(Oa.a.slider,'" />');var y=l.querySelector("#".concat(o.id,"-labelMapColorOpacitySlider")),R=l.children[0];function _(){var $=o.imageUI.labelMapBlend;y.value=$,Sl(o),o.renderWindow.render()}Object(Es.a)(o,"invertibleButton",R),Object(hn.e)(function(){return o.imageUI.labelMapBlend},r.b.throttle(_,20)),_(),y.addEventListener("input",Object(hn.a)(function($){$.preventDefault(),$.stopPropagation(),o.imageUI.labelMapBlend=Number(y.value)})),Object(hn.b)(function(){var $=!!o.imageUI.image;l.style.display=$?"flex":"none"}),e.appendChild(i),e.appendChild(l),n.appendChild(e),t.appendChild(n)};function bc(o,t,v){return o*(v-t)+t}var zi=function(o){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(o.imageUI.haveLabelMap){var v=o.imageUI.piecewiseFunction,n=o.imageUI.labelMapLabels,e=(o.imageUI.labelMapWeights,0),i=1;if(o.imageUI.haveOnlyLabelMap&&(i=.05,o.mainUI.viewMode!=="VolumeRendering"&&(i=1,e=.4)),t===null||t==="all"){var c=n[0]===0;v.removeAllPoints(),c?v.addPointLong(n[0],0,.5,1):v.addPointLong(n[0],bc(o.imageUI.labelMapWeights[0],e,i),.5,1);for(var l=1;l<n.length;l++)v.addPointLong(n[l],bc(o.imageUI.labelMapWeights[l],e,i),.5,1)}else t.forEach(function(y){var R=bc(o.imageUI.labelMapWeights[y],e,i);v.setNodeValue(y,[y,R,.5,1])})}},F2=function(o,t){var v=o.id,n=document.createElement("div");o.imageUI.labelMapWeightUIGroup=n,n.setAttribute("class",Oa.a.uiGroup);var e=document.createElement("div");e.setAttribute("class",Oa.a.uiRow),e.className+=" ".concat(v,"-toggle");var i=document.createElement("div");i.id="".concat(o.id,"-labelMapUniqueLabelSelector");var c=document.createElement("select");c.setAttribute("class",Oa.a.selector),c.id="".concat(o.id,"-labelSelector");var l=o.imageUI.labelMapLabels,y=(o.imageUI.labelMapWeights,l.map(function($,re){return"<option ".concat(re===o.imageUI.selectedLabel?"selected":"",' value="').concat(re,'">').concat(re,"</option>")}));y.unshift('<option value="all">All</option>'),c.innerHTML=y.join(""),i.appendChild(c);var R=document.createElement("div");R.setAttribute("class",Oa.a.sliderEntry),R.innerHTML=`
    <input type="range" min="0" max="1" value="1.0" step="0.05" id="`.concat(o.id,'-labelMapWeightSlider" class="').concat(Oa.a.slider,'" />');var _=R.querySelector("#".concat(o.id,"-labelMapWeightSlider"));e.appendChild(i),e.appendChild(R),n.appendChild(e),t.appendChild(n),Object(hn.e)(function(){return o.imageUI.selectedLabel},function(){o.imageUI.selectedLabel!=="all"&&(_.value=o.imageUI.labelMapWeights[o.imageUI.selectedLabel],c.selectedIndex=parseInt(o.imageUI.selectedLabel)+1)}),Object(hn.e)(function(){return o.imageUI.labelMapWeights.slice()},r.b.throttle(function(){var $="all";o.imageUI.selectedLabel!=="all"&&(_.value=o.imageUI.labelMapWeights[o.imageUI.selectedLabel],$=[o.imageUI.selectedLabel]),zi(o,$),o.renderWindow.render()},20)),c.addEventListener("change",function($){$.preventDefault(),$.stopPropagation(),o.imageUI.selectedLabel=$.target.value}),_.addEventListener("input",function($){if($.preventDefault(),$.stopPropagation(),o.imageUI.selectedLabel==="all"){for(var re=Number(_.value),he=0;he<o.imageUI.labelMapWeights.length;he++)o.imageUI.labelMapWeights[he]=re;o.imageUI.labelMapToggleWeight=re}else o.imageUI.labelMapWeights[o.imageUI.selectedLabel]=Number(_.value)})},L2=function(o,t){var v=document.createElement("div");o.imageUI.planeIndexUIGroup=v,v.setAttribute("class",Oa.a.uiGroup);var n=6,e=null,i=o.id,c=o.renderWindow,l=o.imageUI.representationProxy,y=document.createElement("div");y.setAttribute("class",Oa.a.uiRow),y.className+=" ".concat(i,"-toggleCollapse ").concat(i,"-x-plane-row");var R=document.createElement("div");R.setAttribute("class",Oa.a.sliderEntry);var _=l.getPropertyDomainByName("xSlice");e=l.getXSlice(),o.imageUI.xSlice=e,R.innerHTML=`
    <label id="`.concat(i,'-xSliceLabel" class="').concat(Oa.a.sliderLabelCommon,'">X:</label><input type="range" min="').concat(_.min,'" max="').concat(_.max,'" value="').concat(e,'" step="').concat(_.step,`"
      id="`).concat(i,'-xSlice" class="').concat(Oa.a.slider,'" />');var $=R.querySelector("#".concat(i,"-xSlice")),re=R.querySelector("#".concat(i,"-xSliceLabel"));function he(Jt){l.setXSlice(Number(Jt));var vn=String(Jt).substring(0,n),Zt=vn.length<n?n-vn.length:0,on="&nbsp;".repeat(Zt);re.innerHTML="X: ".concat(on).concat(vn),c.render()}Object(Es.a)(o,"sliderLabel",re),y.appendChild(R),he(e),y.style.display="none",Object(hn.e)(function(){return o.imageUI.xSlice},r.b.throttle(he,20)),$.addEventListener("input",Object(hn.a)(function(Jt){Jt.preventDefault(),Jt.stopPropagation(),o.imageUI.xSlice=Number($.value)})),v.appendChild(y);var Ee=document.createElement("div");Ee.setAttribute("class",Oa.a.uiRow),Ee.className+=" ".concat(i,"-toggleCollapse ").concat(i,"-y-plane-row");var Se=document.createElement("div");Se.setAttribute("class",Oa.a.sliderEntry);var ee=l.getPropertyDomainByName("ySlice");e=l.getYSlice(),o.imageUI.ySlice=e,Se.innerHTML=`
    <label id="`.concat(i,'-ySliceLabel" class="').concat(Oa.a.sliderLabelCommon,'">Y:</label><input type="range" min="').concat(ee.min,'" max="').concat(ee.max,'" value="').concat(e,'" step="').concat(ee.step,`"
      id="`).concat(i,'-ySlice" class="').concat(Oa.a.slider,'" />');var we=Se.querySelector("#".concat(i,"-ySlice")),Fe=Se.querySelector("#".concat(i,"-ySliceLabel"));function Xe(Jt){l.setYSlice(Number(Jt));var vn=String(Jt).substring(0,n),Zt=vn.length<n?n-vn.length:0,on="&nbsp;".repeat(Zt);Fe.innerHTML="Y: ".concat(on).concat(vn),c.render()}Object(Es.a)(o,"sliderLabel",Fe),Ee.appendChild(Se),Xe(e),Ee.style.display="none",y.style.display="none",Object(hn.e)(function(){return o.imageUI.ySlice},r.b.throttle(Xe,20)),we.addEventListener("input",Object(hn.a)(function(Jt){Jt.preventDefault(),Jt.stopPropagation(),o.imageUI.ySlice=Number(we.value)})),v.appendChild(Ee);var qe=document.createElement("div");qe.setAttribute("class",Oa.a.uiRow),qe.className+=" ".concat(i,"-toggleCollapse ").concat(i,"-z-plane-row");var tt=document.createElement("div");tt.setAttribute("class",Oa.a.sliderEntry);var Ye=l.getPropertyDomainByName("zSlice");e=l.getZSlice(),o.imageUI.zSlice=e,tt.innerHTML=`
    <label id="`.concat(i,'-zSliceLabel" class="').concat(Oa.a.sliderLabelCommon,'">Z:</label><input type="range" min="').concat(Ye.min,'" max="').concat(Ye.max,'" value="').concat(e,'" step="').concat(Ye.step,`"
      id="`).concat(i,'-zSlice" class="').concat(Oa.a.slider,'" />');var gt=tt.querySelector("#".concat(i,"-zSlice")),At=tt.querySelector("#".concat(i,"-zSliceLabel"));function Vt(Jt){l.setZSlice(Number(Jt));var vn=String(Jt).substring(0,n),Zt=vn.length<n?n-vn.length:0,on="&nbsp;".repeat(Zt);At.innerHTML="Z: ".concat(on).concat(vn),c.render()}Object(Es.a)(o,"sliderLabel",At),qe.appendChild(tt),Vt(e),qe.style.display="none",Object(hn.e)(function(){return o.imageUI.zSlice},r.b.throttle(Vt,20)),gt.addEventListener("input",Object(hn.a)(function(Jt){Jt.preventDefault(),Jt.stopPropagation(),o.imageUI.zSlice=Number(gt.value)})),v.appendChild(qe),t.appendChild(v)},_2=a(101),V2=a(105),N2=a.n(V2),zr=a(12),Kn=new N2.a,j2=function(o,t,v){o.addEventListener("mouseenter",function(){Kn.bind("1",function(n,e){Object(zr.a)(n),t.setViewMode("XPlane")}),Kn.bind("alt+1",function(n,e){Object(zr.a)(n),t.setViewMode("XPlane")}),Kn.bind("2",function(n,e){Object(zr.a)(n),t.setViewMode("YPlane")}),Kn.bind("alt+2",function(n,e){Object(zr.a)(n),t.setViewMode("YPlane")}),Kn.bind("3",function(n,e){Object(zr.a)(n),t.setViewMode("ZPlane")}),Kn.bind("alt+3",function(n,e){Object(zr.a)(n),t.setViewMode("ZPlane")}),Kn.bind("4",function(n,e){Object(zr.a)(n),t.setViewMode("VolumeRendering")}),Kn.bind("alt+4",function(n,e){Object(zr.a)(n),t.setViewMode("VolumeRendering")}),Kn.bind("r",function(n,e){Object(zr.a)(n),t.getViewProxy().resetCamera()}),Kn.bind("alt+r",function(n,e){Object(zr.a)(n),t.getViewProxy().resetCamera()}),Kn.bind("p",function(n,e){Object(zr.a)(n),t.getViewProxy().resetCamera()}),Kn.bind("alt+p",function(n,e){Object(zr.a)(n),t.getViewProxy().resetCamera()}),Kn.bind("e",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-resetCroppingPlanesButton")).click()}),Kn.bind("alt+e",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-resetCroppingPlanesButton")).click()}),Kn.bind(".",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-resetCroppingPlanesButton")).click()}),Kn.bind("alt+.",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-resetCroppingPlanesButton")).click()}),Kn.bind("w",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-toggleCroppingPlanesButton")).click()}),Kn.bind("alt+w",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-toggleCroppingPlanesButton")).click()}),Kn.bind(",",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-toggleCroppingPlanesButton")).click()}),Kn.bind("alt+,",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-toggleCroppingPlanesButton")).click()}),Kn.bind("'",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-toggleUserInterfaceButton")).click()}),Kn.bind("alt+'",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-toggleUserInterfaceButton")).click()}),Kn.bind("q",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-toggleUserInterfaceButton")).click()}),Kn.bind("alt+q",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-toggleUserInterfaceButton")).click()}),Kn.bind("f",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-toggleFullscreenButton")).click()}),Kn.bind("alt+f",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-toggleFullscreenButton")).click()}),Kn.bind("u",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-toggleFullscreenButton")).click()}),Kn.bind("alt+u",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-toggleFullscreenButton")).click()}),Kn.bind("s",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-toggleSlicingPlanesButton")).click()}),Kn.bind("alt+s",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-toggleSlicingPlanesButton")).click()}),Kn.bind("o",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-toggleSlicingPlanesButton")).click()}),Kn.bind("alt+o",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-toggleSlicingPlanesButton")).click()}),Kn.bind("p",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-toggleRotateButton")).click()}),Kn.bind("alt+p",function(n,e){Object(zr.a)(n),document.getElementById("".concat(v,"-toggleRotateButton")).click()})}),o.addEventListener("mouseleave",function(){Kn.unbind("1"),Kn.unbind("alt+1"),Kn.unbind("2"),Kn.unbind("alt+2"),Kn.unbind("3"),Kn.unbind("alt+3"),Kn.unbind("4"),Kn.unbind("alt+4"),Kn.unbind("r"),Kn.unbind("alt+r"),Kn.unbind("p"),Kn.unbind("alt+p"),Kn.unbind("e"),Kn.unbind("alt+e"),Kn.unbind("."),Kn.unbind("alt+."),Kn.unbind("w"),Kn.unbind("alt+w"),Kn.unbind(","),Kn.unbind("alt+,"),Kn.unbind("'"),Kn.unbind("alt+'"),Kn.unbind("q"),Kn.unbind("alt+q"),Kn.unbind("f"),Kn.unbind("alt+f"),Kn.unbind("u"),Kn.unbind("alt+u"),Kn.unbind("s"),Kn.unbind("alt+s"),Kn.unbind("o"),Kn.unbind("alt+o"),Kn.unbind("p"),Kn.unbind("alt+p")})},Oo,Cl,Pl,Ol,Tl,Il,El,Rl,Ml,kl,Dl,Ul,Bl,Fl,Ll,Ir,_l,Vl,Nl,jl,Gl,zl,Wl,Kl,Hl,Ql,Yl,Xl,ql,Zl,Jl,$l,e1,t1,n1,r1,a1,o1,i1,s1,c1,u1,l1,f1,sa,d1,p1,g1,m1,h1,v1,y1,b1,A1,w1,da,x1,S1,C1,P1,O1,T1,I1,E1,R1,M1,Mi,k1,D1=function(o){return("#"+((1<<24)+(255*o[0]<<16)+(255*o[1]<<8)+255*o[2]).toString(16).slice(1)).substring(0,7)},G2=a(76),z2=a(34),Rs=a.n(z2),W2=a(9),or=a.n(W2),K2=a(29),Wi=a.n(K2),H2=a(5),zn=a.n(H2),Q2=(a(258),a(188)),Y2=a.n(Q2),X2={position:"relative",width:"100%",height:"100%",minHeight:"200px",minWidth:"450px",margin:"0",padding:"0",top:"0",left:"0",overflow:"hidden"},q2=(Oo=function o(){Wi()(this,o),this.uiContainer=null,or()(this,"collapsed",Cl,this),or()(this,"annotationsEnabled",Pl,this),or()(this,"axesEnabled",Ol,this),or()(this,"fullscreenEnabled",Tl,this),or()(this,"rotateEnabled",Il,this),or()(this,"interpolationEnabled",El,this),or()(this,"croppingPlanesEnabled",Rl,this),or()(this,"viewMode",Ml,this),this.xPlaneButton=null,this.yPlaneButton=null,this.zPlaneButton=null,this.volumeRenderingButton=null,this.fps=[60,60,60],or()(this,"fpsTooLow",kl,this),this.fpsMonitor=null},Cl=zn()(Oo.prototype,"collapsed",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pl=zn()(Oo.prototype,"annotationsEnabled",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ol=zn()(Oo.prototype,"axesEnabled",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Tl=zn()(Oo.prototype,"fullscreenEnabled",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Il=zn()(Oo.prototype,"rotateEnabled",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),El=zn()(Oo.prototype,"interpolationEnabled",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Rl=zn()(Oo.prototype,"croppingPlanesEnabled",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ml=zn()(Oo.prototype,"viewMode",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"VolumeRendering"}}),kl=zn()(Oo.prototype,"fpsTooLow",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Oo),Z2=(Dl=hn.d.ref,Ul=hn.d.ref,Bl=hn.d.ref,Fl=hn.d.ref,Ll=hn.d.ref,Ir=function(){function o(t){Wi()(this,o),this.eventEmitter=null,or()(this,"image",_l,this),or()(this,"multiscaleImage",Vl,this),this.source=null,or()(this,"representationProxy",Nl,this),or()(this,"selectedComponentIndex",jl,this),this.totalIntensityComponents=0,this.maximumIntensityComponents=3,this.lookupTableProxies=[],this.piecewiseFunctionProxies=[],or()(this,"componentVisibilities",Gl,this),this.lastVisualizedComponents=[],this.fusedImageData=null,or()(this,"visualizedComponents",zl,this),this.lastComponentVisibilityChanged=0,this.transferFunctionWidget=null,this.transferFunctionManipulator={rangeManipulator:null,windowMotionScale:150,levelMotionScale:150,windowGet:null,windowSet:null,levelGet:null,levelSet:null},this.independentComponents=!0,this.imageUIGroup=null,this.croppingWidget=null,this.addCroppingPlanesChangedHandler=function(){},this.addResetCropHandler=function(){},or()(this,"colorMaps",Wl,this),or()(this,"colorRanges",Kl,this),or()(this,"opacityGaussians",Hl,this),or()(this,"blendMode",Ql,this),or()(this,"useShadow",Yl,this),or()(this,"slicingPlanesEnabled",Xl,this),or()(this,"gradientOpacity",ql,this),or()(this,"volumeSampleDistance",Zl,this),or()(this,"xSlice",Jl,this),or()(this,"ySlice",$l,this),or()(this,"zSlice",e1,this),or()(this,"labelMap",t1,this),or()(this,"multiscaleLabelMap",n1,this),this.syncColorMapRangeToOpacityRange=!1,this.labelMapColorUIGroup=null,this.labelMapLookupTableProxy=null,this.labelMapLabels=null,this.piecewiseFunction=null,or()(this,"lastPickedValues",r1,this),or()(this,"labelMapBlend",a1,this),or()(this,"labelMapLookupTable",o1,this),or()(this,"labelMapWeights",i1,this),or()(this,"labelMapToggleWeight",s1,this),or()(this,"selectedLabel",c1,this),this.planeIndexUIGroup=null,this.distanceWidget=null,this.distanceUpdateInProgress=!1,this.distanceEnabled=!1,or()(this,"distancePoint1",u1,this),or()(this,"distancePoint2",l1,this),this.eventEmitter=t}return Rs()(o,[{key:"numberOfComponents",get:function(){if(!this.image)return 0;var t=this.fusedImageLabelMap.getPointData().getScalars();return this.labelMap?t.getNumberOfComponents()-1:t.getNumberOfComponents()}},{key:"fusedImageLabelMap",get:function(){var t=this.image,v=this.labelMap;if(!t&&!v)return null;if(!t)return v;if(this.visualizedComponents.length===0||v&&this.visualizedComponents.length===4)return null;var n=t.getPointData().getScalars(),e=n.getData(),i=n.getNumberOfComponents();if(this.totalIntensityComponents=i,!v&&i<=4)return t;var c=this.visualizedComponents.map(function(Ye){return Ye}),l=nn.a.newInstance();l.setOrigin(t.getOrigin()),l.setSpacing(t.getSpacing()),l.setDirection(t.getDirection());var y=t.getDimensions();if(v){var R=v.getDimensions();if(!y.every(function(Ye,gt){return R[gt]===Ye}))return console.error("Dimensions not equal! Not fusing. Image: ".concat(y," Label map: ").concat(R)),t}var _=this.visualizedComponents.length;l.setDimensions(t.getDimensions());var $=n.getNumberOfTuples(),re=null;v&&(re=v.getPointData().getScalars().getData(),c.push(-1));var he=re?_+1:_,Ee=$*he;this.fusedImageData&&this.fusedImageData.length===Ee||(this.fusedImageData=new e.constructor(Ee));for(var Se=[],ee=0;ee<_;ee++)c[ee]!==this.lastVisualizedComponents[ee]&&Se.push({srcImageData:e,imageComponents:i,copyFromComponent:this.visualizedComponents[ee],copyToComponent:ee});c[_]===-1&&this.lastVisualizedComponents[_]!==-1&&Se.push({srcImageData:re,imageComponents:1,copyFromComponent:0,copyToComponent:_});for(var we=0,Fe=0,Xe=0;Xe<$;Xe++)for(var qe=0;qe<Se.length;qe++)Fe=Xe*Se[qe].imageComponents+Se[qe].copyFromComponent,we=Xe*he+Se[qe].copyToComponent,this.fusedImageData[we]=Se[qe].srcImageData[Fe];var tt=oe.a.newInstance({name:n.getName()||"Scalars",values:this.fusedImageData,numberOfComponents:he});return l.getPointData().setScalars(tt),this.lastVisualizedComponents=c.map(function(Ye){return Ye}),l}},{key:"haveOnlyLabelMap",get:function(){return!(!this.labelMap&&!this.multiscaleLabelMap||this.image||this.multiscaleImage)}},{key:"haveLabelMap",get:function(){return!!this.labelMap||!!this.multiscaleLabelMap}}]),o}(),_l=zn()(Ir.prototype,"image",[Dl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vl=zn()(Ir.prototype,"multiscaleImage",[Ul],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nl=zn()(Ir.prototype,"representationProxy",[Bl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jl=zn()(Ir.prototype,"selectedComponentIndex",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zn()(Ir.prototype,"numberOfComponents",[hn.c],Object.getOwnPropertyDescriptor(Ir.prototype,"numberOfComponents"),Ir.prototype),Gl=zn()(Ir.prototype,"componentVisibilities",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zl=zn()(Ir.prototype,"visualizedComponents",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wl=zn()(Ir.prototype,"colorMaps",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kl=zn()(Ir.prototype,"colorRanges",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Hl=zn()(Ir.prototype,"opacityGaussians",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ql=zn()(Ir.prototype,"blendMode",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Yl=zn()(Ir.prototype,"useShadow",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Xl=zn()(Ir.prototype,"slicingPlanesEnabled",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ql=zn()(Ir.prototype,"gradientOpacity",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .2}}),Zl=zn()(Ir.prototype,"volumeSampleDistance",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .25}}),Jl=zn()(Ir.prototype,"xSlice",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$l=zn()(Ir.prototype,"ySlice",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e1=zn()(Ir.prototype,"zSlice",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t1=zn()(Ir.prototype,"labelMap",[Fl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),n1=zn()(Ir.prototype,"multiscaleLabelMap",[Ll],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zn()(Ir.prototype,"fusedImageLabelMap",[hn.c],Object.getOwnPropertyDescriptor(Ir.prototype,"fusedImageLabelMap"),Ir.prototype),zn()(Ir.prototype,"haveOnlyLabelMap",[hn.c],Object.getOwnPropertyDescriptor(Ir.prototype,"haveOnlyLabelMap"),Ir.prototype),zn()(Ir.prototype,"haveLabelMap",[hn.c],Object.getOwnPropertyDescriptor(Ir.prototype,"haveLabelMap"),Ir.prototype),r1=zn()(Ir.prototype,"lastPickedValues",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),a1=zn()(Ir.prototype,"labelMapBlend",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .5}}),o1=zn()(Ir.prototype,"labelMapLookupTable",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"glasbey"}}),i1=zn()(Ir.prototype,"labelMapWeights",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s1=zn()(Ir.prototype,"labelMapToggleWeight",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .1}}),c1=zn()(Ir.prototype,"selectedLabel",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"all"}}),u1=zn()(Ir.prototype,"distancePoint1",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l1=zn()(Ir.prototype,"distancePoint2",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ir),J2=(f1=hn.d.shallow,sa=function(){function o(t){Wi()(this,o),this.eventEmitter=null,or()(this,"geometries",d1,this),this.initialized=!1,this.sources=[],this.representationProxies=[],or()(this,"selectedGeometryIndex",p1,this),or()(this,"names",g1,this),or()(this,"representations",m1,this),or()(this,"colorMaps",h1,this),or()(this,"colorBy",v1,this),or()(this,"colors",y1,this),or()(this,"opacities",b1,this),or()(this,"colorRanges",A1,this),this.colorRangesReactions=new Map,this.eventEmitter=t}return Rs()(o,[{key:"hasScalars",get:function(){return this.geometries.map(function(t){var v=!!t.getPointData().getScalars(),n=!!t.getCellData().getScalars();return v||n})}},{key:"hasOnlyDirectColors",get:function(){return this.geometries.map(function(t){var v=t.getPointData().getScalars(),n=!!v&&v.getDataType()===ha.b.UNSIGNED_CHAR&&v.getNumberOfComponents()===3,e=t.getCellData().getScalars(),i=!!e&&e.getDataType()===ha.b.UNSIGNED_CHAR&&e.getNumberOfComponents()===3;return n&&i})}},{key:"colorByOptions",get:function(){var t=this;return this.geometries.map(function(v,n){return t.hasScalars[n]?[].concat(v.getPointData().getArrays().map(function(e){return{label:"Points: ".concat(e.getName()),value:"pointData:".concat(e.getName())}}),v.getCellData().getArrays().map(function(e){return{label:"Cells: ".concat(e.getName()),value:"cellData:".concat(e.getName())}})):null})}},{key:"colorByDefault",get:function(){var t=this;return this.geometries.map(function(v,n){if(!t.hasScalars[n])return null;var e=v.getPointData();if(e.getScalars()){var i=e.getActiveScalars(),c=e.getArrays()[i];return Object(hn.d)({label:"Points: ".concat(c.getName()),value:"pointData:".concat(c.getName())})}var l=v.getCellData();if(l.getScalars()){var y=l.getActiveScalars(),R=l.getArrays()[y];return Object(hn.d)({label:"Cells: ".concat(R.getName()),value:"cellData:".concat(R.getName())})}throw new Error("Should not reach here.")})}},{key:"selectedColorRange",get:function(){var t=this.selectedGeometryIndex;if(!this.hasScalars[t])return null;var v=this.colorBy[t].value;return this.colorRanges.get(t).get(v)}},{key:"selectedLookupTableProxy",get:function(){var t=this.selectedGeometryIndex;if(!this.hasScalars[t])return null;var v=this.representationProxies[t],n=v.getColorBy(),e=yc()(n,2),i=e[0],c=e[1];return v.getLookupTableProxy(i,c)}}]),o}(),d1=zn()(sa.prototype,"geometries",[f1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p1=zn()(sa.prototype,"selectedGeometryIndex",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g1=zn()(sa.prototype,"names",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m1=zn()(sa.prototype,"representations",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h1=zn()(sa.prototype,"colorMaps",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v1=zn()(sa.prototype,"colorBy",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y1=zn()(sa.prototype,"colors",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b1=zn()(sa.prototype,"opacities",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A1=zn()(sa.prototype,"colorRanges",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),zn()(sa.prototype,"hasScalars",[hn.c],Object.getOwnPropertyDescriptor(sa.prototype,"hasScalars"),sa.prototype),zn()(sa.prototype,"hasOnlyDirectColors",[hn.c],Object.getOwnPropertyDescriptor(sa.prototype,"hasOnlyDirectColors"),sa.prototype),zn()(sa.prototype,"colorByOptions",[hn.c],Object.getOwnPropertyDescriptor(sa.prototype,"colorByOptions"),sa.prototype),zn()(sa.prototype,"colorByDefault",[hn.c],Object.getOwnPropertyDescriptor(sa.prototype,"colorByDefault"),sa.prototype),zn()(sa.prototype,"selectedColorRange",[hn.c],Object.getOwnPropertyDescriptor(sa.prototype,"selectedColorRange"),sa.prototype),zn()(sa.prototype,"selectedLookupTableProxy",[hn.c],Object.getOwnPropertyDescriptor(sa.prototype,"selectedLookupTableProxy"),sa.prototype),sa),$2=(w1=hn.d.shallow,da=function(){function o(t){Wi()(this,o),this.eventEmitter=null,or()(this,"pointSets",x1,this),this.initialized=!1,this.sources=[],this.representationProxies=[],or()(this,"selectedPointSetIndex",S1,this),or()(this,"names",C1,this),or()(this,"representations",P1,this),or()(this,"colorMaps",O1,this),or()(this,"colorBy",T1,this),or()(this,"colors",I1,this),or()(this,"opacities",E1,this),or()(this,"sizes",R1,this),or()(this,"colorRanges",M1,this),this.colorRangesReactions=new Map,this.lengthPixelRatio=.1,this.eventEmitter=t}return Rs()(o,[{key:"hasScalars",get:function(){return this.pointSets.map(function(t){return!!t.getPointData().getScalars()})}},{key:"colorByOptions",get:function(){var t=this;return this.pointSets.map(function(v,n){return t.hasScalars[n]?[].concat(v.getPointData().getArrays().map(function(e){return{label:"".concat(e.getName()),value:"pointData:".concat(e.getName())}})):null})}},{key:"colorByDefault",get:function(){var t=this;return this.pointSets.map(function(v,n){if(!t.hasScalars[n])return null;var e=v.getPointData();if(e.getScalars()){var i=e.getActiveScalars(),c=e.getArrays()[i];return{label:"".concat(c.getName()),value:"pointData:".concat(c.getName())}}throw new Error("Should not reach here.")})}},{key:"selectedColorRange",get:function(){var t=this.selectedPointSetIndex;if(!this.hasScalars[t])return null;var v=this.colorBy[t].value;return this.colorRanges.get(t).get(v)}},{key:"selectedLookupTableProxy",get:function(){var t=this.selectedPointSetIndex;if(!this.hasScalars[t])return null;var v=this.representationProxies[t],n=v.getColorBy(),e=yc()(n,2),i=e[0],c=e[1];return v.getLookupTableProxy(i,c)}}]),o}(),x1=zn()(da.prototype,"pointSets",[w1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S1=zn()(da.prototype,"selectedPointSetIndex",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C1=zn()(da.prototype,"names",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P1=zn()(da.prototype,"representations",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O1=zn()(da.prototype,"colorMaps",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T1=zn()(da.prototype,"colorBy",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I1=zn()(da.prototype,"colors",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E1=zn()(da.prototype,"opacities",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R1=zn()(da.prototype,"sizes",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M1=zn()(da.prototype,"colorRanges",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),zn()(da.prototype,"hasScalars",[hn.c],Object.getOwnPropertyDescriptor(da.prototype,"hasScalars"),da.prototype),zn()(da.prototype,"colorByOptions",[hn.c],Object.getOwnPropertyDescriptor(da.prototype,"colorByOptions"),da.prototype),zn()(da.prototype,"colorByDefault",[hn.c],Object.getOwnPropertyDescriptor(da.prototype,"colorByDefault"),da.prototype),zn()(da.prototype,"selectedColorRange",[hn.c],Object.getOwnPropertyDescriptor(da.prototype,"selectedColorRange"),da.prototype),zn()(da.prototype,"selectedLookupTableProxy",[hn.c],Object.getOwnPropertyDescriptor(da.prototype,"selectedLookupTableProxy"),da.prototype),da),eg=(Mi=function(){function o(t){Wi()(this,o),this.eventEmitter=null,this.container=null,this.id="itk-vtk-viewer",this.proxyManager=null,this.itkVtkView=null,this.backgroundColors=[[0,0,0],[1,1,1],[.5,.5,.5]],this.selectedBackgroundColor=0,or()(this,"style",k1,this),this.mainUI=null,this.imageUI=null,this.geometriesUI=null,this.pointSetsUI=null,this.eventEmitter=new Y2.a,this.mainUI=new q2(this.eventEmitter),this.imageUI=new Z2(this.eventEmitter),this.geometriesUI=new J2(this.eventEmitter),this.pointSetsUI=new $2(this.eventEmitter),this.id="itk-vtk-viewer-"+performance.now().toString().replace(".",""),this.proxyManager=t,this.itkVtkView=t.createProxy("Views","ItkVtkView"),this.container=document.createElement("div"),this.itkVtkView.setContainer(this.container),this.itkVtkView.setBackground(this.style.backgroundColor),this.imageUI.source=t.createProxy("Sources","TrivialProducer",{name:"Image"})}return Rs()(o,[{key:"renderWindow",get:function(){return this.itkVtkView.getRenderWindow()}},{key:"isBackgroundDark",get:function(){var t=this.style.backgroundColor;return t[0]+t[1]+t[2]<1.5}}]),o}(),zn()(Mi.prototype,"isBackgroundDark",[hn.c],Object.getOwnPropertyDescriptor(Mi.prototype,"isBackgroundDark"),Mi.prototype),k1=zn()(Mi.prototype,"style",[hn.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{backgroundColor:[0,0,0],containerStyle:X2}}}),Mi);function tg(o,t){return o<t?-1:t<o?1:0}var ng=function(o){var t=o.imageUI.numberOfComponents;o.itkVtkView.setLabelIndex(t);var v=ta.a.newInstance();o.imageUI.labelMapLookupTableProxy=v;var n=o.imageUI.labelMap.getPointData().getScalars().getData(),e=new Set(n),i=Array.from(e);if(i.sort(tg),o.imageUI.labelMapLabels=i,!o.itkVtkView.getLabelNames()){for(var c=new Map,l=0;l<i.length;l++){var y=i[l];c.set(y,y.toString())}o.itkVtkView.setLabelNames(c)}var R=new Array(i.length);R.fill(1),i[0]===0&&(R[0]=.1),o.imageUI.labelMapWeights=hn.d.array(R),xl(v,i,o.imageUI.labelMapLookupTable);var _=o.imageUI.representationProxy.getVolumes()[0].getProperty(),$=d.newInstance();o.imageUI.piecewiseFunction=$,zi(o),_.setScalarOpacity(t,$);var re=v.getLookupTable();re.setMappingRange(i[0],i[i.length-1]),_.setRGBTransferFunction(t,re),_.setIndependentComponents(!0),_.setOpacityMode(t,Gt.b.PROPORTIONAL),o.imageUI.representationProxy.getActors().forEach(function(he){var Ee=he.getProperty();Ee.setIndependentComponents(!0),Ee.setRGBTransferFunction(t,re),Ee.setPiecewiseFunction(t,$)})},rg=a(81),ag=function(o,t){var v=o.imageUI.numberOfComponents,n=o.imageUI.totalIntensityComponents;o.imageUI.lookupTableProxies=new Array(n),o.imageUI.piecewiseFunctionProxies=new Array(n);for(var e=[],i=0;i<n;i++){var c=o.imageUI.visualizedComponents.indexOf(i)>=0;e.push({visible:c,weight:1})}o.imageUI.componentVisibilities=Object(hn.d)(e),o.imageUI.colorMaps=new Array(n),o.imageUI.colorRanges=new Array(n);var l=o.imageUI.representationProxy.getVolumes()[0].getProperty();l.setIndependentComponents(!0);var y=o.imageUI.image.getPointData().getScalars();y.getNumberOfComponents()!==n&&console.error("Mismatch between components in image scalars (".concat(y.getNumberOfComponents(),") and totalComponents (").concat(n,")"));for(var R=0;R<n;R++){o.imageUI.lookupTableProxies[R]=ta.a.newInstance(),o.imageUI.piecewiseFunctionProxies[R]={slice:ce.newInstance(),volume:ce.newInstance()},o.imageUI.independentComponents=!0;var _="Viridis (matplotlib)";if(!t||y.getDataType()!=="Uint8Array"||v!==3&&v!==4){if(v===1&&o.imageUI.labelMap)_="Grayscale";else if(v===2)switch(R){case 0:_="BkMa";break;case 1:_="BkCy"}else if(v===3)switch(R){case 0:_="BkRd";break;case 1:_="BkGn";break;case 2:_="BkBu"}}else _="Grayscale",o.imageUI.independentComponents=!1;o.imageUI.colorMaps[R]=_,o.imageUI.lookupTableProxies[R].setPresetName(_);var $=o.imageUI.lookupTableProxies[R].getLookupTable(),re=y.getRange(R);o.imageUI.colorRanges[R]=re,$.setMappingRange(re[0],re[1]);var he=o.imageUI.visualizedComponents.indexOf(R);if(he>=0){var Ee=o.imageUI.piecewiseFunctionProxies[R].volume.getPiecewiseFunction();l.setScalarOpacity(he,Ee),l.setRGBTransferFunction(he,$);var Se=o.imageUI.componentVisibilities[R];Se.visible?l.setComponentWeight(he,Se.weight):l.setComponentWeight(he,0)}}Object(rg.a)(o)},U1=a(86),og=a(64),ig=a(98),B1=a(85),Ac=function(o){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,v=o.imageUI.transferFunctionWidget,n=Nu.a.newInstance({button:t});n.setVerticalListener(0,150,1,function(){return 150*v.getGaussians()[0].width},function(e){var i=v.getGaussians().slice();i[0].width=e/150,o.imageUI.opacityGaussians[o.imageUI.selectedComponentIndex]=i,v.setGaussians(i)}),n.setHorizontalListener(0,150,1,function(){return 150*v.getGaussians()[0].position},function(e){var i=v.getGaussians().slice();i[0].position=e/150,o.imageUI.opacityGaussians[o.imageUI.selectedComponentIndex]=i,v.setGaussians(i)}),o.itkVtkView.getInteractorStyle2D().addMouseManipulator(n),o.itkVtkView.getInteractorStyle3D().addMouseManipulator(n)},sg=a(74),cg=a(84);function ki(o){var t=o.imageUI.image,v=o.imageUI.labelMap;if(t){var n=t.getPointData().getScalars().getNumberOfComponents();o.imageUI.maximumIntensityComponents=v?3:4;for(var e=Math.min(n,o.imageUI.maximumIntensityComponents),i=[],c=0;c<e;c++)i.push(c);o.imageUI.visualizedComponents.replace(i)}}p.a=function(o,t){var v=t.image,n=t.multiscaleImage,e=t.labelMap,i=t.multiscaleLabelMap,c=t.labelMapNames,l=t.geometries,y=t.pointSets,R=t.use2D,_=R!==void 0&&R,$=t.rotate,re=$===void 0||$,he=t.viewerStyle,Ee=(t.viewerState,t.uiContainer);if(bi.a.emptyContainer(o),!bi.a.checkForWebGL(o))throw new Error("WebGL could not be loaded.");var Se=Z.newInstance({proxyConfiguration:P2});window.addEventListener("resize",Se.resizeAllViews);var ee=new eg(Se);bi.a.applyContainerStyle(o,ee,he);var we=!1;function Fe(it){if(it.value!==null&&(ee.imageUI.selectedLabel=it.label,ee.imageUI.selectedLabel!=="all")){var un=ee.imageUI.labelMapWeights[ee.imageUI.selectedLabel];ee.imageUI.labelMapWeights[ee.imageUI.selectedLabel]=un===1?ee.imageUI.labelMapToggleWeight:1}}function Xe(it){zi(ee),ee.renderWindow.render()}function qe(it,un){ee.eventEmitter.listeners(it).indexOf(un)<0&&ee.eventEmitter.on(it,un)}bi.a.createMainUI(o,ee,_,Ee),Object(hn.e)(function(){return ee.imageUI.image,ee.imageUI.visualizedComponents.slice(),ee.imageUI.labelMap,ee.imageUI.fusedImageLabelMap},function(it){if(ee.eventEmitter.emit("fusingStatusChanged",!1),it){var un=!1;if(ee.imageUI.representationProxy||(un=!0,ee.imageUI.source.setInputData(it),Se.createRepresentationInAllViews(ee.imageUI.source),ee.imageUI.representationProxy=Se.getRepresentation(ee.imageUI.source,ee.itkVtkView),_?(ee.itkVtkView.setViewMode("ZPlane"),ee.itkVtkView.setOrientationAxesVisibility(!1)):ee.itkVtkView.setViewMode("VolumeRendering"),ee.container.querySelector(".js-se").style.fontFamily="monospace"),c&&ee.itkVtkView.setLabelNames(c),ee.imageUI.image&&(ag(ee,_),Object(U1.a)(ee)),ee.imageUI.labelMap&&ng(ee),ee.imageUI.image&&!ee.imageUI.imageUIGroup&&bi.a.createImageUI(ee,_),ee.imageUI.labelMap&&!ee.imageUI.labelMapColorUIGroup&&(B2(ee,ee.mainUI.uiContainer),F2(ee,ee.mainUI.uiContainer)),_||ee.imageUI.placeIndexUIGroup||L2(ee,ee.mainUI.uiContainer),!un){if(we)return;we=!0,ee.imageUI.source.setInputData(it),Object(U1.a)(ee);var Cn=ee.imageUI.transferFunctionWidget;Cn&&(Cn.setDataArray(ee.imageUI.image.getPointData().getScalars().getData(),{numberOfComponents:ee.imageUI.totalIntensityComponents,component:ee.imageUI.selectedComponentIndex}),Cn.invokeOpacityChange(Cn),Cn.modified()),ee.imageUI.croppingWidget.setVolumeMapper(ee.imageUI.representationProxy.getMapper()),ee.imageUI.representationProxy.getCropFilter().reset(),ee.imageUI.croppingWidget.resetWidgetState(),setTimeout(function(){Cn&&Cn.render(),Object(og.a)(ee),ee.imageUI.numberOfComponents===1&&ee.imageUI.labelMap&&(ee.imageUI.colorMaps[0]="Grayscale",ee.imageUI.lookupTableProxies[0].setPresetName("Grayscale")),Sl(ee),ee.renderWindow.render(),we=!1},0)}(ee.imageUI.image||ee.imageUI.labelMap)&&(ee.itkVtkView.setClickCallback(function(yr){ee.imageUI.lastPickedValues=yr}),qe("imagePicked",Fe),qe("viewModeChanged",Xe))}}),ee.imageUI.image=v,ki(ee),e&&(ee.imageUI.labelMap=e,ki(ee)),Object(hn.b)(function(){ee.imageUI.haveOnlyLabelMap&&(ee.imageUI.labelMapBlend=1)}),Object(hn.e)(function(){var it=ee.imageUI.multiscaleLabelMap;return{multiscaleImage:ee.imageUI.multiscaleImage,multiscaleLabelMap:it}},function(){var it=U()(w.a.mark(function un(Cn){var yr,Ar,er,tr,Rr,Cr;return w.a.wrap(function(wa){for(;;)switch(wa.prev=wa.next){case 0:if(yr=Cn.multiscaleImage,Ar=Cn.multiscaleLabelMap,yr||Ar){wa.next=3;break}return wa.abrupt("return");case 3:if(!Ar){wa.next=10;break}return wa.next=6,Ar.topLevelLargestImage();case 6:er=wa.sent,tr=ae.a.convertItkToVtkImage(er),ee.imageUI.labelMap=tr,ki(ee);case 10:if(!yr){wa.next=17;break}return wa.next=13,yr.topLevelLargestImage();case 13:Rr=wa.sent,Cr=ae.a.convertItkToVtkImage(Rr),ee.imageUI.image=Cr,ki(ee);case 17:case"end":return wa.stop()}},un)}));return function(un){return it.apply(this,arguments)}}()),ee.imageUI.multiscaleImage=n,ee.imageUI.multiscaleLabelMap=i;for(var tt=ee.imageUI.numberOfComponents-1;tt>=0;tt--)ee.imageUI.selectedComponentIndex=tt;Object(hn.e)(function(){return!!ee.geometriesUI.geometries&&ee.geometriesUI.geometries.slice()},function(it){if(it&&it.length!==0){it.forEach(function(yr,Ar){if(ee.geometriesUI.sources.length<=Ar){var er="GeometrySource".concat(Ar),tr=Se.createProxy("Sources","TrivialProducer",{name:er});ee.geometriesUI.sources.push(tr),ee.geometriesUI.sources[Ar].setInputData(yr),Se.createRepresentationInAllViews(tr);var Rr=Se.getRepresentation(tr,ee.itkVtkView);ee.geometriesUI.representationProxies.push(Rr)}else ee.geometriesUI.sources[Ar].setInputData(yr),ee.geometriesUI.representationProxies[Ar].setVisibility(!0)}),it.length<ee.geometriesUI.representationProxies.length&&ee.geometriesUI.representationProxies.slice(it.length).forEach(function(yr){yr.setVisibility(!1)}),ee.geometriesUI.initialized||bi.a.createGeometriesUI(ee),ee.geometriesUI.names=it.map(function(yr,Ar){return"Geometry ".concat(Ar)});var un=ee.geometriesUI.representations.slice(0,it.length),Cn=new Array(it.length);Cn.fill("Surface"),un.concat(Cn.slice(0,it.length-un.length)),ee.geometriesUI.representations=un}}),ee.geometriesUI.geometries=l,Object(hn.e)(function(){return!!ee.pointSetsUI.pointSets&&ee.pointSetsUI.pointSets.slice()},function(it){it&&it.length!==0&&(it.forEach(function(un,Cn){if(ee.pointSetsUI.sources.length<=Cn){var yr="PointSetSource".concat(Cn),Ar=Se.createProxy("Sources","TrivialProducer",{name:yr});ee.pointSetsUI.sources.push(Ar),ee.pointSetsUI.sources[Cn].setInputData(un);var er="pointSetRepresentation".concat(Cn),tr=Se.createProxy("Representations","PointSet",{name:er});tr.setInput(Ar),tr.setRadiusFactor(ee.pointSetsUI.lengthPixelRatio),ee.itkVtkView.addRepresentation(tr),ee.pointSetsUI.representationProxies.push(tr)}else ee.pointSetsUI.sources[Cn].setInputData(un),ee.pointSetsUI.representationProxies[Cn].setVisibility(!0)}),it.length<ee.pointSetsUI.representationProxies.length&&ee.pointSetsUI.representationProxies.slice(it.length).forEach(function(un){un.setVisibility(!1)}),ee.pointSetsUI.initialized||bi.a.createPointSetsUI(ee))}),ee.pointSetsUI.pointSets=y,ee.itkVtkView.resize(),new Ie.a(ee.container,function(){ee.itkVtkView.resize()}),Se.renderAllViews(),setTimeout(function(){ee.itkVtkView.resetCamera();var it=ee.itkVtkView.getLengthPixelRatio();ee.pointSetsUI.lengthPixelRatio=it,ee.pointSetsUI.representationProxies.forEach(function(un){un.setRadiusFactor(it)})},1),Object(hn.e)(function(){return ee.mainUI.fpsTooLow},function(it){}),ee.renderWindow.getInteractor().onAnimation(function(){var it=1/ee.renderWindow.getInteractor().getLastFrameTime(),un=ee.mainUI.fps;un.push(it),un.shift(),Math.round((un[0]+un[1]+un[2])/3)<20&&(ee.mainUI.fpsTooLow=!0)});var Ye={renderLater:function(){ee.itkVtkView.renderLater()}},gt=ee.id;Ye.getStore=function(){return ee},Ye.getImage=function(){return ee.imageUI.image},Ye.setImage=r.b.throttle(function(it){ee.imageUI.image=it,ki(ee)},100),Ye.getLookupTableProxies=function(){return ee.imageUI.lookupTableProxies},Ye.setPointSets=function(it){ee.pointSetsUI.pointSets=it},Ye.setGeometries=function(it){ee.geometriesUI.geometries=it},Ye.setLabelMap=function(it){ee.imageUI.labelMap=it,ki(ee)},Ye.setLabelMapNames=function(it){ee.itkVtkView.setLabelNames(it)},Ye.getLabelMapNames=function(){return ee.itkVtkView.getLabelNames()},Ye.setUserInterfaceCollapsed=function(it){var un=ee.mainUI.collapsed;(it&&!un||!it&&un)&&(ee.mainUI.collapsed=!un)},Ye.getUserInterfaceCollapsed=function(){return ee.mainUI.collapsed};var At=ee.eventEmitter,Vt=["imagePicked","labelMapBlendChanged","labelMapWeightsChanged","toggleUserInterfaceCollapsed","opacityGaussiansChanged","componentVisibilitiesChanged","toggleAnnotations","toggleAxes","toggleRotate","toggleFullscreen","toggleInterpolation","toggleCroppingPlanes","croppingPlanesChanged","resetCrop","colorRangesChanged","selectColorMap","selectLookupTable","viewModeChanged","xSliceChanged","ySliceChanged","zSliceChanged","toggleShadow","toggleSlicingPlanes","gradientOpacityChanged","blendModeChanged","pointSetColorChanged","pointSetOpacityChanged","pointSetSizeChanged","pointSetRepresentationChanged","backgroundColorChanged","volumeSampleDistanceChanged","fusingStatusChanged"];Ye.getEventNames=function(){return Vt},Ye.on=function(){return At.on.apply(At,arguments)},Ye.off=function(){return At.off.apply(At,arguments)},Ye.once=function(){return At.once.apply(At,arguments)},Ye.getEventEmitter=function(){return At},Object(hn.e)(function(){return ee.imageUI.lastPickedValues},function(){var it=ee.imageUI.lastPickedValues;At.emit("imagePicked",Object(hn.f)(it))}),Object(hn.e)(function(){return ee.imageUI.labelMapBlend},function(it){At.emit("labelMapBlendChanged",it)}),Ye.getLabelMapBlend=function(){return ee.imageUI.labelMapBlend},Ye.setLabelMapBlend=function(it){ee.imageUI.labelMapBlend=it},Object(hn.e)(function(){return ee.imageUI.labelMapWeights.slice()},function(){var it=ee.imageUI.labelMapLabels.slice(),un=ee.imageUI.labelMapWeights.slice();At.emit("labelMapWeightsChanged",{labels:it,weights:un})}),Ye.setLabelMapWeights=function(it){return it.length!==ee.imageUI.labelMapWeights.length?(console.error("Provided ".concat(it.length," weights, expecting ").concat(ee.imageUI.labelMapWeights.length)),!1):(ee.imageUI.labelMapWeights.replace(it),zi(ee),ee.renderWindow.render(),!0)},Ye.updateLabelMapWeights=function(it){var un=it.labels,Cn=it.weights,yr=[];return un.forEach(function(Ar,er){var tr=ee.imageUI.labelMapLabels.indexOf(Ar);tr>=0&&(yr.push(er),ee.imageUI.labelMapWeights[tr]=Cn[er])}),yr.length>0&&(zi(ee,yr),ee.renderWindow.render(),!0)},Ye.getLabelMapWeights=function(){return{labels:ee.imageUI.labelMapLabels.slice(),weights:ee.imageUI.labelMapWeights.slice()}},Object(hn.b)(function(){var it=ee.mainUI.collapsed;At.emit("toggleUserInterfaceCollapsed",it)}),Ye.getOpacityGaussians=function(){return ee.imageUI.opacityGaussians.slice()},Ye.setOpacityGaussians=function(it){ee.imageUI.opacityGaussians.replace(it),Object(_2.a)(ee),ee.renderWindow.render()},Object(hn.e)(function(){return ee.imageUI.opacityGaussians.map(function(it,un){return it.map(function(Cn,yr){return"".concat(un,":").concat(yr,":").concat(Cn.position,":").concat(Cn.height,":").concat(Cn.width,":").concat(Cn.xBias,":").concat(Cn.yBias)})})},r.b.debounce(function(){At.emit("opacityGaussiansChanged",Object(hn.f)(ee.imageUI.opacityGaussians))},100)),Ye.getComponentVisibilities=function(){return ee.imageUI.componentVisibilities.map(function(it){return it.visible})},Ye.setComponentVisibilities=function(it){it.forEach(function(un,Cn){ee.imageUI.componentVisibilities[Cn].visible=un})},Object(hn.e)(function(){return ee.imageUI.componentVisibilities.map(function(it){return it.visible})},function(it){At.emit("componentVisibilitiesChanged",it)}),(window.screen.availWidth<768||window.screen.availHeight<800)&&Ye.setUserInterfaceCollapsed(!0),Ye.captureImage=function(){return ee.itkVtkView.captureImage()},Object(hn.b)(function(){var it=ee.mainUI.annotationsEnabled;At.emit("toggleAnnotations",it)}),Ye.setAnnotationsEnabled=function(it){var un=ee.mainUI.annotationsEnabled;(it&&!un||!it&&un)&&(ee.mainUI.annotationsEnabled=it)},Object(hn.b)(function(){var it=ee.mainUI.axesEnabled;At.emit("toggleAxes",it)}),Ye.setAxesEnabled=function(it){var un=ee.mainUI.axesEnabled;(it&&!un||!it&&un)&&(ee.mainUI.axesEnabled=it)},Object(hn.b)(function(){var it=ee.mainUI.rotateEnabled;At.emit("toggleRotate",it)}),Ye.setRotateEnabled=function(it){var un=ee.mainUI.rotateEnabled;(it&&!un||!it&&un)&&(ee.mainUI.rotateEnabled=it)},Object(hn.b)(function(){var it=ee.mainUI.fullscreenEnabled;At.emit("toggleFullscreen",it)}),Ye.setFullscreenEnabled=function(it){var un=ee.mainUI.fullscreenEnabled;(it&&!un||!it&&un)&&(ee.mainUI.fullscreenEnabled=it)},Object(hn.b)(function(){var it=ee.mainUI.interpolationEnabled;At.emit("toggleInterpolation",it)}),Ye.setInterpolationEnabled=function(it){var un=ee.mainUI.interpolationEnabled;(it&&!un||!it&&un)&&(ee.mainUI.interpolationEnabled=it)},Object(hn.b)(function(){var it=ee.mainUI.croppingPlanesEnabled;At.emit("toggleCroppingPlanes",it)}),Ye.setCroppingPlanesEnabled=function(it){var un=ee.mainUI.croppingPlanesEnabled;(it&&!un||!it&&un)&&(ee.mainUI.croppingPlanesEnabled=it)},Object(hn.b)(function(){var it=ee.imageUI.colorRanges;At.emit("colorRangesChanged",it)}),Ye.setColorRange=function(it,un){var Cn=ee.imageUI.colorRanges[it];Cn[0]===un[0]&&Cn[1]===un[1]||(ee.imageUI.colorRanges[it]=un)},Ye.getColorRange=function(it){return ee.imageUI.colorRanges[it]},Object(hn.b)(function(){var it=ee.imageUI.selectedComponentIndex;if(ee.imageUI.colorMaps){var un=ee.imageUI.colorMaps[it];At.emit("selectColorMap",it,un)}}),Ye.setColorMap=function(it){var un=ee.imageUI.selectedComponentIndex,Cn=ee.imageUI.colorMaps[un],yr=ee.imageUI.lookupTableProxies[un],Ar=ee.imageUI.transferFunctionWidget,er=ee.imageUI.piecewiseFunctionProxies[un].volume.getPiecewiseFunction(),tr=yr.getLookupTable();if(Cn!==it){yr.setPresetName(it),Ar.applyOpacity(er);var Rr=Ar.getOpacityRange();Rr&&tr.setMappingRange.apply(tr,f()(Rr)),tr.updateRange(),Ar.render(),ee.imageUI.colorMaps[un]=it,ee.renderWindow.render()}},Ye.getColorMap=function(it){return ee.imageUI.colorMaps[it]},Ye.setColorMapFromRGBPoints=function(it){Object(ig.a)(ee,it,{})},Ye.set3DPreset=function(it){Object(B1.a)(ee,it)},Ye.saveTemporary3DPreset=function(){Object(cg.a)(ee,{storeTempPreset:!0})},Ye.restoreTemporary3DPreset=function(){Object(B1.a)(ee,ee.imageUI.tempPreset)},Object(hn.b)(function(){var it=ee.imageUI.labelMapLookupTable;At.emit("selectLookupTable",it)}),Ye.setLookupTable=function(it){ee.imageUI.labelMapLookupTable!==it&&(ee.imageUI.labelMapLookupTable=it)},Ye.getLookupTable=function(){return ee.imageUI.labelMapLookupTable},_||(Object(hn.e)(function(){return ee.mainUI.viewMode},function(it){switch(it){case"XPlane":At.emit("viewModeChanged","XPlane");break;case"YPlane":At.emit("viewModeChanged","YPlane");break;case"ZPlane":At.emit("viewModeChanged","ZPlane");break;case"VolumeRendering":At.emit("viewModeChanged","VolumeRendering");break;default:console.error("Invalid view mode: "+it)}}),Ye.setViewMode=function(it){v&&(ee.mainUI.viewMode=it)},Object(hn.e)(function(){return ee.imageUI.xSlice},function(it){At.emit("xSliceChanged",it)}),Ye.setXSlice=function(it){ee.imageUI.xSlice!==parseFloat(it)&&(ee.imageUI.xSlice=it)},Ye.getXSlice=function(){return ee.imageUI.xSlice},Object(hn.e)(function(){return ee.imageUI.ySlice},function(it){At.emit("ySliceChanged",it)}),Ye.setYSlice=function(it){ee.imageUI.ySlice!==parseFloat(it)&&(ee.imageUI.ySlice=it)},Ye.getYSlice=function(){return ee.imageUI.ySlice},Object(hn.e)(function(){return ee.imageUI.zSlice},function(it){At.emit("zSliceChanged",it)}),Ye.setZSlice=function(it){ee.imageUI.zSlice!==parseFloat(it)&&(ee.imageUI.zSlice=it)},Ye.getZSlice=function(){return ee.imageUI.zSlice},Object(hn.b)(function(){var it=ee.imageUI.useShadow;At.emit("toggleShadow",it)}),Ye.setShadowEnabled=function(it){var un=ee.imageUI.useShadow;(it&&!un||!it&&un)&&(ee.imageUI.useShadow=it)},Object(hn.b)(function(){var it=ee.imageUI.slicingPlanesEnabled;At.emit("toggleSlicingPlanes",it)}),Ye.setSlicingPlanesEnabled=function(it){var un=ee.imageUI.slicingPlanesEnabled;(it&&!un||!it&&un)&&(ee.imageUI.slicingPlanesEnabled=it)},Object(hn.b)(function(){var it=ee.imageUI.gradientOpacity;At.emit("gradientOpacityChanged",it)}),Ye.setGradientOpacity=function(it){ee.imageUI.gradientOpacity!==parseFloat(it)&&(ee.imageUI.gradientOpacity=it)},Ye.getGradientOpacity=function(){return ee.imageUI.gradientOpacity},Object(hn.b)(function(){var it=ee.imageUI.volumeSampleDistance;At.emit("volumeSampleDistanceChanged",it)}),Ye.setVolumeSampleDistance=function(it){ee.imageUI.volumeSampleDistance!==parseFloat(it)&&(ee.imageUI.volumeSampleDistance=it)},Ye.getVolumeSampleDistance=function(){return ee.imageUI.volumeSampleDistance},Object(hn.b)(function(){var it=ee.imageUI.blendMode;At.emit("blendModeChanged",it)}),Ye.setBlendMode=function(it){ee.imageUI.blendMode!==parseInt(it)&&(ee.imageUI.blendMode=it)},Ye.getBlendMode=function(){return ee.imageUI.blendMode}),Object(hn.e)(function(){return ee.pointSetsUI.colors.slice()},function(it){var un=ee.pointSetsUI.selectedPointSetIndex,Cn=it[un];At.emit("pointSetColorChanged",un,Cn)}),Ye.setPointSetColor=function(it,un){var Cn=D1(un);it<ee.pointSetsUI.colors.length&&(ee.pointSetsUI.colors[it]=Cn)},Ye.getPointSetColor=function(it){ee.pointSetsUI.colors[it];var un=Object(G2.a)(un);return un},Object(hn.e)(function(){return ee.pointSetsUI.opacities.slice()},function(it){var un=ee.pointSetsUI.selectedPointSetIndex,Cn=it[un];At.emit("pointSetOpacityChanged",un,Cn)}),Ye.setPointSetOpacity=function(it,un){it<ee.pointSetsUI.opacities.length&&(ee.pointSetsUI.opacities[it]=un)},Ye.getPointSetOpacity=function(it){return ee.pointSetsUI.opacities[it]},Object(hn.e)(function(){return ee.pointSetsUI.sizes.slice()},function(it){var un=ee.pointSetsUI.selectedPointSetIndex,Cn=it[un];At.emit("pointSetSizeChanged",un,Cn)}),Ye.setPointSetSize=function(it,un){it<ee.pointSetsUI.sizes.length&&(ee.pointSetsUI.sizes[it]=un)},Ye.getPointSetSize=function(it){return ee.pointSetsUI.sizes[it]},Object(hn.e)(function(){return ee.pointSetsUI.representations.slice()},function(it){var un=ee.pointSetsUI.selectedPointSetIndex,Cn=it[un];At.emit("pointSetRepresentationChanged",un,Cn)}),Ye.setPointSetRepresentation=function(it,un){it<ee.pointSetsUI.representations.length&&(ee.pointSetsUI.representations[it]=un)},Ye.setGeometryColor=function(it,un){var Cn=D1(un);ee.geometriesUI.colors[it]=Cn},Ye.setGeometryOpacity=function(it,un){ee.geometriesUI.opacities[it]=un},Ye.setBackgroundColor=function(it){ee.style.backgroundColor=it,ee.itkVtkView.getRenderer().setBackground(ee.style.backgroundColor),ee.renderWindow.render()},Ye.getBackgroundColor=function(){return ee.style.backgroundColor.slice()},Object(hn.e)(function(){return ee.style.backgroundColor.slice()},function(it){At.emit("backgroundColorChanged",it)}),Ye.getViewProxy=function(){return ee.itkVtkView},j2(o,Ye,gt),_||Ye.setRotateEnabled(re);var Jt=document.createElement("div");Jt.classList.add("3d-command-button");var vn=document.createElement("button");vn.innerHTML="Rotate",Jt.appendChild(vn);var Zt=document.createElement("button");Zt.innerHTML="Window",Jt.appendChild(Zt);var on=document.createElement("button");on.innerHTML="Zoom",Jt.appendChild(on);var Tn=document.createElement("button");Tn.innerHTML="Pan",Jt.appendChild(Tn);var En=document.createElement("button");En.innerHTML="Crop",Jt.appendChild(En);var jn=document.createElement("button");jn.innerHTML="Reset",Jt.appendChild(jn);var Nn=document.createElement("button");Nn.innerHTML="Random colorMap",Jt.appendChild(Nn),ee.mainUI.uiContainer.appendChild(Jt);var Un=["KAAMS","Cool to Warm","Cool to Warm (Extended)","Warm to Cool","Warm to Cool (Extended)","Rainbow Desaturated","Cold and Hot","Black-Body Radiation","X Ray","Grayscale","BkRd","BkGn","BkBu","BkMa","BkCy","Black, Blue and White","Black, Orange and White","Linear YGB 1211g","Linear Green (Gr4L)","Linear Blue (8_31f)","Blue to Red Rainbow","Red to Blue Rainbow","Rainbow Blended White","Rainbow Blended Grey","Rainbow Blended Black","Blue to Yellow","blot","CIELab Blue to Red","jet","rainbow","erdc_rainbow_bright","erdc_rainbow_dark","nic_CubicL","nic_CubicYF","gist_earth","2hot","erdc_red2yellow_BW","erdc_marine2gold_BW","erdc_blue2gold_BW","erdc_sapphire2gold_BW","erdc_red2purple_BW","erdc_purple2pink_BW","erdc_pbj_lin","erdc_blue2green_muted","erdc_blue2green_BW","GREEN-WHITE_LINEAR","erdc_green2yellow_BW","blue2cyan","erdc_blue2cyan_BW","erdc_blue_BW","BLUE-WHITE","erdc_purple_BW","erdc_magenta_BW","magenta","RED-PURPLE","erdc_red_BW","RED_TEMPERATURE","erdc_orange_BW","heated_object","erdc_gold_BW","erdc_brown_BW","copper_Matlab","pink_Matlab","bone_Matlab","gray_Matlab","Purples","Blues","Greens","PuBu","BuPu","BuGn","GnBu","GnBuPu","BuGnYl","PuRd","RdPu","Oranges","Reds","RdOr","BrOrYl","RdOrYl","CIELab_blue2red","blue2yellow","erdc_blue2gold","erdc_blue2yellow","erdc_cyan2orange","erdc_purple2green","erdc_purple2green_dark","coolwarm","BuRd","Spectral_lowBlue","GnRP","GYPi","GnYlRd","GBBr","PuOr","PRGn","PiYG","OrPu","BrBG","GyRd","erdc_divHi_purpleGreen","erdc_divHi_purpleGreen_dim","erdc_divLow_icePeach","erdc_divLow_purpleGreen","Haze_green","Haze_lime","Haze","Haze_cyan","nic_Edge","erdc_iceFire_H","erdc_iceFire_L","hsv","hue_L60","Spectrum","Warm","Cool","Blues","Wild Flower","Citrus","Brewer Diverging Purple-Orange (11)","Brewer Diverging Purple-Orange (10)","Brewer Diverging Purple-Orange (9)","Brewer Diverging Purple-Orange (8)","Brewer Diverging Purple-Orange (7)","Brewer Diverging Purple-Orange (6)","Brewer Diverging Purple-Orange (5)","Brewer Diverging Purple-Orange (4)","Brewer Diverging Purple-Orange (3)","Brewer Diverging Spectral (11)","Brewer Diverging Spectral (10)","Brewer Diverging Spectral (9)","Brewer Diverging Spectral (8)","Brewer Diverging Spectral (7)","Brewer Diverging Spectral (6)","Brewer Diverging Spectral (5)","Brewer Diverging Spectral (4)","Brewer Diverging Spectral (3)","Brewer Diverging Brown-Blue-Green (11)","Brewer Diverging Brown-Blue-Green (10)","Brewer Diverging Brown-Blue-Green (9)","Brewer Diverging Brown-Blue-Green (8)","Brewer Diverging Brown-Blue-Green (7)","Brewer Diverging Brown-Blue-Green (6)","Brewer Diverging Brown-Blue-Green (5)","Brewer Diverging Brown-Blue-Green (4)","Brewer Diverging Brown-Blue-Green (3)","Brewer Sequential Blue-Green (9)","Brewer Sequential Blue-Green (8)","Brewer Sequential Blue-Green (7)","Brewer Sequential Blue-Green (6)","Brewer Sequential Blue-Green (5)","Brewer Sequential Blue-Green (4)","Brewer Sequential Blue-Green (3)","Brewer Sequential Yellow-Orange-Brown (9)","Brewer Sequential Yellow-Orange-Brown (8)","Brewer Sequential Yellow-Orange-Brown (7)","Brewer Sequential Yellow-Orange-Brown (6)","Brewer Sequential Yellow-Orange-Brown (5)","Brewer Sequential Yellow-Orange-Brown (4)","Brewer Sequential Yellow-Orange-Brown (3)","Brewer Sequential Blue-Purple (9)","Brewer Sequential Blue-Purple (8)","Brewer Sequential Blue-Purple (7)","Brewer Sequential Blue-Purple (6)","Brewer Sequential Blue-Purple (5)","Brewer Sequential Blue-Purple (4)","Brewer Sequential Blue-Purple (3)","Brewer Qualitative Accent","Brewer Qualitative Dark2","Brewer Qualitative Set2","Brewer Qualitative Pastel2","Brewer Qualitative Pastel1","Brewer Qualitative Set1","Brewer Qualitative Paired","Brewer Qualitative Set3","Traffic Lights","Traffic Lights For Deuteranopes","Traffic Lights For Deuteranopes 2","Muted Blue-Green","Green-Blue Asymmetric Divergent (62Blbc)","Asymmtrical Earth Tones (6_21b)","Yellow 15","Magma (matplotlib)","Inferno (matplotlib)","Plasma (matplotlib)","Viridis (matplotlib)","BlueObeliskElements"];vn.addEventListener("click",function(){Ye.setActiveTool("Rotate")}),Zt.addEventListener("click",function(){Ye.setActiveTool("Wwwc")}),on.addEventListener("click",function(){Ye.setActiveTool("Zoom")}),Tn.addEventListener("click",function(){Ye.setActiveTool("Pan")}),En.addEventListener("click",function(){Ye.togglePassiveTool("Crop")}),jn.addEventListener("click",function(){Ye.resetViewport()});var Xn=0;Nn.addEventListener("click",function(){console.log("select color map index",Xn,Un[Xn]),Ye.setColorMap(Un[Xn]),Xn=(Xn+1)%Un.length});var Qn=[{type:"pan",options:{button:3}},{type:"zoom",options:{dragEnabled:!1,scrollEnabled:!0}},{type:"rotate",options:{button:1,control:!0}}],Er={Rotate:[{type:"rotate",options:{button:1}}].concat(Qn),Zoom:[{type:"zoom",options:{button:1}}].concat(Qn),Pan:[{type:"pan",options:{button:1}}].concat(Qn)};return Ye.setActiveTool=function(it){switch(ee.activeTool=it,ee.itkVtkView.getInteractorStyle3D().removeAllMouseManipulators(),it){case"Rotate":ee.itkVtkView.setPresetToInteractor3D(Er.Rotate);break;case"Wwwc":ee.itkVtkView.setPresetToInteractor3D(Qn),Ac(ee,1);break;case"Zoom":ee.itkVtkView.setPresetToInteractor3D(Er.Zoom);break;case"Pan":ee.itkVtkView.setPresetToInteractor3D(Er.Pan)}Ac(ee,2)},Ac(ee,2),Ye.togglePassiveTool=function(it){switch(it){case"Crop":Ye.setCroppingPlanesEnabled(!ee.mainUI.croppingPlanesEnabled)}},Ye.resetViewport=function(){ee.imageUI.representationProxy.getCropFilter().reset(),ee.imageUI.croppingWidget.resetWidgetState(),ee.itkVtkView.resetCamera()},Ye.addPresetColorMap=function(it){sg.a.addPreset(it)},Ye.getTransferFunctionWidget=function(){return ee.imageUI.transferFunctionWidget},Ye.getRepresentationProxy=function(){return ee.imageUI.representationProxy},Ye.deleteStore=function(){var it=function(un){un&&Object.entries(un).forEach(function(Cn){Cn[1]&&Cn[1].delete&&Cn[1].isDeleted&&(Cn[1].isDeleted()||Cn[1].delete())})};it(ee.imageUI),it(ee.mainUI),it(ee.geometriesUI),it(ee.pointSetsUI),it(ee.itkVtkView),it(ee.proxyManager),it(ee),Object.entries(ee).forEach(function(un){delete ee[un[0]]})},Ye.releaseMemory=function(){ee.imageUI.representationProxy.getVolumes()[0].delete(),ee.imageUI.representationProxy.getMapper().delete(),ee.imageUI.lookupTableProxies[0].getLookupTable().delete(),ee.imageUI.lookupTableProxies[0].delete(),ee.imageUI.transferFunctionWidget.unbindMouseListeners(),ee.renderWindow.delete(),Ye.deleteStore()},Ye}},function(g,p,a){(function(u){a.d(p,"a",function(){return q}),a.d(p,"b",function(){return H});var f=a(11),P=a.n(f),U=a(6),m=a.n(U),w=a(89),r=a(192),b=a(143),C=a(144),A=a(106),x=a(27),E=a.n(x),M=a(58),S=a.n(M),D=a(146),V=a.n(D),d=a(82),O=a.n(d),F=a(19),I=(a(233),a(149)),L=a(48),G=a.n(L),z=a(35),B=a(25),Y=a(62),q=function(){var ne=P()(m.a.mark(function Ae(ce,ye){var K,j,ve,Pe,Oe,xe,Ve,me,pe;return m.a.wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return K=ye.files,j=ye.image,ve=ye.multiscaleImage,Pe=ye.labelMap,Oe=ye.multiscaleLabelMap,xe=ye.labelMapNames,Ve=ye.rotate,me=ye.use2D,B.a.emptyContainer(ce),B.a.createLoadingProgress(ce),ke.next=5,H({files:K,image:j,multiscaleImage:ve,labelMap:Pe,multiscaleLabelMap:Oe,labelMapNames:xe,use2D:me});case 5:return(pe=ke.sent).rotate=Ve,ke.abrupt("return",Object(Y.a)(ce,pe));case 8:case"end":return ke.stop()}},Ae)}));return function(Ae,ce){return ne.apply(this,arguments)}}(),H=function(){var ne=P()(m.a.mark(function Ae(ce){var ye,K,j,ve,Pe,Oe,xe,Ve,me,pe,ke,X,Z,ae,Ue,Ie,le,ge,ze,nt,st,Ge,N,W,de,ie,_e,Ze,ft,at,ht;return m.a.wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:return ye=ce.files,K=ce.image,j=ce.multiscaleImage,ve=ce.labelMap,Pe=ce.multiscaleLabelMap,Oe=ce.labelMapNames,ce.rotate,xe=ce.use2D,Ve=r.a,(ye.length<2||K||j)&&(Ve=function(){return Promise.reject("Skip DICOM series read attempt")}),Ct.prev=3,Ct.next=6,Ve(ye);case 6:return me=Ct.sent,pe=me.image,me.webWorkerPool,ke=z.a.convertItkToVtkImage(pe),X=pe.imageType.dimension===3&&!xe,Ct.abrupt("return",{image:ke,multiscaleImage:j,labelMap:ve,multiscaleLabelMap:Pe,use2D:!X});case 14:return Ct.prev=14,Ct.t0=Ct.catch(3),Z=Array.from(ye).map(function(Kt){var nn=S()(Kt.name);if(nn==="vti")return G.a.readAsArrayBuffer(Kt).then(function(He){var Nt=I.a.newInstance();return Nt.parseAsArrayBuffer(He),Promise.resolve({is3D:!0,data:Nt.getOutputData(0)})});if(O.a.has(nn))return Object(C.a)(null,Kt).then(function(He){var Nt=He.polyData;return He.webWorker.terminate(),Promise.resolve({is3D:!0,data:Object(F.a)(Nt)})}).catch(function(He){return Promise.reject(He)});if(V.a.has(nn)){var oe=!0,St=performance.now(),Ce=null;return Object(b.a)(null,Kt).then(function(He){var Nt=He.mesh,Dt=He.webWorker,On=performance.now(),Lt=Number(On-St).toFixed(1).toString();console.log("Mesh reading took "+Lt+" milliseconds."),Dt.terminate();var An=["mesh.json","polyData.json"],dt=[{path:An[1],type:E.a.vtkPolyData}],zt=[{path:An[0],type:E.a.Mesh,data:Nt}];return oe=Nt.meshType.dimension===3,Ce=performance.now(),Object(A.a)(null,"MeshToPolyData",An,dt,zt)}).then(function(He){var Nt=He.outputs,Dt=He.webWorker,On=performance.now(),Lt=Number(On-Ce).toFixed(1).toString();return console.log("Mesh conversion took "+Lt+" milliseconds."),Dt.terminate(),Promise.resolve({is3D:oe,data:Object(F.a)(Nt[0].data)})}).catch(function(He){return Object(w.a)(null,Kt).then(function(Nt){var Dt=Nt.image;Nt.webWorker.terminate(),oe=Dt.imageType.dimension===3&&!xe;var On=z.a.convertItkToVtkImage(Dt);return Promise.resolve({is3D:oe,data:On})}).catch(function(Nt){return Promise.reject(Nt)})})}return Object(w.a)(null,Kt).then(function(He){var Nt=He.image;He.webWorker.terminate();var Dt=Nt.imageType.dimension===3&&!xe,On=z.a.convertItkToVtkImage(Nt);return Promise.resolve({is3D:Dt,data:On})}).catch(function(He){return Promise.reject(He)})}),Ct.next=19,Promise.all(Z);case 19:if(ae=Ct.sent,Ue=ae.filter(function(Kt){var nn=Kt.data;return!!nn&&nn.isA("vtkImageData")}).map(function(Kt){return Kt.data}),Ie=null,le=null,!K){Ct.next=32;break}return Ct.next=26,Object(w.a)(null,K);case 26:ge=Ct.sent,ze=ge.image,ge.webWorker.terminate(),le=ze.imageType.dimension===3&&!xe,Ie=z.a.convertItkToVtkImage(ze);case 32:if(nt=null,!ve){Ct.next=41;break}return Ct.next=36,Object(w.a)(null,ve);case 36:st=Ct.sent,Ge=st.image,st.webWorker.terminate(),nt=z.a.convertItkToVtkImage(Ge);case 41:if(N=null,Oe&&(N=new Map(Oe)),!(Ue.length>0)){Ct.next=60;break}W=0;case 45:if(!(W<Ue.length)){Ct.next=60;break}if(de=Ue[W].getPointData().getScalars(),ie=de.getDataType(),nt){Ct.next=56;break}if(ie!=="Float32Array"&&ie!=="Float64Array"){Ct.next=52;break}return Ie||(Ie=Ue[W]),Ct.abrupt("continue",57);case 52:_e=de.getData(),new Set(_e).size<=64?nt=Ue[W]:Ie=Ue[W];case 56:Ie||(Ie=Ue[W]);case 57:W++,Ct.next=45;break;case 60:return Ze=ae.filter(function(Kt){var nn=Kt.data;return!!nn&&nn.isA("vtkPolyData")&&!!(nn.getPolys().getNumberOfValues()||nn.getLines().getNumberOfValues()||nn.getStrips().getNumberOfValues())}).map(function(Kt){return Kt.data}),ft=ae.filter(function(Kt){var nn=Kt.data;return!!nn&&nn.isA("vtkPolyData")&&!(nn.getPolys().getNumberOfValues()||nn.getLines().getNumberOfValues()||nn.getStrips().getNumberOfValues())}).map(function(Kt){return Kt.data}),at=!ae.map(function(Kt){return Kt.is3D}).every(function(Kt){return!Kt}),ht=at||!!j&&j.imageType.dimension===3||!!Pe&&Pe.imageType.dimension===3||le&&!xe,Ct.abrupt("return",{image:Ie,multiscaleImage:j,labelMap:nt,multiscaleLabelMap:Pe,labelMapNames:N,geometries:Ze,pointSets:ft,use2D:!ht});case 65:case"end":return Ct.stop()}},Ae,null,[[3,14]])}));return function(Ae){return ne.apply(this,arguments)}}()}).call(this,a(40))},function(g,p,a){p.a=function(u){var f=u.imageUI.gradientOpacity,P=u.imageUI.representationProxy.getDataArray(),U=u.imageUI.visualizedComponents,m=u.imageUI.representationProxy.getVolumes()[0];f===0?U.forEach(function(w,r){m.getProperty().setUseGradientOpacity(r,!1)}):U.forEach(function(w,r){var b=P.getRange(w);m.getProperty().setUseGradientOpacity(r,!0);var C=Math.max(0,f-.3)/.7;C>0?m.getProperty().setGradientOpacityMinimumValue(r,Math.exp(Math.log(.2*(b[1]-b[0]))*C*C)):m.getProperty().setGradientOpacityMinimumValue(r,0),m.getProperty().setGradientOpacityMaximumValue(r,Math.exp(Math.log(1*(b[1]-b[0]))*f*f))}),u.renderWindow.render()}},function(g,p,a){g.exports=a(210)},function(g,p,a){var u=a(0),f=a(3),P=a(53),U={bounds:[-1,-1,-1,-1,-1,-1],pointsIds:[]};function m(r,b){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(b,U,C),u.b.obj(r,b),b.points||(b.points=P.a.newInstance()),u.b.get(r,b,["points","pointsIds"]),function(A,x){x.classHierarchy.push("vtkCell"),A.initialize=function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(M){x.pointsIds=M;var S=x.points.getData();S.length!==3*x.pointsIds.length&&(S=new window[E.getDataType()](3*x.pointsIds.length));var D=E.getData();x.pointsIds.forEach(function(d,O){var F=3*d,I=3*O;S[I]=D[F],S[++I]=D[++F],S[++I]=D[++F]}),x.points.setData(S)}else{x.points=E,x.pointsIds=new Array(E.getNumberOfPoints());for(var V=E.getNumberOfPoints()-1;V>=0;--V)x.pointsIds[V]=V}},A.getBounds=function(){var E=x.points.getNumberOfPoints(),M=[];if(E){x.points.getPoint(0,M),x.bounds[0]=M[0],x.bounds[1]=M[0],x.bounds[2]=M[1],x.bounds[3]=M[1],x.bounds[4]=M[2],x.bounds[5]=M[2];for(var S=1;S<E;S++)x.points.getPoint(S,M),x.bounds[0]=M[0]<x.bounds[0]?M[0]:x.bounds[0],x.bounds[1]=M[0]>x.bounds[1]?M[0]:x.bounds[1],x.bounds[2]=M[1]<x.bounds[2]?M[1]:x.bounds[2],x.bounds[3]=M[1]>x.bounds[3]?M[1]:x.bounds[3],x.bounds[4]=M[2]<x.bounds[4]?M[2]:x.bounds[4],x.bounds[5]=M[2]>x.bounds[5]?M[2]:x.bounds[5]}else f.H(x.bounds);return x.bounds},A.getLength2=function(){A.getBounds();for(var E=0,M=0,S=0;S<3;S++)E+=(M=x.bounds[2*S+1]-x.bounds[2*S])*M;return E},A.getParametricDistance=function(E){for(var M,S=0,D=0;D<3;D++)(M=E[D]<0?-E[D]:E[D]>1?E[D]-1:0)>S&&(S=M);return S},A.getNumberOfPoints=function(){return x.points.getNumberOfPoints()},A.deepCopy=function(E){E.initialize(x.points,x.pointsIds)},A.getCellDimension=function(){},A.intersectWithLine=function(E,M,S,D,V,d,O){},A.evaluatePosition=function(E,M,S,D,V,d){}}(r,b)}var w=u.b.newInstance(m,"vtkCell");p.a={newInstance:w,extend:m}},function(g,p,a){var u=a(0),f=a(8),P=a(54),U=a(45);function m(d,O){var F=Object.keys(d);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(d);O&&(I=I.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),F.push.apply(F,I)}return F}function w(d,O,F){return O in d?Object.defineProperty(d,O,{value:F,enumerable:!0,configurable:!0,writable:!0}):d[O]=F,d}var r=P.b.ScalarMappingTarget,b=P.b.VectorMode,C=f.a.VtkDataTypes,A=U.b.ColorMode,x=u.b.vtkErrorMacro;function E(d){return d}function M(d){return Math.floor(255*d+.5)}var S={alpha:1,vectorComponent:0,vectorSize:-1,vectorMode:b.COMPONENT,mappingRange:null,annotationArray:null,annotatedValueMap:null,indexedLookup:!1};function D(d,O){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(O,S,F),u.b.obj(d,O),O.mappingRange=[0,255],O.annotationArray=[],O.annotatedValueMap=[],u.b.setGet(d,O,["vectorSize","vectorComponent","vectorMode","alpha","indexedLookup"]),u.b.setArray(d,O,["mappingRange"],2),u.b.getArray(d,O,["mappingRange"]),function(I,L){L.classHierarchy.push("vtkScalarsToColors"),I.setVectorModeToMagnitude=function(){return I.setVectorMode(b.MAGNITUDE)},I.setVectorModeToComponent=function(){return I.setVectorMode(b.COMPONENT)},I.setVectorModeToRGBColors=function(){return I.setVectorMode(b.RGBCOLORS)},I.build=function(){},I.isOpaque=function(){return!0},I.setAnnotations=function(G,z){if(!(G&&!z||!G&&z))if(G&&z&&G.length!==z.length)x("Values and annotations do not have the same number of tuples so ignoring");else{if(L.annotationArray=[],z&&G)for(var B=z.length,Y=0;Y<B;Y++)L.annotationArray.push({value:G[Y],annotation:String(z[Y])});I.updateAnnotatedValueMap(),I.modified()}},I.setAnnotation=function(G,z){var B=I.checkForAnnotatedValue(G),Y=!1;return B>=0?L.annotationArray[B].annotation!==z&&(L.annotationArray[B].annotation=z,Y=!0):(L.annotationArray.push({value:G,annotation:z}),B=L.annotationArray.length-1,Y=!0),Y&&(I.updateAnnotatedValueMap(),I.modified()),B},I.getNumberOfAnnotatedValues=function(){return L.annotationArray.length},I.getAnnotatedValue=function(G){return G<0||G>=L.annotationArray.length?null:L.annotationArray[G].value},I.getAnnotation=function(G){return L.annotationArray[G]===void 0?null:L.annotationArray[G].annotation},I.getAnnotatedValueIndex=function(G){return L.annotationArray.length?I.checkForAnnotatedValue(G):-1},I.removeAnnotation=function(G){var z=I.checkForAnnotatedValue(G),B=z>=0;return B&&(L.annotationArray.splice(z,1),I.updateAnnotatedValueMap(),I.modified()),B},I.resetAnnotations=function(){L.annotationArray=[],L.annotatedValueMap=[],I.modified()},I.getAnnotationColor=function(G,z){if(L.indexedLookup){var B=I.getAnnotatedValueIndex(G);I.getIndexedColor(B,z)}else I.getColor(parseFloat(G),z),z[3]=1},I.checkForAnnotatedValue=function(G){return I.getAnnotatedValueIndexInternal(G)},I.getAnnotatedValueIndexInternal=function(G){if(L.annotatedValueMap[G]!==void 0){var z=L.annotationArray.length;return L.annotatedValueMap[G]%z}return-1},I.getIndexedColor=function(G,z){z[0]=0,z[1]=0,z[2]=0,z[3]=0},I.updateAnnotatedValueMap=function(){L.annotatedValueMap=[];for(var G=L.annotationArray.length,z=0;z<G;z++)L.annotatedValueMap[L.annotationArray[z].value]=z},I.mapScalars=function(G,z,B){var Y=G.getNumberOfComponents(),q=null;if(z===A.DEFAULT&&G.getDataType()===C.UNSIGNED_CHAR||z===A.DIRECT_SCALARS&&G)q=I.convertToRGBA(G,Y,G.getNumberOfTuples());else{var H={type:"vtkDataArray",name:"temp",numberOfComponents:4,dataType:C.UNSIGNED_CHAR},ne=new window[H.dataType](4*G.getNumberOfTuples());H.values=ne,H.size=ne.length,q=f.a.newInstance(H);var Ae=B;Ae<0&&Y>1?I.mapVectorsThroughTable(G,q,r.RGBA,-1,-1):(Ae<0&&(Ae=0),Ae>=Y&&(Ae=Y-1),I.mapScalarsThroughTable(G,q,r.RGBA,Ae))}return q},I.mapVectorsToMagnitude=function(G,z,B){for(var Y=G.getNumberOfTuples(),q=G.getNumberOfComponents(),H=z.getData(),ne=G.getData(),Ae=0;Ae<Y;Ae++){for(var ce=0,ye=0;ye<B;ye++)ce+=ne[Ae*q+ye]*ne[Ae*q+ye];H[Ae]=Math.sqrt(ce)}},I.mapVectorsThroughTable=function(G,z,B,Y,q){var H=I.getVectorMode(),ne=q,Ae=Y,ce=G.getNumberOfComponents();H===b.COMPONENT?(Ae===-1&&(Ae=I.getVectorComponent()),Ae<0&&(Ae=0),Ae>=ce&&(Ae=ce-1)):(ne===-1&&(ne=I.getVectorSize()),ne<=0?(Ae=0,ne=ce):(Ae<0&&(Ae=0),Ae>=ce&&(Ae=ce-1),Ae+ne>ce&&(ne=ce-Ae)),H!==b.MAGNITUDE||ce!==1&&ne!==1||(H=b.COMPONENT));var ye=0;switch(Ae>0&&(ye=Ae),H){case b.COMPONENT:I.mapScalarsThroughTable(G,z,B,ye);break;default:case b.MAGNITUDE:var K=f.a.newInstance({numberOfComponents:1,values:new Float32Array(G.getNumberOfTuples())});I.mapVectorsToMagnitude(G,K,ne),I.mapScalarsThroughTable(K,z,B,0);break;case b.RGBCOLORS:}},I.luminanceToRGBA=function(G,z,B,Y){for(var q=Y(B),H=z.getData(),ne=G.getData(),Ae=H.length,ce=0,ye=0;ye<Ae;ye+=1){var K=Y(H[ye]);ne[4*ce]=K,ne[4*ce+1]=K,ne[4*ce+2]=K,ne[4*ce+3]=q,ce++}},I.luminanceAlphaToRGBA=function(G,z,B,Y){for(var q=z.getData(),H=G.getData(),ne=q.length,Ae=0,ce=0;ce<ne;ce+=2){var ye=Y(q[ce]);H[Ae]=ye,H[Ae+1]=ye,H[Ae+2]=ye,H[Ae+3]=Y(q[ce+1])*B,Ae+=4}},I.rGBToRGBA=function(G,z,B,Y){for(var q=M(B),H=z.getData(),ne=G.getData(),Ae=H.length,ce=0,ye=0;ye<Ae;ye+=3)ne[4*ce]=Y(H[ye]),ne[4*ce+1]=Y(H[ye+1]),ne[4*ce+2]=Y(H[ye+2]),ne[4*ce+3]=q,ce++},I.rGBAToRGBA=function(G,z,B,Y){for(var q=z.getData(),H=G.getData(),ne=q.length,Ae=0,ce=0;ce<ne;ce+=4)H[4*Ae]=Y(q[ce]),H[4*Ae+1]=Y(q[ce+1]),H[4*Ae+2]=Y(q[ce+2]),H[4*Ae+3]=Y(q[ce+3])*B,Ae++},I.convertToRGBA=function(G,z,B){var Y=L.alpha;if(z===4&&Y>=1&&G.getDataType()===C.UNSIGNED_CHAR)return G;var q=f.a.newInstance({numberOfComponents:4,empty:!0,size:4*B,dataType:C.UNSIGNED_CHAR});if(B<=0)return q;Y=(Y=Y>0?Y:0)<1?Y:1;var H=E;switch(G.getDataType()!==C.FLOAT&&G.getDataType()!==C.DOUBLE||(H=M),z){case 1:I.luminanceToRGBA(q,G,Y,H);break;case 2:I.luminanceAlphaToRGBA(q,G,H);break;case 3:I.rGBToRGBA(q,G,Y,H);break;case 4:I.rGBAToRGBA(q,G,Y,H);break;default:return x("Cannot convert colors"),null}return q},I.usingLogScale=function(){return!1},I.getNumberOfAvailableColors=function(){return 16777216},I.setRange=function(G,z){return I.setMappingRange(G,z)},I.getRange=function(G,z){return I.getMappingRange()}}(d,O)}var V=u.b.newInstance(D,"vtkScalarsToColors");p.a=function(d){for(var O=1;O<arguments.length;O++){var F=arguments[O]!=null?arguments[O]:{};O%2?m(Object(F),!0).forEach(function(I){w(d,I,F[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(F)):m(Object(F)).forEach(function(I){Object.defineProperty(d,I,Object.getOwnPropertyDescriptor(F,I))})}return d}({newInstance:V,extend:D},P.b)},function(g,p,a){var u=a(13),f=a.n(u),P=function(U,m){for(var w=f()(m),r=1/U,b=0;b<w.length;b++)w[b].y<r&&(w[b].y=r);for(var C=0;C<w.length;C++){for(var A=0,x=0,E=C-4;E<=C+4;E++)E>0&&E<w.length&&(A+=w[E].y,x+=1);w[C].y=A/x}return w};p.a=function(U,m){var w=U.imageUI.transferFunctionWidget;if(w){var r=w.getOpacityNodes(),b=U.imageUI.piecewiseFunctionProxies[m],C=b.slice.getPiecewiseFunction(),A=b.volume.getPiecewiseFunction();w.applyOpacity(A);var x=U.imageUI.numberOfComponents,E=P(x,r);C.setNodes(E)}}},function(g,p){(function(a){g.exports=a}).call(this,{})},function(g,p,a){var u=a(23),f=a.n(u),P=a(0),U=a(42),m=a(15);function w(E,M){return function(S){if(Array.isArray(S))return S}(E)||function(S,D){var V=S==null?null:typeof Symbol!="undefined"&&S[Symbol.iterator]||S["@@iterator"];if(V!=null){var d,O,F=[],I=!0,L=!1;try{for(V=V.call(S);!(I=(d=V.next()).done)&&(F.push(d.value),!D||F.length!==D);I=!0);}catch(G){L=!0,O=G}finally{try{I||V.return==null||V.return()}finally{if(L)throw O}}return F}}(E,M)||function(S,D){if(!!S){if(typeof S=="string")return r(S,D);var V=Object.prototype.toString.call(S).slice(8,-1);if(V==="Object"&&S.constructor&&(V=S.constructor.name),V==="Map"||V==="Set")return Array.from(S);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return r(S,D)}}(E,M)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function r(E,M){(M==null||M>E.length)&&(M=E.length);for(var S=0,D=new Array(M);S<M;S++)D[S]=E[S];return D}var b=P.b.vtkErrorMacro,C=P.b.vtkDebugMacro,A=0;function x(E,M){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=new XMLHttpRequest;return D.open(E,M,!0),S.headers&&Object.entries(S.headers).forEach(function(V){var d=w(V,2),O=d[0],F=d[1];return D.setRequestHeader(O,F)}),S.progressCallback&&D.addEventListener("progress",S.progressCallback),D}p.a={fetchArray:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=arguments.length>1?arguments[1]:void 0,S=arguments.length>2?arguments[2]:void 0,D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return S.ref&&!S.ref.pending?new Promise(function(V,d){var O=x("GET",[M,S.ref.basepath,D.compression?"".concat(S.ref.id,".gz"):S.ref.id].join("/"),D);O.onreadystatechange=function(F){O.readyState===1&&(S.ref.pending=!0,++A==1&&E.invokeBusy&&E.invokeBusy(!0)),O.readyState===4&&(S.ref.pending=!1,O.status===200||O.status===0?(S.buffer=O.response,D.compression&&(S.dataType==="string"||S.dataType==="JSON"?S.buffer=f.a.inflate(new Uint8Array(S.buffer),{to:"string"}):S.buffer=f.a.inflate(new Uint8Array(S.buffer)).buffer),S.ref.encode==="JSON"?S.values=JSON.parse(S.buffer):(U.a.ENDIANNESS!==S.ref.encode&&U.a.ENDIANNESS&&(C("Swap bytes of ".concat(S.name)),U.a.swapBytes(S.buffer,m.a[S.dataType])),S.values=new window[S.dataType](S.buffer)),S.values.length!==S.size&&b("Error in FetchArray: ".concat(S.name,", does not have the proper array size. Got ").concat(S.values.length,", instead of ").concat(S.size)),delete S.ref,--A==0&&E.invokeBusy&&E.invokeBusy(!1),E.modified&&E.modified(),V(S)):d({xhr:O,e:F}))},O.responseType=D.compression||S.dataType!=="string"?"arraybuffer":"text",O.send()}):Promise.resolve(S)},fetchJSON:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=arguments.length>1?arguments[1]:void 0,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise(function(D,V){var d=x("GET",M,S);d.onreadystatechange=function(O){d.readyState===1&&++A==1&&E.invokeBusy&&E.invokeBusy(!0),d.readyState===4&&(--A==0&&E.invokeBusy&&E.invokeBusy(!1),d.status===200||d.status===0?S.compression?D(JSON.parse(f.a.inflate(new Uint8Array(d.response),{to:"string"}))):D(JSON.parse(d.responseText)):V({xhr:d,e:O}))},d.responseType=S.compression?"arraybuffer":"text",d.send()})},fetchText:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=arguments.length>1?arguments[1]:void 0,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return S&&S.compression&&S.compression!=="gz"&&(b("Supported algorithms are: [gz]"),b("Unkown compression algorithm: ".concat(S.compression))),new Promise(function(D,V){var d=x("GET",M,S);d.onreadystatechange=function(O){d.readyState===1&&++A==1&&E.invokeBusy&&E.invokeBusy(!0),d.readyState===4&&(--A==0&&E.invokeBusy&&E.invokeBusy(!1),d.status===200||d.status===0?S.compression?D(f.a.inflate(new Uint8Array(d.response),{to:"string"})):D(d.responseText):V({xhr:d,e:O}))},d.responseType=S.compression?"arraybuffer":"text",d.send()})},fetchBinary:function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(S,D){var V=x("GET",E,M);V.onreadystatechange=function(d){V.readyState===4&&(V.status===200||V.status===0?S(V.response):D({xhr:V,e:d}))},V.responseType="arraybuffer",V.send()})},fetchImage:function(){var E=arguments.length>1?arguments[1]:void 0,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise(function(S,D){var V=new Image;M.crossOrigin&&(V.crossOrigin=M.crossOrigin),V.onload=function(){return S(V)},V.onerror=D,V.src=E})}}},function(g,p,a){p.a=function(u){var f=document.querySelector(".content"),P=document.querySelector("body");return u||f||P}},function(g,p,a){var u=a(1),f=a(0),P=a(14),U=a(3),m=a(49),w={origin:[0,0,0],position:[0,0,0],orientation:[0,0,0],rotation:null,scale:[1,1,1],bounds:[1,-1,1,-1,1,-1],userMatrix:null,userMatrixMTime:null,cachedProp3D:null,isIdentity:!0,matrixMTime:null};function r(C,A){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(A,w,x),m.a.extend(C,A,x),A.matrixMTime={},f.b.obj(A.matrixMTime),f.b.get(C,A,["bounds","isIdentity"]),f.b.getArray(C,A,["orientation"]),f.b.setGetArray(C,A,["origin","position","scale"],3),A.matrix=u.c.create(),A.rotation=u.c.create(),A.userMatrix=u.c.create(),A.transform=null,function(E,M){M.classHierarchy.push("vtkProp3D"),E.addPosition=function(S){M.position=M.position.map(function(D,V){return D+S[V]}),E.modified()},E.getOrientationWXYZ=function(){var S=u.d.create();u.c.getRotation(S,M.rotation);var D=u.e.create(),V=u.d.getAxisAngle(D,S);return[U.j(V),D[0],D[1],D[2]]},E.rotateX=function(S){S!==0&&(u.c.rotateX(M.rotation,M.rotation,U.y(S)),E.modified())},E.rotateY=function(S){S!==0&&(u.c.rotateY(M.rotation,M.rotation,U.y(S)),E.modified())},E.rotateZ=function(S){S!==0&&(u.c.rotateZ(M.rotation,M.rotation,U.y(S)),E.modified())},E.rotateWXYZ=function(S,D,V,d){if(S!==0&&(D!==0||V!==0||d!==0)){var O=U.y(S),F=u.d.create();u.d.setAxisAngle(F,[D,V,d],O);var I=u.c.create();u.c.fromQuat(I,F),u.c.multiply(M.rotation,M.rotation,I),E.modified()}},E.setOrientation=function(S,D,V){return(S!==M.orientation[0]||D!==M.orientation[1]||V!==M.orientation[2])&&(M.orientation=[S,D,V],u.c.identity(M.rotation),E.rotateZ(V),E.rotateX(S),E.rotateY(D),E.modified(),!0)},E.setUserMatrix=function(S){u.c.copy(M.userMatrix,S),E.modified()},E.getMatrix=function(){return E.computeMatrix(),M.matrix},E.computeMatrix=function(){if(E.getMTime()>M.matrixMTime.getMTime()){u.c.identity(M.matrix),M.userMatrix&&u.c.multiply(M.matrix,M.matrix,M.userMatrix),u.c.translate(M.matrix,M.matrix,M.origin),u.c.translate(M.matrix,M.matrix,M.position),u.c.multiply(M.matrix,M.matrix,M.rotation),u.c.scale(M.matrix,M.matrix,M.scale),u.c.translate(M.matrix,M.matrix,[-M.origin[0],-M.origin[1],-M.origin[2]]),u.c.transpose(M.matrix,M.matrix),M.isIdentity=!0;for(var S=0;S<4;++S)for(var D=0;D<4;++D)(S===D?1:0)!==M.matrix[S+4*D]&&(M.isIdentity=!1);M.matrixMTime.modified()}},E.getCenter=function(){return P.a.getCenter(M.bounds)},E.getLength=function(){return P.a.getLength(M.bounds)},E.getXRange=function(){return P.a.getXRange(M.bounds)},E.getYRange=function(){return P.a.getYRange(M.bounds)},E.getZRange=function(){return P.a.getZRange(M.bounds)},E.getUserMatrix=function(){return M.userMatrix},E.onModified(function(){E.computeMatrix()})}(C,A)}var b=f.b.newInstance(r,"vtkProp3D");p.a={newInstance:b,extend:r}},function(g,p){g.exports=function(a,u,f){return u in a?Object.defineProperty(a,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[u]=f,a},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p,a){var u=a(166),f=Object.create(null);u.filter(function(U){return U.RGBPoints}).filter(function(U){return U.ColorSpace!=="CIELAB"}).forEach(function(U){f[U.Name]=U});var P=Object.keys(f);P.sort(),p.a={addPreset:function(U){U.RGBPoints&&U.ColorSpace!=="CIELAB"&&(f[U.Name]||(P.push(U.Name),P.sort()),f[U.Name]=U)},removePresetByName:function(U){var m=P.indexOf(U);m>-1&&P.splice(m,1),delete f[U]},getPresetByName:function(U){return f[U]},rgbPresetNames:P}},function(g,p,a){var u=a(1),f=a(0),P=a(10),U={callback:null,useZValues:!1};function m(r,b){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(b,U,C),P.a.extend(r,b,C),f.b.setGet(r,b,["callback","useZValues"]),function(A,x){x.classHierarchy.push("vtkPixelSpaceCallbackMapper"),x.callback||(x.callback=function(){}),A.invokeCallback=function(E,M,S,D,V){if(x.callback){var d=M.getCompositeProjectionMatrix(S,-1,1);u.c.transpose(d,d);for(var O=E.getPoints(),F=u.e.fromValues(0,0,0),I=D.usize,L=D.vsize,G=I/2,z=L/2,B=[],Y=0;Y<O.getNumberOfPoints();Y+=1){var q=O.getPoint(Y);F[0]=q[0],F[1]=q[1],F[2]=q[2],u.e.transformMat4(F,F,d);var H=[F[0]*G+G,F[1]*z+z,F[2],0];if(V){var ne=4*(Math.floor(H[1])*I+Math.floor(H[0])),Ae=(V[ne]/255*256+V[ne+1]/255)/257;H[3]=2*Ae-1}B.push(H)}x.callback(B,M,S,V,[I,L])}}}(r,b)}var w=f.b.newInstance(m,"vtkPixelSpaceCallbackMapper");p.a={newInstance:w,extend:m}},function(g,p,a){p.a=function(u){var f=parseInt(u.substring(1),16);return[(f>>16&255)/255,(f>>8&255)/255,(255&f)/255]}},function(g,p){g.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1536 1536"><path d="M768 1312V224q-148 0-273 73T297 495t-73 273 73 273 198 198 273 73zm768-544q0 209-103 385.5T1153.5 1433 768 1536t-385.5-103T103 1153.5 0 768t103-385.5T382.5 103 768 0t385.5 103T1433 382.5 1536 768z"/></svg>'},function(g,p,a){var u=a(0),f=a(19),P=a(8),U={arrays:[],copyFieldFlags:[],doCopyAllOn:!0,doCopyAllOff:!1};function m(z,B){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(B,U,Y),u.b.obj(z,B),function(q,H){H.classHierarchy.push("vtkFieldData");var ne=q.getState;H.arrays&&(H.arrays=H.arrays.map(function(Ae){return{data:Object(f.a)(Ae.data)}})),q.initialize=function(){q.initializeFields(),q.copyAllOn(),q.clearFieldFlags()},q.initializeFields=function(){H.arrays=[],H.copyFieldFlags={},q.modified()},q.copyStructure=function(Ae){q.initializeFields(),H.copyFieldFlags=Ae.getCopyFieldFlags().map(function(ce){return ce}),H.arrays=Ae.arrays().map(function(ce){return{array:ce}})},q.getNumberOfArrays=function(){return H.arrays.length},q.getNumberOfActiveArrays=function(){return H.arrays.length},q.addArray=function(Ae){return H.arrays=[].concat(H.arrays,{data:Ae}),H.arrays.length-1},q.removeAllArrays=function(){H.arrays=[]},q.removeArray=function(Ae){H.arrays=H.arrays.filter(function(ce){return Ae!==ce.data.getName()})},q.removeArrayByIndex=function(Ae){H.arrays=H.arrays.filter(function(ce,ye){return ye!==Ae})},q.getArrays=function(){return H.arrays.map(function(Ae){return Ae.data})},q.getArray=function(Ae){return typeof Ae=="number"?q.getArrayByIndex(Ae):q.getArrayByName(Ae)},q.getArrayByName=function(Ae){return H.arrays.reduce(function(ce,ye,K){return ye.data.getName()===Ae?ye.data:ce},null)},q.getArrayWithIndex=function(Ae){return H.arrays.reduce(function(ce,ye,K){return ye.data&&ye.data.getName()===Ae?{array:ye.data,index:K}:ce},{array:null,index:-1})},q.getArrayByIndex=function(Ae){return Ae>=0&&Ae<H.arrays.length?H.arrays[Ae].data:null},q.hasArray=function(Ae){return q.getArrayWithIndex(Ae).index>=0},q.getArrayName=function(Ae){var ce=H.arrays[Ae];return ce?ce.data.getName():""},q.getCopyFieldFlags=function(){return H.copyFieldFlags},q.getFlag=function(Ae){return H.copyFieldFlags[Ae]},q.passData=function(Ae){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;Ae.getArrays().forEach(function(K){var j=q.getFlag(K.getName());if(j!==!1&&(!H.doCopyAllOff||j===!0)&&K){var ve=q.getArrayByName(K.getName());if(ve){if(K.getNumberOfComponents()===ve.getNumberOfComponents())if(ce>-1&&ce<K.getNumberOfTuples()){var Pe=ye>-1?ye:ce;ve.setTuple(Pe,K.getTuple(ce))}else for(var Oe=0;Oe<K.getNumberOfTuples();++Oe)ve.setTuple(Oe,K.getTuple(Oe))}else if(ce<0||ce>K.getNumberOfTuples())q.addArray(K);else{var xe=K.getNumberOfComponents(),Ve=K.getNumberOfValues(),me=ye>-1?ye:ce;Ve<me*xe&&(Ve=(me+1)*xe),(ve=P.a.newInstance({name:K.getName(),dataType:K.getDataType(),numberOfComponents:K.getNumberOfComponents(),size:Ve})).setTuple(me,K.getTuple(ce)),q.addArray(ve)}}})},q.copyFieldOn=function(Ae){H.copyFieldFlags[Ae]=!0},q.copyFieldOff=function(Ae){H.copyFieldFlags[Ae]=!1},q.copyAllOn=function(){H.doCopyAllOn&&!H.doCopyAllOff||(H.doCopyAllOn=!0,H.doCopyAllOff=!1,q.modified())},q.copyAllOff=function(){!H.doCopyAllOn&&H.doCopyAllOff||(H.doCopyAllOn=!1,H.doCopyAllOff=!0,q.modified())},q.clearFieldFlags=function(){H.copyFieldFlags={}},q.deepCopy=function(Ae){H.arrays=Ae.getArrays().map(function(ce){var ye=ce.newClone();return ye.deepCopy(ce),{data:ye}})},q.copyFlags=function(Ae){return Ae.getCopyFieldFlags().map(function(ce){return ce})},q.reset=function(){return H.arrays.forEach(function(Ae){return Ae.data.reset()})},q.getMTime=function(){return H.arrays.reduce(function(Ae,ce){return ce.data.getMTime()>Ae?ce.data.getMTime():Ae},H.mtime)},q.getNumberOfComponents=function(){return H.arrays.reduce(function(Ae,ce){return Ae+ce.data.getNumberOfComponents()},0)},q.getNumberOfTuples=function(){return H.arrays.length>0?H.arrays[0].getNumberOfTuples():0},q.getState=function(){var Ae=ne();return Ae.arrays=H.arrays.map(function(ce){return{data:ce.data.getState()}}),Ae}}(z,B)}var w={newInstance:u.b.newInstance(m,"vtkFieldData"),extend:m},r=a(60);function b(z,B){var Y=Object.keys(z);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(z);B&&(q=q.filter(function(H){return Object.getOwnPropertyDescriptor(z,H).enumerable})),Y.push.apply(Y,q)}return Y}function C(z,B,Y){return B in z?Object.defineProperty(z,B,{value:Y,enumerable:!0,configurable:!0,writable:!0}):z[B]=Y,z}var A=r.b.AttributeTypes,x=r.b.AttributeCopyOperations,E=u.b.vtkWarningMacro,M={activeScalars:-1,activeVectors:-1,activeTensors:-1,activeNormals:-1,activeTCoords:-1,activeGlobalIds:-1,activePedigreeIds:-1};function S(z,B){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(B,M,Y),w.extend(z,B,Y),u.b.setGet(z,B,["activeScalars","activeNormals","activeTCoords","activeVectors","activeTensors","activeGlobalIds","activePedigreeIds"]),B.arrays||(B.arrays={}),function(q,H){var ne=["Scalars","Vectors","Normals","TCoords","Tensors","GlobalIds","PedigreeIds"];function Ae(ye){var K=ne.find(function(j){return A[j.toUpperCase()]===ye||typeof ye!="number"&&j.toLowerCase()===ye.toLowerCase()});return K===void 0&&(K=null),K}H.classHierarchy.push("vtkDataSetAttributes"),q.checkNumberOfComponents=function(ye){return!0},q.setAttribute=function(ye,K){var j=Ae(K);if(ye&&j.toUpperCase()==="PEDIGREEIDS"&&!ye.isA("vtkDataArray"))return E("Cannot set attribute ".concat(j,". The attribute must be a vtkDataArray.")),-1;if(ye&&!q.checkNumberOfComponents(ye,j))return E("Cannot set attribute ".concat(j,". Incorrect number of components.")),-1;var ve=H["active".concat(j)];if(ve>=0&&ve<H.arrays.length){if(H.arrays[ve]===ye)return ve;q.removeArrayByIndex(ve)}return ye?(ve=q.addArray(ye),H["active".concat(j)]=ve):H["active".concat(j)]=-1,q.modified(),H["active".concat(j)]},q.setActiveAttributeByName=function(ye,K){return q.setActiveAttributeByIndex(q.getArrayWithIndex(ye).index,K)},q.setActiveAttributeByIndex=function(ye,K){var j=Ae(K);if(ye>=0&&ye<H.arrays.length){if(j.toUpperCase()!=="PEDIGREEIDS"){var ve=q.getArrayByIndex(ye);if(!ve.isA("vtkDataArray"))return E("Cannot set attribute ".concat(j,". Only vtkDataArray subclasses can be set as active attributes.")),-1;if(!q.checkNumberOfComponents(ve,j))return E("Cannot set attribute ".concat(j,". Incorrect number of components.")),-1}return H["active".concat(j)]=ye,q.modified(),ye}return ye===-1&&(H["active".concat(j)]=ye,q.modified()),-1},q.getActiveAttribute=function(ye){var K=Ae(ye);return q["get".concat(K)]()},q.removeAllArrays=function(){H.arrays=[],ne.forEach(function(ye){H["active".concat(ye)]=-1})},q.removeArray=function(ye){H.arrays=H.arrays.filter(function(K,j){return ye!==K.data.getName()||(ne.forEach(function(ve){j===H["active".concat(ve)]&&(H["active".concat(ve)]=-1)}),!1)})},q.removeArrayByIndex=function(ye){H.arrays=H.arrays.filter(function(K,j){return j!==ye}),ne.forEach(function(K){ye===H["active".concat(K)]&&(H["active".concat(K)]=-1)})},ne.forEach(function(ye){var K="active".concat(ye);q["get".concat(ye)]=function(){return q.getArrayByIndex(H[K])},q["set".concat(ye)]=function(j){return q.setAttribute(j,ye)},q["setActive".concat(ye)]=function(j){return q.setActiveAttributeByIndex(q.getArrayWithIndex(j).index,ye)},q["copy".concat(ye,"Off")]=function(){var j=ye.toUpperCase();H.copyAttributeFlags[x.PASSDATA][A[j]]=!1}}),q.initializeAttributeCopyFlags=function(){H.copyAttributeFlags=[],Object.keys(x).filter(function(ye){return ye!=="ALLCOPY"}).forEach(function(ye){H.copyAttributeFlags[x[ye]]=Object.keys(A).filter(function(K){return K!=="NUM_ATTRIBUTES"}).reduce(function(K,j){return K[A[j]]=!0,K},[])}),H.copyAttributeFlags[x.COPYTUPLE][A.GLOBALIDS]=!1,H.copyAttributeFlags[x.INTERPOLATE][A.GLOBALIDS]=!1,H.copyAttributeFlags[x.COPYTUPLE][A.PEDIGREEIDS]=!1},q.initialize=u.b.chain(q.initialize,q.initializeAttributeCopyFlags),H.dataArrays&&Object.keys(H.dataArrays).length&&Object.keys(H.dataArrays).forEach(function(ye){H.dataArrays[ye].ref||H.dataArrays[ye].type!=="vtkDataArray"||q.addArray(P.a.newInstance(H.dataArrays[ye]))});var ce=q.shallowCopy;q.shallowCopy=function(ye,K){ce(ye,K),H.arrays=ye.getArrays().map(function(j){var ve=j.newClone();return ve.shallowCopy(j,K),{data:ve}})},q.initializeAttributeCopyFlags()}(z,B)}var D=function(z){for(var B=1;B<arguments.length;B++){var Y=arguments[B]!=null?arguments[B]:{};B%2?b(Object(Y),!0).forEach(function(q){C(z,q,Y[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(Y)):b(Object(Y)).forEach(function(q){Object.defineProperty(z,q,Object.getOwnPropertyDescriptor(Y,q))})}return z}({newInstance:u.b.newInstance(S,"vtkDataSetAttributes"),extend:S},r.b),V=a(95);function d(z,B){var Y=Object.keys(z);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(z);B&&(q=q.filter(function(H){return Object.getOwnPropertyDescriptor(z,H).enumerable})),Y.push.apply(Y,q)}return Y}function O(z,B,Y){return B in z?Object.defineProperty(z,B,{value:Y,enumerable:!0,configurable:!0,writable:!0}):z[B]=Y,z}var F=["pointData","cellData","fieldData"],I={};function L(z,B){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(B,I,Y),u.b.obj(z,B),u.b.setGet(z,B,F),function(q,H){H.classHierarchy.push("vtkDataSet"),F.forEach(function(Ae){H[Ae]?H[Ae]=Object(f.a)(H[Ae]):H[Ae]=D.newInstance()});var ne=q.shallowCopy;q.shallowCopy=function(Ae){var ce=arguments.length>1&&arguments[1]!==void 0&&arguments[1];ne(Ae,ce),F.forEach(function(ye){H[ye]=D.newInstance(),H[ye].shallowCopy(Ae.getReferenceByName(ye))})}}(z,B)}var G=u.b.newInstance(L,"vtkDataSet");p.a=function(z){for(var B=1;B<arguments.length;B++){var Y=arguments[B]!=null?arguments[B]:{};B%2?d(Object(Y),!0).forEach(function(q){O(z,q,Y[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(Y)):d(Object(Y)).forEach(function(q){Object.defineProperty(z,q,Object.getOwnPropertyDescriptor(Y,q))})}return z}({newInstance:G,extend:L},V.b)},function(g,p,a){var u=a(0),f=a(14),P=a(28);function U(E,M){var S=Object.keys(E);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(E);M&&(D=D.filter(function(V){return Object.getOwnPropertyDescriptor(E,V).enumerable})),S.push.apply(S,D)}return S}function m(E,M,S){return M in E?Object.defineProperty(E,M,{value:S,enumerable:!0,configurable:!0,writable:!0}):E[M]=S,E}function w(E){return function(M){if(Array.isArray(M))return r(M)}(E)||function(M){if(typeof Symbol!="undefined"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)}(E)||function(M,S){if(!!M){if(typeof M=="string")return r(M,S);var D=Object.prototype.toString.call(M).slice(8,-1);if(D==="Object"&&M.constructor&&(D=M.constructor.name),D==="Map"||D==="Set")return Array.from(M);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return r(M,S)}}(E)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function r(E,M){(M==null||M>E.length)&&(M=E.length);for(var S=0,D=new Array(M);S<M;S++)D[S]=E[S];return D}var b={intersectBox:function(E,M,S,D,V){for(var d=!0,O=[],F=0,I=[],L=[0,0,0],G=0;G<3;G++)M[G]<E[2*G]?(O[G]=1,L[G]=E[2*G],d=!1):M[G]>E[2*G+1]?(O[G]=0,L[G]=E[2*G+1],d=!1):O[G]=2;if(d)return D[0]=M[0],D[1]=M[1],D[2]=M[2],V[0]=0,1;for(var z=0;z<3;z++)O[z]!==2&&S[z]!==0?I[z]=(L[z]-M[z])/S[z]:I[z]=-1;for(var B=0;B<3;B++)I[F]<I[B]&&(F=B);if(I[F]>1||I[F]<0)return 0;V[0]=I[F];for(var Y=0;Y<3;Y++)if(F!==Y){if(D[Y]=M[Y]+I[F]*S[Y],D[Y]<E[2*Y]||D[Y]>E[2*Y+1])return 0}else D[Y]=L[Y];return 1},intersectPlane:function(E,M,S){for(var D=[],V=0,d=1,O=1,F=4;F<=5;++F){D[2]=E[F];for(var I=2;I<=3;++I){D[1]=E[I];for(var L=0;L<=1;++L)if(D[0]=E[L],V=P.a.evaluate(S,M,D),O&&(d=V>=0?1:-1,O=0),V===0||d>0&&V<0||d<0&&V>0)return 1}}return 0}},C={};function A(E,M){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(M,C,S),u.b.obj(E,M),M.bbox||(M.bbox=f.a.newInstance()),function(D,V){V.classHierarchy.push("vtkBox"),D.setBounds=function(){var d=[];if(Array.isArray(arguments.length<=0?void 0:arguments[0]))d=arguments.length<=0?void 0:arguments[0];else for(var O=0;O<arguments.length;O++)d.push(O<0||arguments.length<=O?void 0:arguments[O]);d.length===6&&V.bbox.setBounds(d)},D.getBounds=function(){return V.bbox.getBounds()},D.evaluateFunction=function(d,O,F){for(var I,L,G,z=Array.isArray(d)?d:[d,O,F],B=-Number.MAX_VALUE,Y=0,q=V.bbox.getMinPoint(),H=V.bbox.getMaxPoint(),ne=1,Ae=0;Ae<3;Ae++)(I=V.bbox.getLength(Ae))!==0?(G=(z[Ae]-q[Ae])/I)<0?(ne=0,L=q[Ae]-z[Ae]):G>1?(ne=0,L=z[Ae]-H[Ae]):(L=G<=.5?q[Ae]-z[Ae]:z[Ae]-H[Ae])>B&&(B=L):(L=Math.abs(z[Ae]-q[Ae]))>0&&(ne=0),L>0&&(Y+=L*L);return Y=Math.sqrt(Y),ne?B:Y},D.addBounds=function(){var d,O=[];if(Array.isArray(arguments.length<=0?void 0:arguments[0]))O=arguments.length<=0?void 0:arguments[0];else for(var F=0;F<arguments.length;F++)O.push(F<0||arguments.length<=F?void 0:arguments[F]);O.length===6&&((d=V.bbox).addBounds.apply(d,w(O)),V.bbox.modified())}}(E,M)}var x=u.b.newInstance(A,"vtkBox");p.a=function(E){for(var M=1;M<arguments.length;M++){var S=arguments[M]!=null?arguments[M]:{};M%2?U(Object(S),!0).forEach(function(D){m(E,D,S[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(S)):U(Object(S)).forEach(function(D){Object.defineProperty(E,D,Object.getOwnPropertyDescriptor(S,D))})}return E}({newInstance:x,extend:A},b)},function(g,p){var a,u,f=g.exports={};function P(){throw new Error("setTimeout has not been defined")}function U(){throw new Error("clearTimeout has not been defined")}function m(S){if(a===setTimeout)return setTimeout(S,0);if((a===P||!a)&&setTimeout)return a=setTimeout,setTimeout(S,0);try{return a(S,0)}catch{try{return a.call(null,S,0)}catch{return a.call(this,S,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:P}catch{a=P}try{u=typeof clearTimeout=="function"?clearTimeout:U}catch{u=U}})();var w,r=[],b=!1,C=-1;function A(){b&&w&&(b=!1,w.length?r=w.concat(r):C=-1,r.length&&x())}function x(){if(!b){var S=m(A);b=!0;for(var D=r.length;D;){for(w=r,r=[];++C<D;)w&&w[C].run();C=-1,D=r.length}w=null,b=!1,function(V){if(u===clearTimeout)return clearTimeout(V);if((u===U||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(V);try{u(V)}catch{try{return u.call(null,V)}catch{return u.call(this,V)}}}(S)}}function E(S,D){this.fun=S,this.array=D}function M(){}f.nextTick=function(S){var D=new Array(arguments.length-1);if(arguments.length>1)for(var V=1;V<arguments.length;V++)D[V-1]=arguments[V];r.push(new E(S,D)),r.length!==1||b||m(x)},E.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=M,f.addListener=M,f.once=M,f.off=M,f.removeListener=M,f.removeAllListeners=M,f.emit=M,f.prependListener=M,f.prependOnceListener=M,f.listeners=function(S){return[]},f.binding=function(S){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(S){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(g,p,a){p.a=function(u){var f=u.imageUI.visualizedComponents,P=u.imageUI.independentComponents;u.imageUI.representationProxy&&u.imageUI.representationProxy.getActors().forEach(function(U,m){var w=U.getProperty();w.setIndependentComponents(P),f.forEach(function(r,b){var C=u.imageUI.lookupTableProxies[r],A=u.imageUI.piecewiseFunctionProxies[r].slice;w.setRGBTransferFunction(b,C.getLookupTable()),w.setPiecewiseFunction(b,A.getPiecewiseFunction());var x=u.imageUI.componentVisibilities[r];x.visible?w.setComponentWeight(b,x.weight):w.setComponentWeight(b,0)})})}},function(g,p){var a=new Map([["gen","VTKExodusFileReader"],["e","VTKExodusFileReader"],["exo","VTKExodusFileReader"],["exii","VTKExodusFileReader"],["ex2","VTKExodusFileReader"],["vtk","VTKLegacyFileReader"],["VTK","VTKLegacyFileReader"],["vtp","VTKXMLFileReader"],["VTP","VTKXMLFileReader"],["vtu","VTKXMLFileReader"],["VTU","VTKXMLFileReader"],["vtr","VTKXMLFileReader"],["VTR","VTKXMLFileReader"],["ply","VTKPLYFileReader"],["PLY","VTKPLYFileReader"]]);g.exports=a},function(g,p,a){var u=a(0),f=a(66),P=a(3),U=a(26),m=a(28);function w(S,D){var V=Object.keys(S);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(S);D&&(d=d.filter(function(O){return Object.getOwnPropertyDescriptor(S,O).enumerable})),V.push.apply(V,d)}return V}function r(S,D,V){return D in S?Object.defineProperty(S,D,{value:V,enumerable:!0,configurable:!0,writable:!0}):S[D]=V,S}function b(S,D,V,d){var O=V[0]-D[0],F=V[1]-D[1],I=V[2]-D[2],L=S[0]-D[0],G=S[1]-D[1],z=S[2]-D[2];d[0]=F*z-I*G,d[1]=I*L-O*z,d[2]=O*G-F*L}function C(S,D,V,d){b(S,D,V,d);var O=Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);O!==0&&(d[0]/=O,d[1]/=O,d[2]/=O)}var A={computeNormalDirection:b,computeNormal:C},x={};function E(S,D){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(D,x,V),f.a.extend(S,D,V),function(d,O){O.classHierarchy.push("vtkTriangle"),d.getCellDimension=function(){return 2},d.intersectWithLine=function(F,I,L,G,z){var B={subId:0,t:0,intersect:-1};z[2]=0;var Y=L*L,q=[],H=[],ne=[];O.points.getPoint(0,q),O.points.getPoint(1,H),O.points.getPoint(2,ne);var Ae=[];if(C(q,H,ne,Ae),Ae[0]!==0||Ae[1]!==0||Ae[2]!==0){var ce=m.a.intersectWithLine(F,I,q,Ae);if(B.t=ce.t,G[0]=ce.x[0],G[1]=ce.x[1],G[2]=ce.x[2],!ce.intersection)return z[0]=0,z[1]=0,B.intersect=0,B;var ye=d.evaluatePosition(G,[],z,[]);if(ye.evaluation>=0)return ye.dist2<=Y?(B.intersect=1,B):(B.intersect=ye.evaluation,B)}var K=P.l(q,H),j=P.l(H,ne),ve=P.l(ne,q);if(O.line||(O.line=U.a.newInstance()),K>j&&K>ve?(O.line.getPoints().setPoint(0,q),O.line.getPoints().setPoint(1,H)):j>ve&&j>K?(O.line.getPoints().setPoint(0,H),O.line.getPoints().setPoint(1,ne)):(O.line.getPoints().setPoint(0,ne),O.line.getPoints().setPoint(1,q)),O.line.intersectWithLine(F,I,L,G,z).intersect){for(var Pe=[],Oe=[],xe=[],Ve=0;Ve<3;Ve++)Pe[Ve]=q[Ve]-ne[Ve],Oe[Ve]=H[Ve]-ne[Ve],xe[Ve]=G[Ve]-ne[Ve];return z[0]=P.m(xe,Pe)/ve,z[1]=P.m(xe,Oe)/j,B.evaluation=1,B}return z[0]=0,z[1]=0,B.evaluation=0,B},d.evaluatePosition=function(F,I,L,G){var z,B,Y,q,H,ne,Ae,ce={subId:0,dist2:0,evaluation:-1},ye=[],K=[],j=[],ve=[],Pe=[],Oe=[],xe=[],Ve=0,me=[],pe=[],ke=[],X=[],Z=[];ce.subId=0,L[2]=0,O.points.getPoint(1,ye),O.points.getPoint(2,K),O.points.getPoint(0,j),b(ye,K,j,ve),m.a.generalizedProjectPoint(F,ye,ve,Z);var ae=0;for(z=0;z<3;z++)(Y=ve[z]<0?-ve[z]:ve[z])>ae&&(ae=Y,Ve=z);for(B=0,z=0;z<3;z++)z!==Ve&&(me[B++]=z);for(z=0;z<2;z++)Pe[z]=Z[me[z]]-j[me[z]],Oe[z]=ye[me[z]]-j[me[z]],xe[z]=K[me[z]]-j[me[z]];if((q=P.k(Oe,xe))===0)return L[0]=0,L[1]=0,ce.evaluation=-1,ce;if(L[0]=P.k(Pe,xe)/q,L[1]=P.k(Oe,Pe)/q,G[0]=1-(L[0]+L[1]),G[1]=L[0],G[2]=L[1],G[0]>=0&&G[0]<=1&&G[1]>=0&&G[1]<=1&&G[2]>=0&&G[2]<=1)I&&(ce.dist2=P.l(Z,F),I[0]=Z[0],I[1]=Z[1],I[2]=Z[2]),ce.evaluation=1;else{var Ue;if(I){if(G[1]<0&&G[2]<0)for(H=P.l(F,j),ne=U.a.distanceToLine(F,ye,j,Ue,ke),Ae=U.a.distanceToLine(F,j,K,Ue,X),H<ne?(ce.dist2=H,pe=j):(ce.dist2=ne,pe=ke),Ae<ce.dist2&&(ce.dist2=Ae,pe=X),z=0;z<3;z++)I[z]=pe[z];else if(G[2]<0&&G[0]<0)for(H=P.l(F,ye),ne=U.a.distanceToLine(F,ye,j,Ue,ke),Ae=U.a.distanceToLine(F,ye,K,Ue,X),H<ne?(ce.dist2=H,pe=ye):(ce.dist2=ne,pe=ke),Ae<ce.dist2&&(ce.dist2=Ae,pe=X),z=0;z<3;z++)I[z]=pe[z];else if(G[1]<0&&G[0]<0)for(H=P.l(F,K),ne=U.a.distanceToLine(F,K,j,Ue,ke),Ae=U.a.distanceToLine(F,ye,K,Ue,X),H<ne?(ce.dist2=H,pe=K):(ce.dist2=ne,pe=ke),Ae<ce.dist2&&(ce.dist2=Ae,pe=X),z=0;z<3;z++)I[z]=pe[z];else if(G[0]<0){var Ie=U.a.distanceToLine(F,ye,K,I);ce.dist2=Ie.distance}else if(G[1]<0){var le=U.a.distanceToLine(F,K,j,I);ce.dist2=le.distance}else if(G[2]<0){var ge=U.a.distanceToLine(F,ye,j,I);ce.dist2=ge.distance}}ce.evaluation=0}return ce},d.evaluateLocation=function(F,I,L){var G=[],z=[],B=[];O.points.getPoint(0,G),O.points.getPoint(1,z),O.points.getPoint(2,B);for(var Y=1-F[0]-F[1],q=0;q<3;q++)I[q]=G[q]*Y+z[q]*F[0]+B[q]*F[1];L[0]=Y,L[1]=F[0],L[2]=F[1]},d.getParametricDistance=function(F){var I,L=0,G=[];G[0]=F[0],G[1]=F[1],G[2]=1-F[0]-F[1];for(var z=0;z<3;z++)(I=G[z]<0?-G[z]:G[z]>1?G[z]-1:0)>L&&(L=I);return L}}(S,D)}var M=u.b.newInstance(E,"vtkTriangle");p.a=function(S){for(var D=1;D<arguments.length;D++){var V=arguments[D]!=null?arguments[D]:{};D%2?w(Object(V),!0).forEach(function(d){r(S,d,V[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(V)):w(Object(V)).forEach(function(d){Object.defineProperty(S,d,Object.getOwnPropertyDescriptor(V,d))})}return S}({newInstance:M,extend:E},A)},function(g,p,a){var u=a(73),f=a.n(u);function P(U,m){var w=Object.keys(U);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(U);m&&(r=r.filter(function(b){return Object.getOwnPropertyDescriptor(U,b).enumerable})),w.push.apply(w,r)}return w}p.a=function(U){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=m.saveToFile,r=m.storeTempPreset,b=r===void 0||r,C=U.imageUI,A=C.transferFunctionWidget,x={},E=C.selectedComponentIndex,M=A.getGaussians().slice(),S=C.lookupTableProxies[E].getState(),D=M.map(function(O){return function(F){for(var I=1;I<arguments.length;I++){var L=arguments[I]!=null?arguments[I]:{};I%2?P(Object(L),!0).forEach(function(G){f()(F,G,L[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(L)):P(Object(L)).forEach(function(G){Object.defineProperty(F,G,Object.getOwnPropertyDescriptor(L,G))})}return F}({},O)});if(x.transferFunction={gaussians:D,dataRange:U.imageUI.colorRanges[E],opacityRange:A.getOpacityRange()},x.colorMap={rgbPoints:S.rgbPoints,specifyTerminalColors:!1},x.gradientOpacity=C.gradientOpacity,x.volumeSampleDistance=C.volumeSampleDistance,x.useShadow=C.useShadow,x.blendMode=C.blendMode,x.syncColorMapRangeToOpacityRange=U.imageUI.syncColorMapRangeToOpacityRange,w){var V=JSON.stringify(x),d=document.createElement("a");d.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(V)),d.setAttribute("download","preset.json"),d.click()}b&&(U.imageUI.tempPreset=x)}},function(g,p,a){var u=a(73),f=a.n(u),P=(a(3),a(64),a(113),a(98));function U(m,w){var r=Object.keys(m);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(m);w&&(b=b.filter(function(C){return Object.getOwnPropertyDescriptor(m,C).enumerable})),r.push.apply(r,b)}return r}p.a=function(m,w){if(w){var r=w.transferFunction,b=(w.gaussians,w.gradientOpacity),C=w.volumeSampleDistance,A=w.useShadow,x=w.blendMode,E=w.colorMap,M=w.syncColorMapRangeToOpacityRange,S=m.imageUI.transferFunctionWidget,D=m.imageUI.selectedComponentIndex;if(S){if(m.imageUI.syncColorMapRangeToOpacityRange=!!M,b!==void 0&&(m.imageUI.gradientOpacity=parseFloat(b)),C!==void 0&&(m.imageUI.volumeSampleDistance=parseFloat(C)),A!==void 0&&(m.imageUI.useShadow=A),x!==void 0&&(m.imageUI.blendMode=parseInt(x)),E!==void 0){var V=E.rgbPoints,d=E.options;V&&Object(P.a)(m,V,d)}if(r!==void 0){var O=r.gaussians,F=O===void 0?[]:O,I=r.dataRange,L=(r.opacityRange,m.imageUI.colorRanges[D]),G=[];F.forEach(function(z,B){G[B]=function(H){for(var ne=1;ne<arguments.length;ne++){var Ae=arguments[ne]!=null?arguments[ne]:{};ne%2?U(Object(Ae),!0).forEach(function(ce){f()(H,ce,Ae[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(Ae)):U(Object(Ae)).forEach(function(ce){Object.defineProperty(H,ce,Object.getOwnPropertyDescriptor(Ae,ce))})}return H}({},z);var Y=((I[1]-I[0])*z.position+I[0]-L[0])/(L[1]-L[0]),q=z.width*(I[1]-I[0])/(L[1]-L[0]);G[B].width=q,G[B].position=Y}),S.setGaussians(G)}}}}},function(g,p,a){var u=a(37),f=a(64);p.a=function(P){var U=P.imageUI.visualizedComponents;P.imageUI.representationProxy&&(P.imageUI.representationProxy.getVolumes().forEach(function(m,w){var r=m.getProperty(),b=!1;if(U.forEach(function(x,E){var M=P.imageUI.lookupTableProxies[x].getLookupTable(),S=P.imageUI.piecewiseFunctionProxies[x].volume.getPiecewiseFunction(),D=P.imageUI.componentVisibilities[x];b=!!D.visible||b,r.setRGBTransferFunction(E,M),r.setScalarOpacity(E,S),D.visible?r.setComponentWeight(E,D.weight):r.setComponentWeight(E,0)}),P.imageUI.labelMap){var C=u.b.PROPORTIONAL;b||(C=u.b.FRACTIONAL);var A=P.imageUI.numberOfComponents;r.setOpacityMode(A,C)}}),Object(f.a)(P))}},function(g,p,a){p.a=function(u,f){if(u.imageUI.image){var P=u.imageUI.colorRanges[f],U=u.imageUI.totalIntensityComponents,m=u.imageUI.transferFunctionWidget,w=u.imageUI.image.getPointData().getScalars();m.setDataArray(w.getData(),{numberOfComponents:U,component:f}),m.setGaussians(u.imageUI.opacityGaussians[f]);var r=w.getRange(f),b=r[1]-r[0];u.imageUI.windowMotionScale=b,u.imageUI.levelMotionScale=b;var C=u.imageUI.transferFunctionManipulator,A=C.rangeManipulator,x=C.windowGet,E=C.windowSet,M=C.levelGet,S=C.levelSet;A!==null&&(A.setVerticalListener(0,u.imageUI.windowMotionScale,b/100,x,E),A.setHorizontalListener(r[0],r[1],b/100,M,S));var D=new Array(2);D[0]=(P[0]-r[0])/b,D[1]=(P[1]-r[0])/b,m.setRangeZoom(D)}}},function(g,p,a){g.exports=a(261)},function(g,p,a){var u=a(6),f=a.n(u),P=a(11),U=a.n(P),m=a(47),w=a(48),r=a.n(w),b=a(32),C=function(){var A=U()(f.a.mark(function x(E,M){var S,D,V,d,O,F;return f.a.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return S=E,I.next=3,Object(m.a)("ImageIO",S);case 3:return D=I.sent,V=D.webworkerPromise,d=D.worker,S=d,I.next=9,r.a.readAsArrayBuffer(M);case 9:return O=I.sent,I.prev=10,I.next=13,V.postMessage({operation:"readImage",name:M.name,type:M.type,data:O,config:b.a},[O]);case 13:return F=I.sent,I.abrupt("return",{image:F,webWorker:S});case 17:throw I.prev=17,I.t0=I.catch(10),Error(I.t0);case 20:case"end":return I.stop()}},x,null,[[10,17]])}));return function(x,E){return A.apply(this,arguments)}}();p.a=C},function(g,p){g.exports=function(a){var u=[];return u.toString=function(){return this.map(function(f){var P=function(U,m){var w=U[1]||"",r=U[3];if(!r)return w;if(m&&typeof btoa=="function"){var b=function(A){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(A))))+" */"}(r),C=r.sources.map(function(A){return"/*# sourceURL="+r.sourceRoot+A+" */"});return[w].concat(C).concat([b]).join(`
`)}return[w].join(`
`)}(f,a);return f[2]?"@media "+f[2]+"{"+P+"}":P}).join("")},u.i=function(f,P){typeof f=="string"&&(f=[[null,f,""]]);for(var U={},m=0;m<this.length;m++){var w=this[m][0];typeof w=="number"&&(U[w]=!0)}for(m=0;m<f.length;m++){var r=f[m];typeof r[0]=="number"&&U[r[0]]||(P&&!r[2]?r[2]=P:P&&(r[2]="("+r[2]+") and ("+P+")"),u.push(r))}},u}},function(g,p,a){var u={},f=function(d){var O;return function(){return O===void 0&&(O=d.apply(this,arguments)),O}}(function(){return window&&document&&document.all&&!window.atob}),P=function(d){var O={};return function(F,I){if(typeof F=="function")return F();if(O[F]===void 0){var L=function(G,z){return z?z.querySelector(G):document.querySelector(G)}.call(this,F,I);if(window.HTMLIFrameElement&&L instanceof window.HTMLIFrameElement)try{L=L.contentDocument.head}catch{L=null}O[F]=L}return O[F]}}(),U=null,m=0,w=[],r=a(250);function b(d,O){for(var F=0;F<d.length;F++){var I=d[F],L=u[I.id];if(L){L.refs++;for(var G=0;G<L.parts.length;G++)L.parts[G](I.parts[G]);for(;G<I.parts.length;G++)L.parts.push(S(I.parts[G],O))}else{var z=[];for(G=0;G<I.parts.length;G++)z.push(S(I.parts[G],O));u[I.id]={id:I.id,refs:1,parts:z}}}}function C(d,O){for(var F=[],I={},L=0;L<d.length;L++){var G=d[L],z=O.base?G[0]+O.base:G[0],B={css:G[1],media:G[2],sourceMap:G[3]};I[z]?I[z].parts.push(B):F.push(I[z]={id:z,parts:[B]})}return F}function A(d,O){var F=P(d.insertInto);if(!F)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var I=w[w.length-1];if(d.insertAt==="top")I?I.nextSibling?F.insertBefore(O,I.nextSibling):F.appendChild(O):F.insertBefore(O,F.firstChild),w.push(O);else if(d.insertAt==="bottom")F.appendChild(O);else{if(typeof d.insertAt!="object"||!d.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var L=P(d.insertAt.before,F);F.insertBefore(O,L)}}function x(d){if(d.parentNode===null)return!1;d.parentNode.removeChild(d);var O=w.indexOf(d);O>=0&&w.splice(O,1)}function E(d){var O=document.createElement("style");if(d.attrs.type===void 0&&(d.attrs.type="text/css"),d.attrs.nonce===void 0){var F=function(){return a.nc}();F&&(d.attrs.nonce=F)}return M(O,d.attrs),A(d,O),O}function M(d,O){Object.keys(O).forEach(function(F){d.setAttribute(F,O[F])})}function S(d,O){var F,I,L,G;if(O.transform&&d.css){if(!(G=typeof O.transform=="function"?O.transform(d.css):O.transform.default(d.css)))return function(){};d.css=G}if(O.singleton){var z=m++;F=U||(U=E(O)),I=V.bind(null,F,z,!1),L=V.bind(null,F,z,!0)}else d.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(F=function(B){var Y=document.createElement("link");return B.attrs.type===void 0&&(B.attrs.type="text/css"),B.attrs.rel="stylesheet",M(Y,B.attrs),A(B,Y),Y}(O),I=function(B,Y,q){var H=q.css,ne=q.sourceMap,Ae=Y.convertToAbsoluteUrls===void 0&&ne;(Y.convertToAbsoluteUrls||Ae)&&(H=r(H)),ne&&(H+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(ne))))+" */");var ce=new Blob([H],{type:"text/css"}),ye=B.href;B.href=URL.createObjectURL(ce),ye&&URL.revokeObjectURL(ye)}.bind(null,F,O),L=function(){x(F),F.href&&URL.revokeObjectURL(F.href)}):(F=E(O),I=function(B,Y){var q=Y.css,H=Y.media;if(H&&B.setAttribute("media",H),B.styleSheet)B.styleSheet.cssText=q;else{for(;B.firstChild;)B.removeChild(B.firstChild);B.appendChild(document.createTextNode(q))}}.bind(null,F),L=function(){x(F)});return I(d),function(B){if(B){if(B.css===d.css&&B.media===d.media&&B.sourceMap===d.sourceMap)return;I(d=B)}else L()}}g.exports=function(d,O){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(O=O||{}).attrs=typeof O.attrs=="object"?O.attrs:{},O.singleton||typeof O.singleton=="boolean"||(O.singleton=f()),O.insertInto||(O.insertInto="head"),O.insertAt||(O.insertAt="bottom");var F=C(d,O);return b(F,O),function(I){for(var L=[],G=0;G<F.length;G++){var z=F[G];(B=u[z.id]).refs--,L.push(B)}for(I&&b(C(I,O),O),G=0;G<L.length;G++){var B;if((B=L[G]).refs===0){for(var Y=0;Y<B.parts.length;Y++)B.parts[Y]();delete u[B.id]}}}};var D=function(){var d=[];return function(O,F){return d[O]=F,d.filter(Boolean).join(`
`)}}();function V(d,O,F,I){var L=F?"":I.css;if(d.styleSheet)d.styleSheet.cssText=D(O,L);else{var G=document.createTextNode(L),z=d.childNodes;z[O]&&d.removeChild(z[O]),z.length?d.insertBefore(G,z[O]):d.appendChild(G)}}},function(g,p){function a(u,f){if(u instanceof a){var P=u;this.rows=P.rows,this.columns=P.columns,this.data=P.data.slice()}else this.rows=u,this.columns=f,this.data=new Array(u*f),this.data.fill(0)}a.prototype.setIdentity=function(){for(var u=0;u<this.rows;++u)for(var f=0;f<this.columns;++f)this.data[f+u*this.columns]=u===f?1:0},a.prototype.setElement=function(u,f,P){this.data[f+u*this.columns]=P},a.prototype.getElement=function(u,f){return this.data[f+u*this.columns]},g.exports=a},function(g,p,a){var u=a(142),f=a.n(u),P=a(13),U=a.n(P),m=a(29),w=a.n(m),r=a(34),b=a.n(r),C=function(){function A(x,E){w()(this,A),this.fcn=E,this.workerQueue=new Array(x),this.workerQueue.fill(null),this.runInfo=[]}return b()(A,[{key:"runTasks",value:function(x,E){var M=this,S={taskQueue:[],results:[],addingTasks:!1,postponed:!1,runningWorkers:0,progressCallback:E};return this.runInfo.push(S),S.index=this.runInfo.length-1,new Promise(function(D,V){S.resolve=D,S.reject=V,S.results=new Array(x.length),S.completedTasks=0,S.addingTasks=!0,x.forEach(function(d,O){M.addTask(S.index,O,d)}),S.addingTasks=!1})}},{key:"terminateWorkers",value:function(){for(var x=0;x<this.workerQueue.length;x++){var E=this.workerQueue[x];E&&E.terminate(),this.workerQueue[x]=null}}},{key:"addTask",value:function(x,E,M){var S=this,D=this.runInfo[x];if(this.workerQueue.length>0){var V=this.workerQueue.pop();D.runningWorkers++,this.fcn.apply(this,[V].concat(U()(M))).then(function(d){var O=d.webWorker,F=f()(d,["webWorker"]);if(S.workerQueue.push(O),D.runningWorkers--,D.results[E]=F,D.completedTasks++,D.progressCallback&&D.progressCallback(D.completedTasks,D.results.length),D.taskQueue.length>0){var I=D.taskQueue.shift();S.addTask.apply(S,[x].concat(U()(I)))}else if(!D.addingTasks&&!D.runningWorkers){var L=D.results,G=D.index;S.runInfo[G]=null,D.resolve(L)}}).catch(function(d){var O=D.reject,F=D.index;S.runInfo[F]=null,O(d)})}else D.runningWorkers||D.postponed===!0?D.taskQueue.push([E,M]):(D.postponed=!0,setTimeout(function(){D.postponed=!1,S.addTask(D.index,E,M)},50))}}]),A}();p.a=C},function(g,p){g.exports={Float32:"float",Float64:"double",SpacePrecisionType:"double"}},function(g,p,a){a.d(p,"a",function(){return u});var u={FIELD_ASSOCIATION_POINTS:0,FIELD_ASSOCIATION_CELLS:1,FIELD_ASSOCIATION_NONE:2,FIELD_ASSOCIATION_POINTS_THEN_CELLS:3,FIELD_ASSOCIATION_VERTICES:4,FIELD_ASSOCIATION_EDGES:5,FIELD_ASSOCIATION_ROWS:6,NUMBER_OF_ASSOCIATIONS:7};p.b={FieldDataTypes:{UNIFORM:0,DATA_OBJECT_FIELD:0,COORDINATE:1,POINT_DATA:1,POINT:2,POINT_FIELD_DATA:2,CELL:3,CELL_FIELD_DATA:3,VERTEX:4,VERTEX_FIELD_DATA:4,EDGE:5,EDGE_FIELD_DATA:5,ROW:6,ROW_DATA:6},FieldAssociations:u}},function(g,p,a){var u=a(0),f=a(3),P=a(51);function U(O,F){var I=Object.keys(O);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(O);F&&(L=L.filter(function(G){return Object.getOwnPropertyDescriptor(O,G).enumerable})),I.push.apply(I,L)}return I}function m(O,F,I){return F in O?Object.defineProperty(O,F,{value:I,enumerable:!0,configurable:!0,writable:!0}):O[F]=I,O}var w=P.c.Device,r=P.c.Input,b=u.b.vtkWarningMacro,C=u.b.vtkErrorMacro,A=u.b.normalizeWheel,x=u.b.vtkOnceErrorMacro,E={"OpenVR Gamepad":[r.TrackPad,r.Trigger,r.Grip,r.ApplicationMenu]},M=["StartAnimation","Animation","EndAnimation","StartMouseMove","MouseMove","EndMouseMove","LeftButtonPress","LeftButtonRelease","MiddleButtonPress","MiddleButtonRelease","RightButtonPress","RightButtonRelease","KeyPress","KeyDown","KeyUp","StartMouseWheel","MouseWheel","EndMouseWheel","StartPinch","Pinch","EndPinch","StartPan","Pan","EndPan","StartRotate","Rotate","EndRotate","Button3D","Move3D","StartPointerLock","EndPointerLock","StartInteractionEvent","InteractionEvent","EndInteractionEvent"];function S(O){return O.stopPropagation(),O.preventDefault(),!1}var D={renderWindow:null,interactorStyle:null,picker:null,pickingManager:null,initialized:!1,enabled:!1,enableRender:!0,currentRenderer:null,lightFollowCamera:!0,desiredUpdateRate:30,stillUpdateRate:2,container:null,view:null,recognizeGestures:!0,currentGesture:"Start",animationRequest:null,lastFrameTime:.1,wheelTimeoutID:0,moveTimeoutID:0,lastGamepadValues:{}};function V(O,F){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(F,D,I),u.b.obj(O,F),u.b.event(O,F,"RenderEvent"),M.forEach(function(L){return u.b.event(O,F,L)}),u.b.get(O,F,["initialized","container","enabled","enableRender","interactorStyle","lastFrameTime","view"]),u.b.setGet(O,F,["lightFollowCamera","enabled","recognizeGestures","desiredUpdateRate","stillUpdateRate","picker"]),function(L,G){G.classHierarchy.push("vtkRenderWindowInteractor");var z=new Set,B=0;function Y(j,ve){G.currentRenderer=L.findPokedRenderer(j,ve)}function q(j){var ve=G.container.getBoundingClientRect(),Pe=G.view.getCanvas(),Oe=Pe.width/ve.width,xe=Pe.height/ve.height,Ve={x:Oe*(j.clientX-ve.left),y:xe*(ve.height-j.clientY+ve.top),z:0};return Y(Ve.x,Ve.y),Ve}function H(j){for(var ve={},Pe=0;Pe<j.length;Pe++){var Oe=j[Pe];ve[Oe.identifier]=q(Oe)}return ve}function ne(j){return{controlKey:j.ctrlKey,altKey:j.altKey,shiftKey:j.shiftKey}}function Ae(j){var ve=ne(j),Pe={key:j.key,keyCode:j.charCode};return Object.assign(Pe,ve),Pe}function ce(j){var ve=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Pe=document.querySelector("body"),Oe=j?"addEventListener":"removeEventListener",xe=j?"removeEventListener":"addEventListener";!ve&&!j&&B>0&&--B,B&&!ve||(B=0,G.container&&G.container[xe]("mousemove",L.handleMouseMove),Pe[Oe]("mouseup",L.handleMouseUp),Pe[Oe]("mouseleave",L.handleMouseUp),Pe[Oe]("mousemove",L.handleMouseMove),Pe[Oe]("touchend",L.handleTouchEnd,!1),Pe[Oe]("touchcancel",L.handleTouchEnd,!1),Pe[Oe]("touchmove",L.handleTouchMove,!1)),!ve&&j&&++B}function ye(){G.view&&G.enabled&&G.enableRender&&(G.inRender=!0,G.view.traverseAllPasses(),G.inRender=!1),L.invokeRenderEvent()}L.start=function(){(G.initialized||(L.initialize(),G.initialized))&&L.startEventLoop()},L.setRenderWindow=function(j){C("you want to call setView(view) instead of setRenderWindow on a vtk.js interactor")},L.setInteractorStyle=function(j){G.interactorStyle!==j&&(G.interactorStyle!=null&&G.interactorStyle.setInteractor(null),G.interactorStyle=j,G.interactorStyle!=null&&G.interactorStyle.getInteractor()!==L&&G.interactorStyle.setInteractor(L))},L.initialize=function(){G.initialized=!0,L.enable(),L.render()},L.enable=function(){return L.setEnabled(!0)},L.disable=function(){return L.setEnabled(!1)},L.startEventLoop=function(){return b("empty event loop")},L.getCurrentRenderer=function(){return G.currentRenderer||Y(0,0),G.currentRenderer},L.bindEvents=function(j){G.container=j,j.addEventListener("contextmenu",S),j.addEventListener("wheel",L.handleWheel),j.addEventListener("DOMMouseScroll",L.handleWheel),j.addEventListener("mousemove",L.handleMouseMove),j.addEventListener("mousedown",L.handleMouseDown),document.querySelector("body").addEventListener("keypress",L.handleKeyPress),document.querySelector("body").addEventListener("keydown",L.handleKeyDown),document.querySelector("body").addEventListener("keyup",L.handleKeyUp),document.addEventListener("pointerlockchange",L.handlePointerLockChange),j.addEventListener("touchstart",L.handleTouchStart,!1)},L.unbindEvents=function(){ce(!1,!0),G.container.removeEventListener("contextmenu",S),G.container.removeEventListener("wheel",L.handleWheel),G.container.removeEventListener("DOMMouseScroll",L.handleWheel),G.container.removeEventListener("mousemove",L.handleMouseMove),G.container.removeEventListener("mousedown",L.handleMouseDown),document.querySelector("body").removeEventListener("keypress",L.handleKeyPress),document.querySelector("body").removeEventListener("keydown",L.handleKeyDown),document.querySelector("body").removeEventListener("keyup",L.handleKeyUp),document.removeEventListener("pointerlockchange",L.handlePointerLockChange),G.container.removeEventListener("touchstart",L.handleTouchStart),G.container=null},L.handleKeyPress=function(j){var ve=Ae(j);L.keyPressEvent(ve)},L.handleKeyDown=function(j){var ve=Ae(j);L.keyDownEvent(ve)},L.handleKeyUp=function(j){var ve=Ae(j);L.keyUpEvent(ve)},L.handleMouseDown=function(j){if(!(j.button>2)){ce(!0),j.stopPropagation(),j.preventDefault();var ve={position:q(j)},Pe=ne(j);switch(Object.assign(ve,Pe),j.button){case 0:L.leftButtonPressEvent(ve);break;case 1:L.middleButtonPressEvent(ve);break;case 2:L.rightButtonPressEvent(ve);break;default:C("Unknown mouse button pressed: ".concat(j.button))}}},L.requestPointerLock=function(){L.getView().getCanvas().requestPointerLock()},L.exitPointerLock=function(){return document.exitPointerLock()},L.isPointerLocked=function(){return!!document.pointerLockElement},L.handlePointerLockChange=function(){L.isPointerLocked()?L.startPointerLockEvent():L.endPointerLockEvent()},L.requestAnimation=function(j){j!==void 0?z.has(j)?b("requester is already registered for animating"):(z.add(j),z.size===1&&(G.lastFrameTime=.1,G.lastFrameStart=Date.now(),G.animationRequest=requestAnimationFrame(L.handleAnimation),L.startAnimationEvent())):C("undefined requester, can not start animating")},L.isAnimating=function(){return G.vrAnimation||G.animationRequest!==null},L.cancelAnimation=function(j){var ve=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(z.has(j))z.delete(j),G.animationRequest&&z.size===0&&(cancelAnimationFrame(G.animationRequest),G.animationRequest=null,L.endAnimationEvent(),L.render());else if(!ve){var Pe=j&&j.getClassName?j.getClassName():j;b("".concat(Pe," did not request an animation"))}},L.switchToVRAnimation=function(){G.animationRequest&&(cancelAnimationFrame(G.animationRequest),G.animationRequest=null),G.vrAnimation=!0},L.returnFromVRAnimation=function(){G.vrAnimation=!1,z.size!==0&&(G.FrameTime=-1,G.animationRequest=requestAnimationFrame(L.handleAnimation))},L.updateGamepads=function(j){for(var ve=navigator.getGamepads(),Pe=0;Pe<ve.length;++Pe){var Oe=ve[Pe];if(Oe&&Oe.displayId===j){Oe.index in G.lastGamepadValues||(G.lastGamepadValues[Oe.index]={buttons:{}});for(var xe=0;xe<Oe.buttons.length;++xe)xe in G.lastGamepadValues[Oe.index].buttons||(G.lastGamepadValues[Oe.index].buttons[xe]=!1),G.lastGamepadValues[Oe.index].buttons[xe]!==Oe.buttons[xe].pressed&&(L.button3DEvent({gamepad:Oe,position:Oe.pose.position,orientation:Oe.pose.orientation,pressed:Oe.buttons[xe].pressed,device:Oe.hand==="left"?w.LeftController:w.RightController,input:E[Oe.id]&&E[Oe.id][xe]?E[Oe.id][xe]:r.Trigger}),G.lastGamepadValues[Oe.index].buttons[xe]=Oe.buttons[xe].pressed),G.lastGamepadValues[Oe.index].buttons[xe]&&L.move3DEvent({gamepad:Oe,position:Oe.pose.position,orientation:Oe.pose.orientation,device:Oe.hand==="left"?w.LeftController:w.RightController})}}},L.handleMouseMove=function(j){var ve={position:q(j)},Pe=ne(j);Object.assign(ve,Pe),G.moveTimeoutID===0?L.startMouseMoveEvent(ve):(L.mouseMoveEvent(ve),clearTimeout(G.moveTimeoutID)),G.moveTimeoutID=setTimeout(function(){L.endMouseMoveEvent(),G.moveTimeoutID=0},200)},L.handleAnimation=function(){var j=Date.now();G.FrameTime===-1?G.lastFrameTime=.1:G.lastFrameTime=(j-G.lastFrameStart)/1e3,G.lastFrameTime=Math.max(.01,G.lastFrameTime),G.lastFrameStart=j,L.animationEvent(),ye(),G.animationRequest=requestAnimationFrame(L.handleAnimation)},L.handleWheel=function(j){j.stopPropagation(),j.preventDefault();var ve=A(j),Pe=ne(j);Object.assign(ve,Pe),G.wheelTimeoutID===0?L.startMouseWheelEvent(ve):(L.mouseWheelEvent(ve),clearTimeout(G.wheelTimeoutID)),G.wheelTimeoutID=setTimeout(function(){L.endMouseWheelEvent(),G.wheelTimeoutID=0},200)},L.handleMouseUp=function(j){ce(!1),j.stopPropagation(),j.preventDefault();var ve={position:q(j)},Pe=ne(j);switch(Object.assign(ve,Pe),j.button){case 0:L.leftButtonReleaseEvent(ve);break;case 1:L.middleButtonReleaseEvent(ve);break;case 2:L.rightButtonReleaseEvent(ve);break;default:C("Unknown mouse button released: ".concat(j.button))}},L.handleTouchStart=function(j){if(ce(!0),j.stopPropagation(),j.preventDefault(),G.recognizeGestures&&j.touches.length>1){var ve=H(j.touches);if(j.touches.length===2){var Pe={position:q(j.touches[0]),shiftKey:!1,altKey:!1,controlKey:!1};L.leftButtonReleaseEvent(Pe)}L.recognizeGesture("TouchStart",ve)}else{var Oe={position:q(j.touches[0]),shiftKey:!1,altKey:!1,controlKey:!1};L.leftButtonPressEvent(Oe)}},L.handleTouchMove=function(j){if(j.stopPropagation(),j.preventDefault(),G.recognizeGestures&&j.touches.length>1){var ve=H(j.touches);L.recognizeGesture("TouchMove",ve)}else{var Pe={position:q(j.touches[0]),shiftKey:!1,altKey:!1,controlKey:!1};L.mouseMoveEvent(Pe)}},L.handleTouchEnd=function(j){if(j.stopPropagation(),j.preventDefault(),G.recognizeGestures)if(j.touches.length===0)if(j.changedTouches.length===1){var ve={position:q(j.changedTouches[0]),shiftKey:!1,altKey:!1,controlKey:!1};L.leftButtonReleaseEvent(ve),ce(!1)}else{var Pe=H(j.changedTouches);L.recognizeGesture("TouchEnd",Pe),ce(!1)}else if(j.touches.length===1){var Oe=H(j.changedTouches);L.recognizeGesture("TouchEnd",Oe);var xe={position:q(j.touches[0]),shiftKey:!1,altKey:!1,controlKey:!1};L.leftButtonPressEvent(xe)}else{var Ve=H(j.touches);L.recognizeGesture("TouchMove",Ve)}else{var me={position:q(j.changedTouches[0]),shiftKey:!1,altKey:!1,controlKey:!1};L.leftButtonReleaseEvent(me),ce(!1)}},L.setView=function(j){G.view!==j&&(G.view=j,G.view.getRenderable().setInteractor(L),L.modified())},L.findPokedRenderer=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!G.view)return null;var Pe=G.view.getRenderable().getRenderersByReference();Pe.sort(function(ke,X){return ke.getLayer()-X.getLayer()});for(var Oe=null,xe=null,Ve=null,me=Pe.length;me--;){var pe=Pe[me];if(G.view.isInViewport(j,ve,pe)&&pe.getInteractive()){Ve=pe;break}Oe===null&&pe.getInteractive()&&(Oe=pe),xe===null&&G.view.isInViewport(j,ve,pe)&&(xe=pe)}return Ve===null&&(Ve=Oe),Ve===null&&(Ve=xe),Ve==null&&(Ve=Pe[0]),Ve},L.render=function(){G.animationRequest!==null||G.inRender||ye()},M.forEach(function(j){var ve=j.charAt(0).toLowerCase()+j.slice(1);L["".concat(ve,"Event")]=function(Pe){if(G.enabled)if(L.getCurrentRenderer()){var Oe={type:j,pokedRenderer:G.currentRenderer};Object.assign(Oe,Pe),L["invoke".concat(j)](Oe)}else x(`
          Can not forward events without a current renderer on the interactor.
        `)}}),L.recognizeGesture=function(j,ve){if(!(Object.keys(ve).length>2)){if(G.startingEventPositions||(G.startingEventPositions={}),j==="TouchStart")return Object.keys(ve).forEach(function(W){G.startingEventPositions[W]=ve[W]}),void(G.currentGesture="Start");if(j==="TouchEnd")return G.currentGesture==="Pinch"&&(L.render(),L.endPinchEvent()),G.currentGesture==="Rotate"&&(L.render(),L.endRotateEvent()),G.currentGesture==="Pan"&&(L.render(),L.endPanEvent()),G.currentGesture="Start",void(G.startingEventPositions={});var Pe=0,Oe=[],xe=[];Object.keys(ve).forEach(function(W){Oe[Pe]=ve[W],xe[Pe]=G.startingEventPositions[W],Pe++});var Ve=Math.sqrt((xe[0].x-xe[1].x)*(xe[0].x-xe[1].x)+(xe[0].y-xe[1].y)*(xe[0].y-xe[1].y)),me=Math.sqrt((Oe[0].x-Oe[1].x)*(Oe[0].x-Oe[1].x)+(Oe[0].y-Oe[1].y)*(Oe[0].y-Oe[1].y)),pe=f.j(Math.atan2(xe[1].y-xe[0].y,xe[1].x-xe[0].x)),ke=f.j(Math.atan2(Oe[1].y-Oe[0].y,Oe[1].x-Oe[0].x)),X=ke-pe;ke=ke+180>=360?ke-180:ke+180,pe=pe+180>=360?pe-180:pe+180,Math.abs(ke-pe)<Math.abs(X)&&(X=ke-pe);var Z=[];if(Z[0]=(Oe[0].x-xe[0].x+Oe[1].x-xe[1].x)/2,Z[1]=(Oe[0].y-xe[0].y+Oe[1].y-xe[1].y)/2,j==="TouchMove")if(G.currentGesture==="Start"){var ae=.01*Math.sqrt(G.container.clientWidth*G.container.clientWidth+G.container.clientHeight*G.container.clientHeight);ae<15&&(ae=15);var Ue=Math.abs(me-Ve),Ie=3.1415926*me*Math.abs(X)/360,le=Math.sqrt(Z[0]*Z[0]+Z[1]*Z[1]);if(Ue>ae&&Ue>Ie&&Ue>le){G.currentGesture="Pinch";var ge={scale:1,touches:ve};L.startPinchEvent(ge)}else if(Ie>ae&&Ie>le){G.currentGesture="Rotate";var ze={rotation:0,touches:ve};L.startRotateEvent(ze)}else if(le>ae){G.currentGesture="Pan";var nt={translation:[0,0],touches:ve};L.startPanEvent(nt)}}else{if(G.currentGesture==="Rotate"){var st={rotation:X,touches:ve};L.rotateEvent(st)}if(G.currentGesture==="Pinch"){var Ge={scale:me/Ve,touches:ve};L.pinchEvent(Ge)}if(G.currentGesture==="Pan"){var N={translation:Z,touches:ve};L.panEvent(N)}}}},L.handleVisibilityChange=function(){G.lastFrameStart=Date.now()};var K=L.delete;L.delete=function(){for(;z.size;)L.cancelAnimation(z.values().next().value);document.hidden!==void 0&&document.removeEventListener("visibilitychange",L.handleVisibilityChange),K()},document.hidden!==void 0&&document.addEventListener("visibilitychange",L.handleVisibilityChange,!1)}(O,F)}var d=u.b.newInstance(V,"vtkRenderWindowInteractor");p.a=function(O){for(var F=1;F<arguments.length;F++){var I=arguments[F]!=null?arguments[F]:{};F%2?U(Object(I),!0).forEach(function(L){m(O,L,I[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(I)):U(Object(I)).forEach(function(L){Object.defineProperty(O,L,Object.getOwnPropertyDescriptor(I,L))})}return O}({newInstance:d,extend:V,handledEvents:M},P.c)},function(g,p,a){var u=a(0),f={clippingPlanes:[]};p.a={extend:function(P,U){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(U,f,m),u.b.obj(P,U),u.b.algo(P,U,1,0),U.clippingPlanes||(U.clippingPlanes=[]),function(w,r){w.update=function(){w.getInputData()},w.addClippingPlane=function(b){b.getClassName()==="vtkPlane"&&r.clippingPlanes.push(b)},w.getNumberOfClippingPlanes=function(){return r.clippingPlanes.length},w.removeAllClippingPlanes=function(){r.clippingPlanes.length=0},w.removeClippingPlane=function(b){b<0||b>=6||r.clippingPlanes.splice(b,1)},w.getClippingPlanes=function(){return r.clippingPlanes},w.setClippingPlanes=function(b){if(b)if(Array.isArray(b))for(var C=b.length,A=0;A<C&&A<6;A++)w.addClippingPlane(b[A]);else w.addClippingPlane(b)}}(P,U)}}},function(g,p,a){var u=a(13),f=a.n(u),P=a(20);p.a=function(U){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=w.lowerBoundColor,b=r===void 0?[0,0,0]:r,C=w.upperBoundColor,A=C===void 0?[1,1,1]:C,x=w.specifyTerminalColors,E=x===void 0||x,M=U.imageUI.selectedComponentIndex,S=U.imageUI.colorRanges[M],D=U.imageUI.lookupTableProxies[M],V=E?[[S[0]].concat(f()(b))].concat(f()(m),[[S[1]].concat(f()(A))]):f()(m);D.setMode(P.a.Mode.RGBPoints),D.setDataRange.apply(D,f()(S)),D.setRGBPoints(V)}},function(g,p,a){a.d(p,"a",function(){return u}),a(252);function u(f,P,U){var m=[],w=-1,r=u.DEFAULT;function b(){}function C(){}this.refresh=function(A){m=[],b.clearIcons();for(var x=this.setSelectedIndex,E=0;E<A.length;E++)A[E].element=b.createIcon(A[E].iconFilePath,A[E].iconValue,E,U),A[E].element.onclick=function(){x(this.childNodes[0].getAttribute("icon-index"))},m.push(A[E]);var M=Math.ceil(A.length/U.vectoralIconNumber);b.boxElement.style.height=(U.iconsHeight+2)*M+(M+1)*U.boxIconSpace+"px",this.setSelectedIndex(0)},this.getIcons=function(){return m},this.setSelectedIndex=function(A){var x;m.length>A&&(x=m[A]),x&&(w!=-1&&m[w].element.setAttribute("class","icon"),w=A,b.selectedIconImgElement.setAttribute("src",x.iconFilePath),w!=-1&&m[w].element.setAttribute("class","icon selected")),b.iconSelectElement.dispatchEvent(new CustomEvent("changed"))},this.setSelectedValue=function(A){var x=m.filter(M=>M.iconValue==A),E=x.length>0?m.indexOf(x[0]):-1;return this.setSelectedIndex(E)},this.getSelectedIndex=function(){return w},this.getSelectedValue=function(){return m[w].iconValue},this.getSelectedFilePath=function(){return m[w].iconFilePath},b.iconSelectElement,b.boxElement,b.boxScrollElement,b.selectedIconImgElement,b.selectedIconElement,b.showBox=function(A){A==null&&(A=b.boxElement.style.display=="none"),A?(b.boxElement.style.display="block",b.boxScrollElement.style.display="block"):(b.boxElement.style.display="none",b.boxScrollElement.style.display="none"),b.boxElement.style.display=A?"block":"none"},b.setIconSelectElement=function(A){return b.iconSelectElement=A,b.iconSelectElement},b.clearUI=function(){b.iconSelectElement.innerHTML=""},b.clearIcons=function(){b.boxElement.innerHTML=""},b.createUI=function(A){b.clearUI(),b.iconSelectElement.setAttribute("class","icon-select");var x=document.createElement("div");x.setAttribute("class","selected-box");var E=document.createElement("div");E.setAttribute("class","selected-icon"),b.selectedIconImgElement=document.createElement("img"),b.selectedIconImgElement.setAttribute("src",""),E.appendChild(b.selectedIconImgElement);var M=document.createElement("div");M.setAttribute("class","component-icon");var S=document.createElement("img");S.setAttribute("src",u.COMPONENT_ICON_FILE_PATH),M.appendChild(S),b.boxScrollElement=document.createElement("div"),b.boxScrollElement.setAttribute("id",f+"-box-scroll"),b.boxScrollElement.setAttribute("class","box"),b.boxElement=document.createElement("div"),b.boxScrollElement.appendChild(b.boxElement),b.selectedIconImgElement.setAttribute("width",A.selectedIconWidth),b.selectedIconImgElement.setAttribute("height",A.selectedIconHeight),x.style.width=A.selectedIconWidth+A.selectedBoxPadding+A.selectedBoxPaddingRight+"px",x.style.height=A.selectedIconHeight+2*A.selectedBoxPadding+"px",E.style.width=A.selectedIconWidth+"px",E.style.height=A.selectedIconHeight+"px",E.style.top="0px",E.style.left="0px",M.style.bottom=4+A.selectedBoxPadding+"px",b.boxScrollElement.style.left=parseInt(x.style.width)+1+"px",b.boxScrollElement.style.width=(A.iconsWidth+6)*A.vectoralIconNumber+(A.vectoralIconNumber+1)*A.boxIconSpace+"px",b.boxScrollElement.style.height=(A.iconsHeight+2)*A.horizontalIconNumber+(A.horizontalIconNumber+1)*A.boxIconSpace+"px",b.boxElement.style.left=b.boxScrollElement.style.left+"px",b.boxElement.style.width=b.boxScrollElement.style.width+"px",b.iconSelectElement.appendChild(x),x.appendChild(E),x.appendChild(M),x.appendChild(b.boxScrollElement);var D={};return D.iconSelectElement=b.iconSelectElement,D.selectedBoxElement=x,D.selectedIconElement=E,D.selectedIconImgElement=b.selectedIconImgElement,D.componentIconElement=M,D.componentIconImgElement=S,D},b.createIcon=function(A,x,E,M){var S=document.createElement("div");S.setAttribute("class","icon"),S.style.width=M.iconsWidth+"px",S.style.height=M.iconsHeight+"px",S.style.marginLeft=M.boxIconSpace+"px",S.style.marginTop=M.boxIconSpace+"px";var D=document.createElement("img");return D.setAttribute("src",A),D.setAttribute("alt",x),D.setAttribute("title",x),D.setAttribute("icon-value",x),D.setAttribute("icon-index",E),D.setAttribute("width",M.iconsWidth),D.setAttribute("height",M.iconsHeight),D.style.width=M.iconsWidth+"px",D.style.height=M.iconsHeight+"px",S.appendChild(D),b.boxElement.appendChild(S),S},C.checkParameters=function(A){return A.selectedIconWidth=A.selectedIconWidth?A.selectedIconWidth:r.SELECTED_ICON_WIDTH,A.selectedIconHeight=A.selectedIconHeight?A.selectedIconHeight:r.SELECTED_ICON_HEIGHT,A.selectedBoxPadding=A.selectedBoxPadding?A.selectedBoxPadding:r.SELECTED_BOX_PADDING,A.selectedBoxPaddingRight=A.selectedBoxPaddingRight?A.selectedBoxPaddingRight:r.SELECTED_BOX_PADDING_RIGHT,A.iconsWidth=A.iconsWidth?A.iconsWidth:r.ICONS_WIDTH,A.iconsHeight=A.iconsHeight?A.iconsHeight:r.ICONS_HEIGHT,A.boxIconSpace=A.boxIconSpace?A.boxIconSpace:r.BOX_ICON_SPACE,A.vectoralIconNumber=A.vectoralIconNumber?A.vectoralIconNumber:r.VECTORAL_ICON_NUMBER,A.horizontalIconNumber=A.horizontalIconNumber?A.horizontalIconNumber:r.HORIZONTAL_ICON_NUMBER,A},U||(U={}),b.setIconSelectElement(P)?(U=C.checkParameters(U),b.createUI(U,f),b.iconSelectElement.onclick=function(){b.showBox()},b.showBox(!1),b.iconSelectElement.addEventListener("click",function(A){A.stopPropagation()}),window.addEventListener("click",function(){b.showBox(!1)})):alert("Element not found.")}u.DEFAULT={},u.DEFAULT.SELECTED_ICON_WIDTH=48,u.DEFAULT.SELECTED_ICON_HEIGHT=48,u.DEFAULT.SELECTED_BOX_PADDING=1,u.DEFAULT.SELECTED_BOX_PADDING_RIGHT=12,u.DEFAULT.ICONS_WIDTH=32,u.DEFAULT.ICONS_HEIGHT=32,u.DEFAULT.BOX_ICON_SPACE=1,u.DEFAULT.HORIZONTAL_ICON_NUMBER=3,u.DEFAULT.VECTORAL_ICON_NUMBER=3,u.COMPONENT_ICON_FILE_PATH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAICAQAAACb+P2wAAAABGdBTUEAALGPC/xhBQAAAAJiS0dEAP+Hj8y/AAAACXBIWXMAAAsSAAALEgHS3X78AAAAB3RJTUUH4woCEhUXF3kHawAAAEZJREFUCNc9xrERQEAQAMB1IzajHS28XhSgAoFuCEU0oQctcCI2WjAkt2DK05S32PLQOOzpk+K/eslZeKyir4pW0VVgTC4vEbMU+2VifuUAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTEvMjgvMTNLZvc+AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEwLTAyVDE4OjIxOjIzLTA0OjAwbIGKZAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMC0wMlQxODoyMToyMy0wNDowMB3cMtgAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzbovLKMAAAAAElFTkSuQmCC",function(){if(typeof window.CustomEvent=="function")return!1;function f(P,U){U=U||{bubbles:!1,cancelable:!1,detail:void 0};var m=document.createEvent("CustomEvent");return m.initCustomEvent(P,U.bubbles,U.cancelable,U.detail),m}f.prototype=window.Event.prototype,window.CustomEvent=f}()},function(g,p,a){var u=a(0),f=a(3),P=a(168),U=a.n(P),m=a(169),w=a.n(m);function r(K,j){return function(ve){if(Array.isArray(ve))return ve}(K)||function(ve,Pe){var Oe=ve==null?null:typeof Symbol!="undefined"&&ve[Symbol.iterator]||ve["@@iterator"];if(Oe!=null){var xe,Ve,me=[],pe=!0,ke=!1;try{for(Oe=Oe.call(ve);!(pe=(xe=Oe.next()).done)&&(me.push(xe.value),!Pe||me.length!==Pe);pe=!0);}catch(X){ke=!0,Ve=X}finally{try{pe||Oe.return==null||Oe.return()}finally{if(ke)throw Ve}}return me}}(K,j)||E(K,j)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function b(K,j){var ve=Object.keys(K);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(K);j&&(Pe=Pe.filter(function(Oe){return Object.getOwnPropertyDescriptor(K,Oe).enumerable})),ve.push.apply(ve,Pe)}return ve}function C(K){for(var j=1;j<arguments.length;j++){var ve=arguments[j]!=null?arguments[j]:{};j%2?b(Object(ve),!0).forEach(function(Pe){A(K,Pe,ve[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(ve)):b(Object(ve)).forEach(function(Pe){Object.defineProperty(K,Pe,Object.getOwnPropertyDescriptor(ve,Pe))})}return K}function A(K,j,ve){return j in K?Object.defineProperty(K,j,{value:ve,enumerable:!0,configurable:!0,writable:!0}):K[j]=ve,K}function x(K){return function(j){if(Array.isArray(j))return M(j)}(K)||function(j){if(typeof Symbol!="undefined"&&j[Symbol.iterator]!=null||j["@@iterator"]!=null)return Array.from(j)}(K)||E(K)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function E(K,j){if(K){if(typeof K=="string")return M(K,j);var ve=Object.prototype.toString.call(K).slice(8,-1);return ve==="Object"&&K.constructor&&(ve=K.constructor.name),ve==="Map"||ve==="Set"?Array.from(K):ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve)?M(K,j):void 0}}function M(K,j){(j==null||j>K.length)&&(j=K.length);for(var ve=0,Pe=new Array(j);ve<j;ve++)Pe[ve]=K[ve];return Pe}var S=.001,D={adjustPosition:"-webkit-grab",adjustHeight:"row-resize",adjustBias:"crosshair",adjustWidth:"col-resize",adjustZoom:"col-resize"},V=[],d={adjustPosition:function(K,j,ve){var Pe=ve.originalXY,Oe=ve.gaussian,xe=ve.originalGaussian.position-Pe[0];return Oe.position=K+xe,!0},adjustHeight:function(K,j,ve){var Pe=ve.model,Oe=ve.gaussian;return Oe.height=1-j,Oe.height=Math.min(1,Math.max(Pe.gaussianMinimumHeight,Oe.height)),!0},adjustBias:function(K,j,ve){var Pe=ve.originalXY,Oe=ve.gaussian,xe=ve.originalGaussian;return Oe.xBias=xe.xBias-(Pe[0]-K)/Oe.height,Oe.yBias=xe.yBias+4*(Pe[1]-j)/Oe.height,Oe.xBias=Math.max(-1,Math.min(1,Oe.xBias)),Oe.yBias=Math.max(0,Math.min(2,Oe.yBias)),!0},adjustWidth:function(K,j,ve){var Pe=ve.originalXY,Oe=ve.gaussian,xe=ve.originalGaussian,Ve=ve.gaussianSide;return Oe.width=Ve<0?xe.width-(Pe[0]-K):xe.width+(Pe[0]-K),Oe.width<S&&(Oe.width=S),!0},adjustZoom:function(K,j,ve){var Pe=ve.rangeZoom,Oe=ve.publicAPI,xe=Pe[1]-Pe[0],Ve=(K-Pe[0])/xe,me=Math.abs(Ve-Pe[0]),pe=Math.abs(Ve-Pe[1]);if(Math.abs(Ve-.5*(Pe[0]+Pe[1]))<Math.min(me,pe)){var ke=.5*xe;Pe[0]=Math.min(Math.max(Ve-ke,0),Pe[1]-.1),Pe[1]=Math.max(Math.min(Ve+ke,1),Pe[0]+.1)}else me<pe?Pe[0]=Math.min(Math.max(Ve,0),Pe[1]-.1):Pe[1]=Math.max(Math.min(Ve,1),Pe[0]+.1);return Oe.invokeZoomChange(Pe),!1}};function O(K){for(var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:256,ve=[];ve.length<j;)ve.push(0);for(var Pe=K.length;Pe--;)for(var Oe=K[Pe],xe=Oe.position,Ve=Oe.height,me=Oe.width,pe=Oe.xBias,ke=Oe.yBias,X=0;X<j;X++){var Z=X/(j-1);if(Z>xe+me||Z<xe-me)ve[X]<0&&(ve[X]=0);else{var ae=me<S?S:me,Ue=((pe===0||Z===xe+pe?Z:Z>xe+pe?ae===pe?xe:xe+ae/(ae-pe)*(Z-xe-pe):-ae===pe?xe:xe-ae/(ae+pe)*(Z-xe-pe))-xe)/ae,Ie=Math.exp(-4*Ue*Ue),le=1-Ue*Ue,ge=Ve*(ke<1?ke*le+(1-ke)*Ie:(2-ke)*le+1*(ke-1));ge>ve[X]&&(ve[X]=ge)}}return ve}function F(K,j,ve){var Pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{lineWidth:1,strokeStyle:"#000"},Oe=j[3],xe=j[2]/(ve.length-1),Ve=!!Pe.fillStyle,me=Oe+j[1];K.lineWidth=Pe.lineWidth,K.strokeStyle=Pe.strokeStyle,K.beginPath(),K.moveTo(j[0],j[1]+j[3]);for(var pe=0;pe<ve.length;pe++)K.lineTo(j[0]+pe*xe,Math.max(j[1],me-ve[pe]*Oe));if(Ve){if(K.fillStyle=Pe.fillStyle,K.lineTo(j[0]+j[2],j[1]+j[3]),Pe.clip)return void K.clip();K.fill()}K.stroke()}function I(K,j,ve){var Pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[0,1];return[Pe[0]+(K-ve[0])/ve[2]*(Pe[1]-Pe[0]),(j-ve[1])/ve[3]]}function L(K,j){var ve=j.map(function(Oe){return Math.abs(Oe.position-K)}),Pe=Math.min.apply(Math,x(ve));return ve.indexOf(Pe)}function G(K){var j=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return function(ve){var Pe=ve.offsetX,Oe=ve.offsetY;j&&ve.preventDefault(),K(Pe,Oe)}}function z(){V.filter(function(K){return K.ready}).forEach(function(K){K.callbacks.forEach(function(j){j.touches===K.touches&&j.clicks===K.count&&j.action.apply(j,x(K.singleTouche))}),K.ts=0,K.count=0,K.touches=0,K.ready=!1})}function B(K,j){var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,Pe=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return function(Oe){var xe=Oe.target.getBoundingClientRect(),Ve=Array.prototype.map.call(Oe.touches,function(me){return[me.pageX-xe.left,me.pageY-xe.top]}).reduce(function(me,pe){return[me[0]+pe[0],me[1]+pe[1]]},[0,0]).map(function(me){return me/Oe.touches.length});Oe.type==="touchstart"?(clearTimeout(V[K].timeout),V[K].ts=Oe.timeStamp,V[K].singleTouche=Ve,V[K].touches=Oe.touches.length):Oe.type==="touchmove"?(V[K].ts=0,V[K].count=0,V[K].ready=!1):Oe.type==="touchend"&&(Oe.timeStamp-V[K].ts<V[K].deltaT?(V[K].count+=1,V[K].ready=!0,Pe&&Oe.preventDefault(),V[K].timeout=setTimeout(z,V[K].deltaT)):V[K].ready=!1),Oe.touches.length===ve&&(j.apply(void 0,x(Ve)),Pe&&Oe.preventDefault())}}function Y(K,j,ve){return function(Pe){return K()?j(Pe):ve(Pe)}}function q(K,j){if(!j)return K;var ve=K.length-1,Pe=j.map(function(Oe){return Math.round(Oe*ve)});return K.slice(Pe[0],Pe[1]+1)}var H={applyGaussianToPiecewiseFunction:function(K,j,ve,Pe){for(var Oe=O(K,j),xe=[],Ve=(ve[1]-ve[0])/(Oe.length-1),me=0;me<Oe.length;me++){var pe=ve[0]+Ve*me,ke=Oe[me];xe.push({x:pe,y:ke,midpoint:.5,sharpness:0})}Pe.setNodes(xe)},computeOpacities:O,createListener:G,drawChart:F,findGaussian:L,listenerSelector:Y,normalizeCoordinates:I};function ne(K,j){j.classHierarchy.push("vtkPiecewiseGaussianWidget"),j.canvas||(j.canvas=document.createElement("canvas")),K.setContainer=function(Oe){j.container&&j.container!==Oe&&j.container.removeChild(j.canvas),j.container!==Oe&&(j.container=Oe,j.container&&j.container.appendChild(j.canvas),K.modified())},K.setGaussians=function(Oe){j.gaussians!==Oe&&(j.gaussians=Oe,j.opacities=O(j.gaussians,j.piecewiseSize),K.invokeOpacityChange(K),K.modified())},K.addGaussian=function(Oe,xe,Ve,me,pe){var ke=j.gaussians.length;return j.gaussians.push({position:Oe,height:xe,width:Ve,xBias:me,yBias:pe}),j.opacities=O(j.gaussians,j.piecewiseSize),K.invokeOpacityChange(K),K.modified(),ke},K.removeGaussian=function(Oe){j.gaussians.splice(Oe,1),j.opacities=O(j.gaussians,j.piecewiseSize),K.invokeOpacityChange(K),K.modified()},K.setSize=function(Oe,xe){j.canvas.setAttribute("width",Oe),j.canvas.setAttribute("height",xe),j.size[0]===Oe&&j.size[1]===xe||(j.size=[Oe,xe],j.colorCanvasMTime=0,K.modified())},K.updateStyle=function(Oe){j.style=C(C({},j.style),Oe),K.modified()},K.setDataArray=function(Oe){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ve=xe.numberOfBinToConsiders,me=Ve===void 0?1:Ve,pe=xe.numberOfBinsToSkip,ke=pe===void 0?1:pe,X=xe.numberOfComponents,Z=X===void 0?1:X,ae=xe.component,Ue=ae===void 0?0:ae;j.histogram=null,j.histogramArray=Oe,j.dataRange=f.d(Oe,Ue,Z);var Ie=r(j.dataRange,2),le=Ie[0],ge=Ie[1],ze=Math.floor(Oe.length/4)||1;ze+=ze%Z;for(var nt=0,st=[];nt<Oe.length;){var Ge=new w.a,N=new U.a(Ge),W=nt,de=Math.min(nt+ze,Oe.length-1),ie=new Oe.constructor(Oe.slice(W,de+1));st.push(N.postMessage({array:ie,component:Ue,numberOfComponents:Z,min:le,max:ge,numberOfBins:j.numberOfBins},[ie.buffer])),nt+=ze}Promise.all(st).then(function(_e){j.histogram=new Float32Array(j.numberOfBins),j.histogram.fill(0),_e.forEach(function(nn){for(var oe=0,St=nn.length;oe<St;++oe)j.histogram[oe]+=nn[oe]});var Ze=Math.min(me,j.histogram.length-ke),ft=Array.from(j.histogram);ft.sort(function(nn,oe){return Number(nn)-Number(oe)});for(var at=0;at<ke;at++)ft.pop();for(;ft.length>Ze;)ft.shift();for(var ht=ft.reduce(function(nn,oe){return nn+oe},0)/Ze,Ct=0,Kt=j.histogram.length;Ct<Kt;++Ct)j.histogram[Ct]/=ht;K.modified(),setTimeout(K.render,0)}),K.modified()},K.onClick=function(Oe,xe){var Ve=r(I(Oe,xe,j.graphArea,j.enableRangeZoom?j.rangeZoom:null),2),me=Ve[0],pe=Ve[1];if(me<0&&j.style.iconSize>1){for(var ke=j.style.iconSize+j.style.padding,X=ke,Z=0;xe>X;)Z+=1,X+=ke;switch(Z){case 0:var ae=K.addGaussian(0,1,.1,0,0),Ue=j.gaussians[ae],Ie=C({},Ue),le=d.adjustPosition;j.activeGaussian=ae,j.selectedGaussian=ae,u.b.setImmediate(function(){K.onDown(Oe,xe),j.dragAction={originalXY:[0,0],action:le,gaussian:Ue,originalGaussian:Ie}});break;case 1:j.selectedGaussian!==-1&&K.removeGaussian(j.selectedGaussian);break;default:j.selectedGaussian=-1,j.dragAction=null}}else if(me<0||me>1||pe<0||pe>1)j.selectedGaussian=-1,j.dragAction=null;else{var ge=L(me,j.gaussians);ge!==j.selectedGaussian&&(j.selectedGaussian=ge,K.modified())}return!0},K.onHover=function(Oe,xe){var Ve=20/j.canvas.height,me=r(I(Oe,xe,j.graphArea,j.enableRangeZoom?j.rangeZoom:null),2),pe=me[0],ke=me[1],X=r(I(Oe,xe,j.graphArea),1)[0],Z=pe<0?j.selectedGaussian:L(pe,j.gaussians);j.canvas.style.cursor="default";var ae=j.gaussians[Z];if(j.enableRangeZoom&&X>=0&&xe<j.graphArea[1]-6){var Ue=(j.rangeZoom[1]-j.rangeZoom[0])/3;X<j.rangeZoom[0]+Ue||X>j.rangeZoom[1]-Ue?j.canvas.style.cursor=D.adjustZoom:j.canvas.style.cursor=D.adjustPosition,j.dragAction={rangeZoom:j.rangeZoom,action:d.adjustZoom}}else if(ae&&X>=0){var Ie=1-ke,le=null;le=Ie>ae.height+Ve?"adjustPosition":Ie>ae.height-Ve?Math.abs(pe-ae.position)<Ve?"adjustHeight":"adjustPosition":Ie>.5*ae.height+Ve?"adjustPosition":Ie>.5*ae.height-Ve?Math.abs(pe-ae.position)<Ve?"adjustBias":"adjustPosition":Ie>Ve?"adjustPosition":"adjustWidth",j.canvas.style.cursor=D[le];var ge=d[le],ze=C({},ae);j.dragAction={originalXY:[pe,ke],action:ge,gaussian:ae,originalGaussian:ze}}return Z!==j.activeGaussian&&(j.activeGaussian=Z,K.modified()),!0},K.onDown=function(Oe,xe){j.mouseIsDown||K.invokeAnimation(!0),j.mouseIsDown=!0;var Ve=I(Oe,xe,j.graphArea,j.enableRangeZoom?j.rangeZoom:null)[0],me=L(Ve,j.gaussians);j.gaussianSide=0;var pe=j.gaussians[me];return pe&&(j.gaussianSide=pe.position-Ve),me!==j.selectedGaussian&&Ve>0&&(j.selectedGaussian=me,K.modified()),!0},K.onDrag=function(Oe,xe){if(j.dragAction){var Ve=r(I(Oe,xe,j.graphArea,j.enableRangeZoom?j.rangeZoom:null),2),me=Ve[0],pe=Ve[1];(0,j.dragAction.action)(me,pe,C({gaussianSide:j.gaussianSide,model:j,publicAPI:K},j.dragAction))&&(j.opacities=O(j.gaussians,j.piecewiseSize),K.invokeOpacityChange(K,!0)),K.modified()}return!0},K.onUp=function(Oe,xe){return j.mouseIsDown&&K.invokeAnimation(!1),j.mouseIsDown=!1,!0},K.onLeave=function(Oe,xe){return K.onUp(Oe,xe),j.canvas.style.cursor="default",j.activeGaussian=-1,K.modified(),!0},K.onAddGaussian=function(Oe,xe){var Ve=r(I(Oe,xe,j.graphArea,j.enableRangeZoom?j.rangeZoom:null),2),me=Ve[0],pe=Ve[1];return me>=0&&K.addGaussian(me,1-pe,.1,0,0),!0},K.onRemoveGaussian=function(Oe,xe){var Ve=I(Oe,xe,j.graphArea,j.enableRangeZoom?j.rangeZoom:null)[0],me=L(Ve,j.gaussians);return Ve>=0&&me!==-1&&K.removeGaussian(me),!0},K.bindMouseListeners=function(){if(!j.listeners){var Oe=function(){return!!j.mouseIsDown},xe=function(){for(var Ve=V.length,me=arguments.length,pe=new Array(me),ke=0;ke<me;ke++)pe[ke]=arguments[ke];return V.push({callbacks:pe,timeout:0,deltaT:200,count:0,ready:!1}),Ve}({clicks:1,touches:1,action:K.onClick},{clicks:2,touches:1,action:K.onAddGaussian},{clicks:2,touches:2,action:K.onRemoveGaussian});j.listeners={mousemove:Y(Oe,G(K.onDrag),G(K.onHover)),dblclick:G(K.onAddGaussian),contextmenu:G(K.onRemoveGaussian),click:G(K.onClick),mouseup:G(K.onUp),mousedown:G(K.onDown),mouseout:G(K.onLeave),touchstart:B(xe,u.b.chain(K.onHover,K.onDown)),touchmove:Y(Oe,B(xe,K.onDrag),B(xe,K.onHover)),touchend:B(xe,K.onUp,0)},Object.keys(j.listeners).forEach(function(Ve){j.canvas.addEventListener(Ve,j.listeners[Ve],!1)})}},K.unbindMouseListeners=function(){j.listeners&&(Object.keys(j.listeners).forEach(function(Oe){j.canvas.removeEventListener(Oe,j.listeners[Oe])}),delete j.listeners)},K.render=function(){var Oe=j.canvas.getContext("2d");Oe.imageSmoothingEnabled=!0;var xe=r(j.size,2),Ve=xe[0],me=xe[1],pe=j.style.padding,ke=[Math.floor(j.style.iconSize+pe),Math.floor(pe),Math.ceil(Ve-2*pe-j.style.iconSize),Math.ceil(me-2*pe)],X=j.style.zoomControlHeight;if(j.enableRangeZoom&&(ke[1]+=Math.floor(X),ke[3]-=Math.floor(X)),j.graphArea=ke,Oe.clearRect(0,0,Ve,me),Oe.lineJoin="round",Oe.fillStyle=j.style.backgroundColor,Oe.fillRect.apply(Oe,ke),j.style.iconSize>1){var Z=Math.round(j.style.iconSize/2-j.style.strokeWidth),ae=Math.round(Z+pe+j.style.strokeWidth);Oe.beginPath(),Oe.lineWidth=j.style.buttonStrokeWidth,Oe.strokeStyle=j.style.buttonStrokeColor,Oe.arc(ae-pe/2,ae,Z,0,2*Math.PI,!1),Oe.fillStyle=j.style.buttonFillColor,Oe.fill(),Oe.stroke(),Oe.moveTo(ae-Z+j.style.strokeWidth+2-pe/2,ae),Oe.lineTo(ae+Z-j.style.strokeWidth-2-pe/2,ae),Oe.stroke(),Oe.moveTo(ae-pe/2,ae-Z+j.style.strokeWidth+2),Oe.lineTo(ae-pe/2,ae+Z-j.style.strokeWidth-2),Oe.stroke(),j.selectedGaussian===-1?(Oe.fillStyle=j.style.buttonDisableFillColor,Oe.lineWidth=j.style.buttonDisableStrokeWidth,Oe.strokeStyle=j.style.buttonDisableStrokeColor):(Oe.fillStyle=j.style.buttonFillColor,Oe.lineWidth=j.style.buttonStrokeWidth,Oe.strokeStyle=j.style.buttonStrokeColor),Oe.beginPath(),Oe.arc(ae-pe/2,ae+pe/2+j.style.iconSize,Z,0,2*Math.PI,!1),Oe.fill(),Oe.stroke(),Oe.moveTo(ae-Z+j.style.strokeWidth+2-pe/2,ae+pe/2+j.style.iconSize),Oe.lineTo(ae+Z-j.style.strokeWidth-2-pe/2,ae+pe/2+j.style.iconSize),Oe.stroke()}if(j.histogram&&F(Oe,ke,q(j.histogram,j.rangeZoom),{lineWidth:1,strokeStyle:j.style.histogramColor,fillStyle:j.style.histogramColor}),F(Oe,ke,q(j.opacities,j.enableRangeZoom&&j.rangeZoom),{lineWidth:j.style.strokeWidth,strokeStyle:j.style.strokeColor}),j.colorTransferFunction&&j.colorTransferFunction.getSize()){var Ue=j.dataRange||j.colorTransferFunction.getMappingRange();j.colorCanvas&&j.colorCanvasMTime===j.colorTransferFunction.getMTime()||(j.colorCanvasMTime=j.colorTransferFunction.getMTime(),j.colorCanvas=function(W,de,ie,_e){var Ze=_e||document.createElement("canvas");Ze.setAttribute("width",de),Ze.setAttribute("height",256);for(var ft=Ze.getContext("2d"),at=W.getUint8Table(ie[0],ie[1],de,4),ht=ft.getImageData(0,0,de,256),Ct=0;Ct<256;Ct++)ht.data.set(at,4*Ct*de);for(var Kt=256*de*4,nn=4*de,oe=3;oe<Kt;oe+=4)ht.data[oe]=255-Math.floor(oe/nn);return ft.putImageData(ht,0,0),Ze}(j.colorTransferFunction,ke[2],Ue,j.colorCanvas)),Oe.save(),F(Oe,ke,q(j.opacities,j.enableRangeZoom&&j.rangeZoom),{lineWidth:1,strokeStyle:"rgba(0,0,0,0)",fillStyle:"rgba(0,0,0,1)",clip:!0}),j.enableRangeZoom?Oe.drawImage(j.colorCanvas,j.rangeZoom[0]*ke[2],0,ke[2],ke[3],ke[0],ke[1],ke[2]/(j.rangeZoom[1]-j.rangeZoom[0]),ke[3]):Oe.drawImage(j.colorCanvas,ke[0],ke[1]),Oe.restore()}else j.backgroundImage&&(j.colorCanvas=function(W,de,ie){var _e=ie||document.createElement("canvas");return _e.setAttribute("width",de),_e.setAttribute("height",256),_e.getContext("2d").drawImage(W,0,0,W.width,W.height,0,0,de,256),_e}(j.backgroundImage,ke[2],j.colorCanvas),Oe.save(),F(Oe,ke,q(j.opacities,j.enableRangeZoom&&j.rangeZoom),{lineWidth:1,strokeStyle:"rgba(0,0,0,0)",fillStyle:"rgba(0,0,0,1)",clip:!0}),Oe.drawImage(j.colorCanvas,ke[0],ke[1]),Oe.restore());j.enableRangeZoom&&(Oe.fillStyle=j.style.zoomControlColor,Oe.beginPath(),Oe.rect(ke[0]+j.rangeZoom[0]*ke[2],0,(j.rangeZoom[1]-j.rangeZoom[0])*ke[2],X),Oe.fill());var Ie=j.gaussians[j.activeGaussian]||j.gaussians[j.selectedGaussian];if(Ie){F(Oe,ke,q(O([Ie],ke[2]),j.enableRangeZoom&&j.rangeZoom),{lineWidth:j.style.activeStrokeWidth,strokeStyle:j.style.activeColor});var le=ke[0]+function(W,de){return de?(W-de[0])/(de[1]-de[0]):W}(Ie.position,j.enableRangeZoom&&j.rangeZoom)*ke[2],ge=ke[1]+(1-Ie.height)*ke[3],ze=ke[1]+(1-.5*Ie.height)*ke[3],nt=ke[1]+ke[3],st=Ie.width*ke[2];j.enableRangeZoom&&(st/=j.rangeZoom[1]-j.rangeZoom[0]),Oe.lineWidth=j.style.handleWidth,Oe.strokeStyle=j.style.handleColor,Oe.fillStyle=j.style.backgroundColor,Oe.beginPath(),Oe.moveTo(le,ke[1]+(1-Ie.height)*ke[3]),Oe.lineTo(le,ke[1]+ke[3]),Oe.stroke(),Oe.beginPath(),Oe.arc(le,ge,6,0,2*Math.PI),Oe.fill(),Oe.stroke();var Ge=Math.min(.1*st,Ie.height*ke[3]*.2);Oe.beginPath(),Oe.rect(le-Ge,ze-Ge,2*Ge,2*Ge),Oe.fill(),Oe.stroke(),Oe.beginPath();var N=.8*st;Oe.rect(le-N,nt-5,2*N,10),Oe.fill(),Oe.stroke()}},K.getOpacityNodes=function(Oe){for(var xe=Oe||j.dataRange,Ve=(xe[1]-xe[0])/(j.opacities.length-1),me=[],pe=0;pe<j.opacities.length;pe++){var ke=xe[0]+Ve*pe,X=j.opacities[pe];me.push({x:ke,y:X,midpoint:.5,sharpness:0})}return me},K.applyOpacity=function(Oe,xe){var Ve=K.getOpacityNodes(xe);Oe.setNodes(Ve)},K.getOpacityRange=function(Oe){for(var xe=Oe||j.dataRange,Ve=(xe[1]-xe[0])/(j.opacities.length-1),me=j.opacities.length-1,pe=0,ke=0;ke<j.opacities.length;ke++)j.opacities[ke]>0&&(me=Math.min(me,ke)),j.opacities[ke]>0&&(pe=Math.max(pe,ke));return[xe[0]+me*Ve,xe[0]+pe*Ve]};var ve=K.setEnableRangeZoom;K.setEnableRangeZoom=function(Oe){var xe=ve(Oe);return xe&&(j.colorCanvasMTime=0,j.rangeZoom=[0,1]),xe};var Pe=K.setRangeZoom;K.setRangeZoom=function(){var Oe=Pe.apply(void 0,arguments);return Oe&&(j.colorCanvasMTime=0),Oe},K.onModified(function(){return K.render()}),K.setSize.apply(K,x(j.size))}var Ae={histogram:[],numberOfBins:256,histogramArray:null,dataRange:[0,1],gaussians:[],opacities:[],size:[600,300],piecewiseSize:256,colorCanvasMTime:0,gaussianMinimumHeight:.05,style:{backgroundColor:"rgba(255, 255, 255, 1)",histogramColor:"rgba(200, 200, 200, 0.5)",strokeColor:"rgb(0, 0, 0)",activeColor:"rgb(0, 0, 150)",buttonDisableFillColor:"rgba(255, 255, 255, 0.5)",buttonDisableStrokeColor:"rgba(0, 0, 0, 0.5)",buttonStrokeColor:"rgba(0, 0, 0, 1)",buttonFillColor:"rgba(255, 255, 255, 1)",handleColor:"rgb(0, 150, 0)",strokeWidth:2,activeStrokeWidth:3,buttonStrokeWidth:1.5,handleWidth:3,iconSize:20,padding:10,zoomControlHeight:10,zoomControlColor:"#999"},activeGaussian:-1,selectedGaussian:-1,enableRangeZoom:!0,rangeZoom:[0,1]};function ce(K,j){var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(j,Ae,ve),u.b.obj(K,j),u.b.setGet(K,j,["piecewiseSize","numberOfBins","colorTransferFunction","backgroundImage","enableRangeZoom","gaussianMinimumHeight"]),u.b.setGetArray(K,j,["rangeZoom"],2),u.b.get(K,j,["size","canvas","gaussians"]),u.b.event(K,j,"opacityChange"),u.b.event(K,j,"animation"),u.b.event(K,j,"zoomChange"),ne(K,j)}var ye=u.b.newInstance(ce,"vtkPiecewiseGaussianWidget");p.a=C({newInstance:ye,extend:ce},H)},function(g,p,a){var u=a(68),f=a(87),P=a(102);function U(m,w,r){Object(f.a)(m,r),Object(u.a)(m,r),Object(P.a)(m,r)}p.a=function(m){for(var w=m.imageUI.totalIntensityComponents,r=(m.imageUI.transferFunctionWidget,m.imageUI.selectedComponentIndex),b=0;b<w;b++)b!==r&&U(m,0,b);U(m,0,r)}},function(g,p,a){var u=a(13),f=a.n(u);p.a=function(P,U){var m=P.imageUI.lookupTableProxies[U];if(m){var w=m.getLookupTable(),r=P.imageUI.transferFunctionWidget;r.setColorTransferFunction(w);var b=r.getOpacityRange();w.setMappingRange.apply(w,f()(b)),w.updateRange()}}},function(g,p){g.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 384"><path d="M344.4 94.3L416 22.6 393.4 0l-77.6 77.6C288 63.7 257.5 55 224 55 142.1 55 78.3 107.2 0 192c34.8 37.4 66.8 72.7 103.3 98.1L32 361.4 54.6 384l76.9-76.9c27 13.7 57 21.9 92.5 21.9 99.9 0 173.4-81.8 224-135.5-28-34.1-62.4-71.8-103.6-99.2zm-210 97.7c0-50.4 40.2-91.3 89.6-91.3 19.3 0 37.2 6.2 51.8 16.9l-50.7 50.7c-.7-2.6-1.1-5.4-1.1-8.3 0-7.9 2.9-15.1 7.6-20.7-2.5-.4-5-.6-7.6-.6-28.8 0-52.3 23.9-52.3 53.3 0 8.6 2 16.8 5.6 24L150 243.4c-9.8-14.7-15.6-32.4-15.6-51.4zm89.6 91.3c-19.3 0-37.2-6.2-51.8-16.9l27.4-27.4c7.3 4 15.6 6.2 24.4 6.2 28.8 0 52.3-23.9 52.3-53.3 0-2.3-.2-4.6-.4-6.9-5.5 4.3-12.3 6.9-19.8 6.9-2.9 0-5.6-.4-8.3-1.1l50.3-50.3c9.8 14.6 15.6 32.3 15.6 51.4-.1 50.5-40.3 91.4-89.7 91.4z"/></svg>'},function(g,p){g.exports=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

attribute vec4 vertexMC;

// frag position in VC
//VTK::PositionVC::Dec

// optional normal declaration
//VTK::Normal::Dec

// extra lighting parameters
//VTK::Light::Dec

// Texture coordinates
//VTK::TCoord::Dec

// material property values
//VTK::Color::Dec

// clipping plane vars
//VTK::Clip::Dec

// camera and actor matrix values
//VTK::Camera::Dec

// Apple Bug
//VTK::PrimID::Dec

// picking support
//VTK::Picking::Dec

void main()
{
  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Clip::Impl

  //VTK::PrimID::Impl

  //VTK::PositionVC::Impl

  //VTK::Light::Impl

  //VTK::Picking::Impl
}
`},function(g,p,a){var u;(function(f,P,U){if(f){for(var m,w={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},r={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},b={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},C={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},A=1;A<20;++A)w[111+A]="f"+A;for(A=0;A<=9;++A)w[A+96]=A.toString();d.prototype.bind=function(O,F,I){return O=O instanceof Array?O:[O],this._bindMultiple.call(this,O,F,I),this},d.prototype.unbind=function(O,F){return this.bind.call(this,O,function(){},F)},d.prototype.trigger=function(O,F){return this._directMap[O+":"+F]&&this._directMap[O+":"+F]({},O),this},d.prototype.reset=function(){return this._callbacks={},this._directMap={},this},d.prototype.stopCallback=function(O,F){if((" "+F.className+" ").indexOf(" mousetrap ")>-1||function L(G,z){return G!==null&&G!==P&&(G===z||L(G.parentNode,z))}(F,this.target))return!1;if("composedPath"in O&&typeof O.composedPath=="function"){var I=O.composedPath()[0];I!==O.target&&(F=I)}return F.tagName=="INPUT"||F.tagName=="SELECT"||F.tagName=="TEXTAREA"||F.isContentEditable},d.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},d.addKeycodes=function(O){for(var F in O)O.hasOwnProperty(F)&&(w[F]=O[F]);m=null},d.init=function(){var O=d(P);for(var F in O)F.charAt(0)!=="_"&&(d[F]=function(I){return function(){return O[I].apply(O,arguments)}}(F))},d.init(),f.Mousetrap=d,g.exports&&(g.exports=d),(u=function(){return d}.call(p,a,p,g))===void 0||(g.exports=u)}function x(O,F,I){O.addEventListener?O.addEventListener(F,I,!1):O.attachEvent("on"+F,I)}function E(O){if(O.type=="keypress"){var F=String.fromCharCode(O.which);return O.shiftKey||(F=F.toLowerCase()),F}return w[O.which]?w[O.which]:r[O.which]?r[O.which]:String.fromCharCode(O.which).toLowerCase()}function M(O,F){return O.sort().join(",")===F.sort().join(",")}function S(O){return O=="shift"||O=="ctrl"||O=="alt"||O=="meta"}function D(O,F,I){return I||(I=function(){if(!m)for(var L in m={},w)L>95&&L<112||w.hasOwnProperty(L)&&(m[w[L]]=L);return m}()[O]?"keydown":"keypress"),I=="keypress"&&F.length&&(I="keydown"),I}function V(O,F){var I,L,G,z=[];for(I=function(B){return B==="+"?["+"]:(B=B.replace(/\+{2}/g,"+plus")).split("+")}(O),G=0;G<I.length;++G)L=I[G],C[L]&&(L=C[L]),F&&F!="keypress"&&b[L]&&(L=b[L],z.push("shift")),S(L)&&z.push(L);return{key:L,modifiers:z,action:F=D(L,z,F)}}function d(O){var F=this;if(O=O||P,!(F instanceof d))return new d(O);F.target=O,F._callbacks={},F._directMap={};var I,L={},G=!1,z=!1,B=!1;function Y(ye){ye=ye||{};var K,j=!1;for(K in L)ye[K]?j=!0:L[K]=0;j||(B=!1)}function q(ye,K,j,ve,Pe,Oe){var xe,Ve,me=[],pe=j.type;if(!F._callbacks[ye])return[];for(pe=="keyup"&&S(ye)&&(K=[ye]),xe=0;xe<F._callbacks[ye].length;++xe)if(Ve=F._callbacks[ye][xe],(ve||!Ve.seq||L[Ve.seq]==Ve.level)&&pe==Ve.action&&(pe=="keypress"&&!j.metaKey&&!j.ctrlKey||M(K,Ve.modifiers))){var ke=!ve&&Ve.combo==Pe,X=ve&&Ve.seq==ve&&Ve.level==Oe;(ke||X)&&F._callbacks[ye].splice(xe,1),me.push(Ve)}return me}function H(ye,K,j,ve){F.stopCallback(K,K.target||K.srcElement,j,ve)||ye(K,j)===!1&&(function(Pe){Pe.preventDefault?Pe.preventDefault():Pe.returnValue=!1}(K),function(Pe){Pe.stopPropagation?Pe.stopPropagation():Pe.cancelBubble=!0}(K))}function ne(ye){typeof ye.which!="number"&&(ye.which=ye.keyCode);var K=E(ye);K&&(ye.type!="keyup"||G!==K?F.handleKey(K,function(j){var ve=[];return j.shiftKey&&ve.push("shift"),j.altKey&&ve.push("alt"),j.ctrlKey&&ve.push("ctrl"),j.metaKey&&ve.push("meta"),ve}(ye),ye):G=!1)}function Ae(ye,K,j,ve){function Pe(me){return function(){B=me,++L[ye],clearTimeout(I),I=setTimeout(Y,1e3)}}function Oe(me){H(j,me,ye),ve!=="keyup"&&(G=E(me)),setTimeout(Y,10)}L[ye]=0;for(var xe=0;xe<K.length;++xe){var Ve=xe+1===K.length?Oe:Pe(ve||V(K[xe+1]).action);ce(K[xe],Ve,ve,ye,xe)}}function ce(ye,K,j,ve,Pe){F._directMap[ye+":"+j]=K;var Oe,xe=(ye=ye.replace(/\s+/g," ")).split(" ");xe.length>1?Ae(ye,xe,K,j):(Oe=V(ye,j),F._callbacks[Oe.key]=F._callbacks[Oe.key]||[],q(Oe.key,Oe.modifiers,{type:Oe.action},ve,ye,Pe),F._callbacks[Oe.key][ve?"unshift":"push"]({callback:K,modifiers:Oe.modifiers,action:Oe.action,seq:ve,level:Pe,combo:ye}))}F._handleKey=function(ye,K,j){var ve,Pe=q(ye,K,j),Oe={},xe=0,Ve=!1;for(ve=0;ve<Pe.length;++ve)Pe[ve].seq&&(xe=Math.max(xe,Pe[ve].level));for(ve=0;ve<Pe.length;++ve)if(Pe[ve].seq){if(Pe[ve].level!=xe)continue;Ve=!0,Oe[Pe[ve].seq]=1,H(Pe[ve].callback,j,Pe[ve].combo,Pe[ve].seq)}else Ve||H(Pe[ve].callback,j,Pe[ve].combo);var me=j.type=="keypress"&&z;j.type!=B||S(ye)||me||Y(Oe),z=Ve&&j.type=="keydown"},F._bindMultiple=function(ye,K,j){for(var ve=0;ve<ye.length;++ve)ce(ye[ve],K,j)},x(O,"keypress",ne),x(O,"keydown",ne),x(O,"keyup",ne)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(g,p,a){var u=a(6),f=a.n(u),P=a(11),U=a.n(P),m=a(111),w=a.n(m),r=a(65),b=a.n(r),C=a(47),A=a(32),x=a(27),E=a.n(x),M=a(145),S=a.n(M),D=typeof self.SharedArrayBuffer=="function",V=function(I){var L=null;return I.buffer?L=I.buffer:I.byteLength&&(L=I),L&&D&&L instanceof SharedArrayBuffer&&(L=null),L},d={};function O(I,L,G,z){var B=I;I[0]==="/"||I.startsWith("http")||(B="..");var Y=B+"/"+L;if(w()(window.WebAssembly)==="object"&&typeof window.WebAssembly.Memory=="function"){var q=Y+"/"+G+"Wasm.js";return z&&(q=G+"Wasm.js"),new Promise(function(ne,Ae){var ce=document.createElement("script");ce.src=q,ce.onload=ne,ce.onerror=Ae,document.head.appendChild(ce)}).then(U()(f.a.mark(function ne(){var Ae,ce,ye,K;return f.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return Ae=G.replace(/.*\//,""),ce=Y+"/"+G+"Wasm.wasm",z&&(ce=G+"Wasm.wasm"),j.next=5,b.a.get(ce,{responseType:"arraybuffer"});case 5:return ye=j.sent,K=ye.data,j.abrupt("return",Promise.resolve(window[Ae]({moduleScriptDir:Y,isAbsoluteURL:z,pipelinePath:G,wasmBinary:K})));case 8:case"end":return j.stop()}},ne)})))}var H=Y+"/"+G+".js";return z&&(H=G+".js"),new Promise(function(ne,Ae){var ce=document.createElement("script");ce.src=H,ce.onload=ne,ce.onerror=Ae,document.head.appendChild(ce)}).then(function(){return window.Module})}function F(){return(F=U()(f.a.mark(function I(L,G,z){var B;return f.a.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(B=null,!(G in d)){Y.next=5;break}B=d[G],Y.next=9;break;case 5:return Y.next=7,O(A.a.itkModulesPath,L,G,z);case 7:d[G]=Y.sent,B=d[G];case 9:return Y.abrupt("return",B);case 10:case"end":return Y.stop()}},I)}))).apply(this,arguments)}p.a=function(I,L,G,z,B){var Y=L instanceof URL;I===!1&&function(H,ne,Ae){return F.apply(this,arguments)}("Pipelines",L.toString(),Y).then(function(H){return S()(H,G,z,B)});var q=I;return Object(C.a)("Pipeline",q).then(function(H){var ne=H.webworkerPromise,Ae=H.worker;q=Ae;var ce=[];return B&&B.forEach(function(ye){if(ye.type===E.a.Binary){var K=V(ye.data);K&&ce.push(K)}else if(ye.type===E.a.Image){var j=V(ye.data.data);j&&ce.push(j)}else if(ye.type===E.a.Mesh){if(ye.data.points){var ve=V(ye.data.points);ve&&ce.push(ve)}if(ye.data.pointData){var Pe=V(ye.data.pointData);Pe&&ce.push(Pe)}if(ye.data.cells){var Oe=V(ye.data.cells);Oe&&ce.push(Oe)}if(ye.data.cellData){var xe=V(ye.data.cellData);xe&&ce.push(xe)}}}),ne.postMessage({operation:"runPipeline",config:A.a,pipelinePath:L.toString(),isAbsoluteURL:Y,args:G,outputs:z,inputs:B},ce).then(function(ye){var K=ye.stdout,j=ye.stderr,ve=ye.outputs;return Promise.resolve({stdout:K,stderr:j,outputs:ve,webWorker:q})})})}},function(g,p,a){var u=a(0),f=a(3),P=a(67),U={ColorSpace:{RGB:0,HSV:1,LAB:2,DIVERGING:3},Scale:{LINEAR:0,LOG10:1}},m=a(74);function w(I,L){var G=Object.keys(I);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(I);L&&(z=z.filter(function(B){return Object.getOwnPropertyDescriptor(I,B).enumerable})),G.push.apply(G,z)}return G}function r(I,L,G){return L in I?Object.defineProperty(I,L,{value:G,enumerable:!0,configurable:!0,writable:!0}):I[L]=G,I}var b=U.ColorSpace,C=U.Scale,A=P.a.ScalarMappingTarget,x=u.b.vtkDebugMacro,E=u.b.vtkErrorMacro,M=u.b.vtkWarningMacro;function S(I,L){var G=I[0],z=I[1],B=I[2],Y=Math.sqrt(G*G+z*z+B*B),q=Y>.001?Math.acos(G/Y):0,H=q>.001?Math.atan2(B,z):0;L[0]=Y,L[1]=q,L[2]=H}function D(I,L){if(I[0]>=L-.1)return I[2];var G=I[1]*Math.sqrt(L*L-I[0]*I[0])/(I[0]*Math.sin(I[1]));return I[2]>-.3*Math.PI?I[2]+G:I[2]-G}function V(I,L,G,z){var B=[],Y=[];f.B(L,B),f.B(G,Y);var q=[],H=[];S(B,q),S(Y,H);var ne=I;if(q[1]>.05&&H[1]>.05&&function(K,j){var ve=K-j;for(ve<0&&(ve=-ve);ve>=2*Math.PI;)ve-=2*Math.PI;return ve>Math.PI&&(ve=2*Math.PI-ve),ve}(q[2],H[2])>.33*Math.PI){var Ae=Math.max(q[0],H[0]);Ae=Math.max(88,Ae),I<.5?(H[0]=Ae,H[1]=0,H[2]=0,ne*=2):(q[0]=Ae,q[1]=0,q[2]=0,ne=2*ne-1)}q[1]<.05&&H[1]>.05?q[2]=D(H,q[0]):H[1]<.05&&q[1]>.05&&(H[2]=D(q,H[0]));var ce=[];ce[0]=(1-ne)*q[0]+ne*H[0],ce[1]=(1-ne)*q[1]+ne*H[1],ce[2]=(1-ne)*q[2]+ne*H[2];var ye=[];(function(K,j){var ve=K[0],Pe=K[1],Oe=K[2];j[0]=ve*Math.cos(Pe),j[1]=ve*Math.sin(Pe)*Math.cos(Oe),j[2]=ve*Math.sin(Pe)*Math.sin(Oe)})(ce,ye),f.s(ye,z)}var d={clamping:!0,colorSpace:b.RGB,hSVWrap:!0,scale:C.LINEAR,nanColor:null,belowRangeColor:null,aboveRangeColor:null,useAboveRangeColor:!1,useBelowRangeColor:!1,allowDuplicateScalars:!1,table:null,tableSize:0,buildTime:null,nodes:null,discretize:!1,numberOfValues:256};function O(I,L){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(L,d,G),P.a.extend(I,L,G),L.table=[],L.nodes=[],L.nanColor=[.5,0,0,1],L.belowRangeColor=[0,0,0,1],L.aboveRangeColor=[1,1,1,1],L.buildTime={},u.b.obj(L.buildTime),u.b.get(I,L,["buildTime","mappingRange"]),u.b.setGet(I,L,["useAboveRangeColor","useBelowRangeColor","colorSpace","discretize","numberOfValues"]),u.b.setArray(I,L,["nanColor","belowRangeColor","aboveRangeColor"],4),u.b.getArray(I,L,["nanColor","belowRangeColor","aboveRangeColor"]),function(z,B){B.classHierarchy.push("vtkColorTransferFunction"),z.getSize=function(){return B.nodes.length},z.addRGBPoint=function(Y,q,H,ne){return z.addRGBPointLong(Y,q,H,ne,.5,0)},z.addRGBPointLong=function(Y,q,H,ne){var Ae=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.5,ce=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(Ae<0||Ae>1)return E("Midpoint outside range [0.0, 1.0]"),-1;if(ce<0||ce>1)return E("Sharpness outside range [0.0, 1.0]"),-1;B.allowDuplicateScalars||z.removePoint(Y);var ye={x:Y,r:q,g:H,b:ne,midpoint:Ae,sharpness:ce};B.nodes.push(ye),z.sortAndUpdateRange();for(var K=0;K<B.nodes.length&&B.nodes[K].x!==Y;K++);return K<B.nodes.length?K:-1},z.addHSVPoint=function(Y,q,H,ne){return z.addHSVPointLong(Y,q,H,ne,.5,0)},z.addHSVPointLong=function(Y,q,H,ne){var Ae=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.5,ce=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,ye=[],K=[q,H,ne];return f.o(K,ye),z.addRGBPoint(Y,ye[0],ye[1],ye[2],Ae,ce)},z.setNodes=function(Y){B.nodes!==Y&&(B.nodes=Y,z.sortAndUpdateRange())},z.sortAndUpdateRange=function(){B.nodes.sort(function(Y,q){return Y.x-q.x}),z.updateRange()||z.modified()},z.updateRange=function(){var Y=[2];Y[0]=B.mappingRange[0],Y[1]=B.mappingRange[1];var q=B.nodes.length;return q?(B.mappingRange[0]=B.nodes[0].x,B.mappingRange[1]=B.nodes[q-1].x):(B.mappingRange[0]=0,B.mappingRange[1]=0),(Y[0]!==B.mappingRange[0]||Y[1]!==B.mappingRange[1])&&(z.modified(),!0)},z.removePoint=function(Y){for(var q=0;q<B.nodes.length&&B.nodes[q].x!==Y;q++);var H=q;if(q>=B.nodes.length)return-1;var ne=!1;return B.nodes.splice(q,1),q!==0&&q!==B.nodes.length||(ne=z.updateRange()),ne||z.modified(),H},z.movePoint=function(Y,q){if(Y!==q){z.removePoint(q);for(var H=0;H<B.nodes.length;H++)if(B.nodes[H].x===Y){B.nodes[H].x=q,z.sortAndUpdateRange();break}}},z.removeAllPoints=function(){B.nodes=[],z.sortAndUpdateRange()},z.addRGBSegment=function(Y,q,H,ne,Ae,ce,ye,K){z.sortAndUpdateRange();for(var j=0;j<B.nodes.length;)B.nodes[j].x>=Y&&B.nodes[j].x<=Ae?B.nodes.splice(j,1):j++;z.addRGBPointLong(Y,q,H,ne,.5,0),z.addRGBPointLong(Ae,ce,ye,K,.5,0),z.modified()},z.addHSVSegment=function(Y,q,H,ne,Ae,ce,ye,K){var j=[q,H,ne],ve=[ce,ye,K],Pe=[],Oe=[];f.o(j,Pe),f.o(ve,Oe),z.addRGBSegment(Y,Pe[0],Pe[1],Pe[2],Ae,Oe[0],Oe[1],Oe[2])},z.mapValue=function(Y){var q=[];return z.getColor(Y,q),[Math.floor(255*q[0]+.5),Math.floor(255*q[1]+.5),Math.floor(255*q[2]+.5),255]},z.getColor=function(Y,q){if(B.indexedLookup){var H=z.getSize(),ne=z.getAnnotatedValueIndexInternal(Y);if(ne<0||H===0)z.getNanColor(q);else{var Ae=[];z.getNodeValue(ne%H,Ae),q[0]=Ae.r,q[1]=Ae.g,q[2]=Ae.b}}else z.getTable(Y,Y,1,q)},z.getRedValue=function(Y){var q=[];return z.getColor(Y,q),q[0]},z.getGreenValue=function(Y){var q=[];return z.getColor(Y,q),q[1]},z.getBlueValue=function(Y){var q=[];return z.getColor(Y,q),q[2]},z.getTable=function(Y,q,H,ne){if(f.q(Y)||f.q(q))for(var Ae=0;Ae<H;Ae++)ne[3*Ae+0]=B.nanColor[0],ne[3*Ae+1]=B.nanColor[1],ne[3*Ae+2]=B.nanColor[2];else{var ce=0,ye=B.nodes.length,K=0,j=0,ve=0;ye!==0&&(K=B.nodes[ye-1].r,j=B.nodes[ye-1].g,ve=B.nodes[ye-1].b);var Pe=0,Oe=0,xe=0,Ve=[0,0,0],me=[0,0,0],pe=0,ke=0,X=[],Z=B.scale===C.LOG10;Z&&(Z=B.mappingRange[0]>0);var ae=0,Ue=0,Ie=0;Z&&(ae=Math.log10(Y),Ue=Math.log10(q));for(var le=0;le<H;le++){var ge=3*le;if(H>1?Z?(Ie=ae+le/(H-1)*(Ue-ae),Pe=Math.pow(10,Ie)):Pe=Y+le/(H-1)*(q-Y):Z?(Ie=.5*(ae+Ue),Pe=Math.pow(10,Ie)):Pe=.5*(Y+q),B.discretize){var ze=B.mappingRange;if(Pe>=ze[0]&&Pe<=ze[1]){var nt=B.numberOfValues,st=ze[1]-ze[0];if(nt<=1)Pe=ze[0]+st/2;else{var Ge=(Pe-ze[0])/st,N=f.n(nt*Ge);Pe=ze[0]+N/(nt-1)*st}}}for(;ce<ye&&Pe>B.nodes[ce].x;)++ce<ye&&(Oe=B.nodes[ce-1].x,xe=B.nodes[ce].x,Z&&(Oe=Math.log10(Oe),xe=Math.log10(xe)),Ve[0]=B.nodes[ce-1].r,me[0]=B.nodes[ce].r,Ve[1]=B.nodes[ce-1].g,me[1]=B.nodes[ce].g,Ve[2]=B.nodes[ce-1].b,me[2]=B.nodes[ce].b,pe=B.nodes[ce-1].midpoint,ke=B.nodes[ce-1].sharpness,pe<1e-5&&(pe=1e-5),pe>.99999&&(pe=.99999));if(Pe>B.mappingRange[1])ne[ge]=0,ne[ge+1]=0,ne[ge+2]=0,B.clamping&&(z.getUseAboveRangeColor()?(ne[ge]=B.aboveRangeColor[0],ne[ge+1]=B.aboveRangeColor[1],ne[ge+2]=B.aboveRangeColor[2]):(ne[ge]=K,ne[ge+1]=j,ne[ge+2]=ve));else if(Pe<B.mappingRange[0]||f.p(Pe)&&Pe<0)ne[ge]=0,ne[ge+1]=0,ne[ge+2]=0,B.clamping&&(z.getUseBelowRangeColor()?(ne[ge]=B.belowRangeColor[0],ne[ge+1]=B.belowRangeColor[1],ne[ge+2]=B.belowRangeColor[2]):ye>0&&(ne[ge]=B.nodes[0].r,ne[ge+1]=B.nodes[0].g,ne[ge+2]=B.nodes[0].b));else if(ce===0&&Math.abs(Pe-Y)<1e-6)ye>0?(ne[ge]=B.nodes[0].r,ne[ge+1]=B.nodes[0].g,ne[ge+2]=B.nodes[0].b):(ne[ge]=0,ne[ge+1]=0,ne[ge+2]=0);else{var W=0;if(W=(W=Z?(Ie-Oe)/(xe-Oe):(Pe-Oe)/(xe-Oe))<pe?.5*W/pe:.5+.5*(W-pe)/(1-pe),ke>.99){if(W<.5){ne[ge]=Ve[0],ne[ge+1]=Ve[1],ne[ge+2]=Ve[2];continue}ne[ge]=me[0],ne[ge+1]=me[1],ne[ge+2]=me[2];continue}if(ke<.01){if(B.colorSpace===b.RGB)ne[ge]=(1-W)*Ve[0]+W*me[0],ne[ge+1]=(1-W)*Ve[1]+W*me[1],ne[ge+2]=(1-W)*Ve[2]+W*me[2];else if(B.colorSpace===b.HSV){var de=[],ie=[];f.A(Ve,de),f.A(me,ie),B.hSVWrap&&(de[0]-ie[0]>.5||ie[0]-de[0]>.5)&&(de[0]>ie[0]?de[0]-=1:ie[0]-=1);var _e=[];_e[0]=(1-W)*de[0]+W*ie[0],_e[0]<0&&(_e[0]+=1),_e[1]=(1-W)*de[1]+W*ie[1],_e[2]=(1-W)*de[2]+W*ie[2],f.o(_e,X),ne[ge]=X[0],ne[ge+1]=X[1],ne[ge+2]=X[2]}else if(B.colorSpace===b.LAB){var Ze=[],ft=[];f.B(Ve,Ze),f.B(me,ft);var at=[];at[0]=(1-W)*Ze[0]+W*ft[0],at[1]=(1-W)*Ze[1]+W*ft[1],at[2]=(1-W)*Ze[2]+W*ft[2],f.s(at,X),ne[ge]=X[0],ne[ge+1]=X[1],ne[ge+2]=X[2]}else B.colorSpace===b.DIVERGING?(V(W,Ve,me,X),ne[ge]=X[0],ne[ge+1]=X[1],ne[ge+2]=X[2]):E("ColorSpace set to invalid value.",B.colorSpace);continue}W<.5?W=.5*Math.pow(2*W,1+10*ke):W>.5&&(W=1-.5*Math.pow(2*(1-W),1+10*ke));var ht=W*W,Ct=ht*W,Kt=2*Ct-3*ht+1,nn=-2*Ct+3*ht,oe=Ct-2*ht+W,St=Ct-ht,Ce=void 0;if(B.colorSpace===b.RGB)for(var He=0;He<3;He++)Ce=(1-ke)*(me[He]-Ve[He]),ne[ge+He]=Kt*Ve[He]+nn*me[He]+oe*Ce+St*Ce;else if(B.colorSpace===b.HSV){var Nt=[],Dt=[];f.A(Ve,Nt),f.A(me,Dt),B.hSVWrap&&(Nt[0]-Dt[0]>.5||Dt[0]-Nt[0]>.5)&&(Nt[0]>Dt[0]?Nt[0]-=1:Dt[0]-=1);for(var On=[],Lt=0;Lt<3;Lt++)Ce=(1-ke)*(Dt[Lt]-Nt[Lt]),On[Lt]=Kt*Nt[Lt]+nn*Dt[Lt]+oe*Ce+St*Ce,Lt===0&&On[Lt]<0&&(On[Lt]+=1);f.o=X,ne[ge]=X[0],ne[ge+1]=X[1],ne[ge+2]=X[2]}else if(B.colorSpace===b.LAB){var An=[],dt=[];f.B(Ve,An),f.B(me,dt);for(var zt=[],ur=0;ur<3;ur++)Ce=(1-ke)*(dt[ur]-An[ur]),zt[ur]=Kt*An[ur]+nn*dt[ur]+oe*Ce+St*Ce;f.s(zt,X),ne[ge]=X[0],ne[ge+1]=X[1],ne[ge+2]=X[2]}else B.colorSpace===b.DIVERGING?(V(W,Ve,me,X),ne[ge]=X[0],ne[ge+1]=X[1],ne[ge+2]=X[2]):E("ColorSpace set to invalid value.");for(var Be=0;Be<3;Be++)ne[ge+Be]=ne[ge+Be]<0?0:ne[ge+Be],ne[ge+Be]=ne[ge+Be]>1?1:ne[ge+Be]}}}},z.getUint8Table=function(Y,q,H){var ne=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(z.getMTime()<=B.buildTime&&B.tableSize===H&&B.tableWithAlpha!==ne)return B.table;if(B.nodes.length===0)return E("Attempting to lookup a value with no points in the function"),B.table;var Ae=ne?4:3;B.tableSize===H&&B.tableWithAlpha===ne||(B.table=new Uint8Array(H*Ae),B.tableSize=H,B.tableWithAlpha=ne);var ce=[];z.getTable(Y,q,H,ce);for(var ye=0;ye<H;ye++)B.table[ye*Ae+0]=Math.floor(255*ce[3*ye+0]+.5),B.table[ye*Ae+1]=Math.floor(255*ce[3*ye+1]+.5),B.table[ye*Ae+2]=Math.floor(255*ce[3*ye+2]+.5),ne&&(B.table[ye*Ae+3]=255);return B.buildTime.modified(),B.table},z.buildFunctionFromTable=function(Y,q,H,ne){var Ae=0;z.removeAllPoints(),H>1&&(Ae=(q-Y)/(H-1));for(var ce=0;ce<H;ce++){var ye={x:Y+Ae*ce,r:ne[3*ce],g:ne[3*ce+1],b:ne[3*ce+2],sharpness:0,midpoint:.5};B.nodes.push(ye)}z.sortAndUpdateRange()},z.getNodeValue=function(Y,q){return Y<0||Y>=B.nodes.length?(E("Index out of range!"),-1):(q[0]=B.nodes[Y].x,q[1]=B.nodes[Y].r,q[2]=B.nodes[Y].g,q[3]=B.nodes[Y].b,q[4]=B.nodes[Y].midpoint,q[5]=B.nodes[Y].sharpness,1)},z.setNodeValue=function(Y,q){if(Y<0||Y>=B.nodes.length)return E("Index out of range!"),-1;var H=B.nodes[Y].x;return B.nodes[Y].x=q[0],B.nodes[Y].r=q[1],B.nodes[Y].g=q[2],B.nodes[Y].b=q[3],B.nodes[Y].midpoint=q[4],B.nodes[Y].sharpness=q[5],H!==q[0]?z.sortAndUpdateRange():z.modified(),1},z.getNumberOfAvailableColors=function(){return B.indexedLookup&&z.getSize()?z.getSize():B.tableSize?B.tableSize:16777216},z.getIndexedColor=function(Y,q){var H=z.getSize();if(H>0&&Y>=0){var ne=[];z.getNodeValue(Y%H,ne);for(var Ae=0;Ae<3;++Ae)q[Ae]=ne[Ae+1];q[3]=1}else z.getNanColor(q),q[3]=1},z.fillFromDataPointer=function(Y,q){if(!(Y<=0)&&q){z.removeAllPoints();for(var H=0;H<Y;H++)z.addRGBPoint(q[4*H],q[4*H+1],q[4*H+2],q[4*H+3])}},z.setMappingRange=function(Y,q){var H=[Y,q],ne=z.getRange();if(ne[1]!==H[1]||ne[0]!==H[0])if(H[1]!==H[0]){for(var Ae=(H[1]-H[0])/(ne[1]-ne[0]),ce=H[0]-ne[0]*Ae,ye=0;ye<B.nodes.length;++ye)B.nodes[ye].x=B.nodes[ye].x*Ae+ce;B.mappingRange[0]=H[0],B.mappingRange[1]=H[1],z.modified()}else E("attempt to set zero width color range")},z.adjustRange=function(Y){var q=z.getRange(),H=[];q[0]<Y[0]?(z.getColor(Y[0],H),z.addRGBPoint(Y[0],H[0],H[1],H[2])):(z.getColor(q[0],H),z.addRGBPoint(Y[0],H[0],H[1],H[2])),q[1]>Y[1]?(z.getColor(Y[1],H),z.addRGBPoint(Y[1],H[0],H[1],H[2])):(z.getColor(q[1],H),z.addRGBPoint(Y[1],H[0],H[1],H[2])),z.sortAndUpdateRange();for(var ne=0;ne<B.nodes.length;)B.nodes[ne].x>=Y[0]&&B.nodes[ne].x<=Y[1]?B.nodes.splice(ne,1):++ne;return 1},z.estimateMinNumberOfSamples=function(Y,q){var H=z.findMinimumXDistance();return Math.ceil((q-Y)/H)},z.findMinimumXDistance=function(){if(B.nodes.length<2)return-1;for(var Y=Number.MAX_VALUE,q=0;q<B.nodes.length-1;q++){var H=B.nodes[q+1].x-B.nodes[q].x;H<Y&&(Y=H)}return Y},z.mapScalarsThroughTable=function(Y,q,H,ne){z.getSize()!==0?B.indexedLookup?z.mapDataIndexed(Y,q,H,ne):z.mapData(Y,q,H,ne):x("Transfer Function Has No Points!")},z.mapData=function(Y,q,H,ne){if(z.getSize()!==0){var Ae=Math.floor(255*z.getAlpha()+.5),ce=Y.getNumberOfTuples(),ye=Y.getNumberOfComponents(),K=q.getData(),j=Y.getData(),ve=[];if(H===A.RGBA)for(var Pe=0;Pe<ce;Pe++){var Oe=j[Pe*ye+ne];z.getColor(Oe,ve),K[4*Pe]=Math.floor(255*ve[0]+.5),K[4*Pe+1]=Math.floor(255*ve[1]+.5),K[4*Pe+2]=Math.floor(255*ve[2]+.5),K[4*Pe+3]=Ae}if(H===A.RGB)for(var xe=0;xe<ce;xe++){var Ve=j[xe*ye+ne];z.getColor(Ve,ve),K[3*xe]=Math.floor(255*ve[0]+.5),K[3*xe+1]=Math.floor(255*ve[1]+.5),K[3*xe+2]=Math.floor(255*ve[2]+.5)}if(H===A.LUMINANCE)for(var me=0;me<ce;me++){var pe=j[me*ye+ne];z.getColor(pe,ve),K[me]=Math.floor(76.5*ve[0]+150.45*ve[1]+28.05*ve[2]+.5)}if(H===A.LUMINANCE_ALPHA)for(var ke=0;ke<ce;ke++){var X=j[ke*ye+ne];z.getColor(X,ve),K[2*ke]=Math.floor(76.5*ve[0]+150.45*ve[1]+28.05*ve[2]+.5),K[2*ke+1]=Ae}}else M("Transfer Function Has No Points!")},z.applyColorMap=function(Y){if(Y.ColorSpace&&(B.colorSpace=b[Y.ColorSpace.toUpperCase()],B.colorSpace===void 0&&(E("ColorSpace ".concat(Y.ColorSpace," not supported, using RGB instead")),B.colorSpace=b.RGB)),Y.NanColor)for(B.nanColor=[].concat(Y.NanColor);B.nanColor.length<4;)B.nanColor.push(1);if(Y.RGBPoints){var q=Y.RGBPoints.length;B.nodes=[];for(var H=0;H<q;H+=4)B.nodes.push({x:Y.RGBPoints[H],r:Y.RGBPoints[H+1],g:Y.RGBPoints[H+2],b:Y.RGBPoints[H+3],midpoint:.5,sharpness:0})}z.sortAndUpdateRange()}}(I,L)}var F=u.b.newInstance(O,"vtkColorTransferFunction");p.a=function(I){for(var L=1;L<arguments.length;L++){var G=arguments[L]!=null?arguments[L]:{};L%2?w(Object(G),!0).forEach(function(z){r(I,z,G[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(G)):w(Object(G)).forEach(function(z){Object.defineProperty(I,z,Object.getOwnPropertyDescriptor(G,z))})}return I}({newInstance:F,extend:O,vtkColorMaps:m.a},U)},function(g,p,a){var u=a(0),f={renderer:null,selectionPoint:[0,0,0],pickPosition:[0,0,0],pickFromList:0,pickList:[]};function P(V,d){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(d,f,O),u.b.obj(V,d),u.b.get(V,d,["renderer"]),u.b.getArray(V,d,["selectionPoint","pickPosition"]),u.b.setGet(V,d,["pickFromList","pickList"]),function(F,I){I.classHierarchy.push("vtkAbstractPicker"),F.initialize=function(){I.renderer=null,I.selectionPoint[0]=0,I.selectionPoint[1]=0,I.selectionPoint[2]=0,I.pickPosition[0]=0,I.pickPosition[1]=0,I.pickPosition[2]=0},F.initializePickList=function(){I.pickList=[]},F.addPickList=function(L){I.pickList.push(L)},F.deletePickList=function(L){var G=I.pickList.indexOf(L);G!==-1&&I.pickList.splice(G,1)}}(V,d)}var U={newInstance:u.b.newInstance(P,"vtkAbstractPicker"),extend:P},m=a(79),w=a(3),r=a(1);function b(V,d){var O=Object.keys(V);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(V);d&&(F=F.filter(function(I){return Object.getOwnPropertyDescriptor(V,I).enumerable})),O.push.apply(O,F)}return O}function C(V,d,O){return d in V?Object.defineProperty(V,d,{value:O,enumerable:!0,configurable:!0,writable:!0}):V[d]=O,V}var A=u.b.vtkErrorMacro,x=u.b.vtkWarningMacro;function E(V,d){d.classHierarchy.push("vtkPicker");var O=function(F){for(var I=1;I<arguments.length;I++){var L=arguments[I]!=null?arguments[I]:{};I%2?b(Object(L),!0).forEach(function(G){C(F,G,L[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(L)):b(Object(L)).forEach(function(G){Object.defineProperty(F,G,Object.getOwnPropertyDescriptor(L,G))})}return F}({},V);V.intersectWithLine=function(F,I,L,G){if(!G)return Number.MAX_VALUE;for(var z=G.getCenter(),B=[],Y=0;Y<3;Y++)B[Y]=I[Y]-F[Y];var q=w.m(B,B);return q===0?2:(B[0]*(z[0]-F[0])+B[1]*(z[1]-F[1])+B[2]*(z[2]-F[2]))/q},V.pick=function(F,I){F.length!==3&&x("vtkPicker::pick: selectionPt needs three components");var L,G,z,B,Y,q,H,ne,Ae,ce,ye,K=F[0],j=F[1],ve=F[2],Pe=[],Oe=[],xe=[],Ve=[],me=[],pe=[],ke=0,X=!1,Z=r.f.create(),ae=r.f.create(),Ue=[0,0,0,0,0,0],Ie=[],le=[],ge=I.getRenderWindow().getViews()[0];if(O.initialize(),d.actors=[],d.pickedPositions=[],d.mapperPosition[0]=0,d.mapperPosition[1]=0,d.mapperPosition[2]=0,d.mapper=null,d.dataSet=null,d.globalTMin=Number.MAX_VALUE,d.renderer=I,d.selectionPoint[0]=K,d.selectionPoint[1]=j,d.selectionPoint[2]=ve,I){var ze=I.getActiveCamera();L=ze.getPosition(),G=ze.getFocalPoint(),Pe=I.worldToNormalizedDisplay(G[0],G[1],G[2]),ve=(Pe=ge.normalizedDisplayToDisplay(Pe[0],Pe[1],Pe[2]))[2];var nt=ge.displayToNormalizedDisplay(K,j,ve),st=ge.getViewportSize(I),Ge=st[0]/st[1];z=I.normalizedDisplayToWorld(nt[0],nt[1],nt[2],Ge);for(var N=0;N<3;N++)d.pickPosition[N]=z[N];for(var W=0;W<3;W++)Oe[W]=d.pickPosition[W]-L[W];for(var de=0;de<3;de++)xe[de]=G[de]-L[de];w.w(xe);var ie=w.m(xe,Oe);if(ie!==0){if(B=ze.getClippingRange(),ze.getParallelProjection()){Y=B[0]-ie,q=B[1]-ie;for(var _e=0;_e<3;_e++)Ve[_e]=d.pickPosition[_e]+Y*xe[_e],me[_e]=d.pickPosition[_e]+q*xe[_e]}else{Y=B[0]/ie,q=B[1]/ie;for(var Ze=0;Ze<3;Ze++)Ve[Ze]=L[Ze]+Y*Oe[Ze],me[Ze]=L[Ze]+q*Oe[Ze]}Ve[3]=1,me[3]=1,H=I.getViewport(),I.getRenderWindow()&&(pe=I.getRenderWindow().getViews()[0].getSize()),ne=pe[0]*H[0],Ae=pe[1]*H[1];var ft=ge.displayToNormalizedDisplay(ne,Ae,ve);ce=I.normalizedDisplayToWorld(ft[0],ft[1],ft[2],Ge),ne=pe[0]*H[2],Ae=pe[1]*H[3];var at=ge.displayToNormalizedDisplay(ne,Ae,ve);ye=I.normalizedDisplayToWorld(at[0],at[1],at[2],Ge);for(var ht=0;ht<3;ht++)ke+=(ye[ht]-ce[ht])*(ye[ht]-ce[ht]);ke=Math.sqrt(ke)*d.tolerance;var Ct=[];(d.pickFromList?d.pickList:I.getActors()).forEach(function(Kt){var nn=Kt.getMapper();if(X=Kt.getPickable()&&Kt.getVisibility(),Kt.getProperty().getOpacity()<=0&&(X=!1),X){d.transformMatrix=Kt.getMatrix().slice(0),r.c.transpose(d.transformMatrix,d.transformMatrix),r.c.invert(d.transformMatrix,d.transformMatrix);var oe=[d.transformMatrix[0],d.transformMatrix[1],d.transformMatrix[2]],St=[d.transformMatrix[4],d.transformMatrix[5],d.transformMatrix[6]],Ce=[d.transformMatrix[8],d.transformMatrix[9],d.transformMatrix[10]];Ct[0]=w.v(oe),Ct[1]=w.v(St),Ct[2]=w.v(Ce),r.f.transformMat4(Z,Ve,d.transformMatrix),r.f.transformMat4(ae,me,d.transformMatrix),Z[0]/=Z[3],Z[1]/=Z[3],Z[2]/=Z[3],ae[0]/=ae[3],ae[1]/=ae[3],ae[2]/=ae[3];for(var He=0;He<3;He++)Oe[He]=ae[He]-Z[He];if(nn&&(Ue=nn.getBounds()),m.a.intersectBox(Ue,Z,Oe,le,Ie)&&(Ie[0]=V.intersectWithLine(Z,ae,.333*ke*(Ct[0]+Ct[1]+Ct[2]),nn),Ie[0]<Number.MAX_VALUE)){var Nt=[];Nt[0]=(1-Ie[0])*Ve[0]+Ie[0]*me[0],Nt[1]=(1-Ie[0])*Ve[1]+Ie[0]*me[1],Nt[2]=(1-Ie[0])*Ve[2]+Ie[0]*me[2];for(var Dt=-1,On=0;On<d.actors.length;On++)if(d.actors[On]===Kt){Dt=On;break}if(Dt===-1)d.actors.push(Kt),d.pickedPositions.push(Nt);else{var Lt=d.pickedPositions[Dt],An=w.l(Ve,Lt);w.l(Ve,Nt)<An&&(d.pickedPositions[Dt]=Nt)}}}return V.invokePickChange(d.pickedPositions),1})}else x("Picker::Pick Cannot process points")}else A("Picker::Pick Must specify renderer")}}var M={tolerance:.025,mapperPosition:[0,0,0],mapper:null,dataSet:null,actors:[],pickedPositions:[],transformMatrix:null,globalTMin:Number.MAX_VALUE};function S(V,d){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(d,M,O),U.extend(V,d,O),u.b.setGet(V,d,["tolerance"]),u.b.setGetArray(V,d,["mapperPosition"],3),u.b.get(V,d,["mapper","dataSet","actors","pickedPositions"]),u.b.event(V,d,"pickChange"),E(V,d)}var D=u.b.newInstance(S,"vtkPicker");p.a={newInstance:D,extend:S}},function(g,p,a){const u=a(209),f=0,P=1,U=1;g.exports=class extends u{constructor(m){super(),this._messageId=1,this._messages=new Map,this._worker=m,this._worker.onmessage=this._onMessage.bind(this),this._id=Math.ceil(1e7*Math.random())}terminate(){this._worker.terminate()}isFree(){return this._messages.size===0}jobsLength(){return this._messages.size}exec(m,w=null,r=[],b){return new Promise((C,A)=>{const x=this._messageId++;this._messages.set(x,[C,A,b]),this._worker.postMessage([x,w,m],r||[])})}postMessage(m=null,w=[],r){return new Promise((b,C)=>{const A=this._messageId++;this._messages.set(A,[b,C,r]),this._worker.postMessage([A,m],w||[])})}emit(m,...w){this._worker.postMessage({eventName:m,args:w})}_onMessage(m){if(!Array.isArray(m.data)&&m.data.eventName)return super.emit(m.data.eventName,...m.data.args);const[w,...r]=m.data;if(w===P)this._onEvent(...r);else{if(w!==f)throw new Error(`Wrong message type '${w}'`);this._onResult(...r)}}_onResult(m,w,r){const[b,C]=this._messages.get(m);return this._messages.delete(m),w===U?b(r):C(r)}_onEvent(m,w,r){const[,,b]=this._messages.get(m);b&&b(w,r)}}},function(g,p,a){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(g,p){function a(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?(g.exports=a=function(f){return typeof f},g.exports.default=g.exports,g.exports.__esModule=!0):(g.exports=a=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},g.exports.default=g.exports,g.exports.__esModule=!0),a(u)}g.exports=a,g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p,a){var u=a(38),f=a(94);g.exports=function(P,U){var m=null;switch(P){case u.UInt8:m=new Uint8Array(U);break;case u.Int8:m=new Int8Array(U);break;case u.UInt16:m=new Uint16Array(U);break;case u.Int16:m=new Int16Array(U);break;case u.UInt32:m=new Uint32Array(U);break;case u.Int32:m=new Int32Array(U);break;case u.UInt64:throw new BigUint64Array(U);case u.Int64:throw new BigInt64Array(U);case f.Float32:m=new Float32Array(U);break;case f.Float64:m=new Float64Array(U);break;case"null":case null:m=null;break;default:throw new Error("Type is not supported as a TypedArray")}return m}},function(g,p,a){p.a=function(u){var f=u.imageUI.volumeSampleDistance;u.imageUI.representationProxy.setSampleDistance(f),u.renderWindow.render()}},function(g,p){var a=new Map([]);g.exports=a},function(g,p){function a(u){return g.exports=a=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},g.exports.default=g.exports,g.exports.__esModule=!0,a(u)}g.exports=a,g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p,a){var u=a(117);g.exports=function(f,P){if(f){if(typeof f=="string")return u(f,P);var U=Object.prototype.toString.call(f).slice(8,-1);return U==="Object"&&f.constructor&&(U=f.constructor.name),U==="Map"||U==="Set"?Array.from(f):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?u(f,P):void 0}},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p){g.exports=function(a,u){(u==null||u>a.length)&&(u=a.length);for(var f=0,P=new Array(u);f<u;f++)P[f]=a[f];return P},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p,a){var u=function(f){var P,U=Object.prototype,m=U.hasOwnProperty,w=typeof Symbol=="function"?Symbol:{},r=w.iterator||"@@iterator",b=w.asyncIterator||"@@asyncIterator",C=w.toStringTag||"@@toStringTag";function A(j,ve,Pe){return Object.defineProperty(j,ve,{value:Pe,enumerable:!0,configurable:!0,writable:!0}),j[ve]}try{A({},"")}catch{A=function(ve,Pe,Oe){return ve[Pe]=Oe}}function x(j,ve,Pe,Oe){var xe=ve&&ve.prototype instanceof O?ve:O,Ve=Object.create(xe.prototype),me=new ce(Oe||[]);return Ve._invoke=function(pe,ke,X){var Z=M;return function(ae,Ue){if(Z===D)throw new Error("Generator is already running");if(Z===V){if(ae==="throw")throw Ue;return K()}for(X.method=ae,X.arg=Ue;;){var Ie=X.delegate;if(Ie){var le=H(Ie,X);if(le){if(le===d)continue;return le}}if(X.method==="next")X.sent=X._sent=X.arg;else if(X.method==="throw"){if(Z===M)throw Z=V,X.arg;X.dispatchException(X.arg)}else X.method==="return"&&X.abrupt("return",X.arg);Z=D;var ge=E(pe,ke,X);if(ge.type==="normal"){if(Z=X.done?V:S,ge.arg===d)continue;return{value:ge.arg,done:X.done}}ge.type==="throw"&&(Z=V,X.method="throw",X.arg=ge.arg)}}}(j,Pe,me),Ve}function E(j,ve,Pe){try{return{type:"normal",arg:j.call(ve,Pe)}}catch(Oe){return{type:"throw",arg:Oe}}}f.wrap=x;var M="suspendedStart",S="suspendedYield",D="executing",V="completed",d={};function O(){}function F(){}function I(){}var L={};L[r]=function(){return this};var G=Object.getPrototypeOf,z=G&&G(G(ye([])));z&&z!==U&&m.call(z,r)&&(L=z);var B=I.prototype=O.prototype=Object.create(L);function Y(j){["next","throw","return"].forEach(function(ve){A(j,ve,function(Pe){return this._invoke(ve,Pe)})})}function q(j,ve){var Pe;this._invoke=function(Oe,xe){function Ve(){return new ve(function(me,pe){(function ke(X,Z,ae,Ue){var Ie=E(j[X],j,Z);if(Ie.type!=="throw"){var le=Ie.arg,ge=le.value;return ge&&typeof ge=="object"&&m.call(ge,"__await")?ve.resolve(ge.__await).then(function(ze){ke("next",ze,ae,Ue)},function(ze){ke("throw",ze,ae,Ue)}):ve.resolve(ge).then(function(ze){le.value=ze,ae(le)},function(ze){return ke("throw",ze,ae,Ue)})}Ue(Ie.arg)})(Oe,xe,me,pe)})}return Pe=Pe?Pe.then(Ve,Ve):Ve()}}function H(j,ve){var Pe=j.iterator[ve.method];if(Pe===P){if(ve.delegate=null,ve.method==="throw"){if(j.iterator.return&&(ve.method="return",ve.arg=P,H(j,ve),ve.method==="throw"))return d;ve.method="throw",ve.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var Oe=E(Pe,j.iterator,ve.arg);if(Oe.type==="throw")return ve.method="throw",ve.arg=Oe.arg,ve.delegate=null,d;var xe=Oe.arg;return xe?xe.done?(ve[j.resultName]=xe.value,ve.next=j.nextLoc,ve.method!=="return"&&(ve.method="next",ve.arg=P),ve.delegate=null,d):xe:(ve.method="throw",ve.arg=new TypeError("iterator result is not an object"),ve.delegate=null,d)}function ne(j){var ve={tryLoc:j[0]};1 in j&&(ve.catchLoc=j[1]),2 in j&&(ve.finallyLoc=j[2],ve.afterLoc=j[3]),this.tryEntries.push(ve)}function Ae(j){var ve=j.completion||{};ve.type="normal",delete ve.arg,j.completion=ve}function ce(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(ne,this),this.reset(!0)}function ye(j){if(j){var ve=j[r];if(ve)return ve.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var Pe=-1,Oe=function xe(){for(;++Pe<j.length;)if(m.call(j,Pe))return xe.value=j[Pe],xe.done=!1,xe;return xe.value=P,xe.done=!0,xe};return Oe.next=Oe}}return{next:K}}function K(){return{value:P,done:!0}}return F.prototype=B.constructor=I,I.constructor=F,F.displayName=A(I,C,"GeneratorFunction"),f.isGeneratorFunction=function(j){var ve=typeof j=="function"&&j.constructor;return!!ve&&(ve===F||(ve.displayName||ve.name)==="GeneratorFunction")},f.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,I):(j.__proto__=I,A(j,C,"GeneratorFunction")),j.prototype=Object.create(B),j},f.awrap=function(j){return{__await:j}},Y(q.prototype),q.prototype[b]=function(){return this},f.AsyncIterator=q,f.async=function(j,ve,Pe,Oe,xe){xe===void 0&&(xe=Promise);var Ve=new q(x(j,ve,Pe,Oe),xe);return f.isGeneratorFunction(ve)?Ve:Ve.next().then(function(me){return me.done?me.value:Ve.next()})},Y(B),A(B,C,"Generator"),B[r]=function(){return this},B.toString=function(){return"[object Generator]"},f.keys=function(j){var ve=[];for(var Pe in j)ve.push(Pe);return ve.reverse(),function Oe(){for(;ve.length;){var xe=ve.pop();if(xe in j)return Oe.value=xe,Oe.done=!1,Oe}return Oe.done=!0,Oe}},f.values=ye,ce.prototype={constructor:ce,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=P,this.done=!1,this.delegate=null,this.method="next",this.arg=P,this.tryEntries.forEach(Ae),!j)for(var ve in this)ve.charAt(0)==="t"&&m.call(this,ve)&&!isNaN(+ve.slice(1))&&(this[ve]=P)},stop:function(){this.done=!0;var j=this.tryEntries[0].completion;if(j.type==="throw")throw j.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var ve=this;function Pe(ke,X){return Ve.type="throw",Ve.arg=j,ve.next=ke,X&&(ve.method="next",ve.arg=P),!!X}for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var xe=this.tryEntries[Oe],Ve=xe.completion;if(xe.tryLoc==="root")return Pe("end");if(xe.tryLoc<=this.prev){var me=m.call(xe,"catchLoc"),pe=m.call(xe,"finallyLoc");if(me&&pe){if(this.prev<xe.catchLoc)return Pe(xe.catchLoc,!0);if(this.prev<xe.finallyLoc)return Pe(xe.finallyLoc)}else if(me){if(this.prev<xe.catchLoc)return Pe(xe.catchLoc,!0)}else{if(!pe)throw new Error("try statement without catch or finally");if(this.prev<xe.finallyLoc)return Pe(xe.finallyLoc)}}}},abrupt:function(j,ve){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var Oe=this.tryEntries[Pe];if(Oe.tryLoc<=this.prev&&m.call(Oe,"finallyLoc")&&this.prev<Oe.finallyLoc){var xe=Oe;break}}xe&&(j==="break"||j==="continue")&&xe.tryLoc<=ve&&ve<=xe.finallyLoc&&(xe=null);var Ve=xe?xe.completion:{};return Ve.type=j,Ve.arg=ve,xe?(this.method="next",this.next=xe.finallyLoc,d):this.complete(Ve)},complete:function(j,ve){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&ve&&(this.next=ve),d},finish:function(j){for(var ve=this.tryEntries.length-1;ve>=0;--ve){var Pe=this.tryEntries[ve];if(Pe.finallyLoc===j)return this.complete(Pe.completion,Pe.afterLoc),Ae(Pe),d}},catch:function(j){for(var ve=this.tryEntries.length-1;ve>=0;--ve){var Pe=this.tryEntries[ve];if(Pe.tryLoc===j){var Oe=Pe.completion;if(Oe.type==="throw"){var xe=Oe.arg;Ae(Pe)}return xe}}throw new Error("illegal catch attempt")},delegateYield:function(j,ve,Pe){return this.delegate={iterator:ye(j),resultName:ve,nextLoc:Pe},this.method==="next"&&(this.arg=P),d}},f}(g.exports);try{regeneratorRuntime=u}catch{Function("r","regeneratorRuntime = r")(u)}},function(g,p,a){g.exports=function(u,f,P,U){for(var m=65535&u|0,w=u>>>16&65535|0,r=0;P!==0;){P-=r=P>2e3?2e3:P;do w=w+(m=m+f[U++]|0)|0;while(--r);m%=65521,w%=65521}return m|w<<16|0}},function(g,p,a){var u=function(){for(var f,P=[],U=0;U<256;U++){f=U;for(var m=0;m<8;m++)f=1&f?3988292384^f>>>1:f>>>1;P[U]=f}return P}();g.exports=function(f,P,U,m){var w=u,r=m+U;f^=-1;for(var b=m;b<r;b++)f=f>>>8^w[255&(f^P[b])];return-1^f}},function(g,p,a){var u=a(55),f=!0,P=!0;try{String.fromCharCode.apply(null,[0])}catch{f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{P=!1}for(var U=new u.Buf8(256),m=0;m<256;m++)U[m]=m>=252?6:m>=248?5:m>=240?4:m>=224?3:m>=192?2:1;function w(r,b){if(b<65534&&(r.subarray&&P||!r.subarray&&f))return String.fromCharCode.apply(null,u.shrinkBuf(r,b));for(var C="",A=0;A<b;A++)C+=String.fromCharCode(r[A]);return C}U[254]=U[254]=1,p.string2buf=function(r){var b,C,A,x,E,M=r.length,S=0;for(x=0;x<M;x++)(64512&(C=r.charCodeAt(x)))==55296&&x+1<M&&(64512&(A=r.charCodeAt(x+1)))==56320&&(C=65536+(C-55296<<10)+(A-56320),x++),S+=C<128?1:C<2048?2:C<65536?3:4;for(b=new u.Buf8(S),E=0,x=0;E<S;x++)(64512&(C=r.charCodeAt(x)))==55296&&x+1<M&&(64512&(A=r.charCodeAt(x+1)))==56320&&(C=65536+(C-55296<<10)+(A-56320),x++),C<128?b[E++]=C:C<2048?(b[E++]=192|C>>>6,b[E++]=128|63&C):C<65536?(b[E++]=224|C>>>12,b[E++]=128|C>>>6&63,b[E++]=128|63&C):(b[E++]=240|C>>>18,b[E++]=128|C>>>12&63,b[E++]=128|C>>>6&63,b[E++]=128|63&C);return b},p.buf2binstring=function(r){return w(r,r.length)},p.binstring2buf=function(r){for(var b=new u.Buf8(r.length),C=0,A=b.length;C<A;C++)b[C]=r.charCodeAt(C);return b},p.buf2string=function(r,b){var C,A,x,E,M=b||r.length,S=new Array(2*M);for(A=0,C=0;C<M;)if((x=r[C++])<128)S[A++]=x;else if((E=U[x])>4)S[A++]=65533,C+=E-1;else{for(x&=E===2?31:E===3?15:7;E>1&&C<M;)x=x<<6|63&r[C++],E--;E>1?S[A++]=65533:x<65536?S[A++]=x:(x-=65536,S[A++]=55296|x>>10&1023,S[A++]=56320|1023&x)}return w(S,A)},p.utf8border=function(r,b){var C;for((b=b||r.length)>r.length&&(b=r.length),C=b-1;C>=0&&(192&r[C])==128;)C--;return C<0||C===0?b:C+U[r[C]]>b?C:b}},function(g,p,a){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(g,p,a){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(g,p,a){g.exports=function(u,f){return function(){for(var P=new Array(arguments.length),U=0;U<P.length;U++)P[U]=arguments[U];return u.apply(f,P)}}},function(g,p,a){var u=a(30);function f(P){return encodeURIComponent(P).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}g.exports=function(P,U,m){if(!U)return P;var w;if(m)w=m(U);else if(u.isURLSearchParams(U))w=U.toString();else{var r=[];u.forEach(U,function(C,A){C!=null&&(u.isArray(C)?A+="[]":C=[C],u.forEach(C,function(x){u.isDate(x)?x=x.toISOString():u.isObject(x)&&(x=JSON.stringify(x)),r.push(f(A)+"="+f(x))}))}),w=r.join("&")}if(w){var b=P.indexOf("#");b!==-1&&(P=P.slice(0,b)),P+=(P.indexOf("?")===-1?"?":"&")+w}return P}},function(g,p,a){g.exports=function(u){return!(!u||!u.__CANCEL__)}},function(g,p,a){(function(u){var f=a(30),P=a(215),U={"Content-Type":"application/x-www-form-urlencoded"};function m(r,b){!f.isUndefined(r)&&f.isUndefined(r["Content-Type"])&&(r["Content-Type"]=b)}var w={adapter:function(){var r;return(typeof XMLHttpRequest!="undefined"||u!==void 0&&Object.prototype.toString.call(u)==="[object process]")&&(r=a(128)),r}(),transformRequest:[function(r,b){return P(b,"Accept"),P(b,"Content-Type"),f.isFormData(r)||f.isArrayBuffer(r)||f.isBuffer(r)||f.isStream(r)||f.isFile(r)||f.isBlob(r)?r:f.isArrayBufferView(r)?r.buffer:f.isURLSearchParams(r)?(m(b,"application/x-www-form-urlencoded;charset=utf-8"),r.toString()):f.isObject(r)?(m(b,"application/json;charset=utf-8"),JSON.stringify(r)):r}],transformResponse:[function(r){if(typeof r=="string")try{r=JSON.parse(r)}catch{}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};f.forEach(["delete","get","head"],function(r){w.headers[r]={}}),f.forEach(["post","put","patch"],function(r){w.headers[r]=f.merge(U)}),g.exports=w}).call(this,a(80))},function(g,p,a){var u=a(30),f=a(216),P=a(218),U=a(125),m=a(219),w=a(222),r=a(223),b=a(129);g.exports=function(C){return new Promise(function(A,x){var E=C.data,M=C.headers;u.isFormData(E)&&delete M["Content-Type"];var S=new XMLHttpRequest;if(C.auth){var D=C.auth.username||"",V=C.auth.password?unescape(encodeURIComponent(C.auth.password)):"";M.Authorization="Basic "+btoa(D+":"+V)}var d=m(C.baseURL,C.url);if(S.open(C.method.toUpperCase(),U(d,C.params,C.paramsSerializer),!0),S.timeout=C.timeout,S.onreadystatechange=function(){if(S&&S.readyState===4&&(S.status!==0||S.responseURL&&S.responseURL.indexOf("file:")===0)){var F="getAllResponseHeaders"in S?w(S.getAllResponseHeaders()):null,I={data:C.responseType&&C.responseType!=="text"?S.response:S.responseText,status:S.status,statusText:S.statusText,headers:F,config:C,request:S};f(A,x,I),S=null}},S.onabort=function(){S&&(x(b("Request aborted",C,"ECONNABORTED",S)),S=null)},S.onerror=function(){x(b("Network Error",C,null,S)),S=null},S.ontimeout=function(){var F="timeout of "+C.timeout+"ms exceeded";C.timeoutErrorMessage&&(F=C.timeoutErrorMessage),x(b(F,C,"ECONNABORTED",S)),S=null},u.isStandardBrowserEnv()){var O=(C.withCredentials||r(d))&&C.xsrfCookieName?P.read(C.xsrfCookieName):void 0;O&&(M[C.xsrfHeaderName]=O)}if("setRequestHeader"in S&&u.forEach(M,function(F,I){E===void 0&&I.toLowerCase()==="content-type"?delete M[I]:S.setRequestHeader(I,F)}),u.isUndefined(C.withCredentials)||(S.withCredentials=!!C.withCredentials),C.responseType)try{S.responseType=C.responseType}catch(F){if(C.responseType!=="json")throw F}typeof C.onDownloadProgress=="function"&&S.addEventListener("progress",C.onDownloadProgress),typeof C.onUploadProgress=="function"&&S.upload&&S.upload.addEventListener("progress",C.onUploadProgress),C.cancelToken&&C.cancelToken.promise.then(function(F){S&&(S.abort(),x(F),S=null)}),E||(E=null),S.send(E)})}},function(g,p,a){var u=a(217);g.exports=function(f,P,U,m,w){var r=new Error(f);return u(r,P,U,m,w)}},function(g,p,a){var u=a(30);g.exports=function(f,P){P=P||{};var U={},m=["url","method","data"],w=["headers","auth","proxy","params"],r=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],b=["validateStatus"];function C(M,S){return u.isPlainObject(M)&&u.isPlainObject(S)?u.merge(M,S):u.isPlainObject(S)?u.merge({},S):u.isArray(S)?S.slice():S}function A(M){u.isUndefined(P[M])?u.isUndefined(f[M])||(U[M]=C(void 0,f[M])):U[M]=C(f[M],P[M])}u.forEach(m,function(M){u.isUndefined(P[M])||(U[M]=C(void 0,P[M]))}),u.forEach(w,A),u.forEach(r,function(M){u.isUndefined(P[M])?u.isUndefined(f[M])||(U[M]=C(void 0,f[M])):U[M]=C(void 0,P[M])}),u.forEach(b,function(M){M in P?U[M]=C(f[M],P[M]):M in f&&(U[M]=C(void 0,f[M]))});var x=m.concat(w).concat(r).concat(b),E=Object.keys(f).concat(Object.keys(P)).filter(function(M){return x.indexOf(M)===-1});return u.forEach(E,A),U}},function(g,p,a){function u(f){this.message=f}u.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},u.prototype.__CANCEL__=!0,g.exports=u},function(g,p,a){(function(u){var f=u!==void 0&&u||typeof self!="undefined"&&self||window,P=Function.prototype.apply;function U(m,w){this._id=m,this._clearFn=w}p.setTimeout=function(){return new U(P.call(setTimeout,f,arguments),clearTimeout)},p.setInterval=function(){return new U(P.call(setInterval,f,arguments),clearInterval)},p.clearTimeout=p.clearInterval=function(m){m&&m.close()},U.prototype.unref=U.prototype.ref=function(){},U.prototype.close=function(){this._clearFn.call(f,this._id)},p.enroll=function(m,w){clearTimeout(m._idleTimeoutId),m._idleTimeout=w},p.unenroll=function(m){clearTimeout(m._idleTimeoutId),m._idleTimeout=-1},p._unrefActive=p.active=function(m){clearTimeout(m._idleTimeoutId);var w=m._idleTimeout;w>=0&&(m._idleTimeoutId=setTimeout(function(){m._onTimeout&&m._onTimeout()},w))},a(246),p.setImmediate=typeof self!="undefined"&&self.setImmediate||u!==void 0&&u.setImmediate||this&&this.setImmediate,p.clearImmediate=typeof self!="undefined"&&self.clearImmediate||u!==void 0&&u.clearImmediate||this&&this.clearImmediate}).call(this,a(40))},function(g,p,a){g.exports=function(u,f){return function(){for(var P=new Array(arguments.length),U=0;U<P.length;U++)P[U]=arguments[U];return u.apply(f,P)}}},function(g,p,a){var u=a(31);function f(P){return encodeURIComponent(P).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}g.exports=function(P,U,m){if(!U)return P;var w;if(m)w=m(U);else if(u.isURLSearchParams(U))w=U.toString();else{var r=[];u.forEach(U,function(C,A){C!=null&&(u.isArray(C)?A+="[]":C=[C],u.forEach(C,function(x){u.isDate(x)?x=x.toISOString():u.isObject(x)&&(x=JSON.stringify(x)),r.push(f(A)+"="+f(x))}))}),w=r.join("&")}if(w){var b=P.indexOf("#");b!==-1&&(P=P.slice(0,b)),P+=(P.indexOf("?")===-1?"?":"&")+w}return P}},function(g,p,a){g.exports=function(u){return!(!u||!u.__CANCEL__)}},function(g,p,a){(function(u){var f=a(31),P=a(266),U={"Content-Type":"application/x-www-form-urlencoded"};function m(r,b){!f.isUndefined(r)&&f.isUndefined(r["Content-Type"])&&(r["Content-Type"]=b)}var w={adapter:function(){var r;return(typeof XMLHttpRequest!="undefined"||u!==void 0&&Object.prototype.toString.call(u)==="[object process]")&&(r=a(137)),r}(),transformRequest:[function(r,b){return P(b,"Accept"),P(b,"Content-Type"),f.isFormData(r)||f.isArrayBuffer(r)||f.isBuffer(r)||f.isStream(r)||f.isFile(r)||f.isBlob(r)?r:f.isArrayBufferView(r)?r.buffer:f.isURLSearchParams(r)?(m(b,"application/x-www-form-urlencoded;charset=utf-8"),r.toString()):f.isObject(r)?(m(b,"application/json;charset=utf-8"),JSON.stringify(r)):r}],transformResponse:[function(r){if(typeof r=="string")try{r=JSON.parse(r)}catch{}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};f.forEach(["delete","get","head"],function(r){w.headers[r]={}}),f.forEach(["post","put","patch"],function(r){w.headers[r]=f.merge(U)}),g.exports=w}).call(this,a(80))},function(g,p,a){var u=a(31),f=a(267),P=a(134),U=a(269),m=a(272),w=a(273),r=a(138);g.exports=function(b){return new Promise(function(C,A){var x=b.data,E=b.headers;u.isFormData(x)&&delete E["Content-Type"];var M=new XMLHttpRequest;if(b.auth){var S=b.auth.username||"",D=b.auth.password||"";E.Authorization="Basic "+btoa(S+":"+D)}var V=U(b.baseURL,b.url);if(M.open(b.method.toUpperCase(),P(V,b.params,b.paramsSerializer),!0),M.timeout=b.timeout,M.onreadystatechange=function(){if(M&&M.readyState===4&&(M.status!==0||M.responseURL&&M.responseURL.indexOf("file:")===0)){var F="getAllResponseHeaders"in M?m(M.getAllResponseHeaders()):null,I={data:b.responseType&&b.responseType!=="text"?M.response:M.responseText,status:M.status,statusText:M.statusText,headers:F,config:b,request:M};f(C,A,I),M=null}},M.onabort=function(){M&&(A(r("Request aborted",b,"ECONNABORTED",M)),M=null)},M.onerror=function(){A(r("Network Error",b,null,M)),M=null},M.ontimeout=function(){var F="timeout of "+b.timeout+"ms exceeded";b.timeoutErrorMessage&&(F=b.timeoutErrorMessage),A(r(F,b,"ECONNABORTED",M)),M=null},u.isStandardBrowserEnv()){var d=a(274),O=(b.withCredentials||w(V))&&b.xsrfCookieName?d.read(b.xsrfCookieName):void 0;O&&(E[b.xsrfHeaderName]=O)}if("setRequestHeader"in M&&u.forEach(E,function(F,I){x===void 0&&I.toLowerCase()==="content-type"?delete E[I]:M.setRequestHeader(I,F)}),u.isUndefined(b.withCredentials)||(M.withCredentials=!!b.withCredentials),b.responseType)try{M.responseType=b.responseType}catch(F){if(b.responseType!=="json")throw F}typeof b.onDownloadProgress=="function"&&M.addEventListener("progress",b.onDownloadProgress),typeof b.onUploadProgress=="function"&&M.upload&&M.upload.addEventListener("progress",b.onUploadProgress),b.cancelToken&&b.cancelToken.promise.then(function(F){M&&(M.abort(),A(F),M=null)}),x===void 0&&(x=null),M.send(x)})}},function(g,p,a){var u=a(268);g.exports=function(f,P,U,m,w){var r=new Error(f);return u(r,P,U,m,w)}},function(g,p,a){var u=a(31);g.exports=function(f,P){P=P||{};var U={},m=["url","method","params","data"],w=["headers","auth","proxy"],r=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];u.forEach(m,function(A){P[A]!==void 0&&(U[A]=P[A])}),u.forEach(w,function(A){u.isObject(P[A])?U[A]=u.deepMerge(f[A],P[A]):P[A]!==void 0?U[A]=P[A]:u.isObject(f[A])?U[A]=u.deepMerge(f[A]):f[A]!==void 0&&(U[A]=f[A])}),u.forEach(r,function(A){P[A]!==void 0?U[A]=P[A]:f[A]!==void 0&&(U[A]=f[A])});var b=m.concat(w).concat(r),C=Object.keys(P).filter(function(A){return b.indexOf(A)===-1});return u.forEach(C,function(A){P[A]!==void 0?U[A]=P[A]:f[A]!==void 0&&(U[A]=f[A])}),U}},function(g,p,a){function u(f){this.message=f}u.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},u.prototype.__CANCEL__=!0,g.exports=u},function(g){g.exports={a:"10.9.0-m-0.0.2"}},function(g,p,a){var u=a(227);g.exports=function(f,P){if(f==null)return{};var U,m,w=u(f,P);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(f);for(m=0;m<r.length;m++)U=r[m],P.indexOf(U)>=0||Object.prototype.propertyIsEnumerable.call(f,U)&&(w[U]=f[U])}return w},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p,a){var u=a(47),f=a(48),P=a.n(f),U=a(32);p.a=function(m,w){var r=m;return Object(u.a)("MeshIO",r).then(function(b){var C=b.webworkerPromise,A=b.worker;return r=A,P.a.readAsArrayBuffer(w).then(function(x){return C.postMessage({operation:"readMesh",name:w.name,type:w.type,data:x,config:U.a},[x])}).then(function(x){return Promise.resolve({mesh:x,webWorker:r})})})}},function(g,p,a){var u=a(47),f=a(48),P=a.n(f),U=a(114),m=a.n(U),w=a(58),r=a.n(w),b=a(82),C=a.n(b),A=a(27),x=a.n(A),E=a(32);p.a=function(M,S){var D=M;return Object(u.a)("Pipeline",D).then(function(V){var d=V.webworkerPromise,O=V.worker;return D=O,P.a.readAsArrayBuffer(S).then(function(F){var I=S.name,L=S.type,G=r()(I),z=null;m.a.has(L)?z=m.a.get(L):C.a.has(G)&&(z=C.a.get(G)),z===null&&Promise.reject(Error("Could not find IO for: "+I));var B=[S.name,S.name+".output.json"],Y=[{path:B[1],type:x.a.vtkPolyData}],q=[{path:B[0],type:x.a.Binary,data:new Uint8Array(F)}],H=[];return q.forEach(function(ne){ne.type===x.a.Binary&&(ne.data.buffer?H.push(ne.data.buffer):ne.data.byteLength&&H.push(ne.data))}),d.postMessage({operation:"runPolyDataIOPipeline",config:E.a,pipelinePath:z,args:B,outputs:Y,inputs:q},H).then(function(ne){ne.stdout,ne.stderr;var Ae=ne.outputs;return Promise.resolve({polyData:Ae[0].data,webWorker:D})})})})}},function(g,p,a){(function(u){var f=a(27),P=a(112),U=!1;U=typeof window!="undefined"?typeof window.SharedArrayBuffer=="function":typeof u.SharedArrayBuffer=="function";var m=function(r,b){return new(typeof window!="undefined"?window[r]:u[r])(b)},w=function(r,b){var C=r.open(b,"r"),A=r.stat(b).size,x=null;x=U?new SharedArrayBuffer(A):new ArrayBuffer(A);var E=new Uint8Array(x);return r.read(C,E,0,A,0),r.close(C),E};g.exports=function(r,b,C,A){A&&A.forEach(function(S){switch(S.type){case f.Text:case f.Binary:r.writeFile(S.path,S.data);break;case f.Image:var D={};for(var V in S.data)Object.prototype.hasOwnProperty.call(S.data,V)&&V!=="data"&&(D[V]=S.data[V]);D.data=S.path+".data",r.writeFile(S.path,JSON.stringify(D)),r.writeFile(D.data,new Uint8Array(S.data.data.buffer));break;case f.Mesh:var d={};for(var O in S.data)Object.prototype.hasOwnProperty.call(S.data,O)&&O!=="points"&&O!=="pointData"&&O!=="cells"&&O!=="cellData"&&(d[O]=S.data[O]);d.points=S.path+".points.data",d.pointData=S.path+".pointData.data",d.cells=S.path+".cells.data",d.cellData=S.path+".cellData.data",r.writeFile(S.path,JSON.stringify(d)),d.numberOfPoints&&r.writeFile(d.points,new Uint8Array(S.data.points.buffer)),d.numberOfPointPixels&&r.writeFile(d.pointData,new Uint8Array(S.data.pointData.buffer)),d.numberOfCells&&r.writeFile(d.cells,new Uint8Array(S.data.cells.buffer)),d.numberOfCellPixels&&r.writeFile(d.cellData,new Uint8Array(S.data.cellData.buffer));break;default:throw Error("Unsupported input IOType")}}),r.resetModuleStdout(),r.resetModuleStderr(),r.callMain(b);var x=r.getModuleStdout(),E=r.getModuleStderr(),M=[];return C&&C.forEach(function(S){var D={};switch(Object.assign(D,S),S.type){case f.Text:D.data=r.readFile(S.path,{encoding:"utf8"});break;case f.Binary:D.data=w(r,S.path);break;case f.Image:var V=r.readFile(S.path,{encoding:"utf8"}),d=JSON.parse(V),O=w(r,d.data);d.data=P(d.imageType.componentType,O.buffer),D.data=d;break;case f.Mesh:var F=r.readFile(S.path,{encoding:"utf8"}),I=JSON.parse(F);if(I.numberOfPoints){var L=w(r,I.points);I.points=P(I.meshType.pointComponentType,L.buffer)}else I.points=P(I.meshType.pointComponentType,new ArrayBuffer(0));if(I.numberOfPointPixels){var G=w(r,I.pointData);I.pointData=P(I.meshType.pointPixelComponentType,G.buffer)}else I.pointData=P(I.meshType.pointPixelComponentType,new ArrayBuffer(0));if(I.numberOfCells){var z=w(r,I.cells);I.cells=P(I.meshType.cellComponentType,z.buffer)}else I.cells=P(I.meshType.cellComponentType,new ArrayBuffer(0));if(I.numberOfCellPixels){var B=w(r,I.cellData);I.cellData=P(I.meshType.cellPixelComponentType,B.buffer)}else I.cellData=P(I.meshType.cellPixelComponentType,new ArrayBuffer(0));D.data=I;break;case f.vtkPolyData:var Y=r.readFile("".concat(S.path,"/index.json"),{encoding:"utf8"}),q=JSON.parse(Y);["points","verts","lines","polys","strips"].forEach(function(H){if(q[H]){var ne=q[H];if(ne.ref){var Ae=w(r,"".concat(S.path,"/").concat(ne.ref.basepath,"/").concat(ne.ref.id));q[H].buffer=Ae.buffer,q[H].values=m(q[H].dataType,Ae.buffer),delete ne.ref}}}),["pointData","cellData","fieldData"].forEach(function(H){q[H]&&q[H].arrays.forEach(function(ne){if(ne.data.ref){var Ae=w(r,"".concat(S.path,"/").concat(ne.data.ref.basepath,"/").concat(ne.data.ref.id));ne.data.buffer=Ae.buffer,ne.data.values=m(ne.data.dataType,Ae.buffer),delete ne.data.ref}})}),D.data=q;break;default:throw Error("Unsupported output IOType")}M.push(D)}),{stdout:x,stderr:E,outputs:M}}}).call(this,a(40))},function(g,p){var a=new Map([["vtk","itkVTKPolyDataMeshIOJSBinding"],["VTK","itkVTKPolyDataMeshIOJSBinding"],["byu","itkBYUMeshIOJSBinding"],["BYU","itkBYUMeshIOJSBinding"],["fsa","itkFreeSurferAsciiMeshIOJSBinding"],["FSA","itkFreeSurferAsciiMeshIOJSBinding"],["fsb","itkFreeSurferBinaryMeshIOJSBinding"],["FSB","itkFreeSurferBinaryMeshIOJSBinding"],["obj","itkOBJMeshIOJSBinding"],["OBJ","itkOBJMeshIOJSBinding"],["off","itkOFFMeshIOJSBinding"],["OFF","itkOFFMeshIOJSBinding"],["stl","itkSTLMeshIOJSBinding"],["STL","itkSTLMeshIOJSBinding"]]);g.exports=a},function(g,p,a){var u=a(234),f=a(235),P=a(236),U=a(237),m=a(238),w=a(239),r=a(240);r.alea=u,r.xor128=f,r.xorwow=P,r.xorshift7=U,r.xor4096=m,r.tychei=w,g.exports=r},function(g,p,a){(function(u,f,P){var U;g.exports=function m(w,r,b){function C(E,M){if(!r[E]){if(!w[E]){var S=typeof U=="function";if(!M&&S)return U(E,!0);if(A)return A(E,!0);var D=new Error("Cannot find module '"+E+"'");throw D.code="MODULE_NOT_FOUND",D}var V=r[E]={exports:{}};w[E][0].call(V.exports,function(d){var O=w[E][1][d];return C(O||d)},V,V.exports,m,w,r,b)}return r[E].exports}for(var A=typeof U=="function",x=0;x<b.length;x++)C(b[x]);return C}({1:[function(m,w,r){var b=m("./utils"),C=m("./support"),A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(x){for(var E,M,S,D,V,d,O,F=[],I=0,L=x.length,G=L,z=b.getTypeOf(x)!=="string";I<x.length;)G=L-I,S=z?(E=x[I++],M=I<L?x[I++]:0,I<L?x[I++]:0):(E=x.charCodeAt(I++),M=I<L?x.charCodeAt(I++):0,I<L?x.charCodeAt(I++):0),D=E>>2,V=(3&E)<<4|M>>4,d=1<G?(15&M)<<2|S>>6:64,O=2<G?63&S:64,F.push(A.charAt(D)+A.charAt(V)+A.charAt(d)+A.charAt(O));return F.join("")},r.decode=function(x){var E,M,S,D,V,d,O=0,F=0,I="data:";if(x.substr(0,I.length)===I)throw new Error("Invalid base64 input, it looks like a data url.");var L,G=3*(x=x.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(x.charAt(x.length-1)===A.charAt(64)&&G--,x.charAt(x.length-2)===A.charAt(64)&&G--,G%1!=0)throw new Error("Invalid base64 input, bad content length.");for(L=C.uint8array?new Uint8Array(0|G):new Array(0|G);O<x.length;)E=A.indexOf(x.charAt(O++))<<2|(D=A.indexOf(x.charAt(O++)))>>4,M=(15&D)<<4|(V=A.indexOf(x.charAt(O++)))>>2,S=(3&V)<<6|(d=A.indexOf(x.charAt(O++))),L[F++]=E,V!==64&&(L[F++]=M),d!==64&&(L[F++]=S);return L}},{"./support":30,"./utils":32}],2:[function(m,w,r){var b=m("./external"),C=m("./stream/DataWorker"),A=m("./stream/DataLengthProbe"),x=m("./stream/Crc32Probe");function E(M,S,D,V,d){this.compressedSize=M,this.uncompressedSize=S,this.crc32=D,this.compression=V,this.compressedContent=d}A=m("./stream/DataLengthProbe"),E.prototype={getContentWorker:function(){var M=new C(b.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new A("data_length")),S=this;return M.on("end",function(){if(this.streamInfo.data_length!==S.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),M},getCompressedWorker:function(){return new C(b.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},E.createWorkerFrom=function(M,S,D){return M.pipe(new x).pipe(new A("uncompressedSize")).pipe(S.compressWorker(D)).pipe(new A("compressedSize")).withStreamInfo("compression",S)},w.exports=E},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(m,w,r){var b=m("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(C){return new b("STORE compression")},uncompressWorker:function(){return new b("STORE decompression")}},r.DEFLATE=m("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(m,w,r){var b=m("./utils"),C=function(){for(var A,x=[],E=0;E<256;E++){A=E;for(var M=0;M<8;M++)A=1&A?3988292384^A>>>1:A>>>1;x[E]=A}return x}();w.exports=function(A,x){return A!==void 0&&A.length?b.getTypeOf(A)!=="string"?function(E,M,S,D){var V=C,d=0+S;E^=-1;for(var O=0;O<d;O++)E=E>>>8^V[255&(E^M[O])];return-1^E}(0|x,A,A.length):function(E,M,S,D){var V=C,d=0+S;E^=-1;for(var O=0;O<d;O++)E=E>>>8^V[255&(E^M.charCodeAt(O))];return-1^E}(0|x,A,A.length):0}},{"./utils":32}],5:[function(m,w,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(m,w,r){var b=null;b=typeof Promise!="undefined"?Promise:m("lie"),w.exports={Promise:b}},{lie:37}],7:[function(m,w,r){var b=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",C=m("pako"),A=m("./utils"),x=m("./stream/GenericWorker"),E=b?"uint8array":"array";function M(S,D){x.call(this,"FlateWorker/"+S),this._pako=null,this._pakoAction=S,this._pakoOptions=D,this.meta={}}r.magic="\b\0",A.inherits(M,x),M.prototype.processChunk=function(S){this.meta=S.meta,this._pako===null&&this._createPako(),this._pako.push(A.transformTo(E,S.data),!1)},M.prototype.flush=function(){x.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},M.prototype.cleanUp=function(){x.prototype.cleanUp.call(this),this._pako=null},M.prototype._createPako=function(){this._pako=new C[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var S=this;this._pako.onData=function(D){S.push({data:D,meta:S.meta})}},r.compressWorker=function(S){return new M("Deflate",S)},r.uncompressWorker=function(){return new M("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(m,w,r){function b(V,d){var O,F="";for(O=0;O<d;O++)F+=String.fromCharCode(255&V),V>>>=8;return F}function C(V,d,O,F,I,L){var G,z,B=V.file,Y=V.compression,q=L!==E.utf8encode,H=A.transformTo("string",L(B.name)),ne=A.transformTo("string",E.utf8encode(B.name)),Ae=B.comment,ce=A.transformTo("string",L(Ae)),ye=A.transformTo("string",E.utf8encode(Ae)),K=ne.length!==B.name.length,j=ye.length!==Ae.length,ve="",Pe="",Oe="",xe=B.dir,Ve=B.date,me={crc32:0,compressedSize:0,uncompressedSize:0};d&&!O||(me.crc32=V.crc32,me.compressedSize=V.compressedSize,me.uncompressedSize=V.uncompressedSize);var pe=0;d&&(pe|=8),q||!K&&!j||(pe|=2048);var ke=0,X=0;xe&&(ke|=16),I==="UNIX"?(X=798,ke|=function(ae,Ue){var Ie=ae;return ae||(Ie=33204),(65535&Ie)<<16}(B.unixPermissions)):(X=20,ke|=(B.dosPermissions,0)),G=Ve.getUTCHours(),G<<=6,G|=Ve.getUTCMinutes(),G<<=5,G|=Ve.getUTCSeconds()/2,z=Ve.getUTCFullYear()-1980,z<<=4,z|=Ve.getUTCMonth()+1,z<<=5,z|=Ve.getUTCDate(),K&&(Pe=b(1,1)+b(M(H),4)+ne,ve+="up"+b(Pe.length,2)+Pe),j&&(Oe=b(1,1)+b(M(ce),4)+ye,ve+="uc"+b(Oe.length,2)+Oe);var Z="";return Z+=`
\0`,Z+=b(pe,2),Z+=Y.magic,Z+=b(G,2),Z+=b(z,2),Z+=b(me.crc32,4),Z+=b(me.compressedSize,4),Z+=b(me.uncompressedSize,4),Z+=b(H.length,2),Z+=b(ve.length,2),{fileRecord:S.LOCAL_FILE_HEADER+Z+H+ve,dirRecord:S.CENTRAL_FILE_HEADER+b(X,2)+Z+b(ce.length,2)+"\0\0\0\0"+b(ke,4)+b(F,4)+H+ve+ce}}var A=m("../utils"),x=m("../stream/GenericWorker"),E=m("../utf8"),M=m("../crc32"),S=m("../signature");function D(V,d,O,F){x.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=d,this.zipPlatform=O,this.encodeFileName=F,this.streamFiles=V,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}A.inherits(D,x),D.prototype.push=function(V){var d=V.meta.percent||0,O=this.entriesCount,F=this._sources.length;this.accumulate?this.contentBuffer.push(V):(this.bytesWritten+=V.data.length,x.prototype.push.call(this,{data:V.data,meta:{currentFile:this.currentFile,percent:O?(d+100*(O-F-1))/O:100}}))},D.prototype.openedSource=function(V){this.currentSourceOffset=this.bytesWritten,this.currentFile=V.file.name;var d=this.streamFiles&&!V.file.dir;if(d){var O=C(V,d,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:O.fileRecord,meta:{percent:0}})}else this.accumulate=!0},D.prototype.closedSource=function(V){this.accumulate=!1;var d=this.streamFiles&&!V.file.dir,O=C(V,d,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(O.dirRecord),d)this.push({data:function(F){return S.DATA_DESCRIPTOR+b(F.crc32,4)+b(F.compressedSize,4)+b(F.uncompressedSize,4)}(V),meta:{percent:100}});else for(this.push({data:O.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},D.prototype.flush=function(){for(var V=this.bytesWritten,d=0;d<this.dirRecords.length;d++)this.push({data:this.dirRecords[d],meta:{percent:100}});var O=this.bytesWritten-V,F=function(I,L,G,z,B){var Y=A.transformTo("string",B(z));return S.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(I,2)+b(I,2)+b(L,4)+b(G,4)+b(Y.length,2)+Y}(this.dirRecords.length,O,V,this.zipComment,this.encodeFileName);this.push({data:F,meta:{percent:100}})},D.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},D.prototype.registerPrevious=function(V){this._sources.push(V);var d=this;return V.on("data",function(O){d.processChunk(O)}),V.on("end",function(){d.closedSource(d.previous.streamInfo),d._sources.length?d.prepareNextSource():d.end()}),V.on("error",function(O){d.error(O)}),this},D.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},D.prototype.error=function(V){var d=this._sources;if(!x.prototype.error.call(this,V))return!1;for(var O=0;O<d.length;O++)try{d[O].error(V)}catch{}return!0},D.prototype.lock=function(){x.prototype.lock.call(this);for(var V=this._sources,d=0;d<V.length;d++)V[d].lock()},w.exports=D},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(m,w,r){var b=m("../compressions"),C=m("./ZipFileWorker");r.generateWorker=function(A,x,E){var M=new C(x.streamFiles,E,x.platform,x.encodeFileName),S=0;try{A.forEach(function(D,V){S++;var d=function(L,G){var z=L||G,B=b[z];if(!B)throw new Error(z+" is not a valid compression method !");return B}(V.options.compression,x.compression),O=V.options.compressionOptions||x.compressionOptions||{},F=V.dir,I=V.date;V._compressWorker(d,O).withStreamInfo("file",{name:D,dir:F,date:I,comment:V.comment||"",unixPermissions:V.unixPermissions,dosPermissions:V.dosPermissions}).pipe(M)}),M.entriesCount=S}catch(D){M.error(D)}return M}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(m,w,r){function b(){if(!(this instanceof b))return new b;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var C=new b;for(var A in this)typeof this[A]!="function"&&(C[A]=this[A]);return C}}(b.prototype=m("./object")).loadAsync=m("./load"),b.support=m("./support"),b.defaults=m("./defaults"),b.version="3.4.0",b.loadAsync=function(C,A){return new b().loadAsync(C,A)},b.external=m("./external"),w.exports=b},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(m,w,r){var b=m("./utils"),C=m("./external"),A=m("./utf8"),x=(b=m("./utils"),m("./zipEntries")),E=m("./stream/Crc32Probe"),M=m("./nodejsUtils");function S(D){return new C.Promise(function(V,d){var O=D.decompressed.getContentWorker().pipe(new E);O.on("error",function(F){d(F)}).on("end",function(){O.streamInfo.crc32!==D.decompressed.crc32?d(new Error("Corrupted zip : CRC32 mismatch")):V()}).resume()})}w.exports=function(D,V){var d=this;return V=b.extend(V||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:A.utf8decode}),M.isNode&&M.isStream(D)?C.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):b.prepareContent("the loaded zip file",D,!0,V.optimizedBinaryString,V.base64).then(function(O){var F=new x(V);return F.load(O),F}).then(function(O){var F=[C.Promise.resolve(O)],I=O.files;if(V.checkCRC32)for(var L=0;L<I.length;L++)F.push(S(I[L]));return C.Promise.all(F)}).then(function(O){for(var F=O.shift(),I=F.files,L=0;L<I.length;L++){var G=I[L];d.file(G.fileNameStr,G.decompressed,{binary:!0,optimizedBinaryString:!0,date:G.date,dir:G.dir,comment:G.fileCommentStr.length?G.fileCommentStr:null,unixPermissions:G.unixPermissions,dosPermissions:G.dosPermissions,createFolders:V.createFolders})}return F.zipComment.length&&(d.comment=F.zipComment),d})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(m,w,r){var b=m("../utils"),C=m("../stream/GenericWorker");function A(x,E){C.call(this,"Nodejs stream input adapter for "+x),this._upstreamEnded=!1,this._bindStream(E)}b.inherits(A,C),A.prototype._bindStream=function(x){var E=this;(this._stream=x).pause(),x.on("data",function(M){E.push({data:M,meta:{percent:0}})}).on("error",function(M){E.isPaused?this.generatedError=M:E.error(M)}).on("end",function(){E.isPaused?E._upstreamEnded=!0:E.end()})},A.prototype.pause=function(){return!!C.prototype.pause.call(this)&&(this._stream.pause(),!0)},A.prototype.resume=function(){return!!C.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},w.exports=A},{"../stream/GenericWorker":28,"../utils":32}],13:[function(m,w,r){var b=m("readable-stream").Readable;function C(A,x,E){b.call(this,x),this._helper=A;var M=this;A.on("data",function(S,D){M.push(S)||M._helper.pause(),E&&E(D)}).on("error",function(S){M.emit("error",S)}).on("end",function(){M.push(null)})}m("../utils").inherits(C,b),C.prototype._read=function(){this._helper.resume()},w.exports=C},{"../utils":32,"readable-stream":16}],14:[function(m,w,r){w.exports={isNode:u!==void 0,newBufferFrom:function(b,C){if(u.from&&u.from!==Uint8Array.from)return u.from(b,C);if(typeof b=="number")throw new Error('The "data" argument must not be a number');return new u(b,C)},allocBuffer:function(b){if(u.alloc)return u.alloc(b);var C=new u(b);return C.fill(0),C},isBuffer:function(b){return u.isBuffer(b)},isStream:function(b){return b&&typeof b.on=="function"&&typeof b.pause=="function"&&typeof b.resume=="function"}}},{}],15:[function(m,w,r){function b(B,Y,q){var H,ne=A.getTypeOf(Y),Ae=A.extend(q||{},M);Ae.date=Ae.date||new Date,Ae.compression!==null&&(Ae.compression=Ae.compression.toUpperCase()),typeof Ae.unixPermissions=="string"&&(Ae.unixPermissions=parseInt(Ae.unixPermissions,8)),Ae.unixPermissions&&16384&Ae.unixPermissions&&(Ae.dir=!0),Ae.dosPermissions&&16&Ae.dosPermissions&&(Ae.dir=!0),Ae.dir&&(B=I(B)),Ae.createFolders&&(H=F(B))&&L.call(this,H,!0);var ce=ne==="string"&&Ae.binary===!1&&Ae.base64===!1;q&&q.binary!==void 0||(Ae.binary=!ce),(Y instanceof S&&Y.uncompressedSize===0||Ae.dir||!Y||Y.length===0)&&(Ae.base64=!1,Ae.binary=!0,Y="",Ae.compression="STORE",ne="string");var ye=null;ye=Y instanceof S||Y instanceof x?Y:d.isNode&&d.isStream(Y)?new O(B,Y):A.prepareContent(B,Y,Ae.binary,Ae.optimizedBinaryString,Ae.base64);var K=new D(B,ye,Ae);this.files[B]=K}var C=m("./utf8"),A=m("./utils"),x=m("./stream/GenericWorker"),E=m("./stream/StreamHelper"),M=m("./defaults"),S=m("./compressedObject"),D=m("./zipObject"),V=m("./generate"),d=m("./nodejsUtils"),O=m("./nodejs/NodejsStreamInputAdapter"),F=function(B){B.slice(-1)==="/"&&(B=B.substring(0,B.length-1));var Y=B.lastIndexOf("/");return 0<Y?B.substring(0,Y):""},I=function(B){return B.slice(-1)!=="/"&&(B+="/"),B},L=function(B,Y){return Y=Y!==void 0?Y:M.createFolders,B=I(B),this.files[B]||b.call(this,B,null,{dir:!0,createFolders:Y}),this.files[B]};function G(B){return Object.prototype.toString.call(B)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(B){var Y,q,H;for(Y in this.files)this.files.hasOwnProperty(Y)&&(H=this.files[Y],(q=Y.slice(this.root.length,Y.length))&&Y.slice(0,this.root.length)===this.root&&B(q,H))},filter:function(B){var Y=[];return this.forEach(function(q,H){B(q,H)&&Y.push(H)}),Y},file:function(B,Y,q){if(arguments.length!==1)return B=this.root+B,b.call(this,B,Y,q),this;if(G(B)){var H=B;return this.filter(function(Ae,ce){return!ce.dir&&H.test(Ae)})}var ne=this.files[this.root+B];return ne&&!ne.dir?ne:null},folder:function(B){if(!B)return this;if(G(B))return this.filter(function(ne,Ae){return Ae.dir&&B.test(ne)});var Y=this.root+B,q=L.call(this,Y),H=this.clone();return H.root=q.name,H},remove:function(B){B=this.root+B;var Y=this.files[B];if(Y||(B.slice(-1)!=="/"&&(B+="/"),Y=this.files[B]),Y&&!Y.dir)delete this.files[B];else for(var q=this.filter(function(ne,Ae){return Ae.name.slice(0,B.length)===B}),H=0;H<q.length;H++)delete this.files[q[H].name];return this},generate:function(B){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(B){var Y,q={};try{if((q=A.extend(B||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:C.utf8encode})).type=q.type.toLowerCase(),q.compression=q.compression.toUpperCase(),q.type==="binarystring"&&(q.type="string"),!q.type)throw new Error("No output type specified.");A.checkSupport(q.type),q.platform!=="darwin"&&q.platform!=="freebsd"&&q.platform!=="linux"&&q.platform!=="sunos"||(q.platform="UNIX"),q.platform==="win32"&&(q.platform="DOS");var H=q.comment||this.comment||"";Y=V.generateWorker(this,q,H)}catch(ne){(Y=new x("error")).error(ne)}return new E(Y,q.type||"string",q.mimeType)},generateAsync:function(B,Y){return this.generateInternalStream(B).accumulate(Y)},generateNodeStream:function(B,Y){return(B=B||{}).type||(B.type="nodebuffer"),this.generateInternalStream(B).toNodejsStream(Y)}};w.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(m,w,r){w.exports=m("stream")},{stream:void 0}],17:[function(m,w,r){var b=m("./DataReader");function C(A){b.call(this,A);for(var x=0;x<this.data.length;x++)A[x]=255&A[x]}m("../utils").inherits(C,b),C.prototype.byteAt=function(A){return this.data[this.zero+A]},C.prototype.lastIndexOfSignature=function(A){for(var x=A.charCodeAt(0),E=A.charCodeAt(1),M=A.charCodeAt(2),S=A.charCodeAt(3),D=this.length-4;0<=D;--D)if(this.data[D]===x&&this.data[D+1]===E&&this.data[D+2]===M&&this.data[D+3]===S)return D-this.zero;return-1},C.prototype.readAndCheckSignature=function(A){var x=A.charCodeAt(0),E=A.charCodeAt(1),M=A.charCodeAt(2),S=A.charCodeAt(3),D=this.readData(4);return x===D[0]&&E===D[1]&&M===D[2]&&S===D[3]},C.prototype.readData=function(A){if(this.checkOffset(A),A===0)return[];var x=this.data.slice(this.zero+this.index,this.zero+this.index+A);return this.index+=A,x},w.exports=C},{"../utils":32,"./DataReader":18}],18:[function(m,w,r){var b=m("../utils");function C(A){this.data=A,this.length=A.length,this.index=0,this.zero=0}C.prototype={checkOffset:function(A){this.checkIndex(this.index+A)},checkIndex:function(A){if(this.length<this.zero+A||A<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+A+"). Corrupted zip ?")},setIndex:function(A){this.checkIndex(A),this.index=A},skip:function(A){this.setIndex(this.index+A)},byteAt:function(A){},readInt:function(A){var x,E=0;for(this.checkOffset(A),x=this.index+A-1;x>=this.index;x--)E=(E<<8)+this.byteAt(x);return this.index+=A,E},readString:function(A){return b.transformTo("string",this.readData(A))},readData:function(A){},lastIndexOfSignature:function(A){},readAndCheckSignature:function(A){},readDate:function(){var A=this.readInt(4);return new Date(Date.UTC(1980+(A>>25&127),(A>>21&15)-1,A>>16&31,A>>11&31,A>>5&63,(31&A)<<1))}},w.exports=C},{"../utils":32}],19:[function(m,w,r){var b=m("./Uint8ArrayReader");function C(A){b.call(this,A)}m("../utils").inherits(C,b),C.prototype.readData=function(A){this.checkOffset(A);var x=this.data.slice(this.zero+this.index,this.zero+this.index+A);return this.index+=A,x},w.exports=C},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(m,w,r){var b=m("./DataReader");function C(A){b.call(this,A)}m("../utils").inherits(C,b),C.prototype.byteAt=function(A){return this.data.charCodeAt(this.zero+A)},C.prototype.lastIndexOfSignature=function(A){return this.data.lastIndexOf(A)-this.zero},C.prototype.readAndCheckSignature=function(A){return A===this.readData(4)},C.prototype.readData=function(A){this.checkOffset(A);var x=this.data.slice(this.zero+this.index,this.zero+this.index+A);return this.index+=A,x},w.exports=C},{"../utils":32,"./DataReader":18}],21:[function(m,w,r){var b=m("./ArrayReader");function C(A){b.call(this,A)}m("../utils").inherits(C,b),C.prototype.readData=function(A){if(this.checkOffset(A),A===0)return new Uint8Array(0);var x=this.data.subarray(this.zero+this.index,this.zero+this.index+A);return this.index+=A,x},w.exports=C},{"../utils":32,"./ArrayReader":17}],22:[function(m,w,r){var b=m("../utils"),C=m("../support"),A=m("./ArrayReader"),x=m("./StringReader"),E=m("./NodeBufferReader"),M=m("./Uint8ArrayReader");w.exports=function(S){var D=b.getTypeOf(S);return b.checkSupport(D),D!=="string"||C.uint8array?D==="nodebuffer"?new E(S):C.uint8array?new M(b.transformTo("uint8array",S)):new A(b.transformTo("array",S)):new x(S)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(m,w,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(m,w,r){var b=m("./GenericWorker"),C=m("../utils");function A(x){b.call(this,"ConvertWorker to "+x),this.destType=x}C.inherits(A,b),A.prototype.processChunk=function(x){this.push({data:C.transformTo(this.destType,x.data),meta:x.meta})},w.exports=A},{"../utils":32,"./GenericWorker":28}],25:[function(m,w,r){var b=m("./GenericWorker"),C=m("../crc32");function A(){b.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}m("../utils").inherits(A,b),A.prototype.processChunk=function(x){this.streamInfo.crc32=C(x.data,this.streamInfo.crc32||0),this.push(x)},w.exports=A},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(m,w,r){var b=m("../utils"),C=m("./GenericWorker");function A(x){C.call(this,"DataLengthProbe for "+x),this.propName=x,this.withStreamInfo(x,0)}b.inherits(A,C),A.prototype.processChunk=function(x){if(x){var E=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=E+x.data.length}C.prototype.processChunk.call(this,x)},w.exports=A},{"../utils":32,"./GenericWorker":28}],27:[function(m,w,r){var b=m("../utils"),C=m("./GenericWorker");function A(x){C.call(this,"DataWorker");var E=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,x.then(function(M){E.dataIsReady=!0,E.data=M,E.max=M&&M.length||0,E.type=b.getTypeOf(M),E.isPaused||E._tickAndRepeat()},function(M){E.error(M)})}b.inherits(A,C),A.prototype.cleanUp=function(){C.prototype.cleanUp.call(this),this.data=null},A.prototype.resume=function(){return!!C.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,b.delay(this._tickAndRepeat,[],this)),!0)},A.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(b.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},A.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var x=null,E=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":x=this.data.substring(this.index,E);break;case"uint8array":x=this.data.subarray(this.index,E);break;case"array":case"nodebuffer":x=this.data.slice(this.index,E)}return this.index=E,this.push({data:x,meta:{percent:this.max?this.index/this.max*100:0}})},w.exports=A},{"../utils":32,"./GenericWorker":28}],28:[function(m,w,r){function b(C){this.name=C||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}b.prototype={push:function(C){this.emit("data",C)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(C){this.emit("error",C)}return!0},error:function(C){return!this.isFinished&&(this.isPaused?this.generatedError=C:(this.isFinished=!0,this.emit("error",C),this.previous&&this.previous.error(C),this.cleanUp()),!0)},on:function(C,A){return this._listeners[C].push(A),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(C,A){if(this._listeners[C])for(var x=0;x<this._listeners[C].length;x++)this._listeners[C][x].call(this,A)},pipe:function(C){return C.registerPrevious(this)},registerPrevious:function(C){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=C.streamInfo,this.mergeStreamInfo(),this.previous=C;var A=this;return C.on("data",function(x){A.processChunk(x)}),C.on("end",function(){A.end()}),C.on("error",function(x){A.error(x)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var C=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),C=!0),this.previous&&this.previous.resume(),!C},flush:function(){},processChunk:function(C){this.push(C)},withStreamInfo:function(C,A){return this.extraStreamInfo[C]=A,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var C in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(C)&&(this.streamInfo[C]=this.extraStreamInfo[C])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var C="Worker "+this.name;return this.previous?this.previous+" -> "+C:C}},w.exports=b},{}],29:[function(m,w,r){var b=m("../utils"),C=m("./ConvertWorker"),A=m("./GenericWorker"),x=m("../base64"),E=m("../support"),M=m("../external"),S=null;if(E.nodestream)try{S=m("../nodejs/NodejsStreamOutputAdapter")}catch{}function D(V,d,O){var F=d;switch(d){case"blob":case"arraybuffer":F="uint8array";break;case"base64":F="string"}try{this._internalType=F,this._outputType=d,this._mimeType=O,b.checkSupport(F),this._worker=V.pipe(new C(F)),V.lock()}catch(I){this._worker=new A("error"),this._worker.error(I)}}D.prototype={accumulate:function(V){return function(d,O){return new M.Promise(function(F,I){var L=[],G=d._internalType,z=d._outputType,B=d._mimeType;d.on("data",function(Y,q){L.push(Y),O&&O(q)}).on("error",function(Y){L=[],I(Y)}).on("end",function(){try{var Y=function(q,H,ne){switch(q){case"blob":return b.newBlob(b.transformTo("arraybuffer",H),ne);case"base64":return x.encode(H);default:return b.transformTo(q,H)}}(z,function(q,H){var ne,Ae=0,ce=null,ye=0;for(ne=0;ne<H.length;ne++)ye+=H[ne].length;switch(q){case"string":return H.join("");case"array":return Array.prototype.concat.apply([],H);case"uint8array":for(ce=new Uint8Array(ye),ne=0;ne<H.length;ne++)ce.set(H[ne],Ae),Ae+=H[ne].length;return ce;case"nodebuffer":return u.concat(H);default:throw new Error("concat : unsupported type '"+q+"'")}}(G,L),B);F(Y)}catch(q){I(q)}L=[]}).resume()})}(this,V)},on:function(V,d){var O=this;return V==="data"?this._worker.on(V,function(F){d.call(O,F.data,F.meta)}):this._worker.on(V,function(){b.delay(d,arguments,O)}),this},resume:function(){return b.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(V){if(b.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new S(this,{objectMode:this._outputType!=="nodebuffer"},V)}},w.exports=D},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(m,w,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",r.nodebuffer=u!==void 0,r.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")r.blob=!1;else{var b=new ArrayBuffer(0);try{r.blob=new Blob([b],{type:"application/zip"}).size===0}catch{try{var C=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);C.append(b),r.blob=C.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!m("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(m,w,r){for(var b=m("./utils"),C=m("./support"),A=m("./nodejsUtils"),x=m("./stream/GenericWorker"),E=new Array(256),M=0;M<256;M++)E[M]=252<=M?6:248<=M?5:240<=M?4:224<=M?3:192<=M?2:1;function S(){x.call(this,"utf-8 decode"),this.leftOver=null}function D(){x.call(this,"utf-8 encode")}E[254]=E[254]=1,r.utf8encode=function(V){return C.nodebuffer?A.newBufferFrom(V,"utf-8"):function(d){var O,F,I,L,G,z=d.length,B=0;for(L=0;L<z;L++)(64512&(F=d.charCodeAt(L)))==55296&&L+1<z&&(64512&(I=d.charCodeAt(L+1)))==56320&&(F=65536+(F-55296<<10)+(I-56320),L++),B+=F<128?1:F<2048?2:F<65536?3:4;for(O=C.uint8array?new Uint8Array(B):new Array(B),L=G=0;G<B;L++)(64512&(F=d.charCodeAt(L)))==55296&&L+1<z&&(64512&(I=d.charCodeAt(L+1)))==56320&&(F=65536+(F-55296<<10)+(I-56320),L++),F<128?O[G++]=F:(F<2048?O[G++]=192|F>>>6:(F<65536?O[G++]=224|F>>>12:(O[G++]=240|F>>>18,O[G++]=128|F>>>12&63),O[G++]=128|F>>>6&63),O[G++]=128|63&F);return O}(V)},r.utf8decode=function(V){return C.nodebuffer?b.transformTo("nodebuffer",V).toString("utf-8"):function(d){var O,F,I,L,G=d.length,z=new Array(2*G);for(O=F=0;O<G;)if((I=d[O++])<128)z[F++]=I;else if(4<(L=E[I]))z[F++]=65533,O+=L-1;else{for(I&=L===2?31:L===3?15:7;1<L&&O<G;)I=I<<6|63&d[O++],L--;1<L?z[F++]=65533:I<65536?z[F++]=I:(I-=65536,z[F++]=55296|I>>10&1023,z[F++]=56320|1023&I)}return z.length!==F&&(z.subarray?z=z.subarray(0,F):z.length=F),b.applyFromCharCode(z)}(V=b.transformTo(C.uint8array?"uint8array":"array",V))},b.inherits(S,x),S.prototype.processChunk=function(V){var d=b.transformTo(C.uint8array?"uint8array":"array",V.data);if(this.leftOver&&this.leftOver.length){if(C.uint8array){var O=d;(d=new Uint8Array(O.length+this.leftOver.length)).set(this.leftOver,0),d.set(O,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var F=function(L,G){var z;for((G=G||L.length)>L.length&&(G=L.length),z=G-1;0<=z&&(192&L[z])==128;)z--;return z<0||z===0?G:z+E[L[z]]>G?z:G}(d),I=d;F!==d.length&&(C.uint8array?(I=d.subarray(0,F),this.leftOver=d.subarray(F,d.length)):(I=d.slice(0,F),this.leftOver=d.slice(F,d.length))),this.push({data:r.utf8decode(I),meta:V.meta})},S.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=S,b.inherits(D,x),D.prototype.processChunk=function(V){this.push({data:r.utf8encode(V.data),meta:V.meta})},r.Utf8EncodeWorker=D},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(m,w,r){var b=m("./support"),C=m("./base64"),A=m("./nodejsUtils"),x=m("set-immediate-shim"),E=m("./external");function M(F){return F}function S(F,I){for(var L=0;L<F.length;++L)I[L]=255&F.charCodeAt(L);return I}r.newBlob=function(F,I){r.checkSupport("blob");try{return new Blob([F],{type:I})}catch{try{var L=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return L.append(F),L.getBlob(I)}catch{throw new Error("Bug : can't construct the Blob.")}}};var D={stringifyByChunk:function(F,I,L){var G=[],z=0,B=F.length;if(B<=L)return String.fromCharCode.apply(null,F);for(;z<B;)I==="array"||I==="nodebuffer"?G.push(String.fromCharCode.apply(null,F.slice(z,Math.min(z+L,B)))):G.push(String.fromCharCode.apply(null,F.subarray(z,Math.min(z+L,B)))),z+=L;return G.join("")},stringifyByChar:function(F){for(var I="",L=0;L<F.length;L++)I+=String.fromCharCode(F[L]);return I},applyCanBeUsed:{uint8array:function(){try{return b.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return b.nodebuffer&&String.fromCharCode.apply(null,A.allocBuffer(1)).length===1}catch{return!1}}()}};function V(F){var I=65536,L=r.getTypeOf(F),G=!0;if(L==="uint8array"?G=D.applyCanBeUsed.uint8array:L==="nodebuffer"&&(G=D.applyCanBeUsed.nodebuffer),G)for(;1<I;)try{return D.stringifyByChunk(F,L,I)}catch{I=Math.floor(I/2)}return D.stringifyByChar(F)}function d(F,I){for(var L=0;L<F.length;L++)I[L]=F[L];return I}r.applyFromCharCode=V;var O={};O.string={string:M,array:function(F){return S(F,new Array(F.length))},arraybuffer:function(F){return O.string.uint8array(F).buffer},uint8array:function(F){return S(F,new Uint8Array(F.length))},nodebuffer:function(F){return S(F,A.allocBuffer(F.length))}},O.array={string:V,array:M,arraybuffer:function(F){return new Uint8Array(F).buffer},uint8array:function(F){return new Uint8Array(F)},nodebuffer:function(F){return A.newBufferFrom(F)}},O.arraybuffer={string:function(F){return V(new Uint8Array(F))},array:function(F){return d(new Uint8Array(F),new Array(F.byteLength))},arraybuffer:M,uint8array:function(F){return new Uint8Array(F)},nodebuffer:function(F){return A.newBufferFrom(new Uint8Array(F))}},O.uint8array={string:V,array:function(F){return d(F,new Array(F.length))},arraybuffer:function(F){return F.buffer},uint8array:M,nodebuffer:function(F){return A.newBufferFrom(F)}},O.nodebuffer={string:V,array:function(F){return d(F,new Array(F.length))},arraybuffer:function(F){return O.nodebuffer.uint8array(F).buffer},uint8array:function(F){return d(F,new Uint8Array(F.length))},nodebuffer:M},r.transformTo=function(F,I){if(I=I||"",!F)return I;r.checkSupport(F);var L=r.getTypeOf(I);return O[L][F](I)},r.getTypeOf=function(F){return typeof F=="string"?"string":Object.prototype.toString.call(F)==="[object Array]"?"array":b.nodebuffer&&A.isBuffer(F)?"nodebuffer":b.uint8array&&F instanceof Uint8Array?"uint8array":b.arraybuffer&&F instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(F){if(!b[F.toLowerCase()])throw new Error(F+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(F){var I,L,G="";for(L=0;L<(F||"").length;L++)G+="\\x"+((I=F.charCodeAt(L))<16?"0":"")+I.toString(16).toUpperCase();return G},r.delay=function(F,I,L){x(function(){F.apply(L||null,I||[])})},r.inherits=function(F,I){function L(){}L.prototype=I.prototype,F.prototype=new L},r.extend=function(){var F,I,L={};for(F=0;F<arguments.length;F++)for(I in arguments[F])arguments[F].hasOwnProperty(I)&&L[I]===void 0&&(L[I]=arguments[F][I]);return L},r.prepareContent=function(F,I,L,G,z){return E.Promise.resolve(I).then(function(B){return b.blob&&(B instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(B))!==-1)&&typeof FileReader!="undefined"?new E.Promise(function(Y,q){var H=new FileReader;H.onload=function(ne){Y(ne.target.result)},H.onerror=function(ne){q(ne.target.error)},H.readAsArrayBuffer(B)}):B}).then(function(B){var Y=r.getTypeOf(B);return Y?(Y==="arraybuffer"?B=r.transformTo("uint8array",B):Y==="string"&&(z?B=C.decode(B):L&&G!==!0&&(B=function(q){return S(q,b.uint8array?new Uint8Array(q.length):new Array(q.length))}(B))),B):E.Promise.reject(new Error("Can't read the data of '"+F+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(m,w,r){var b=m("./reader/readerFor"),C=m("./utils"),A=m("./signature"),x=m("./zipEntry"),E=(m("./utf8"),m("./support"));function M(S){this.files=[],this.loadOptions=S}M.prototype={checkSignature:function(S){if(!this.reader.readAndCheckSignature(S)){this.reader.index-=4;var D=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+C.pretty(D)+", expected "+C.pretty(S)+")")}},isSignature:function(S,D){var V=this.reader.index;this.reader.setIndex(S);var d=this.reader.readString(4)===D;return this.reader.setIndex(V),d},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var S=this.reader.readData(this.zipCommentLength),D=E.uint8array?"uint8array":"array",V=C.transformTo(D,S);this.zipComment=this.loadOptions.decodeFileName(V)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var S,D,V,d=this.zip64EndOfCentralSize-44;0<d;)S=this.reader.readInt(2),D=this.reader.readInt(4),V=this.reader.readData(D),this.zip64ExtensibleData[S]={id:S,length:D,value:V}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var S,D;for(S=0;S<this.files.length;S++)D=this.files[S],this.reader.setIndex(D.localHeaderOffset),this.checkSignature(A.LOCAL_FILE_HEADER),D.readLocalPart(this.reader),D.handleUTF8(),D.processAttributes()},readCentralDir:function(){var S;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(A.CENTRAL_FILE_HEADER);)(S=new x({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(S);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var S=this.reader.lastIndexOfSignature(A.CENTRAL_DIRECTORY_END);if(S<0)throw this.isSignature(0,A.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(S);var D=S;if(this.checkSignature(A.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===C.MAX_VALUE_16BITS||this.diskWithCentralDirStart===C.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===C.MAX_VALUE_16BITS||this.centralDirRecords===C.MAX_VALUE_16BITS||this.centralDirSize===C.MAX_VALUE_32BITS||this.centralDirOffset===C.MAX_VALUE_32BITS){if(this.zip64=!0,(S=this.reader.lastIndexOfSignature(A.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(S),this.checkSignature(A.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,A.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(A.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(A.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var V=this.centralDirOffset+this.centralDirSize;this.zip64&&(V+=20,V+=12+this.zip64EndOfCentralSize);var d=D-V;if(0<d)this.isSignature(D,A.CENTRAL_FILE_HEADER)||(this.reader.zero=d);else if(d<0)throw new Error("Corrupted zip: missing "+Math.abs(d)+" bytes.")},prepareReader:function(S){this.reader=b(S)},load:function(S){this.prepareReader(S),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},w.exports=M},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(m,w,r){var b=m("./reader/readerFor"),C=m("./utils"),A=m("./compressedObject"),x=m("./crc32"),E=m("./utf8"),M=m("./compressions"),S=m("./support");function D(V,d){this.options=V,this.loadOptions=d}D.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(V){var d,O;if(V.skip(22),this.fileNameLength=V.readInt(2),O=V.readInt(2),this.fileName=V.readData(this.fileNameLength),V.skip(O),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((d=function(F){for(var I in M)if(M.hasOwnProperty(I)&&M[I].magic===F)return M[I];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+C.pretty(this.compressionMethod)+" unknown (inner file : "+C.transformTo("string",this.fileName)+")");this.decompressed=new A(this.compressedSize,this.uncompressedSize,this.crc32,d,V.readData(this.compressedSize))},readCentralPart:function(V){this.versionMadeBy=V.readInt(2),V.skip(2),this.bitFlag=V.readInt(2),this.compressionMethod=V.readString(2),this.date=V.readDate(),this.crc32=V.readInt(4),this.compressedSize=V.readInt(4),this.uncompressedSize=V.readInt(4);var d=V.readInt(2);if(this.extraFieldsLength=V.readInt(2),this.fileCommentLength=V.readInt(2),this.diskNumberStart=V.readInt(2),this.internalFileAttributes=V.readInt(2),this.externalFileAttributes=V.readInt(4),this.localHeaderOffset=V.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");V.skip(d),this.readExtraFields(V),this.parseZIP64ExtraField(V),this.fileComment=V.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var V=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),V==0&&(this.dosPermissions=63&this.externalFileAttributes),V==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(V){if(this.extraFields[1]){var d=b(this.extraFields[1].value);this.uncompressedSize===C.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===C.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===C.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===C.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(V){var d,O,F,I=V.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});V.index<I;)d=V.readInt(2),O=V.readInt(2),F=V.readData(O),this.extraFields[d]={id:d,length:O,value:F}},handleUTF8:function(){var V=S.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=E.utf8decode(this.fileName),this.fileCommentStr=E.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(d!==null)this.fileNameStr=d;else{var O=C.transformTo(V,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(O)}var F=this.findExtraFieldUnicodeComment();if(F!==null)this.fileCommentStr=F;else{var I=C.transformTo(V,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(I)}}},findExtraFieldUnicodePath:function(){var V=this.extraFields[28789];if(V){var d=b(V.value);return d.readInt(1)!==1||x(this.fileName)!==d.readInt(4)?null:E.utf8decode(d.readData(V.length-5))}return null},findExtraFieldUnicodeComment:function(){var V=this.extraFields[25461];if(V){var d=b(V.value);return d.readInt(1)!==1||x(this.fileComment)!==d.readInt(4)?null:E.utf8decode(d.readData(V.length-5))}return null}},w.exports=D},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(m,w,r){function b(d,O,F){this.name=d,this.dir=F.dir,this.date=F.date,this.comment=F.comment,this.unixPermissions=F.unixPermissions,this.dosPermissions=F.dosPermissions,this._data=O,this._dataBinary=F.binary,this.options={compression:F.compression,compressionOptions:F.compressionOptions}}var C=m("./stream/StreamHelper"),A=m("./stream/DataWorker"),x=m("./utf8"),E=m("./compressedObject"),M=m("./stream/GenericWorker");b.prototype={internalStream:function(d){var O=null,F="string";try{if(!d)throw new Error("No output type specified.");var I=(F=d.toLowerCase())==="string"||F==="text";F!=="binarystring"&&F!=="text"||(F="string"),O=this._decompressWorker();var L=!this._dataBinary;L&&!I&&(O=O.pipe(new x.Utf8EncodeWorker)),!L&&I&&(O=O.pipe(new x.Utf8DecodeWorker))}catch(G){(O=new M("error")).error(G)}return new C(O,F,"")},async:function(d,O){return this.internalStream(d).accumulate(O)},nodeStream:function(d,O){return this.internalStream(d||"nodebuffer").toNodejsStream(O)},_compressWorker:function(d,O){if(this._data instanceof E&&this._data.compression.magic===d.magic)return this._data.getCompressedWorker();var F=this._decompressWorker();return this._dataBinary||(F=F.pipe(new x.Utf8EncodeWorker)),E.createWorkerFrom(F,d,O)},_decompressWorker:function(){return this._data instanceof E?this._data.getContentWorker():this._data instanceof M?this._data:new A(this._data)}};for(var S=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],D=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},V=0;V<S.length;V++)b.prototype[S[V]]=D;w.exports=b},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(m,w,r){(function(b){var C,A,x=b.MutationObserver||b.WebKitMutationObserver;if(x){var E=0,M=new x(d),S=b.document.createTextNode("");M.observe(S,{characterData:!0}),C=function(){S.data=E=++E%2}}else if(b.setImmediate||b.MessageChannel===void 0)C="document"in b&&"onreadystatechange"in b.document.createElement("script")?function(){var O=b.document.createElement("script");O.onreadystatechange=function(){d(),O.onreadystatechange=null,O.parentNode.removeChild(O),O=null},b.document.documentElement.appendChild(O)}:function(){setTimeout(d,0)};else{var D=new b.MessageChannel;D.port1.onmessage=d,C=function(){D.port2.postMessage(0)}}var V=[];function d(){var O,F;A=!0;for(var I=V.length;I;){for(F=V,V=[],O=-1;++O<I;)F[O]();I=V.length}A=!1}w.exports=function(O){V.push(O)!==1||A||C()}}).call(this,f!==void 0?f:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(m,w,r){var b=m("immediate");function C(){}var A={},x=["REJECTED"],E=["FULFILLED"],M=["PENDING"];function S(I){if(typeof I!="function")throw new TypeError("resolver must be a function");this.state=M,this.queue=[],this.outcome=void 0,I!==C&&O(this,I)}function D(I,L,G){this.promise=I,typeof L=="function"&&(this.onFulfilled=L,this.callFulfilled=this.otherCallFulfilled),typeof G=="function"&&(this.onRejected=G,this.callRejected=this.otherCallRejected)}function V(I,L,G){b(function(){var z;try{z=L(G)}catch(B){return A.reject(I,B)}z===I?A.reject(I,new TypeError("Cannot resolve promise with itself")):A.resolve(I,z)})}function d(I){var L=I&&I.then;if(I&&(typeof I=="object"||typeof I=="function")&&typeof L=="function")return function(){L.apply(I,arguments)}}function O(I,L){var G=!1;function z(q){G||(G=!0,A.reject(I,q))}function B(q){G||(G=!0,A.resolve(I,q))}var Y=F(function(){L(B,z)});Y.status==="error"&&z(Y.value)}function F(I,L){var G={};try{G.value=I(L),G.status="success"}catch(z){G.status="error",G.value=z}return G}(w.exports=S).prototype.finally=function(I){if(typeof I!="function")return this;var L=this.constructor;return this.then(function(G){return L.resolve(I()).then(function(){return G})},function(G){return L.resolve(I()).then(function(){throw G})})},S.prototype.catch=function(I){return this.then(null,I)},S.prototype.then=function(I,L){if(typeof I!="function"&&this.state===E||typeof L!="function"&&this.state===x)return this;var G=new this.constructor(C);return this.state!==M?V(G,this.state===E?I:L,this.outcome):this.queue.push(new D(G,I,L)),G},D.prototype.callFulfilled=function(I){A.resolve(this.promise,I)},D.prototype.otherCallFulfilled=function(I){V(this.promise,this.onFulfilled,I)},D.prototype.callRejected=function(I){A.reject(this.promise,I)},D.prototype.otherCallRejected=function(I){V(this.promise,this.onRejected,I)},A.resolve=function(I,L){var G=F(d,L);if(G.status==="error")return A.reject(I,G.value);var z=G.value;if(z)O(I,z);else{I.state=E,I.outcome=L;for(var B=-1,Y=I.queue.length;++B<Y;)I.queue[B].callFulfilled(L)}return I},A.reject=function(I,L){I.state=x,I.outcome=L;for(var G=-1,z=I.queue.length;++G<z;)I.queue[G].callRejected(L);return I},S.resolve=function(I){return I instanceof this?I:A.resolve(new this(C),I)},S.reject=function(I){var L=new this(C);return A.reject(L,I)},S.all=function(I){var L=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var G=I.length,z=!1;if(!G)return this.resolve([]);for(var B=new Array(G),Y=0,q=-1,H=new this(C);++q<G;)ne(I[q],q);return H;function ne(Ae,ce){L.resolve(Ae).then(function(ye){B[ce]=ye,++Y!==G||z||(z=!0,A.resolve(H,B))},function(ye){z||(z=!0,A.reject(H,ye))})}},S.race=function(I){if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=I.length,G=!1;if(!L)return this.resolve([]);for(var z,B=-1,Y=new this(C);++B<L;)z=I[B],this.resolve(z).then(function(q){G||(G=!0,A.resolve(Y,q))},function(q){G||(G=!0,A.reject(Y,q))});return Y}},{immediate:36}],38:[function(m,w,r){var b={};(0,m("./lib/utils/common").assign)(b,m("./lib/deflate"),m("./lib/inflate"),m("./lib/zlib/constants")),w.exports=b},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(m,w,r){var b=m("./zlib/deflate"),C=m("./utils/common"),A=m("./utils/strings"),x=m("./zlib/messages"),E=m("./zlib/zstream"),M=Object.prototype.toString,S=0,D=-1,V=0,d=8;function O(I){if(!(this instanceof O))return new O(I);this.options=C.assign({level:D,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:V,to:""},I||{});var L=this.options;L.raw&&0<L.windowBits?L.windowBits=-L.windowBits:L.gzip&&0<L.windowBits&&L.windowBits<16&&(L.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var G=b.deflateInit2(this.strm,L.level,L.method,L.windowBits,L.memLevel,L.strategy);if(G!==S)throw new Error(x[G]);if(L.header&&b.deflateSetHeader(this.strm,L.header),L.dictionary){var z;if(z=typeof L.dictionary=="string"?A.string2buf(L.dictionary):M.call(L.dictionary)==="[object ArrayBuffer]"?new Uint8Array(L.dictionary):L.dictionary,(G=b.deflateSetDictionary(this.strm,z))!==S)throw new Error(x[G]);this._dict_set=!0}}function F(I,L){var G=new O(L);if(G.push(I,!0),G.err)throw G.msg||x[G.err];return G.result}O.prototype.push=function(I,L){var G,z,B=this.strm,Y=this.options.chunkSize;if(this.ended)return!1;z=L===~~L?L:L===!0?4:0,typeof I=="string"?B.input=A.string2buf(I):M.call(I)==="[object ArrayBuffer]"?B.input=new Uint8Array(I):B.input=I,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new C.Buf8(Y),B.next_out=0,B.avail_out=Y),(G=b.deflate(B,z))!==1&&G!==S)return this.onEnd(G),!(this.ended=!0);B.avail_out!==0&&(B.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(A.buf2binstring(C.shrinkBuf(B.output,B.next_out))):this.onData(C.shrinkBuf(B.output,B.next_out)))}while((0<B.avail_in||B.avail_out===0)&&G!==1);return z===4?(G=b.deflateEnd(this.strm),this.onEnd(G),this.ended=!0,G===S):z!==2||(this.onEnd(S),!(B.avail_out=0))},O.prototype.onData=function(I){this.chunks.push(I)},O.prototype.onEnd=function(I){I===S&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=C.flattenChunks(this.chunks)),this.chunks=[],this.err=I,this.msg=this.strm.msg},r.Deflate=O,r.deflate=F,r.deflateRaw=function(I,L){return(L=L||{}).raw=!0,F(I,L)},r.gzip=function(I,L){return(L=L||{}).gzip=!0,F(I,L)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(m,w,r){var b=m("./zlib/inflate"),C=m("./utils/common"),A=m("./utils/strings"),x=m("./zlib/constants"),E=m("./zlib/messages"),M=m("./zlib/zstream"),S=m("./zlib/gzheader"),D=Object.prototype.toString;function V(O){if(!(this instanceof V))return new V(O);this.options=C.assign({chunkSize:16384,windowBits:0,to:""},O||{});var F=this.options;F.raw&&0<=F.windowBits&&F.windowBits<16&&(F.windowBits=-F.windowBits,F.windowBits===0&&(F.windowBits=-15)),!(0<=F.windowBits&&F.windowBits<16)||O&&O.windowBits||(F.windowBits+=32),15<F.windowBits&&F.windowBits<48&&(15&F.windowBits)==0&&(F.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new M,this.strm.avail_out=0;var I=b.inflateInit2(this.strm,F.windowBits);if(I!==x.Z_OK)throw new Error(E[I]);this.header=new S,b.inflateGetHeader(this.strm,this.header)}function d(O,F){var I=new V(F);if(I.push(O,!0),I.err)throw I.msg||E[I.err];return I.result}V.prototype.push=function(O,F){var I,L,G,z,B,Y,q=this.strm,H=this.options.chunkSize,ne=this.options.dictionary,Ae=!1;if(this.ended)return!1;L=F===~~F?F:F===!0?x.Z_FINISH:x.Z_NO_FLUSH,typeof O=="string"?q.input=A.binstring2buf(O):D.call(O)==="[object ArrayBuffer]"?q.input=new Uint8Array(O):q.input=O,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new C.Buf8(H),q.next_out=0,q.avail_out=H),(I=b.inflate(q,x.Z_NO_FLUSH))===x.Z_NEED_DICT&&ne&&(Y=typeof ne=="string"?A.string2buf(ne):D.call(ne)==="[object ArrayBuffer]"?new Uint8Array(ne):ne,I=b.inflateSetDictionary(this.strm,Y)),I===x.Z_BUF_ERROR&&Ae===!0&&(I=x.Z_OK,Ae=!1),I!==x.Z_STREAM_END&&I!==x.Z_OK)return this.onEnd(I),!(this.ended=!0);q.next_out&&(q.avail_out!==0&&I!==x.Z_STREAM_END&&(q.avail_in!==0||L!==x.Z_FINISH&&L!==x.Z_SYNC_FLUSH)||(this.options.to==="string"?(G=A.utf8border(q.output,q.next_out),z=q.next_out-G,B=A.buf2string(q.output,G),q.next_out=z,q.avail_out=H-z,z&&C.arraySet(q.output,q.output,G,z,0),this.onData(B)):this.onData(C.shrinkBuf(q.output,q.next_out)))),q.avail_in===0&&q.avail_out===0&&(Ae=!0)}while((0<q.avail_in||q.avail_out===0)&&I!==x.Z_STREAM_END);return I===x.Z_STREAM_END&&(L=x.Z_FINISH),L===x.Z_FINISH?(I=b.inflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===x.Z_OK):L!==x.Z_SYNC_FLUSH||(this.onEnd(x.Z_OK),!(q.avail_out=0))},V.prototype.onData=function(O){this.chunks.push(O)},V.prototype.onEnd=function(O){O===x.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=C.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg},r.Inflate=V,r.inflate=d,r.inflateRaw=function(O,F){return(F=F||{}).raw=!0,d(O,F)},r.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(m,w,r){var b=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";r.assign=function(x){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var M=E.shift();if(M){if(typeof M!="object")throw new TypeError(M+"must be non-object");for(var S in M)M.hasOwnProperty(S)&&(x[S]=M[S])}}return x},r.shrinkBuf=function(x,E){return x.length===E?x:x.subarray?x.subarray(0,E):(x.length=E,x)};var C={arraySet:function(x,E,M,S,D){if(E.subarray&&x.subarray)x.set(E.subarray(M,M+S),D);else for(var V=0;V<S;V++)x[D+V]=E[M+V]},flattenChunks:function(x){var E,M,S,D,V,d;for(E=S=0,M=x.length;E<M;E++)S+=x[E].length;for(d=new Uint8Array(S),E=D=0,M=x.length;E<M;E++)V=x[E],d.set(V,D),D+=V.length;return d}},A={arraySet:function(x,E,M,S,D){for(var V=0;V<S;V++)x[D+V]=E[M+V]},flattenChunks:function(x){return[].concat.apply([],x)}};r.setTyped=function(x){x?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,C)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,A))},r.setTyped(b)},{}],42:[function(m,w,r){var b=m("./common"),C=!0,A=!0;try{String.fromCharCode.apply(null,[0])}catch{C=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{A=!1}for(var x=new b.Buf8(256),E=0;E<256;E++)x[E]=252<=E?6:248<=E?5:240<=E?4:224<=E?3:192<=E?2:1;function M(S,D){if(D<65537&&(S.subarray&&A||!S.subarray&&C))return String.fromCharCode.apply(null,b.shrinkBuf(S,D));for(var V="",d=0;d<D;d++)V+=String.fromCharCode(S[d]);return V}x[254]=x[254]=1,r.string2buf=function(S){var D,V,d,O,F,I=S.length,L=0;for(O=0;O<I;O++)(64512&(V=S.charCodeAt(O)))==55296&&O+1<I&&(64512&(d=S.charCodeAt(O+1)))==56320&&(V=65536+(V-55296<<10)+(d-56320),O++),L+=V<128?1:V<2048?2:V<65536?3:4;for(D=new b.Buf8(L),O=F=0;F<L;O++)(64512&(V=S.charCodeAt(O)))==55296&&O+1<I&&(64512&(d=S.charCodeAt(O+1)))==56320&&(V=65536+(V-55296<<10)+(d-56320),O++),V<128?D[F++]=V:(V<2048?D[F++]=192|V>>>6:(V<65536?D[F++]=224|V>>>12:(D[F++]=240|V>>>18,D[F++]=128|V>>>12&63),D[F++]=128|V>>>6&63),D[F++]=128|63&V);return D},r.buf2binstring=function(S){return M(S,S.length)},r.binstring2buf=function(S){for(var D=new b.Buf8(S.length),V=0,d=D.length;V<d;V++)D[V]=S.charCodeAt(V);return D},r.buf2string=function(S,D){var V,d,O,F,I=D||S.length,L=new Array(2*I);for(V=d=0;V<I;)if((O=S[V++])<128)L[d++]=O;else if(4<(F=x[O]))L[d++]=65533,V+=F-1;else{for(O&=F===2?31:F===3?15:7;1<F&&V<I;)O=O<<6|63&S[V++],F--;1<F?L[d++]=65533:O<65536?L[d++]=O:(O-=65536,L[d++]=55296|O>>10&1023,L[d++]=56320|1023&O)}return M(L,d)},r.utf8border=function(S,D){var V;for((D=D||S.length)>S.length&&(D=S.length),V=D-1;0<=V&&(192&S[V])==128;)V--;return V<0||V===0?D:V+x[S[V]]>D?V:D}},{"./common":41}],43:[function(m,w,r){w.exports=function(b,C,A,x){for(var E=65535&b|0,M=b>>>16&65535|0,S=0;A!==0;){for(A-=S=2e3<A?2e3:A;M=M+(E=E+C[x++]|0)|0,--S;);E%=65521,M%=65521}return E|M<<16|0}},{}],44:[function(m,w,r){w.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(m,w,r){var b=function(){for(var C,A=[],x=0;x<256;x++){C=x;for(var E=0;E<8;E++)C=1&C?3988292384^C>>>1:C>>>1;A[x]=C}return A}();w.exports=function(C,A,x,E){var M=b,S=E+x;C^=-1;for(var D=E;D<S;D++)C=C>>>8^M[255&(C^A[D])];return-1^C}},{}],46:[function(m,w,r){var b,C=m("../utils/common"),A=m("./trees"),x=m("./adler32"),E=m("./crc32"),M=m("./messages"),S=0,D=4,V=0,d=-2,O=-1,F=4,I=2,L=8,G=9,z=286,B=30,Y=19,q=2*z+1,H=15,ne=3,Ae=258,ce=Ae+ne+1,ye=42,K=113,j=1,ve=2,Pe=3,Oe=4;function xe(N,W){return N.msg=M[W],W}function Ve(N){return(N<<1)-(4<N?9:0)}function me(N){for(var W=N.length;0<=--W;)N[W]=0}function pe(N){var W=N.state,de=W.pending;de>N.avail_out&&(de=N.avail_out),de!==0&&(C.arraySet(N.output,W.pending_buf,W.pending_out,de,N.next_out),N.next_out+=de,W.pending_out+=de,N.total_out+=de,N.avail_out-=de,W.pending-=de,W.pending===0&&(W.pending_out=0))}function ke(N,W){A._tr_flush_block(N,0<=N.block_start?N.block_start:-1,N.strstart-N.block_start,W),N.block_start=N.strstart,pe(N.strm)}function X(N,W){N.pending_buf[N.pending++]=W}function Z(N,W){N.pending_buf[N.pending++]=W>>>8&255,N.pending_buf[N.pending++]=255&W}function ae(N,W){var de,ie,_e=N.max_chain_length,Ze=N.strstart,ft=N.prev_length,at=N.nice_match,ht=N.strstart>N.w_size-ce?N.strstart-(N.w_size-ce):0,Ct=N.window,Kt=N.w_mask,nn=N.prev,oe=N.strstart+Ae,St=Ct[Ze+ft-1],Ce=Ct[Ze+ft];N.prev_length>=N.good_match&&(_e>>=2),at>N.lookahead&&(at=N.lookahead);do if(Ct[(de=W)+ft]===Ce&&Ct[de+ft-1]===St&&Ct[de]===Ct[Ze]&&Ct[++de]===Ct[Ze+1]){Ze+=2,de++;do;while(Ct[++Ze]===Ct[++de]&&Ct[++Ze]===Ct[++de]&&Ct[++Ze]===Ct[++de]&&Ct[++Ze]===Ct[++de]&&Ct[++Ze]===Ct[++de]&&Ct[++Ze]===Ct[++de]&&Ct[++Ze]===Ct[++de]&&Ct[++Ze]===Ct[++de]&&Ze<oe);if(ie=Ae-(oe-Ze),Ze=oe-Ae,ft<ie){if(N.match_start=W,at<=(ft=ie))break;St=Ct[Ze+ft-1],Ce=Ct[Ze+ft]}}while((W=nn[W&Kt])>ht&&--_e!=0);return ft<=N.lookahead?ft:N.lookahead}function Ue(N){var W,de,ie,_e,Ze,ft,at,ht,Ct,Kt,nn=N.w_size;do{if(_e=N.window_size-N.lookahead-N.strstart,N.strstart>=nn+(nn-ce)){for(C.arraySet(N.window,N.window,nn,nn,0),N.match_start-=nn,N.strstart-=nn,N.block_start-=nn,W=de=N.hash_size;ie=N.head[--W],N.head[W]=nn<=ie?ie-nn:0,--de;);for(W=de=nn;ie=N.prev[--W],N.prev[W]=nn<=ie?ie-nn:0,--de;);_e+=nn}if(N.strm.avail_in===0)break;if(ft=N.strm,at=N.window,ht=N.strstart+N.lookahead,Ct=_e,Kt=void 0,Kt=ft.avail_in,Ct<Kt&&(Kt=Ct),de=Kt===0?0:(ft.avail_in-=Kt,C.arraySet(at,ft.input,ft.next_in,Kt,ht),ft.state.wrap===1?ft.adler=x(ft.adler,at,Kt,ht):ft.state.wrap===2&&(ft.adler=E(ft.adler,at,Kt,ht)),ft.next_in+=Kt,ft.total_in+=Kt,Kt),N.lookahead+=de,N.lookahead+N.insert>=ne)for(Ze=N.strstart-N.insert,N.ins_h=N.window[Ze],N.ins_h=(N.ins_h<<N.hash_shift^N.window[Ze+1])&N.hash_mask;N.insert&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[Ze+ne-1])&N.hash_mask,N.prev[Ze&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=Ze,Ze++,N.insert--,!(N.lookahead+N.insert<ne)););}while(N.lookahead<ce&&N.strm.avail_in!==0)}function Ie(N,W){for(var de,ie;;){if(N.lookahead<ce){if(Ue(N),N.lookahead<ce&&W===S)return j;if(N.lookahead===0)break}if(de=0,N.lookahead>=ne&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+ne-1])&N.hash_mask,de=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),de!==0&&N.strstart-de<=N.w_size-ce&&(N.match_length=ae(N,de)),N.match_length>=ne)if(ie=A._tr_tally(N,N.strstart-N.match_start,N.match_length-ne),N.lookahead-=N.match_length,N.match_length<=N.max_lazy_match&&N.lookahead>=ne){for(N.match_length--;N.strstart++,N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+ne-1])&N.hash_mask,de=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart,--N.match_length!=0;);N.strstart++}else N.strstart+=N.match_length,N.match_length=0,N.ins_h=N.window[N.strstart],N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+1])&N.hash_mask;else ie=A._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++;if(ie&&(ke(N,!1),N.strm.avail_out===0))return j}return N.insert=N.strstart<ne-1?N.strstart:ne-1,W===D?(ke(N,!0),N.strm.avail_out===0?Pe:Oe):N.last_lit&&(ke(N,!1),N.strm.avail_out===0)?j:ve}function le(N,W){for(var de,ie,_e;;){if(N.lookahead<ce){if(Ue(N),N.lookahead<ce&&W===S)return j;if(N.lookahead===0)break}if(de=0,N.lookahead>=ne&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+ne-1])&N.hash_mask,de=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),N.prev_length=N.match_length,N.prev_match=N.match_start,N.match_length=ne-1,de!==0&&N.prev_length<N.max_lazy_match&&N.strstart-de<=N.w_size-ce&&(N.match_length=ae(N,de),N.match_length<=5&&(N.strategy===1||N.match_length===ne&&4096<N.strstart-N.match_start)&&(N.match_length=ne-1)),N.prev_length>=ne&&N.match_length<=N.prev_length){for(_e=N.strstart+N.lookahead-ne,ie=A._tr_tally(N,N.strstart-1-N.prev_match,N.prev_length-ne),N.lookahead-=N.prev_length-1,N.prev_length-=2;++N.strstart<=_e&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+ne-1])&N.hash_mask,de=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),--N.prev_length!=0;);if(N.match_available=0,N.match_length=ne-1,N.strstart++,ie&&(ke(N,!1),N.strm.avail_out===0))return j}else if(N.match_available){if((ie=A._tr_tally(N,0,N.window[N.strstart-1]))&&ke(N,!1),N.strstart++,N.lookahead--,N.strm.avail_out===0)return j}else N.match_available=1,N.strstart++,N.lookahead--}return N.match_available&&(ie=A._tr_tally(N,0,N.window[N.strstart-1]),N.match_available=0),N.insert=N.strstart<ne-1?N.strstart:ne-1,W===D?(ke(N,!0),N.strm.avail_out===0?Pe:Oe):N.last_lit&&(ke(N,!1),N.strm.avail_out===0)?j:ve}function ge(N,W,de,ie,_e){this.good_length=N,this.max_lazy=W,this.nice_length=de,this.max_chain=ie,this.func=_e}function ze(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=L,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new C.Buf16(2*q),this.dyn_dtree=new C.Buf16(2*(2*B+1)),this.bl_tree=new C.Buf16(2*(2*Y+1)),me(this.dyn_ltree),me(this.dyn_dtree),me(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new C.Buf16(H+1),this.heap=new C.Buf16(2*z+1),me(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new C.Buf16(2*z+1),me(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function nt(N){var W;return N&&N.state?(N.total_in=N.total_out=0,N.data_type=I,(W=N.state).pending=0,W.pending_out=0,W.wrap<0&&(W.wrap=-W.wrap),W.status=W.wrap?ye:K,N.adler=W.wrap===2?0:1,W.last_flush=S,A._tr_init(W),V):xe(N,d)}function st(N){var W=nt(N);return W===V&&function(de){de.window_size=2*de.w_size,me(de.head),de.max_lazy_match=b[de.level].max_lazy,de.good_match=b[de.level].good_length,de.nice_match=b[de.level].nice_length,de.max_chain_length=b[de.level].max_chain,de.strstart=0,de.block_start=0,de.lookahead=0,de.insert=0,de.match_length=de.prev_length=ne-1,de.match_available=0,de.ins_h=0}(N.state),W}function Ge(N,W,de,ie,_e,Ze){if(!N)return d;var ft=1;if(W===O&&(W=6),ie<0?(ft=0,ie=-ie):15<ie&&(ft=2,ie-=16),_e<1||G<_e||de!==L||ie<8||15<ie||W<0||9<W||Ze<0||F<Ze)return xe(N,d);ie===8&&(ie=9);var at=new ze;return(N.state=at).strm=N,at.wrap=ft,at.gzhead=null,at.w_bits=ie,at.w_size=1<<at.w_bits,at.w_mask=at.w_size-1,at.hash_bits=_e+7,at.hash_size=1<<at.hash_bits,at.hash_mask=at.hash_size-1,at.hash_shift=~~((at.hash_bits+ne-1)/ne),at.window=new C.Buf8(2*at.w_size),at.head=new C.Buf16(at.hash_size),at.prev=new C.Buf16(at.w_size),at.lit_bufsize=1<<_e+6,at.pending_buf_size=4*at.lit_bufsize,at.pending_buf=new C.Buf8(at.pending_buf_size),at.d_buf=1*at.lit_bufsize,at.l_buf=3*at.lit_bufsize,at.level=W,at.strategy=Ze,at.method=de,st(N)}b=[new ge(0,0,0,0,function(N,W){var de=65535;for(de>N.pending_buf_size-5&&(de=N.pending_buf_size-5);;){if(N.lookahead<=1){if(Ue(N),N.lookahead===0&&W===S)return j;if(N.lookahead===0)break}N.strstart+=N.lookahead,N.lookahead=0;var ie=N.block_start+de;if((N.strstart===0||N.strstart>=ie)&&(N.lookahead=N.strstart-ie,N.strstart=ie,ke(N,!1),N.strm.avail_out===0)||N.strstart-N.block_start>=N.w_size-ce&&(ke(N,!1),N.strm.avail_out===0))return j}return N.insert=0,W===D?(ke(N,!0),N.strm.avail_out===0?Pe:Oe):(N.strstart>N.block_start&&(ke(N,!1),N.strm.avail_out),j)}),new ge(4,4,8,4,Ie),new ge(4,5,16,8,Ie),new ge(4,6,32,32,Ie),new ge(4,4,16,16,le),new ge(8,16,32,32,le),new ge(8,16,128,128,le),new ge(8,32,128,256,le),new ge(32,128,258,1024,le),new ge(32,258,258,4096,le)],r.deflateInit=function(N,W){return Ge(N,W,L,15,8,0)},r.deflateInit2=Ge,r.deflateReset=st,r.deflateResetKeep=nt,r.deflateSetHeader=function(N,W){return N&&N.state?N.state.wrap!==2?d:(N.state.gzhead=W,V):d},r.deflate=function(N,W){var de,ie,_e,Ze;if(!N||!N.state||5<W||W<0)return N?xe(N,d):d;if(ie=N.state,!N.output||!N.input&&N.avail_in!==0||ie.status===666&&W!==D)return xe(N,N.avail_out===0?-5:d);if(ie.strm=N,de=ie.last_flush,ie.last_flush=W,ie.status===ye)if(ie.wrap===2)N.adler=0,X(ie,31),X(ie,139),X(ie,8),ie.gzhead?(X(ie,(ie.gzhead.text?1:0)+(ie.gzhead.hcrc?2:0)+(ie.gzhead.extra?4:0)+(ie.gzhead.name?8:0)+(ie.gzhead.comment?16:0)),X(ie,255&ie.gzhead.time),X(ie,ie.gzhead.time>>8&255),X(ie,ie.gzhead.time>>16&255),X(ie,ie.gzhead.time>>24&255),X(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),X(ie,255&ie.gzhead.os),ie.gzhead.extra&&ie.gzhead.extra.length&&(X(ie,255&ie.gzhead.extra.length),X(ie,ie.gzhead.extra.length>>8&255)),ie.gzhead.hcrc&&(N.adler=E(N.adler,ie.pending_buf,ie.pending,0)),ie.gzindex=0,ie.status=69):(X(ie,0),X(ie,0),X(ie,0),X(ie,0),X(ie,0),X(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),X(ie,3),ie.status=K);else{var ft=L+(ie.w_bits-8<<4)<<8;ft|=(2<=ie.strategy||ie.level<2?0:ie.level<6?1:ie.level===6?2:3)<<6,ie.strstart!==0&&(ft|=32),ft+=31-ft%31,ie.status=K,Z(ie,ft),ie.strstart!==0&&(Z(ie,N.adler>>>16),Z(ie,65535&N.adler)),N.adler=1}if(ie.status===69)if(ie.gzhead.extra){for(_e=ie.pending;ie.gzindex<(65535&ie.gzhead.extra.length)&&(ie.pending!==ie.pending_buf_size||(ie.gzhead.hcrc&&ie.pending>_e&&(N.adler=E(N.adler,ie.pending_buf,ie.pending-_e,_e)),pe(N),_e=ie.pending,ie.pending!==ie.pending_buf_size));)X(ie,255&ie.gzhead.extra[ie.gzindex]),ie.gzindex++;ie.gzhead.hcrc&&ie.pending>_e&&(N.adler=E(N.adler,ie.pending_buf,ie.pending-_e,_e)),ie.gzindex===ie.gzhead.extra.length&&(ie.gzindex=0,ie.status=73)}else ie.status=73;if(ie.status===73)if(ie.gzhead.name){_e=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>_e&&(N.adler=E(N.adler,ie.pending_buf,ie.pending-_e,_e)),pe(N),_e=ie.pending,ie.pending===ie.pending_buf_size)){Ze=1;break}Ze=ie.gzindex<ie.gzhead.name.length?255&ie.gzhead.name.charCodeAt(ie.gzindex++):0,X(ie,Ze)}while(Ze!==0);ie.gzhead.hcrc&&ie.pending>_e&&(N.adler=E(N.adler,ie.pending_buf,ie.pending-_e,_e)),Ze===0&&(ie.gzindex=0,ie.status=91)}else ie.status=91;if(ie.status===91)if(ie.gzhead.comment){_e=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>_e&&(N.adler=E(N.adler,ie.pending_buf,ie.pending-_e,_e)),pe(N),_e=ie.pending,ie.pending===ie.pending_buf_size)){Ze=1;break}Ze=ie.gzindex<ie.gzhead.comment.length?255&ie.gzhead.comment.charCodeAt(ie.gzindex++):0,X(ie,Ze)}while(Ze!==0);ie.gzhead.hcrc&&ie.pending>_e&&(N.adler=E(N.adler,ie.pending_buf,ie.pending-_e,_e)),Ze===0&&(ie.status=103)}else ie.status=103;if(ie.status===103&&(ie.gzhead.hcrc?(ie.pending+2>ie.pending_buf_size&&pe(N),ie.pending+2<=ie.pending_buf_size&&(X(ie,255&N.adler),X(ie,N.adler>>8&255),N.adler=0,ie.status=K)):ie.status=K),ie.pending!==0){if(pe(N),N.avail_out===0)return ie.last_flush=-1,V}else if(N.avail_in===0&&Ve(W)<=Ve(de)&&W!==D)return xe(N,-5);if(ie.status===666&&N.avail_in!==0)return xe(N,-5);if(N.avail_in!==0||ie.lookahead!==0||W!==S&&ie.status!==666){var at=ie.strategy===2?function(ht,Ct){for(var Kt;;){if(ht.lookahead===0&&(Ue(ht),ht.lookahead===0)){if(Ct===S)return j;break}if(ht.match_length=0,Kt=A._tr_tally(ht,0,ht.window[ht.strstart]),ht.lookahead--,ht.strstart++,Kt&&(ke(ht,!1),ht.strm.avail_out===0))return j}return ht.insert=0,Ct===D?(ke(ht,!0),ht.strm.avail_out===0?Pe:Oe):ht.last_lit&&(ke(ht,!1),ht.strm.avail_out===0)?j:ve}(ie,W):ie.strategy===3?function(ht,Ct){for(var Kt,nn,oe,St,Ce=ht.window;;){if(ht.lookahead<=Ae){if(Ue(ht),ht.lookahead<=Ae&&Ct===S)return j;if(ht.lookahead===0)break}if(ht.match_length=0,ht.lookahead>=ne&&0<ht.strstart&&(nn=Ce[oe=ht.strstart-1])===Ce[++oe]&&nn===Ce[++oe]&&nn===Ce[++oe]){St=ht.strstart+Ae;do;while(nn===Ce[++oe]&&nn===Ce[++oe]&&nn===Ce[++oe]&&nn===Ce[++oe]&&nn===Ce[++oe]&&nn===Ce[++oe]&&nn===Ce[++oe]&&nn===Ce[++oe]&&oe<St);ht.match_length=Ae-(St-oe),ht.match_length>ht.lookahead&&(ht.match_length=ht.lookahead)}if(ht.match_length>=ne?(Kt=A._tr_tally(ht,1,ht.match_length-ne),ht.lookahead-=ht.match_length,ht.strstart+=ht.match_length,ht.match_length=0):(Kt=A._tr_tally(ht,0,ht.window[ht.strstart]),ht.lookahead--,ht.strstart++),Kt&&(ke(ht,!1),ht.strm.avail_out===0))return j}return ht.insert=0,Ct===D?(ke(ht,!0),ht.strm.avail_out===0?Pe:Oe):ht.last_lit&&(ke(ht,!1),ht.strm.avail_out===0)?j:ve}(ie,W):b[ie.level].func(ie,W);if(at!==Pe&&at!==Oe||(ie.status=666),at===j||at===Pe)return N.avail_out===0&&(ie.last_flush=-1),V;if(at===ve&&(W===1?A._tr_align(ie):W!==5&&(A._tr_stored_block(ie,0,0,!1),W===3&&(me(ie.head),ie.lookahead===0&&(ie.strstart=0,ie.block_start=0,ie.insert=0))),pe(N),N.avail_out===0))return ie.last_flush=-1,V}return W!==D?V:ie.wrap<=0?1:(ie.wrap===2?(X(ie,255&N.adler),X(ie,N.adler>>8&255),X(ie,N.adler>>16&255),X(ie,N.adler>>24&255),X(ie,255&N.total_in),X(ie,N.total_in>>8&255),X(ie,N.total_in>>16&255),X(ie,N.total_in>>24&255)):(Z(ie,N.adler>>>16),Z(ie,65535&N.adler)),pe(N),0<ie.wrap&&(ie.wrap=-ie.wrap),ie.pending!==0?V:1)},r.deflateEnd=function(N){var W;return N&&N.state?(W=N.state.status)!==ye&&W!==69&&W!==73&&W!==91&&W!==103&&W!==K&&W!==666?xe(N,d):(N.state=null,W===K?xe(N,-3):V):d},r.deflateSetDictionary=function(N,W){var de,ie,_e,Ze,ft,at,ht,Ct,Kt=W.length;if(!N||!N.state||(Ze=(de=N.state).wrap)===2||Ze===1&&de.status!==ye||de.lookahead)return d;for(Ze===1&&(N.adler=x(N.adler,W,Kt,0)),de.wrap=0,Kt>=de.w_size&&(Ze===0&&(me(de.head),de.strstart=0,de.block_start=0,de.insert=0),Ct=new C.Buf8(de.w_size),C.arraySet(Ct,W,Kt-de.w_size,de.w_size,0),W=Ct,Kt=de.w_size),ft=N.avail_in,at=N.next_in,ht=N.input,N.avail_in=Kt,N.next_in=0,N.input=W,Ue(de);de.lookahead>=ne;){for(ie=de.strstart,_e=de.lookahead-(ne-1);de.ins_h=(de.ins_h<<de.hash_shift^de.window[ie+ne-1])&de.hash_mask,de.prev[ie&de.w_mask]=de.head[de.ins_h],de.head[de.ins_h]=ie,ie++,--_e;);de.strstart=ie,de.lookahead=ne-1,Ue(de)}return de.strstart+=de.lookahead,de.block_start=de.strstart,de.insert=de.lookahead,de.lookahead=0,de.match_length=de.prev_length=ne-1,de.match_available=0,N.next_in=at,N.input=ht,N.avail_in=ft,de.wrap=Ze,V},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(m,w,r){w.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(m,w,r){w.exports=function(b,C){var A,x,E,M,S,D,V,d,O,F,I,L,G,z,B,Y,q,H,ne,Ae,ce,ye,K,j,ve;A=b.state,x=b.next_in,j=b.input,E=x+(b.avail_in-5),M=b.next_out,ve=b.output,S=M-(C-b.avail_out),D=M+(b.avail_out-257),V=A.dmax,d=A.wsize,O=A.whave,F=A.wnext,I=A.window,L=A.hold,G=A.bits,z=A.lencode,B=A.distcode,Y=(1<<A.lenbits)-1,q=(1<<A.distbits)-1;e:do{G<15&&(L+=j[x++]<<G,G+=8,L+=j[x++]<<G,G+=8),H=z[L&Y];t:for(;;){if(L>>>=ne=H>>>24,G-=ne,(ne=H>>>16&255)==0)ve[M++]=65535&H;else{if(!(16&ne)){if((64&ne)==0){H=z[(65535&H)+(L&(1<<ne)-1)];continue t}if(32&ne){A.mode=12;break e}b.msg="invalid literal/length code",A.mode=30;break e}Ae=65535&H,(ne&=15)&&(G<ne&&(L+=j[x++]<<G,G+=8),Ae+=L&(1<<ne)-1,L>>>=ne,G-=ne),G<15&&(L+=j[x++]<<G,G+=8,L+=j[x++]<<G,G+=8),H=B[L&q];n:for(;;){if(L>>>=ne=H>>>24,G-=ne,!(16&(ne=H>>>16&255))){if((64&ne)==0){H=B[(65535&H)+(L&(1<<ne)-1)];continue n}b.msg="invalid distance code",A.mode=30;break e}if(ce=65535&H,G<(ne&=15)&&(L+=j[x++]<<G,(G+=8)<ne&&(L+=j[x++]<<G,G+=8)),V<(ce+=L&(1<<ne)-1)){b.msg="invalid distance too far back",A.mode=30;break e}if(L>>>=ne,G-=ne,(ne=M-S)<ce){if(O<(ne=ce-ne)&&A.sane){b.msg="invalid distance too far back",A.mode=30;break e}if(K=I,(ye=0)===F){if(ye+=d-ne,ne<Ae){for(Ae-=ne;ve[M++]=I[ye++],--ne;);ye=M-ce,K=ve}}else if(F<ne){if(ye+=d+F-ne,(ne-=F)<Ae){for(Ae-=ne;ve[M++]=I[ye++],--ne;);if(ye=0,F<Ae){for(Ae-=ne=F;ve[M++]=I[ye++],--ne;);ye=M-ce,K=ve}}}else if(ye+=F-ne,ne<Ae){for(Ae-=ne;ve[M++]=I[ye++],--ne;);ye=M-ce,K=ve}for(;2<Ae;)ve[M++]=K[ye++],ve[M++]=K[ye++],ve[M++]=K[ye++],Ae-=3;Ae&&(ve[M++]=K[ye++],1<Ae&&(ve[M++]=K[ye++]))}else{for(ye=M-ce;ve[M++]=ve[ye++],ve[M++]=ve[ye++],ve[M++]=ve[ye++],2<(Ae-=3););Ae&&(ve[M++]=ve[ye++],1<Ae&&(ve[M++]=ve[ye++]))}break}}break}}while(x<E&&M<D);x-=Ae=G>>3,L&=(1<<(G-=Ae<<3))-1,b.next_in=x,b.next_out=M,b.avail_in=x<E?E-x+5:5-(x-E),b.avail_out=M<D?D-M+257:257-(M-D),A.hold=L,A.bits=G}},{}],49:[function(m,w,r){var b=m("../utils/common"),C=m("./adler32"),A=m("./crc32"),x=m("./inffast"),E=m("./inftrees"),M=1,S=2,D=0,V=-2,d=1,O=852,F=592;function I(ce){return(ce>>>24&255)+(ce>>>8&65280)+((65280&ce)<<8)+((255&ce)<<24)}function L(ce){var ye;return ce&&ce.state?(ye=ce.state,ce.total_in=ce.total_out=ye.total=0,ce.msg="",ye.wrap&&(ce.adler=1&ye.wrap),ye.mode=d,ye.last=0,ye.havedict=0,ye.dmax=32768,ye.head=null,ye.hold=0,ye.bits=0,ye.lencode=ye.lendyn=new b.Buf32(O),ye.distcode=ye.distdyn=new b.Buf32(F),ye.sane=1,ye.back=-1,D):V}function G(ce){var ye;return ce&&ce.state?((ye=ce.state).wsize=0,ye.whave=0,ye.wnext=0,L(ce)):V}function z(ce,ye){var K,j;return ce&&ce.state?(j=ce.state,ye<0?(K=0,ye=-ye):(K=1+(ye>>4),ye<48&&(ye&=15)),ye&&(ye<8||15<ye)?V:(j.window!==null&&j.wbits!==ye&&(j.window=null),j.wrap=K,j.wbits=ye,G(ce))):V}function B(ce,ye){var K,j;return ce?(j=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new b.Buf16(320),this.work=new b.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},(ce.state=j).window=null,(K=z(ce,ye))!==D&&(ce.state=null),K):V}var Y,q,H=!0;function ne(ce){if(H){var ye;for(Y=new b.Buf32(512),q=new b.Buf32(32),ye=0;ye<144;)ce.lens[ye++]=8;for(;ye<256;)ce.lens[ye++]=9;for(;ye<280;)ce.lens[ye++]=7;for(;ye<288;)ce.lens[ye++]=8;for(E(M,ce.lens,0,288,Y,0,ce.work,{bits:9}),ye=0;ye<32;)ce.lens[ye++]=5;E(S,ce.lens,0,32,q,0,ce.work,{bits:5}),H=!1}ce.lencode=Y,ce.lenbits=9,ce.distcode=q,ce.distbits=5}function Ae(ce,ye,K,j){var ve,Pe=ce.state;return Pe.window===null&&(Pe.wsize=1<<Pe.wbits,Pe.wnext=0,Pe.whave=0,Pe.window=new b.Buf8(Pe.wsize)),j>=Pe.wsize?(b.arraySet(Pe.window,ye,K-Pe.wsize,Pe.wsize,0),Pe.wnext=0,Pe.whave=Pe.wsize):(j<(ve=Pe.wsize-Pe.wnext)&&(ve=j),b.arraySet(Pe.window,ye,K-j,ve,Pe.wnext),(j-=ve)?(b.arraySet(Pe.window,ye,K-j,j,0),Pe.wnext=j,Pe.whave=Pe.wsize):(Pe.wnext+=ve,Pe.wnext===Pe.wsize&&(Pe.wnext=0),Pe.whave<Pe.wsize&&(Pe.whave+=ve))),0}r.inflateReset=G,r.inflateReset2=z,r.inflateResetKeep=L,r.inflateInit=function(ce){return B(ce,15)},r.inflateInit2=B,r.inflate=function(ce,ye){var K,j,ve,Pe,Oe,xe,Ve,me,pe,ke,X,Z,ae,Ue,Ie,le,ge,ze,nt,st,Ge,N,W,de,ie=0,_e=new b.Buf8(4),Ze=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ce||!ce.state||!ce.output||!ce.input&&ce.avail_in!==0)return V;(K=ce.state).mode===12&&(K.mode=13),Oe=ce.next_out,ve=ce.output,Ve=ce.avail_out,Pe=ce.next_in,j=ce.input,xe=ce.avail_in,me=K.hold,pe=K.bits,ke=xe,X=Ve,N=D;e:for(;;)switch(K.mode){case d:if(K.wrap===0){K.mode=13;break}for(;pe<16;){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}if(2&K.wrap&&me===35615){_e[K.check=0]=255&me,_e[1]=me>>>8&255,K.check=A(K.check,_e,2,0),pe=me=0,K.mode=2;break}if(K.flags=0,K.head&&(K.head.done=!1),!(1&K.wrap)||(((255&me)<<8)+(me>>8))%31){ce.msg="incorrect header check",K.mode=30;break}if((15&me)!=8){ce.msg="unknown compression method",K.mode=30;break}if(pe-=4,Ge=8+(15&(me>>>=4)),K.wbits===0)K.wbits=Ge;else if(Ge>K.wbits){ce.msg="invalid window size",K.mode=30;break}K.dmax=1<<Ge,ce.adler=K.check=1,K.mode=512&me?10:12,pe=me=0;break;case 2:for(;pe<16;){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}if(K.flags=me,(255&K.flags)!=8){ce.msg="unknown compression method",K.mode=30;break}if(57344&K.flags){ce.msg="unknown header flags set",K.mode=30;break}K.head&&(K.head.text=me>>8&1),512&K.flags&&(_e[0]=255&me,_e[1]=me>>>8&255,K.check=A(K.check,_e,2,0)),pe=me=0,K.mode=3;case 3:for(;pe<32;){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}K.head&&(K.head.time=me),512&K.flags&&(_e[0]=255&me,_e[1]=me>>>8&255,_e[2]=me>>>16&255,_e[3]=me>>>24&255,K.check=A(K.check,_e,4,0)),pe=me=0,K.mode=4;case 4:for(;pe<16;){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}K.head&&(K.head.xflags=255&me,K.head.os=me>>8),512&K.flags&&(_e[0]=255&me,_e[1]=me>>>8&255,K.check=A(K.check,_e,2,0)),pe=me=0,K.mode=5;case 5:if(1024&K.flags){for(;pe<16;){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}K.length=me,K.head&&(K.head.extra_len=me),512&K.flags&&(_e[0]=255&me,_e[1]=me>>>8&255,K.check=A(K.check,_e,2,0)),pe=me=0}else K.head&&(K.head.extra=null);K.mode=6;case 6:if(1024&K.flags&&(xe<(Z=K.length)&&(Z=xe),Z&&(K.head&&(Ge=K.head.extra_len-K.length,K.head.extra||(K.head.extra=new Array(K.head.extra_len)),b.arraySet(K.head.extra,j,Pe,Z,Ge)),512&K.flags&&(K.check=A(K.check,j,Z,Pe)),xe-=Z,Pe+=Z,K.length-=Z),K.length))break e;K.length=0,K.mode=7;case 7:if(2048&K.flags){if(xe===0)break e;for(Z=0;Ge=j[Pe+Z++],K.head&&Ge&&K.length<65536&&(K.head.name+=String.fromCharCode(Ge)),Ge&&Z<xe;);if(512&K.flags&&(K.check=A(K.check,j,Z,Pe)),xe-=Z,Pe+=Z,Ge)break e}else K.head&&(K.head.name=null);K.length=0,K.mode=8;case 8:if(4096&K.flags){if(xe===0)break e;for(Z=0;Ge=j[Pe+Z++],K.head&&Ge&&K.length<65536&&(K.head.comment+=String.fromCharCode(Ge)),Ge&&Z<xe;);if(512&K.flags&&(K.check=A(K.check,j,Z,Pe)),xe-=Z,Pe+=Z,Ge)break e}else K.head&&(K.head.comment=null);K.mode=9;case 9:if(512&K.flags){for(;pe<16;){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}if(me!==(65535&K.check)){ce.msg="header crc mismatch",K.mode=30;break}pe=me=0}K.head&&(K.head.hcrc=K.flags>>9&1,K.head.done=!0),ce.adler=K.check=0,K.mode=12;break;case 10:for(;pe<32;){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}ce.adler=K.check=I(me),pe=me=0,K.mode=11;case 11:if(K.havedict===0)return ce.next_out=Oe,ce.avail_out=Ve,ce.next_in=Pe,ce.avail_in=xe,K.hold=me,K.bits=pe,2;ce.adler=K.check=1,K.mode=12;case 12:if(ye===5||ye===6)break e;case 13:if(K.last){me>>>=7&pe,pe-=7&pe,K.mode=27;break}for(;pe<3;){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}switch(K.last=1&me,pe-=1,3&(me>>>=1)){case 0:K.mode=14;break;case 1:if(ne(K),K.mode=20,ye!==6)break;me>>>=2,pe-=2;break e;case 2:K.mode=17;break;case 3:ce.msg="invalid block type",K.mode=30}me>>>=2,pe-=2;break;case 14:for(me>>>=7&pe,pe-=7&pe;pe<32;){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}if((65535&me)!=(me>>>16^65535)){ce.msg="invalid stored block lengths",K.mode=30;break}if(K.length=65535&me,pe=me=0,K.mode=15,ye===6)break e;case 15:K.mode=16;case 16:if(Z=K.length){if(xe<Z&&(Z=xe),Ve<Z&&(Z=Ve),Z===0)break e;b.arraySet(ve,j,Pe,Z,Oe),xe-=Z,Pe+=Z,Ve-=Z,Oe+=Z,K.length-=Z;break}K.mode=12;break;case 17:for(;pe<14;){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}if(K.nlen=257+(31&me),me>>>=5,pe-=5,K.ndist=1+(31&me),me>>>=5,pe-=5,K.ncode=4+(15&me),me>>>=4,pe-=4,286<K.nlen||30<K.ndist){ce.msg="too many length or distance symbols",K.mode=30;break}K.have=0,K.mode=18;case 18:for(;K.have<K.ncode;){for(;pe<3;){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}K.lens[Ze[K.have++]]=7&me,me>>>=3,pe-=3}for(;K.have<19;)K.lens[Ze[K.have++]]=0;if(K.lencode=K.lendyn,K.lenbits=7,W={bits:K.lenbits},N=E(0,K.lens,0,19,K.lencode,0,K.work,W),K.lenbits=W.bits,N){ce.msg="invalid code lengths set",K.mode=30;break}K.have=0,K.mode=19;case 19:for(;K.have<K.nlen+K.ndist;){for(;le=(ie=K.lencode[me&(1<<K.lenbits)-1])>>>16&255,ge=65535&ie,!((Ie=ie>>>24)<=pe);){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}if(ge<16)me>>>=Ie,pe-=Ie,K.lens[K.have++]=ge;else{if(ge===16){for(de=Ie+2;pe<de;){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}if(me>>>=Ie,pe-=Ie,K.have===0){ce.msg="invalid bit length repeat",K.mode=30;break}Ge=K.lens[K.have-1],Z=3+(3&me),me>>>=2,pe-=2}else if(ge===17){for(de=Ie+3;pe<de;){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}pe-=Ie,Ge=0,Z=3+(7&(me>>>=Ie)),me>>>=3,pe-=3}else{for(de=Ie+7;pe<de;){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}pe-=Ie,Ge=0,Z=11+(127&(me>>>=Ie)),me>>>=7,pe-=7}if(K.have+Z>K.nlen+K.ndist){ce.msg="invalid bit length repeat",K.mode=30;break}for(;Z--;)K.lens[K.have++]=Ge}}if(K.mode===30)break;if(K.lens[256]===0){ce.msg="invalid code -- missing end-of-block",K.mode=30;break}if(K.lenbits=9,W={bits:K.lenbits},N=E(M,K.lens,0,K.nlen,K.lencode,0,K.work,W),K.lenbits=W.bits,N){ce.msg="invalid literal/lengths set",K.mode=30;break}if(K.distbits=6,K.distcode=K.distdyn,W={bits:K.distbits},N=E(S,K.lens,K.nlen,K.ndist,K.distcode,0,K.work,W),K.distbits=W.bits,N){ce.msg="invalid distances set",K.mode=30;break}if(K.mode=20,ye===6)break e;case 20:K.mode=21;case 21:if(6<=xe&&258<=Ve){ce.next_out=Oe,ce.avail_out=Ve,ce.next_in=Pe,ce.avail_in=xe,K.hold=me,K.bits=pe,x(ce,X),Oe=ce.next_out,ve=ce.output,Ve=ce.avail_out,Pe=ce.next_in,j=ce.input,xe=ce.avail_in,me=K.hold,pe=K.bits,K.mode===12&&(K.back=-1);break}for(K.back=0;le=(ie=K.lencode[me&(1<<K.lenbits)-1])>>>16&255,ge=65535&ie,!((Ie=ie>>>24)<=pe);){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}if(le&&(240&le)==0){for(ze=Ie,nt=le,st=ge;le=(ie=K.lencode[st+((me&(1<<ze+nt)-1)>>ze)])>>>16&255,ge=65535&ie,!(ze+(Ie=ie>>>24)<=pe);){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}me>>>=ze,pe-=ze,K.back+=ze}if(me>>>=Ie,pe-=Ie,K.back+=Ie,K.length=ge,le===0){K.mode=26;break}if(32&le){K.back=-1,K.mode=12;break}if(64&le){ce.msg="invalid literal/length code",K.mode=30;break}K.extra=15&le,K.mode=22;case 22:if(K.extra){for(de=K.extra;pe<de;){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}K.length+=me&(1<<K.extra)-1,me>>>=K.extra,pe-=K.extra,K.back+=K.extra}K.was=K.length,K.mode=23;case 23:for(;le=(ie=K.distcode[me&(1<<K.distbits)-1])>>>16&255,ge=65535&ie,!((Ie=ie>>>24)<=pe);){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}if((240&le)==0){for(ze=Ie,nt=le,st=ge;le=(ie=K.distcode[st+((me&(1<<ze+nt)-1)>>ze)])>>>16&255,ge=65535&ie,!(ze+(Ie=ie>>>24)<=pe);){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}me>>>=ze,pe-=ze,K.back+=ze}if(me>>>=Ie,pe-=Ie,K.back+=Ie,64&le){ce.msg="invalid distance code",K.mode=30;break}K.offset=ge,K.extra=15&le,K.mode=24;case 24:if(K.extra){for(de=K.extra;pe<de;){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}K.offset+=me&(1<<K.extra)-1,me>>>=K.extra,pe-=K.extra,K.back+=K.extra}if(K.offset>K.dmax){ce.msg="invalid distance too far back",K.mode=30;break}K.mode=25;case 25:if(Ve===0)break e;if(Z=X-Ve,K.offset>Z){if((Z=K.offset-Z)>K.whave&&K.sane){ce.msg="invalid distance too far back",K.mode=30;break}ae=Z>K.wnext?(Z-=K.wnext,K.wsize-Z):K.wnext-Z,Z>K.length&&(Z=K.length),Ue=K.window}else Ue=ve,ae=Oe-K.offset,Z=K.length;for(Ve<Z&&(Z=Ve),Ve-=Z,K.length-=Z;ve[Oe++]=Ue[ae++],--Z;);K.length===0&&(K.mode=21);break;case 26:if(Ve===0)break e;ve[Oe++]=K.length,Ve--,K.mode=21;break;case 27:if(K.wrap){for(;pe<32;){if(xe===0)break e;xe--,me|=j[Pe++]<<pe,pe+=8}if(X-=Ve,ce.total_out+=X,K.total+=X,X&&(ce.adler=K.check=K.flags?A(K.check,ve,X,Oe-X):C(K.check,ve,X,Oe-X)),X=Ve,(K.flags?me:I(me))!==K.check){ce.msg="incorrect data check",K.mode=30;break}pe=me=0}K.mode=28;case 28:if(K.wrap&&K.flags){for(;pe<32;){if(xe===0)break e;xe--,me+=j[Pe++]<<pe,pe+=8}if(me!==(4294967295&K.total)){ce.msg="incorrect length check",K.mode=30;break}pe=me=0}K.mode=29;case 29:N=1;break e;case 30:N=-3;break e;case 31:return-4;case 32:default:return V}return ce.next_out=Oe,ce.avail_out=Ve,ce.next_in=Pe,ce.avail_in=xe,K.hold=me,K.bits=pe,(K.wsize||X!==ce.avail_out&&K.mode<30&&(K.mode<27||ye!==4))&&Ae(ce,ce.output,ce.next_out,X-ce.avail_out)?(K.mode=31,-4):(ke-=ce.avail_in,X-=ce.avail_out,ce.total_in+=ke,ce.total_out+=X,K.total+=X,K.wrap&&X&&(ce.adler=K.check=K.flags?A(K.check,ve,X,ce.next_out-X):C(K.check,ve,X,ce.next_out-X)),ce.data_type=K.bits+(K.last?64:0)+(K.mode===12?128:0)+(K.mode===20||K.mode===15?256:0),(ke==0&&X===0||ye===4)&&N===D&&(N=-5),N)},r.inflateEnd=function(ce){if(!ce||!ce.state)return V;var ye=ce.state;return ye.window&&(ye.window=null),ce.state=null,D},r.inflateGetHeader=function(ce,ye){var K;return ce&&ce.state?(2&(K=ce.state).wrap)==0?V:((K.head=ye).done=!1,D):V},r.inflateSetDictionary=function(ce,ye){var K,j=ye.length;return ce&&ce.state?(K=ce.state).wrap!==0&&K.mode!==11?V:K.mode===11&&C(1,ye,j,0)!==K.check?-3:Ae(ce,ye,j,j)?(K.mode=31,-4):(K.havedict=1,D):V},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(m,w,r){var b=m("../utils/common"),C=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],A=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],E=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];w.exports=function(M,S,D,V,d,O,F,I){var L,G,z,B,Y,q,H,ne,Ae,ce=I.bits,ye=0,K=0,j=0,ve=0,Pe=0,Oe=0,xe=0,Ve=0,me=0,pe=0,ke=null,X=0,Z=new b.Buf16(16),ae=new b.Buf16(16),Ue=null,Ie=0;for(ye=0;ye<=15;ye++)Z[ye]=0;for(K=0;K<V;K++)Z[S[D+K]]++;for(Pe=ce,ve=15;1<=ve&&Z[ve]===0;ve--);if(ve<Pe&&(Pe=ve),ve===0)return d[O++]=20971520,d[O++]=20971520,I.bits=1,0;for(j=1;j<ve&&Z[j]===0;j++);for(Pe<j&&(Pe=j),ye=Ve=1;ye<=15;ye++)if(Ve<<=1,(Ve-=Z[ye])<0)return-1;if(0<Ve&&(M===0||ve!==1))return-1;for(ae[1]=0,ye=1;ye<15;ye++)ae[ye+1]=ae[ye]+Z[ye];for(K=0;K<V;K++)S[D+K]!==0&&(F[ae[S[D+K]]++]=K);if(q=M===0?(ke=Ue=F,19):M===1?(ke=C,X-=257,Ue=A,Ie-=257,256):(ke=x,Ue=E,-1),ye=j,Y=O,xe=K=pe=0,z=-1,B=(me=1<<(Oe=Pe))-1,M===1&&852<me||M===2&&592<me)return 1;for(;;){for(H=ye-xe,Ae=F[K]<q?(ne=0,F[K]):F[K]>q?(ne=Ue[Ie+F[K]],ke[X+F[K]]):(ne=96,0),L=1<<ye-xe,j=G=1<<Oe;d[Y+(pe>>xe)+(G-=L)]=H<<24|ne<<16|Ae|0,G!==0;);for(L=1<<ye-1;pe&L;)L>>=1;if(L!==0?(pe&=L-1,pe+=L):pe=0,K++,--Z[ye]==0){if(ye===ve)break;ye=S[D+F[K]]}if(Pe<ye&&(pe&B)!==z){for(xe===0&&(xe=Pe),Y+=j,Ve=1<<(Oe=ye-xe);Oe+xe<ve&&!((Ve-=Z[Oe+xe])<=0);)Oe++,Ve<<=1;if(me+=1<<Oe,M===1&&852<me||M===2&&592<me)return 1;d[z=pe&B]=Pe<<24|Oe<<16|Y-O|0}}return pe!==0&&(d[Y+pe]=ye-xe<<24|64<<16|0),I.bits=Pe,0}},{"../utils/common":41}],51:[function(m,w,r){w.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(m,w,r){var b=m("../utils/common");function C(N){for(var W=N.length;0<=--W;)N[W]=0}var A=0,x=256,E=x+1+29,M=30,S=19,D=2*E+1,V=15,d=16,O=256,F=16,I=17,L=18,G=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(E+2));C(q);var H=new Array(2*M);C(H);var ne=new Array(512);C(ne);var Ae=new Array(256);C(Ae);var ce=new Array(29);C(ce);var ye,K,j,ve=new Array(M);function Pe(N,W,de,ie,_e){this.static_tree=N,this.extra_bits=W,this.extra_base=de,this.elems=ie,this.max_length=_e,this.has_stree=N&&N.length}function Oe(N,W){this.dyn_tree=N,this.max_code=0,this.stat_desc=W}function xe(N){return N<256?ne[N]:ne[256+(N>>>7)]}function Ve(N,W){N.pending_buf[N.pending++]=255&W,N.pending_buf[N.pending++]=W>>>8&255}function me(N,W,de){N.bi_valid>d-de?(N.bi_buf|=W<<N.bi_valid&65535,Ve(N,N.bi_buf),N.bi_buf=W>>d-N.bi_valid,N.bi_valid+=de-d):(N.bi_buf|=W<<N.bi_valid&65535,N.bi_valid+=de)}function pe(N,W,de){me(N,de[2*W],de[2*W+1])}function ke(N,W){for(var de=0;de|=1&N,N>>>=1,de<<=1,0<--W;);return de>>>1}function X(N,W,de){var ie,_e,Ze=new Array(V+1),ft=0;for(ie=1;ie<=V;ie++)Ze[ie]=ft=ft+de[ie-1]<<1;for(_e=0;_e<=W;_e++){var at=N[2*_e+1];at!==0&&(N[2*_e]=ke(Ze[at]++,at))}}function Z(N){var W;for(W=0;W<E;W++)N.dyn_ltree[2*W]=0;for(W=0;W<M;W++)N.dyn_dtree[2*W]=0;for(W=0;W<S;W++)N.bl_tree[2*W]=0;N.dyn_ltree[2*O]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function ae(N){8<N.bi_valid?Ve(N,N.bi_buf):0<N.bi_valid&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function Ue(N,W,de,ie){var _e=2*W,Ze=2*de;return N[_e]<N[Ze]||N[_e]===N[Ze]&&ie[W]<=ie[de]}function Ie(N,W,de){for(var ie=N.heap[de],_e=de<<1;_e<=N.heap_len&&(_e<N.heap_len&&Ue(W,N.heap[_e+1],N.heap[_e],N.depth)&&_e++,!Ue(W,ie,N.heap[_e],N.depth));)N.heap[de]=N.heap[_e],de=_e,_e<<=1;N.heap[de]=ie}function le(N,W,de){var ie,_e,Ze,ft,at=0;if(N.last_lit!==0)for(;ie=N.pending_buf[N.d_buf+2*at]<<8|N.pending_buf[N.d_buf+2*at+1],_e=N.pending_buf[N.l_buf+at],at++,ie===0?pe(N,_e,W):(pe(N,(Ze=Ae[_e])+x+1,W),(ft=G[Ze])!==0&&me(N,_e-=ce[Ze],ft),pe(N,Ze=xe(--ie),de),(ft=z[Ze])!==0&&me(N,ie-=ve[Ze],ft)),at<N.last_lit;);pe(N,O,W)}function ge(N,W){var de,ie,_e,Ze=W.dyn_tree,ft=W.stat_desc.static_tree,at=W.stat_desc.has_stree,ht=W.stat_desc.elems,Ct=-1;for(N.heap_len=0,N.heap_max=D,de=0;de<ht;de++)Ze[2*de]!==0?(N.heap[++N.heap_len]=Ct=de,N.depth[de]=0):Ze[2*de+1]=0;for(;N.heap_len<2;)Ze[2*(_e=N.heap[++N.heap_len]=Ct<2?++Ct:0)]=1,N.depth[_e]=0,N.opt_len--,at&&(N.static_len-=ft[2*_e+1]);for(W.max_code=Ct,de=N.heap_len>>1;1<=de;de--)Ie(N,Ze,de);for(_e=ht;de=N.heap[1],N.heap[1]=N.heap[N.heap_len--],Ie(N,Ze,1),ie=N.heap[1],N.heap[--N.heap_max]=de,N.heap[--N.heap_max]=ie,Ze[2*_e]=Ze[2*de]+Ze[2*ie],N.depth[_e]=(N.depth[de]>=N.depth[ie]?N.depth[de]:N.depth[ie])+1,Ze[2*de+1]=Ze[2*ie+1]=_e,N.heap[1]=_e++,Ie(N,Ze,1),2<=N.heap_len;);N.heap[--N.heap_max]=N.heap[1],function(Kt,nn){var oe,St,Ce,He,Nt,Dt,On=nn.dyn_tree,Lt=nn.max_code,An=nn.stat_desc.static_tree,dt=nn.stat_desc.has_stree,zt=nn.stat_desc.extra_bits,ur=nn.stat_desc.extra_base,Be=nn.stat_desc.max_length,wn=0;for(He=0;He<=V;He++)Kt.bl_count[He]=0;for(On[2*Kt.heap[Kt.heap_max]+1]=0,oe=Kt.heap_max+1;oe<D;oe++)Be<(He=On[2*On[2*(St=Kt.heap[oe])+1]+1]+1)&&(He=Be,wn++),On[2*St+1]=He,Lt<St||(Kt.bl_count[He]++,Nt=0,ur<=St&&(Nt=zt[St-ur]),Dt=On[2*St],Kt.opt_len+=Dt*(He+Nt),dt&&(Kt.static_len+=Dt*(An[2*St+1]+Nt)));if(wn!==0){do{for(He=Be-1;Kt.bl_count[He]===0;)He--;Kt.bl_count[He]--,Kt.bl_count[He+1]+=2,Kt.bl_count[Be]--,wn-=2}while(0<wn);for(He=Be;He!==0;He--)for(St=Kt.bl_count[He];St!==0;)Lt<(Ce=Kt.heap[--oe])||(On[2*Ce+1]!==He&&(Kt.opt_len+=(He-On[2*Ce+1])*On[2*Ce],On[2*Ce+1]=He),St--)}}(N,W),X(Ze,Ct,N.bl_count)}function ze(N,W,de){var ie,_e,Ze=-1,ft=W[1],at=0,ht=7,Ct=4;for(ft===0&&(ht=138,Ct=3),W[2*(de+1)+1]=65535,ie=0;ie<=de;ie++)_e=ft,ft=W[2*(ie+1)+1],++at<ht&&_e===ft||(at<Ct?N.bl_tree[2*_e]+=at:_e!==0?(_e!==Ze&&N.bl_tree[2*_e]++,N.bl_tree[2*F]++):at<=10?N.bl_tree[2*I]++:N.bl_tree[2*L]++,Ze=_e,Ct=(at=0)===ft?(ht=138,3):_e===ft?(ht=6,3):(ht=7,4))}function nt(N,W,de){var ie,_e,Ze=-1,ft=W[1],at=0,ht=7,Ct=4;for(ft===0&&(ht=138,Ct=3),ie=0;ie<=de;ie++)if(_e=ft,ft=W[2*(ie+1)+1],!(++at<ht&&_e===ft)){if(at<Ct)for(;pe(N,_e,N.bl_tree),--at!=0;);else _e!==0?(_e!==Ze&&(pe(N,_e,N.bl_tree),at--),pe(N,F,N.bl_tree),me(N,at-3,2)):at<=10?(pe(N,I,N.bl_tree),me(N,at-3,3)):(pe(N,L,N.bl_tree),me(N,at-11,7));Ze=_e,Ct=(at=0)===ft?(ht=138,3):_e===ft?(ht=6,3):(ht=7,4)}}C(ve);var st=!1;function Ge(N,W,de,ie){me(N,(A<<1)+(ie?1:0),3),function(_e,Ze,ft,at){ae(_e),Ve(_e,ft),Ve(_e,~ft),b.arraySet(_e.pending_buf,_e.window,Ze,ft,_e.pending),_e.pending+=ft}(N,W,de)}r._tr_init=function(N){st||(function(){var W,de,ie,_e,Ze,ft=new Array(V+1);for(_e=ie=0;_e<28;_e++)for(ce[_e]=ie,W=0;W<1<<G[_e];W++)Ae[ie++]=_e;for(Ae[ie-1]=_e,_e=Ze=0;_e<16;_e++)for(ve[_e]=Ze,W=0;W<1<<z[_e];W++)ne[Ze++]=_e;for(Ze>>=7;_e<M;_e++)for(ve[_e]=Ze<<7,W=0;W<1<<z[_e]-7;W++)ne[256+Ze++]=_e;for(de=0;de<=V;de++)ft[de]=0;for(W=0;W<=143;)q[2*W+1]=8,W++,ft[8]++;for(;W<=255;)q[2*W+1]=9,W++,ft[9]++;for(;W<=279;)q[2*W+1]=7,W++,ft[7]++;for(;W<=287;)q[2*W+1]=8,W++,ft[8]++;for(X(q,E+1,ft),W=0;W<M;W++)H[2*W+1]=5,H[2*W]=ke(W,5);ye=new Pe(q,G,x+1,E,V),K=new Pe(H,z,0,M,V),j=new Pe(new Array(0),B,0,S,7)}(),st=!0),N.l_desc=new Oe(N.dyn_ltree,ye),N.d_desc=new Oe(N.dyn_dtree,K),N.bl_desc=new Oe(N.bl_tree,j),N.bi_buf=0,N.bi_valid=0,Z(N)},r._tr_stored_block=Ge,r._tr_flush_block=function(N,W,de,ie){var _e,Ze,ft=0;0<N.level?(N.strm.data_type===2&&(N.strm.data_type=function(at){var ht,Ct=4093624447;for(ht=0;ht<=31;ht++,Ct>>>=1)if(1&Ct&&at.dyn_ltree[2*ht]!==0)return 0;if(at.dyn_ltree[18]!==0||at.dyn_ltree[20]!==0||at.dyn_ltree[26]!==0)return 1;for(ht=32;ht<x;ht++)if(at.dyn_ltree[2*ht]!==0)return 1;return 0}(N)),ge(N,N.l_desc),ge(N,N.d_desc),ft=function(at){var ht;for(ze(at,at.dyn_ltree,at.l_desc.max_code),ze(at,at.dyn_dtree,at.d_desc.max_code),ge(at,at.bl_desc),ht=S-1;3<=ht&&at.bl_tree[2*Y[ht]+1]===0;ht--);return at.opt_len+=3*(ht+1)+5+5+4,ht}(N),_e=N.opt_len+3+7>>>3,(Ze=N.static_len+3+7>>>3)<=_e&&(_e=Ze)):_e=Ze=de+5,de+4<=_e&&W!==-1?Ge(N,W,de,ie):N.strategy===4||Ze===_e?(me(N,2+(ie?1:0),3),le(N,q,H)):(me(N,4+(ie?1:0),3),function(at,ht,Ct,Kt){var nn;for(me(at,ht-257,5),me(at,Ct-1,5),me(at,Kt-4,4),nn=0;nn<Kt;nn++)me(at,at.bl_tree[2*Y[nn]+1],3);nt(at,at.dyn_ltree,ht-1),nt(at,at.dyn_dtree,Ct-1)}(N,N.l_desc.max_code+1,N.d_desc.max_code+1,ft+1),le(N,N.dyn_ltree,N.dyn_dtree)),Z(N),ie&&ae(N)},r._tr_tally=function(N,W,de){return N.pending_buf[N.d_buf+2*N.last_lit]=W>>>8&255,N.pending_buf[N.d_buf+2*N.last_lit+1]=255&W,N.pending_buf[N.l_buf+N.last_lit]=255&de,N.last_lit++,W===0?N.dyn_ltree[2*de]++:(N.matches++,W--,N.dyn_ltree[2*(Ae[de]+x+1)]++,N.dyn_dtree[2*xe(W)]++),N.last_lit===N.lit_bufsize-1},r._tr_align=function(N){me(N,2,3),pe(N,O,q),function(W){W.bi_valid===16?(Ve(W,W.bi_buf),W.bi_buf=0,W.bi_valid=0):8<=W.bi_valid&&(W.pending_buf[W.pending++]=255&W.bi_buf,W.bi_buf>>=8,W.bi_valid-=8)}(N)}},{"../utils/common":41}],53:[function(m,w,r){w.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(m,w,r){w.exports=typeof P=="function"?P:function(){var b=[].slice.apply(arguments);b.splice(1,0,0),setTimeout.apply(null,b)}},{}]},{},[10])(10)}).call(this,a(242).Buffer,a(40),a(132).setImmediate)},function(g,p,a){var u=a(46),f=a(0),P=a(33),U={dataType:"ImageData"};function m(r,b){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(b,U,C),u.a.extend(r,b,C),function(A,x){x.classHierarchy.push("vtkXMLImageDataReader"),A.parseXML=function(E,M,S,D,V){for(var d=E.getElementsByTagName(x.dataType)[0],O=d.getAttribute("Origin").split(" ").map(function(q){return Number(q)}),F=d.getAttribute("Spacing").split(" ").map(function(q){return Number(q)}),I=d.getElementsByTagName("Piece"),L=I.length,G=0;G<L;G++){var z=I[G],B=z.getAttribute("Extent").split(" ").map(function(q){return Number(q)}),Y=P.a.newInstance({origin:O,spacing:F,extent:B});u.a.processFieldData(Y.getNumberOfPoints(),z.getElementsByTagName("PointData")[0],Y.getPointData(),S,D,V,x.binaryBuffer),u.a.processFieldData(Y.getNumberOfCells(),z.getElementsByTagName("CellData")[0],Y.getCellData(),S,D,V,x.binaryBuffer),x.output[G]=Y}}}(r,b)}var w=f.b.newInstance(m,"vtkXMLImageDataReader");p.a={newInstance:w,extend:m}},function(g,p){g.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAIH9JREFUeAHtXQl4FEX2r+qemWQSkpAgxAAhIXJfckrkErwARVAx6uqqiAK7uqJyCV7/qCBCwIPLBQRR1G8FkZVTQBADyH1ICOEKJCScIQm5M5np7v+vetKTnpme6Y6EKPtZfEN3vXr1qvq9qvdevaruEPInTAkJy/g/YbeuS5fodaFqkOjtCcusheTqPaJI+hKJtCNEaiVREkYItVBJMoFMmUTIFXRyD+CHeM68KnX58KMGyd8QaH+IANomLG4jCI7RYPhQQul+jpK1VCLnRYk8KRHpIU/OQQiXgfMzhNQVwqnAb2ZkqOnrrUueLffEvdHyXG13uM3Q+VNFwbEFks+uV9cUd2zFyAESL+0QJWm+FvNZ/4DbQJLIY5SjyySePgW8wZcK7QfaPragW233v6bbq7UZ0GXkfHNJLl2NUR9TL8x0247FzxWxh2FqKF/MP4DR3crIw3Ecve/odyPXt354ARPEl9RMuqR9O+qAkbp/RpxamwGluWQxpL3+2IpRrRXmM4YUSFff8mR+Wd4ZkpP6A7masZ1IouDGN0mUFjFhpn0/cimllhbETje3Slh0uxvSDZSpFQG0GbqgrURoz6B60kJP3kDvP66GFZ07SDK3TiO5x9eRiweWkuyd89TFkBWJKs3n+jJg2opnT0ItjaGi8DrL34ipVgQAxvSmRFq3f8GoUjWT2iYss4CjsWrYFTAeasoFKrl0hJTlZ7jy7EYSxZYKwGQNWAb0XpIEP+kGTLUiADCnIbydLE/+BIbnV3G6slCwFXqiEcEmmwsXnFIqKpnDS58ugUjKOjz5TV0FdiNdma9NZs+e3dButzdcnkVSs4/nttV7AIlwtux176Xo4SnlkPIxeDkPKnnlihlhhzE9CSm0UGDBDdqQgsxflSzhTIHEGt7UlWc3PKGutUD7oYvj7MRRXq9FQ3cpudX482bkGWCz2fo5BMfeu8MdnYlD+FVyCHv9/ajDvr/LA4lBRh+rfqjlezC5Q6uEBXdo1FmqhjVo/wipc3MHgCgxWSNIo+6jCB9QR42S0ZqGbVMAdskxjZOkuVsT+zkU2I10lQWAKZ3MOh0WxN0GRu3XewDgmHMqynvo4SnlbMHEUW4EEaStrYcuuFuBs2vQTdI0SslBBcZbgknjHi+Slg/OJc0GTiXBkW2UIiYTkeO4p5cvf1Rg4YpWDy9YTqkUSvnw2VVIN9adLICxY8dm4eEyoKvvAMA1uvw9CtRQX3/lnmVHvxuxzWTm2mBB9QUYN6n7k1+FMhymhqAHn4AFdbMRlOPdSVAqUMJNZHTYAixFyHdQjpyObN/i/tTlj2J1fGMmWQCs61SiyVjY9CI8b0gAhIha6sQvF458OyLNyps6YtS2KSgrOYnZ8EGbRxb2Tlkx6lhEXVNbSug8Nsq9iFB62ETp3VA1OaizWnSQbzAThqd9N/K1G1X1KM/oct2SkpKegwA+y74q9vx+79XtTCYKktYVaqtCCq1fN3v5mDKtcj1Yu8cXRwt2+9PAewCz4hZ4Scfhqh6GEASRknCOSPWwduBRBoFIsXA166FHG9Hu6na07nKmhvTauBHKZS+IddRisSTbKmykSThGKKGpEAaik74T1JWFL85jK9AtvrF8lxz5z3CmcqawH1NHBRW2tlhQtZYoDSWSFAquV0AgBYRyl+D2HHm89YhTiYlO9zPNN9kbrsQlgJdffvlk0oykCyIR+2CkbcOI8ysA9qSiKPbFpVoCYC5vmVRmnTB6QnrfxERT0fko6iAlZcHBZB9o4QcT75ZEEpcfLjLmNxuY2LicCuFuxTWcaXYbn3ZqZ3ksNXGB1MHD1Dkk2COJ2gXnlROkLsGd0tUzsNKNrxceHn7y3eWnIu2Ek+2bv65RE5+btSrxvEsADBmjPhmjvw+m/jjk/umPgFwmadsBk4n0DrPyN+UWCceBd7FJpKlzyxjLI0Ul0oms7Kx/NajfYEnbhMQP03faMiXpTIReOzk0YyS8nsW7Cg+wgRGrh/+7yyn57dQ+8X5ZA9hFi6z9mKITKj1cGB/MQfvp8PxgBmXtzJs3L7yktGQfeJc15Yf0J+wO8RCK6rAyn4mirmhn2sNdABzhkkVJfOzuNnWyfkr1XpF6EaSke+ywxMCMJYmuuHx4COl5e/vgFaMfCbvp5Fl7dsYFR17rppYmvToEhl+4IpB3l34pXiqJWF0U/eAoqDFd5mM2ZoeEBnyxq+jAo7AHsV59qEEAIq2TJbs4hqlXX2ShItOY56aUl5SUzEEfI8y8+a7yMsdngPtnPhDgzX2Q9eP7exkNlxfEMmg4mV3bNw5oDqOYye79JTAkgFx0xKtx2jW1PvJ/wyLqd2wWSBPuDIke/2T4rfuPlYefy3GQ1rEW8tJDsLanTsUgoDNGXc/XPQbFjNTliRWSSCf4wqkJOIz7UVEM2AIejPJHDxtDrgjA9JnTh2LkP4Hf2zPX59yN2dnXX11WBs8mJTTU8q6C5yaAcePGpaIjedDtd0AahtxR2Iy+CjF2jQgxb9q8rzTT7qjS5cPuCyWREU5tZw2gNDoqZIq9NL+hup7mPaU59S2WhdEDJ96L4dFRE6eGgFC7UzhaMRrkmHrxnSRJFgC8xgbwzz4Fv3b/e0v+f+HHf+C7klJCHViQDmMDSoG4CQDEIEyyTaJSHxQYE4CHHfhhR+G6aV/nPjdubg7zcsjVYoHE3GwmN4XxcpudmgeSL8Zb2wyO2kDCi3chiuNb1WG0fLx/dWLp9R796NjJQM6yBqP/JbmTfv4Dj5QZ8G/ch8JeDId9XoQBqxuagYqbkrnh/QNq8m4CkAs4kswMXee44BNqRF/3WMDFNxs4K0BdXlBCNl/KE1PP59jJk+9cJBX2qtnA8Fo2sZB3n+LInCdOkX51NxJzQarXxguYX2AODZsb0//1zni4u9T0a/qeMcYm2Z6HAHRtkknkUmbOnNkPI/Uhpno++Sl3AFRxL/0+0UP1m8Qwt9steQmAp3wyw+jVzNoIGivXDVsjg04E2uil7h5FfHGZeBkPRtYmNSIWM9ipkZggpg8TyMR+B0lkyRYiKd4Gw6XcnNPLJxaIRLq+up/QM2JI+TIiSmM1uugGwmi/mr5xSpYgCd2Y6ln4c+Fq1JvshqSRwdPbzdQ0TG28FTQvATRu3JgFxorYegBBMkNqSBLc7QDqC/uOlU9+a1Hu5i0Hy0rSMmzSjP8Upn+yovh8+jmX+pP7YDZRMqSHhUxNuEhuyl8D7wwLa0pLrRbLx3EPJDbB6B8AQLHnD32zKQ/h6womscYug14OrN8V+YdBBXie80fyQXcyLbD+DXO0oS86LniVAW5ur6DDy+yOxahndZX7uqHkvTMb3vtNq9htHcAQHn30UQEGZgdu+6BzcKu84/hehBDE84JBr67eXjI44pYHf4LBNX2zfN3gm3uOWPndgV8bvnhPIXm8r9mtyq3NAsi0J4rJ+BX7SZ6p58ITqxOvVCJobrRE3zvxDZTrjD7pP9kbP3jGrSGNTJMBk76SsPTWTVKl/ufI8nm/5A4CvpsHqFUfo3//LbcHTs3aoFXq4YaqUJKhD1vF1jMdUcF83qKR27Gw8vKdoSubt2vfMb5L/F2jYgZMamoKrhdfevMg8uGGSPLjXveZwIh3bGEhw+MzJeH4V26GSml4+gz533w5T2l7Be77yh3WKsOzUVDaDTfyaVaOfWkDtIBIRdkAz9mUn40wybtatNUweQaauWFbExMdarj63ksFsULJ5FwP3NelTihTB+oKWvdsGhYV2W/zLIOunISHXY9w9/HSKxmym4ZOESGqH5m1uSE5lukthMG38/SuVoXDQMs75CCR+7AuUBZB+kzjnAzz7FfS7KQ4OBq3UZHmsnAIBlArTxytPA4ApLB9CEkgX8hrIC0kFQxOZWLW2vf9DmJNAcQ2it0LRpWZJa436O1U0fR5i2V7X3UhRn8LURATfly7bFPfLmHJ1vxdvaXKec5i/Rcs8SRpdQgpLHGf+8GBHHmqf1ivjs0C/qamN2uW7Gk1h4ucwmYbGNBCXa51z8Fj0YRXcLLwEIBMSd9b0QqDxGv2atWzkICUXQUHJsLx6KpVroaBf3u6h3SeroZp3WsKAHaADc3daKiP0QUZ8NzsAOIjb6TsW382oevZ13p0CGpjq38H+lTVHG8JIgeKupHPN2H+eKS2Tc3m5k3MQwB2MaZcKG+NvAkzIKW0UMC9fHbUo6Y6S3Phc19QQ5R7CJEJoAAByLNEEPVnUmVFm2A7gbMX7yh0fF2Zg8CZ+GHqgJ0v3CqOeGCA+cwOtI+qa9HUxx7omNG0BzswxeATJ06M27bp278P7Xii8e1tA2/ecjIqwBQS6VmF8CENyZpjMSTNQxUxz6hltCUKFRq4KomkA7s3m81HBCroMw0zxVXX44Y9F0aDXI5+y3Q9UDSz4EkkHtS5otTEcAIRNn0rc+1kQ1FznwKoXA9wQzqFYRQiYqyXsBK8knFWPqt5Om37lwnxeVKP9lbTmt2O4jNCBw4PrEkhx9SOLNocQATBfSaEhXCBqOBa4EFfM6Zljh49uhABw3aaxNRAiWoaYIYCf749GOkUEIShrnbN95TufD7eMtMoHZ8CqFOnzk48sD3ALLJF1n4jBEUq24GW7aLOxw/uZeVLbSLZlhYYZAq6yWd1U2Ao2XOpOTlypsJthysnz1GASlUOACXtMQIrmWbAA6oKGbi1/fnnnzPBNpc4hZZBD8iNinYGQ6zMwpNhiYmJ7oZNG12G+hTAqFE4xSbJmyRYkEnb/dCoKpLIHf06W0cN7GqXp2lQAEcejLdzYsn5KhyNu2JL858XrCo4rQTwcq4KJPVMBRvBLh2uVhsYwrqj1sRrq6CrV6/iYIDEcxKXEpfwQRjaaKLRpd8JontOr5t6ojqVfQpAJoK4EDrbJcRq3mOEqOAo7xnXyNwjukHVIqtXW47EmI/7r3552/pBPYIbMN3P0podxWe3HSpdoFT68MMPWYymIeJOTqZJUrRS5uMqBQcHpGqVCYLTfvA8f8RRVKQrSC0avmAw0N0UO+gLxxPuVwBsgwYVTA91DWK+t7uS9qSEvKOsILhzq6BYdVH9ujzpfUsesZfkqsGue8lR8WvPyPQ7e3ewstFIVm8vLvn+l6J/F5bJs0/BkxmFwZBihGkQ4xmEfIuVyuorQizMlmS9+uqrV3HGtEYFAE8w6MrZDF0XVd0fvwKAHWAhCTEskO+MTutadeZmlpTzLtdRaeiBbna4MyeVrNuVu7B580N3BPdiAbv3vsgrmL0i/7O9xypmAMllExyiowOzR6GhoccNMQ3HWNwaUWUwi9ozQcogatwDUpHwe4uljps77hcZhX4FADtQgAf/DV4D1gP6gTk+MITsO12lfpTGW0RbSLeos16xf1GwHbol8MTA0jLR8fqCnM1rfi199nC6/RXUU1a7MgmZaUQ6hv7Yjeh/+DlOBisdUF9hP7Ap4hSQYQ+IFrNIqJqMr3tEb/v4KtOC+xUAq1C5HrjNYtZfEXOmAJJ2NTboZLZ3iGHUvXYSK+0ioqOqTCjInX05z5H80uzL93+1ofjhzAsVK7U6yRZOTP87y/TdRhye1hTAnDlz6mH0R7k8IAPGnLVJOek1LAHv0eqbJwwDtmd13vLUFUClHQgc0jFcU6d6diCHtgz4Otl7FrBdsTH9L5O6JbvlzRfo6bSLe7/4/GimfWxZGfkVdAo9abE8GIa4F2nLQhByuUR11wCcqAjLnWJZWZms83nCpzS9740Y0A51x9DOUcIfjg++9SBEocsDRnN3wQHD26e6AkC8RN4TiIqgrRCYy9LuYhXUFBROfsmIJSnpVSNdKe3TwUImDTxL6hTuZjNhOkaLrmGfMWNGLOqHsBnAzgVhRmqGp5U2oCrKu4V10jQ48kyCLcGex3HBYdgASxZqPszCChg0bKDoJomjhu2ArgCw8swBo45iA7oPOiALQ68HVwM7kI/W1fEKtLF693Q2k/F3pwvdhAVsIwMkdRLvDEGwwJmdVOh6LWBymp8YDAs7HGexLswrQyEICDTjX/3rRmGPJBgW09DzY9oatgO6AmDsYXYArOphNnHMK3JPeUdJ4e65eIsFL6pUJt5iJYeKOpOvt2ovCAfFB/DR9fkPO9wS8JJSx9e1MgRRyAJngmhA/+uEIKpW0/qLOblPVDqMtUNHHAaOh9CMCYBQRH6BbSAZEgCzAyBYB/vEuWqaXMEx8lynA2TInQi0ecR6aEg0WfFbLPlNQxUxGi88VDewSSSvqyvBsOrFbXyEICoZ0tZlzJ0RUfXjaN5jBvyGfY12WD/0MkUG7IY28NatHjXRVkT0/W/r2ipWzZgAOHlBRto1sUSjA3msIjtO0icqlfxjkJmU2zmcY3Y3vMAjedbOZOoP4eT8Fe9YHtsHKC4nZxktfwkP095lgI14LT42YT7++OOmbBBhJFfuJ9CW/tpVyvAYbC+3Her2lk8ASkQ+0aaU+7wKdkN2wJAAxowZcw4q6DRGD9NtclxIhMq5o005Bj4O2rHJprGpypkDyTFHTzJ9ZQAWaO7qaEdKedbWA6WrfD4ACtgmDOi3YHsARneufG3COCSHbD9MJtNhY/sJzp4JEo7MSzQIMyH+559/NmGqJ/vrs1IGlhiyA4YEwIhWqqFeyoKMvUAdanUyNSgAVw0BsHqmoLok+Uo8mbqcuISAExOOLzcUrkexpr/O6rGEFwedgTOM2tO7bS30twF9b8K42RLiMGSAmduZ9ePUdDz8dsyA4P3793fCZp4xO+AcrM4H8fO/YQGgA0zy4d1bBsoRSmqykOw8DAik1g3Ze4pF8r3Wf1xII7LxYu/iAWPO5bz/Zd7BKUvykg6dsDED7Lbi9awrEGfgLDAw8AgR9f1/zFKfIYhq2xK5M9IRzEB8nsJ5VgqqsLeZWHZg2rtPZ8+OI4/2IpsOeFNXzRkXQIBzo75bkyC8qUJLOQjgbK5TAJ3jHCSSO6PRjSqQGNx4zsls+4BZ310dsvNo+eso0TVmbNQCL/uFF17IxwCQVUgVRY07ZZNFq0hlS3DCWZ8WaDADzEjh3D8zvjZmB06tT8SCUZLhGs24gQTRoWsHDAuAvVCBTpzDgOiFVnbzgWHkQGYwKSoVSbu4APJw21OE5Bxy64CSgT4sC7AGfIT8AfyyFLjuFUYXbTrVlBGvRcH1IKy2JXKRJBlUQbIBJs8++2w5mL8Hw7qnsz41poY42WZ69MY9a1gArBqmFVND8sFdMIZklseRtbttMsV/whsa1uUosZadYuEDGab8h+Mcn6WvTLys5I1e2ajHKKwMQej77b42YdS2pHH/xAj0rqGRPlC+SqWhH+zZ62Nl3sqoHcDL6bozwKlDjPSG4bCX5GBcWkVZ046eLysWQlqQOWv2WeMiy/nQYI7chXFVWPSLuPZwqljeaHA55eCewmM1i1yS0SYUPLZ1eCX3ykGREzez4NaugoN7IPN9SrnWNbRexBEtuMAJQVBnK4ODgw9b+JxIu4NoBv0861rNdV02Bd80SkaA/A1mB3gzXSV67GF71pXzEmkc88CbTTNXTz6jWQ4gcyCvNUW2iDE/UjeYc3B4owrvPnHnLttanr0kvAXCbF/3fyLNnTu3Do7a5GMmfDN+/PhnGvefdBxTvYXew2EQPou3YZb4wqveDNCmculEpn2udtH/DvTFF18sxnFGZsN6s6fCa7TJcIV0BVAZF1rC6milmhCAFt0/BLZo0aKQ/Px8dmCWrVzrQV3UYx2BvbqIy0WsZU7hXNF2BBidhosVViNB/bKX2cdhj7rRxxuuwBCLz+tW17EDNaGCdPugRoBH0ri8opxtOfpOHFkyYcyEH30jVJWAXmi5vfwpRGuHgdGdwHi+qlTzrhSKdwt8+5XYcl0q77JponkDERF9AAJYxXP847O25u8RbI7T3lgaEAvfOHvNlHMaJcZiQVoVfy+soqKiK9ypx/z+DBBftmyZBSrhHbxcfg7Mn4MqXQ0wn1EOQtuDBFFYVFBUcCxpZtLfUc+QNwgjvh314dxIvWXDijc4GUHdZPftDRlqWLeBaiBALegugqxmq8v70CL90Ucfdc7IzDgERr4NZtTRwjEEk0gcvkG3FK7l2vnz5+u+48UWhGxdwgTA6MMgG1oP4BuofXz1p/YFoLOixQPmvfTSS+d9dRinrnvg20Y/o5wd1q2RBLUyoLCocBME63e3jTXG1gPAbyfjGjiowOpgZ8DneqDWjTAegB0xZP3ylXyOfujgdjgXuuGaRr2PVtEnEw5rucfUNXARzl4Ilcf8eiu+LLMR37dYpoHmCZI8X2hXEGrVCLOQAHR2CRjo01Bi1Txr/NjxLysdVK7Q+TzUzi7kuyqwmrpi1q0ODQl9XD6OWVNEDdKp1RmghAT89k2sWv6r8TKyMv6BvBHmi9ATa+Ay7gJjs3FgGF9fwedwCBmCa5yaJrvHjJwf0yTmRfZunGdZbeRrVQAY+brbdGCapgpCKOF5HdXF/P29YPJj48eNZyrCM42BsX0ENGahH+zdA5z3oW9itk3xRKzNfK0aYTy8ngckhoSEeB2qxcIHH371/6kCMP+IiTfdizCBFvNlnuJTDN9ZzJZ4jHq2yfLMH8181qlaFQBGp54A0rX0MDZmbtUblWDq++zArR4eO12BM6atJ4yd8KUebm2U164AdDbVwURN9QNfvbEeMzADjurhKOXVWf0qda7XtdYEwD5sBN3byN+D+NL/iOHIMR1/dUGbGdobLtWaAMrLy3UNMLinOQNwJidfj7PAeQ22gp22u6FSrQkA3yDS0/9Y1/CaAsAMyNTlKl68RnznF3g6XXRx/0QIteaGsjdT/D031E/xK6+8cgaGVAttE4DsJILfAQM11A2O/V58fHAjDP7cmJiYdbXh38cNerO5w+6IwTNYCDVdaNqdT9nq5/ME6gestZUwwgjb4Uo6N7XVPVDuKdk1YdyE25Ws5xVM/RIMfsoTrpM/D4EsMXGmefLhMh3k6hR3eCopOP9yHlbs0ghsgceq64Kp+NwmWcHTwPcyfkzMUJd53vsdUZ7I15IH8/VsgKb6UdqEjz8aI0wzpq7gaFwbYia8DtWUjtD1pzieiEOs157YR6TyLuelYUBM8WQ+o45IVxjgwwXJdrxx/9ef99dirQgAEcxodCLMX0cwYvwKQH6pjpOGgwZTRdVKYFQAuPKPCntFGr6QMqxalT2QowdM7CYQfE9P/01NdjoEf6BCXBh976RxHmRc2VoRAFrzq/9Zb0zU5FcADAe7ZBuJCe8pUOpztcvw/KRwiO9zbMJ8AuZU+9mb3D+R1f8vOKu7d6DuA8LR0zBr+qlhyn21O6FUrM7ViAcEpjrP/+gQnvDqhB0R4RG3YtG2EKjex6516rNiLOxGY1ZONYDqhiIKdALUi6EzRW4VIWx8qXUmhO5lc2tFAHq7YGC+/N6uW6f9ZJ577rkixHxGWgOtMQioJf4O24B9RXHC9A+nD/DTjFsRO5uEna1RbsDqZCTSKbb/m15ORq0IAKFhPRWkq360npXtnCGg9k7XLl1jKU8fhiA24IdBaizhLxJMM4aJv6VYdPA2GNZwo/haeCJl379zT9ddAOxMPTygVu7NeuR0DLAHtle2X79+jvFjxq9EGHoATiyw44w/eSFpANCvDkkfJxk6J4rXo+I0SFQLhLHhReO6CwBn6tnhJYvfnvrYhPFbx0ch/P1UqKd74FVN9oHiDhbI3e4A7RwYFaxdYhwK2+NlvK+7AKD/O+t1EYelDurhVLcci7q3oI626NWDYdSNtDIaePX0oh4t3XL2txA80vUXgM7JMIzUSwhBHPfoV81kJaJ7uAtCCjXSGM8F7AGeYfuiRRMqaJcn/JoEwELMcOc0/VvWUKWv7XeKQ1//4tkprfzviXSCuZe1aLnBRGJoZGesS7wIetvd6lYjA/+zLNAcsNazSrUFgJhOAyxkRuC6AaeFL8GdW8VOO3gSZvkZH81gG+GxWmUKzIgAEOF8FeGE47jGKPUMXvUjo5zxF0Y4jk802K43Gkfnqj5G6yo3ue783LDDqHhZ+SGoi6FA6w1j4jxW4pyQZvwhuDcAf1tNgsVd7A77+2qY1j3O2ficAfIxFpttAYT8dGXdzUkfJT01/tXxO7VoqWEYIN3h5QxXwzTvRWJY/WWun7wluv+kOZjZ/9Kk5QuIgwbh9SMSszTKMTP8J3YCDCfRrqBRJ9M10DE18fFBMhdx+6/B0AoIi53TxKrR/y4V6h2F69hWg6T85xXLbGUrMYM8PwjLjp18hm8XfopVsdc7UThiaC4uLn4YM+ZT0PXrt6P9zHFjx8Xhaji+xF6XPb3LtkQUpSe1+u0Jw0slqRaJH8g++u1ZxvK6AmBIiCTuBCN0v5PMcKuT8N2eV3BS4RPPOrAr8Rj130OIUZ5l6jwTIPJsEZcFYVugzhqhn71wf7Maz9c92n8L7U/2Ve4PjqDcC4gsJMLQ1dfCA2PxbSP6WVBA3deOr3qtSAuHwQypIKxkF+ChalQAYNZFfIDjc8+OQc8/A+bPB/M17YoaHzhtkGc/OaGPyq3+FS+eo/1Z+ojaGFk/fjCv5eBpS8sqCobguPS9CFPEoHUMAnxokKPbTRy34sy6KZnataughgSAYxxfFRQWTEK15lVVr+0OquoV9g1QTyr4mFKhhL8Y5Qmv4XwF1OWjWu1Xp53Kkf0V6rDf70qGvCB2jAMbIk+gBd13ew31gpLF+KD3t1q4LKQA1TAI6qVEq7wGYKUIVyRA9eyvAVrXTMKQAFgrWOLvA2P+httrEwIl3yKANsJfz8GcTWDSncBh72TVWIJQs/AMfSD8VTVG9BoJVXuqwyXtDQ9jMfRvs2q2XYqHfx0PP9uo14E2KGxCAnT7ZLR1LeqvCG1Ph9qbiYFUVs1+X1f0aguA9YatSvENnVFYD4xEtrW/HoLZ58DAZfhDZ3OwrXjaH66vMhZRRVDvHsSVBsDO4o/mGHg9FJ8WAL2twP8WX0hZaeTYoq/2ryf8dwlA3SGsE2Kx49Udv1gwm71hwtTaRRjTS/g88GmMOLxgbdzPVtP2dc/axFqjJY6es6+ZM5ezAX42ONXsPd6LWCMcDrWGpv2ZjiD6epa/4H9x4C8O/MWBP5AD/w9kb7nIzsoPLgAAAABJRU5ErkJggg=="},function(g,p){g.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 320"><path d="M353.4 128H30.6C13.7 128 0 142.3 0 160s13.7 32 30.6 32h322.8c16.9 0 30.6-14.3 30.6-32s-13.7-32-30.6-32zm0-128H30.6C13.7 0 0 14.3 0 32s13.7 32 30.6 32h322.8c16.9 0 30.6-14.3 30.6-32S370.3 0 353.4 0zm0 256H30.6C13.7 256 0 270.3 0 288s13.7 32 30.6 32h322.8c16.9 0 30.6-14.3 30.6-32s-13.7-32-30.6-32z"/></svg>'},function(g,p){g.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1664"><path d="M960 672q119 0 203.5 84.5T1248 960t-84.5 203.5T960 1248t-203.5-84.5T672 960t84.5-203.5T960 672zm704-416q106 0 181 75t75 181v896q0 106-75 181t-181 75H256q-106 0-181-75T0 1408V512q0-106 75-181t181-75h224l51-136q19-49 69.5-84.5T704 0h512q53 0 103.5 35.5T1389 120l51 136h224zM960 1408q185 0 316.5-131.5T1408 960t-131.5-316.5T960 512 643.5 643.5 512 960t131.5 316.5T960 1408z"/></svg>'},function(g,p){g.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1536 1536"><path d="M1283 413L928 768l355 355 144-144q29-31 70-14 39 17 39 59v448q0 26-19 45t-45 19h-448q-42 0-59-40-17-39 14-69l144-144-355-355-355 355 144 144q31 30 14 69-17 40-59 40H64q-26 0-45-19t-19-45v-448q0-42 40-59 39-17 69 14l144 144 355-355-355-355-144 144q-19 19-45 19-12 0-24-5-40-17-40-59V64q0-26 19-45T64 0h448q42 0 59 40 17 39-14 69L413 253l355 355 355-355-144-144q-31-30-14-69 17-40 59-40h448q26 0 45 19t19 45v448q0 42-39 59-13 5-25 5-26 0-45-19z"/></svg>'},function(g,p){g.exports='									<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"/></svg>								'},function(g,p){g.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1664 1536"><path d="M725 431L555 881q33 0 136.5 2t160.5 2q19 0 57-2-87-253-184-452zM0 1536l2-79q23-7 56-12.5t57-10.5 49.5-14.5 44.5-29 31-50.5l237-616L757 0h128q8 14 11 21l205 480q33 78 106 257.5t114 274.5q15 34 58 144.5t72 168.5q20 45 35 57 19 15 88 29.5t84 20.5q6 38 6 57 0 4-.5 13t-.5 13q-63 0-190-8t-191-8q-76 0-215 7t-178 8q0-43 4-78l131-28q1 0 12.5-2.5t15.5-3.5 14.5-4.5 15-6.5 11-8 9-11 2.5-14q0-16-31-96.5t-72-177.5-42-100l-450-2q-26 58-76.5 195.5T382 1361q0 22 14 37.5t43.5 24.5 48.5 13.5 57 8.5 41 4q1 19 1 58 0 9-2 27-58 0-174.5-10T236 1514q-8 0-26.5 4t-21.5 4q-80 14-188 14z"/></svg>'},function(g,p){g.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 43 41.91699981689453"><path d="M15 24.089V7.375L9 13V7.5L17 0l8 7.5V13l-6-5.625v15.542h16.625l-5.625-6h5.5l7.5 8-7.5 8H30l5.625-6H17.828l-11 11H15l-4 4H0v-11l4-4v8.172l11-11zm6.253 8.361L18.8 37.262v2.655h-1.707v-2.625l-2.346-4.842h1.921l1.195 2.785.17.61h.022l.165-.588 1.252-2.807h1.781zm8.267-10.533h-2.03l-1.308-2.432-.154-.5h-.021l-.175.522-1.314 2.41H22.48l2.42-3.733-2.207-3.734h2.079l1.083 2.239.227.63h.021l.235-.65 1.194-2.219h1.881l-2.235 3.702 2.342 3.765zm-16.48 1H6.96v-.985l3.875-5.095H7.28V15.45h5.76v.955L9.248 21.53h3.792v1.387z"/></svg>'},function(g,p){g.exports=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="24.474820143884916 11.75539568345329 107.73381294964032 102.35251798561154" width="102.73" height="97.35"><defs><path d="M26.47 13.76L129.21 13.76L129.21 111.11L26.47 111.11L26.47 13.76Z" id="a3ZYhJlju"></path><linearGradient id="gradientbexcZGM80" gradientUnits="userSpaceOnUse" x1="27.65" y1="13.76" x2="129.21" y2="111.57"><stop style="stop-color: #ffffff;stop-opacity: 1" offset="0%"></stop><stop style="stop-color: #010000;stop-opacity: 1" offset="100%"></stop></linearGradient></defs><g><g><use xlink:href="#a3ZYhJlju" opacity="1" fill="url(#gradientbexcZGM80)"></use><g><use xlink:href="#a3ZYhJlju" opacity="1" fill-opacity="0" stroke="#ffffff" stroke-width="4" stroke-opacity="1"></use></g></g></g></svg>`},function(g,p){g.exports=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="17.242414994673346 15 113.09090909090907 115.80278931174797" width="109.09" height="111.8"><defs><path d="M72.79 16L127.33 47.38L72.79 75.19L18.24 47.38L72.79 16Z" id="ahuegR4Z7"></path><linearGradient id="gradientg1v0yQ7cPQ" gradientUnits="userSpaceOnUse" x1="72.79" y1="74.26" x2="71.79" y2="1.46"><stop style="stop-color: #8dbee6;stop-opacity: 1" offset="0%"></stop><stop style="stop-color: #3384c5;stop-opacity: 1" offset="100%"></stop></linearGradient><path d="M72.79 127.78L18.24 101.15L18.24 47.32L72.79 74.98L72.79 127.78Z" id="apgu3VIlv"></path><linearGradient id="gradientbx3q582Ag" gradientUnits="userSpaceOnUse" x1="71.52" y1="75.19" x2="43.85" y2="112.11"><stop style="stop-color: #7bb2de;stop-opacity: 1" offset="0%"></stop><stop style="stop-color: #3789cb;stop-opacity: 1" offset="100%"></stop></linearGradient><path d="M127.33 101.63L127.31 47.32L72.77 74.41L72.8 127.8L127.33 101.63Z" id="czTPGmX6c"></path><linearGradient id="gradiente44kLH46ez" gradientUnits="userSpaceOnUse" x1="72.77" y1="75.19" x2="110.07" y2="109.46"><stop style="stop-color: #7db2dd;stop-opacity: 1" offset="0%"></stop><stop style="stop-color: #3384c5;stop-opacity: 1" offset="100%"></stop></linearGradient></defs><g><g><use xlink:href="#ahuegR4Z7" opacity="0.7" fill="url(#gradientg1v0yQ7cPQ)"></use></g><g><use xlink:href="#apgu3VIlv" opacity="0.7" fill="url(#gradientbx3q582Ag)"></use><g><use xlink:href="#apgu3VIlv" opacity="0.7" fill-opacity="0" stroke="#ffffff" stroke-width="1" stroke-opacity="1"></use></g></g><g><use xlink:href="#czTPGmX6c" opacity="0.7" fill="url(#gradiente44kLH46ez)"></use><g><use xlink:href="#czTPGmX6c" opacity="0.7" fill-opacity="0" stroke="#ffffff" stroke-width="1" stroke-opacity="1"></use></g></g></g></svg>`},function(g,p){g.exports=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="23.526450466849894 25.20464974120776 126.86556872931914 128.62412323660308" width="122.87" height="124.62"><defs><path d="M85.45 26.2L140 57.58L85.45 85.4L30.91 57.58L85.45 26.2Z" id="bljQJJOjU"></path><path d="M79.53 149.62L24.53 122.78L24.62 68.7L79.62 96.58L79.53 149.62Z" id="a2OxwluQL6"></path><path d="M147.39 123.62L146.4 69.17L92.61 97.3L93.59 150.83L147.39 123.62Z" id="a4nIltkDon"></path></defs><g><g><use xlink:href="#bljQJJOjU" opacity="1" fill="#3384c5" fill-opacity="1"></use></g><g><use xlink:href="#a2OxwluQL6" opacity="1" fill="#ff7b7b" fill-opacity="1"></use></g><g><use xlink:href="#a4nIltkDon" opacity="1" fill="#3384c5" fill-opacity="1"></use></g></g></svg>`},function(g,p){g.exports=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="23.90976501025463 25.20464974120776 126.4822541859144 128.7097615525036" width="122.48" height="124.71"><defs><path d="M85.45 26.2L140 57.58L85.45 85.4L30.91 57.58L85.45 26.2Z" id="a1uePnz4ps"></path><path d="M79.91 150.91L24.91 124.08L25 70L80 97.88L79.91 150.91Z" id="e2gEmj1vzg"></path><path d="M147.39 123.62L146.4 69.17L92.61 97.3L93.59 150.83L147.39 123.62Z" id="flL3aFB8"></path></defs><g><g><use xlink:href="#a1uePnz4ps" opacity="1" fill="#3384c5" fill-opacity="1"></use></g><g><use xlink:href="#e2gEmj1vzg" opacity="1" fill="#3384c5" fill-opacity="1"></use></g><g><use xlink:href="#flL3aFB8" opacity="1" fill="#ffff72" fill-opacity="1"></use></g></g></svg>`},function(g,p){g.exports=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="13.909765010254631 15.20464974120776 126.4822541859144 128.7097615525036" width="122.48" height="124.71"><defs><path d="M76.43 16.2L130.98 47.58L76.43 75.4L21.89 47.58L76.43 16.2Z" id="bhsnPtSOa"></path><path d="M69.91 140.91L14.91 114.08L15 60L70 87.88L69.91 140.91Z" id="agS5SeOOL"></path><path d="M137.39 113.62L136.4 59.17L82.61 87.3L83.59 140.83L137.39 113.62Z" id="c3paZhyh3s"></path></defs><g><g><use xlink:href="#bhsnPtSOa" opacity="1" fill="#59d87d" fill-opacity="1"></use></g><g><use xlink:href="#agS5SeOOL" opacity="1" fill="#3384c5" fill-opacity="1"></use></g><g><use xlink:href="#c3paZhyh3s" opacity="1" fill="#3384c5" fill-opacity="1"></use></g></g></svg>`},function(g,p){g.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 384"><path d="M64 0h32v48H64zm32 288V112H64v208h208v-32zm240 0h48v32h-48z"/><path d="M0 64v32h288v288h32V64z"/></svg>'},function(g,p){g.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 384"><path d="M332.795 332.8H256V384h128V256h-51.205zm.005-281.595V128H384V0H256v51.205zM51.205 51.2H128V0H0v128h51.205zM51.2 332.795V256H0v128h128v-51.205z"/></svg>'},function(g,p){g.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 448"><path d="M224 144c-44.004 0-80.001 36-80.001 80 0 44.004 35.997 80 80.001 80 44.005 0 79.999-35.996 79.999-80 0-44-35.994-80-79.999-80zm190.938 58.667c-9.605-88.531-81.074-160-169.605-169.599V0h-42.666v33.067c-88.531 9.599-160 81.068-169.604 169.599H0v42.667h33.062c9.604 88.531 81.072 160 169.604 169.604V448h42.666v-33.062c88.531-9.604 160-81.073 169.605-169.604H448v-42.667h-33.062zM224 373.333c-82.137 0-149.334-67.198-149.334-149.333 0-82.136 67.197-149.333 149.334-149.333 82.135 0 149.332 67.198 149.332 149.333S306.135 373.333 224 373.333z"/></svg>'},function(g,p){g.exports=`<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><title>SVG_Artboards</title><rect x="17.52" y="15.45" width="28.97" height="49.1" transform="translate(72 8) rotate(90)" style="fill:#a7d28c;stroke:#6f6f59;stroke-linecap:round;stroke-linejoin:round;stroke-width:2.2536px"/><rect x="8.56" y="26.62" width="2.96" height="26.71" style="fill:#603c89"/><rect x="11.52" y="26.62" width="2.96" height="26.71" style="fill:#46449b"/><rect x="14.42" y="26.62" width="2.96" height="26.71" style="fill:#2a5aa8"/><rect x="17.38" y="26.62" width="2.96" height="26.71" style="fill:#0c71b8"/><rect x="20.36" y="26.62" width="2.96" height="26.71" style="fill:#0d7fc2"/><rect x="23.32" y="26.62" width="2.96" height="26.71" style="fill:#198ece"/><rect x="26.22" y="26.62" width="2.96" height="26.71" style="fill:#25a1db"/><rect x="29.18" y="26.62" width="2.96" height="26.71" style="fill:#12b2d2"/><rect x="32.19" y="26.62" width="2.96" height="26.71" style="fill:#4bb88e"/><rect x="23.21" y="38.49" width="26.71" height="2.96" transform="translate(76.54 3.41) rotate(90)" style="fill:#98c37e"/><rect x="26.17" y="38.49" width="26.71" height="2.96" transform="translate(79.5 0.45) rotate(90)" style="fill:#a4c661"/><rect x="29.07" y="38.49" width="26.71" height="2.96" transform="translate(82.4 -2.45) rotate(90)" style="fill:#c6c835"/><rect x="32.03" y="38.49" width="26.71" height="2.96" transform="translate(85.36 -5.41) rotate(90)" style="fill:#e8c61d"/><rect x="35.01" y="38.49" width="26.71" height="2.96" transform="translate(88.34 -8.39) rotate(90)" style="fill:#e2ae27"/><rect x="37.97" y="38.49" width="26.71" height="2.96" transform="translate(91.3 -11.35) rotate(90)" style="fill:#dc9a2a"/><rect x="40.87" y="38.49" width="26.71" height="2.96" transform="translate(94.2 -14.25) rotate(90)" style="fill:#c58338"/><line x1="23.49" y1="34.89" x2="23.49" y2="46.71" style="fill:none;stroke:#6f6f59;stroke-linecap:round;stroke-linejoin:round;stroke-width:2.2536px"/><line x1="39.95" y1="34.89" x2="39.95" y2="46.71" style="fill:none;stroke:#6f6f59;stroke-linecap:round;stroke-linejoin:round;stroke-width:2.2536px"/><line x1="56.07" y1="40.8" x2="8.94" y2="40.8" style="fill:none;stroke:#6f6f59;stroke-linecap:round;stroke-linejoin:round;stroke-width:2.2536px"/><circle cx="21.12" cy="20.63" r="15.5" style="fill:#a7d28c;stroke:#6f6f59;stroke-linecap:round;stroke-linejoin:round;stroke-width:2.2536px"/></svg>
`},function(g){g.exports=[{Name:"KAAMS",IndexedColors:[1,1,1,1,0,0,0,1,0,0,0,1,1,1,0,1,0,1,0,1,1,.63,.63,1,.67,.5,.33,1,.5,.75,.53,.35,.7,1,.75,.5],Annotations:[0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11]},{ColorSpace:"Diverging",Name:"Cool to Warm",NanColor:[1,1,0],RGBPoints:[0,.23137254902,.298039215686,.752941176471,.5,.865,.865,.865,1,.705882352941,.0156862745098,.149019607843]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Cool to Warm (Extended)",NanColor:[.25,0,0],RGBPoints:[0,0,0,.34902,.03125,.039216,.062745,.380392,.0625,.062745,.117647,.411765,.09375,.090196,.184314,.45098,.125,.12549,.262745,.501961,.15625,.160784,.337255,.541176,.1875,.2,.396078,.568627,.21875,.239216,.454902,.6,.25,.286275,.521569,.65098,.28125,.337255,.592157,.701961,.3125,.388235,.654902,.74902,.34375,.466667,.737255,.819608,.375,.572549,.819608,.878431,.40625,.654902,.866667,.909804,.4375,.752941,.917647,.941176,.46875,.823529,.956863,.968627,.5,.988235,.960784,.901961,.5,.941176,.984314,.988235,.52,.988235,.945098,.85098,.54,.980392,.898039,.784314,.5625,.968627,.835294,.698039,.59375,.94902,.733333,.588235,.625,.929412,.65098,.509804,.65625,.909804,.564706,.435294,.6875,.878431,.458824,.352941,.71875,.839216,.388235,.286275,.75,.760784,.294118,.211765,.78125,.701961,.211765,.168627,.8125,.65098,.156863,.129412,.84375,.6,.094118,.094118,.875,.54902,.066667,.098039,.90625,.501961,.05098,.12549,.9375,.45098,.054902,.172549,.96875,.4,.054902,.192157,1,.34902,.070588,.211765]},{ColorSpace:"Diverging",Name:"Warm to Cool",NanColor:[1,1,0],RGBPoints:[0,.705882352941,.0156862745098,.149019607843,.5,.865,.865,.865,1,.23137254902,.298039215686,.752941176471]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Warm to Cool (Extended)",NanColor:[.250004,0,0],RGBPoints:[0,.34902,0,.129412,.025,.4,.00392157,.101961,.05,.470588,.0156863,.0901961,.075,.54902,.027451,.0705882,.1,.619608,.0627451,.0431373,.125,.690196,.12549,.0627451,.15,.741176,.184314,.0745098,.175,.788235,.266667,.0941176,.2,.811765,.345098,.113725,.225,.831373,.411765,.133333,.25,.85098,.47451,.145098,.275,.870588,.54902,.156863,.3,.878431,.619608,.168627,.325,.890196,.658824,.196078,.35,.909804,.717647,.235294,.375,.929412,.776471,.278431,.395522,.94902,.823529,.321569,.418905,.968627,.87451,.407843,.444278,.980392,.917647,.509804,.470149,.988235,.956863,.643137,.483582,.992157,.964706,.713725,.499,.988235,.980392,.870588,.5,1,1,1,.501,.913725,.988235,.937255,.516418,.827451,.980392,.886275,.531343,.764706,.980392,.866667,.546766,.658824,.980392,.843137,.564179,.572549,.964706,.835294,.587562,.423529,.941176,.87451,.60597,.262745,.901961,.862745,.629851,.0705882,.854902,.870588,.651741,.0509804,.8,.85098,.681592,.0235294,.709804,.831373,.712935,.0313725,.615686,.811765,.75,.0313725,.537255,.788235,.775,.0392157,.466667,.768627,.8,.0509804,.396078,.741176,.825,.054902,.317647,.709804,.85,.054902,.243137,.678431,.875,.0431373,.164706,.639216,.9,.0313725,.0980392,.6,.925,.0392157,.0392157,.560784,.95,.105882,.0509804,.509804,.975,.113725,.0235294,.45098,1,.12549,0,.380392]},{ColorSpace:"RGB",Name:"Rainbow Desaturated",NanColor:[1,1,0],RGBPoints:[0,.278431372549,.278431372549,.858823529412,.143,0,0,.360784313725,.285,0,1,1,.429,0,.501960784314,0,.571,1,1,0,.714,1,.380392156863,0,.857,.419607843137,0,0,1,.878431372549,.301960784314,.301960784314]},{ColorSpace:"RGB",Name:"Cold and Hot",NanColor:[1,1,0],RGBPoints:[0,0,1,1,.45,0,0,1,.5,0,0,.501960784314,.55,1,0,0,1,1,1,0]},{ColorSpace:"RGB",Name:"Black-Body Radiation",NanColor:[0,.498039215686,1],RGBPoints:[0,0,0,0,.4,.901960784314,0,0,.8,.901960784314,.901960784314,0,1,1,1,1]},{ColorSpace:"RGB",Name:"X Ray",NanColor:[1,0,0],RGBPoints:[0,1,1,1,1,0,0,0]},{ColorSpace:"RGB",Name:"Grayscale",NanColor:[1,0,0],RGBPoints:[0,0,0,0,1,1,1,1]},{ColorSpace:"RGB",Name:"BkRd",NanColor:[0,1,1],RGBPoints:[0,0,0,0,1,1,0,0]},{ColorSpace:"RGB",Name:"BkGn",NanColor:[1,0,1],RGBPoints:[0,0,0,0,1,0,1,0]},{ColorSpace:"RGB",Name:"BkBu",NanColor:[1,1,0],RGBPoints:[0,0,0,0,1,0,0,1]},{ColorSpace:"RGB",Name:"BkMa",NanColor:[0,1,0],RGBPoints:[0,0,0,0,1,1,0,1]},{ColorSpace:"RGB",Name:"BkCy",NanColor:[0,1,1],RGBPoints:[0,0,0,0,1,0,1,1]},{ColorSpace:"RGB",Name:"Black, Blue and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,0,0,.501960784314,.666,0,.501960784314,1,1,1,1,1]},{ColorSpace:"RGB",Name:"Black, Orange and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,.501960784314,0,0,.666,1,.501960784314,0,1,1,1,1]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Linear YGB 1211g",NanColor:[.25,0,0],RGBPoints:[0,1,.988235,.968627,.02,1,.952941,.878431,.05,.968627,.905882,.776471,.1,.94902,.898039,.647059,.15,.901961,.878431,.556863,.2,.847059,.858824,.482353,.25,.690196,.819608,.435294,.3,.513725,.768627,.384314,.35,.337255,.721569,.337255,.4,.278431,.658824,.392157,.45,.231373,.639216,.435294,.5,.203922,.6,.486275,.55,.172549,.568627,.537255,.6,.141176,.517647,.54902,.65,.133333,.458824,.541176,.7,.12549,.396078,.529412,.75,.117647,.321569,.521569,.8,.121569,.258824,.509804,.85,.133333,.227451,.501961,.9,.145098,.192157,.490196,.95,.188235,.164706,.470588,1,.258824,.196078,.439216]},{ColorSpace:"CIELAB",Creator:"Francesca Samsel",Name:"Linear Green (Gr4L)",NanColor:[.25,0,0],RGBPoints:[0,.054902,.109804,.121569,.05,.07451,.172549,.180392,.1,.086275,.231373,.219608,.15,.094118,.278431,.25098,.2,.109804,.34902,.278431,.25,.113725,.4,.278431,.3,.117647,.45098,.270588,.35,.117647,.490196,.243137,.4,.113725,.521569,.203922,.45,.109804,.54902,.152941,.5,.082353,.588235,.082353,.55,.109804,.631373,.05098,.6,.211765,.678431,.082353,.65,.317647,.721569,.113725,.7,.431373,.760784,.160784,.75,.556863,.8,.239216,.8,.666667,.839216,.294118,.85,.784314,.878431,.396078,.9,.886275,.921569,.533333,.95,.960784,.94902,.670588,1,1,.984314,.901961]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Linear Blue (8_31f)",NanColor:[.25,0,0],RGBPoints:[0,.960784,1,.980392,.05,.815686,.960784,.913725,.1,.670588,.929412,.870588,.15,.556863,.901961,.843137,.2,.478431,.870588,.823529,.25,.439216,.831373,.803922,.3,.4,.8,.788235,.35,.376471,.768627,.768627,.4,.34902,.709804,.729412,.45,.32549,.654902,.690196,.5,.301961,.607843,.658824,.55,.247059,.545098,.619608,.6,.239216,.494118,.580392,.65,.227451,.439216,.541176,.7,.227451,.403922,.521569,.75,.231373,.368627,.501961,.8,.227451,.321569,.470588,.85,.219608,.282353,.439216,.9,.192157,.235294,.4,.95,.160784,.184314,.34902,1,.133333,.12549,.301961]},{ColorSpace:"HSV",Name:"Blue to Red Rainbow",NanColor:[.498039215686,.498039215686,.498039215686],RGBPoints:[0,0,0,1,1,1,0,0]},{ColorSpace:"HSV",Name:"Red to Blue Rainbow",NanColor:[.498039215686,.498039215686,.498039215686],RGBPoints:[0,1,0,0,1,0,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended White",NanColor:[1,1,0],RGBPoints:[0,1,1,1,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended Grey",NanColor:[1,1,0],RGBPoints:[0,.317647058824,.341176470588,.43137254902,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended Black",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Blue to Yellow",NanColor:[1,0,0],RGBPoints:[0,.0392156862745,.0392156862745,.949019607843,1,.949019607843,.949019607843,.0392156862745]},{ColorSpace:"HSV",Name:"blot",RGBPoints:[0,0,0,1,.166,0,0,1,.167,1,0,1,.332,1,0,1,.333,0,1,1,.5,0,1,1,.501,0,1,0,.666,0,1,0,.667,1,1,0,.832,1,1,0,.833,1,0,0,1,1,0,0]},{ColorSpace:"Lab",Name:"CIELab Blue to Red",NanColor:[1,1,0],RGBPoints:[0,0,.6,.749019607843,1,.76862745098,.466666666667,.341176470588]},{ColorSpace:"RGB",Name:"jet",RGBPoints:[-1,0,0,.5625,-.777778,0,0,1,-.269841,0,1,1,-.015873,.5,1,.5,.238095,1,1,0,.746032,1,0,0,1,.5,0,0]},{ColorSpace:"RGB",Name:"rainbow",RGBPoints:[-1,0,0,1,-.5,0,1,1,0,0,1,0,.5,1,1,0,1,1,0,0]},{ColorSpace:"Lab",Name:"erdc_rainbow_bright",RGBPoints:[-1,.32549,.14902,.960784,-.866221,.297047,.375586,.963836,-.732441,.180302,.536818,.964627,-.598662,.1302,.649207,.929647,-.464883,.0445143,.749654,.855998,-.331104,.0271325,.830713,.721527,-.197324,.259504,.866145,.543555,-.0635452,.428364,.890725,.329819,.0702341,.568503,.898508,.187623,.204013,.738259,.890317,.0825461,.337793,.84546,.86136,.0147555,.471572,.912191,.808018,0,.605351,.962848,.710445,0,.73913,.999469,.600258,.0176284,.87291,.994156,.445975,.193912,1,.980407,.247105,.262699]},{ColorSpace:"Lab",Name:"erdc_rainbow_dark",RGBPoints:[-1,0,0,.423499,-.866221,0,.119346,.529237,-.732441,0,.238691,.634976,-.598662,0,.346852,.68788,-.464883,0,.45022,.718141,-.331104,0,.553554,.664839,-.197324,0,.651082,.519303,-.0635452,.115841,.72479,.352857,.0702341,.326771,.781195,.140187,.204013,.522765,.798524,.0284624,.337793,.703162,.788685,.00885756,.471572,.845118,.751133,0,.605351,.955734,.690825,0,.73913,.995402,.567916,.0618524,.87291,.987712,.403398,.164851,1,.980407,.247105,.262699]},{ColorSpace:"Lab",Name:"nic_CubicL",RGBPoints:[-1,.479965,.0118108,.5307,-.87451,.522213,.0551282,.706919,-.74902,.50839,.237278,.867764,-.623529,.451617,.373834,.987255,-.498039,.39365,.497255,.97506,-.372549,.328631,.599639,.891843,-.247059,.250043,.690286,.778553,-.121569,.249656,.764905,.645857,.00392157,.297954,.821466,.50449,.129412,.337509,.872595,.358447,.254902,.430011,.913789,.297079,.380392,.587191,.931381,.333353,.505882,.727937,.93591,.353742,.631373,.826403,.921081,.365066,.756863,.893201,.846317,.372662,.882353,.965347,.73884,.378506,1,.983235,.597451,.366856]},{ColorSpace:"Lab",Name:"nic_CubicYF",RGBPoints:[-1,.5151,.0482,.6697,-.87451,.520711,.168955,.800574,-.74902,.493694,.278596,.911824,-.623529,.440026,.369475,.984978,-.498039,.398932,.457593,.987053,-.372549,.350651,.540644,.929608,-.247059,.298827,.615625,.857729,-.121569,.239928,.685061,.769531,.00392157,.228832,.739349,.673287,.129412,.263297,.78608,.569988,.254902,.298107,.828337,.460214,.380392,.33092,.864071,.352674,.505882,.38306,.898169,.287309,.631373,.49023,.917481,.307961,.756863,.62372,.926026,.332309,.882353,.717458,.92527,.342476,1,.8,.9255,.3529]},{ColorSpace:"Lab",Name:"gist_earth",RGBPoints:[-1,0,0,0,-.87451,.239216,.027451,.415686,-.74902,.0901961,.254902,.556863,-.623529,.0941176,.352941,.54902,-.498039,.105882,.435294,.533333,-.372549,.12549,.52549,.501961,-.247059,.156863,.596078,.443137,-.121569,.196078,.65098,.380392,.00392157,.282353,.717647,.301961,.129412,.466667,.772549,.27451,.254902,.678431,.784314,.309804,.380392,.901961,.756863,.376471,.505882,.992157,.705882,.521569,.631373,1,.721569,.701961,.756863,1,.784314,.784314,.882353,1,.866667,.866667,1,1,1,1]},{ColorSpace:"Lab",Name:"2hot",RGBPoints:[-1,.0416667,0,0,-.873016,.208333,0,0,-.746032,.375,0,0,-.619048,.541667,0,0,-.492063,.708333,0,0,-.365079,.854137,0,0,-.238095,.937488,.039062,0,-.111111,1,.208333,0,.015873,1,.375,0,.142857,1,.541667,0,.269841,1,.708333,0,.396825,1,.858805,.03125,.52381,1,.947392,.15625,.650794,1,1,.3125,.777778,1,1,.5625,.904762,1,1,.8125,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_red2yellow_BW",RGBPoints:[-1,754296e-12,0,109827e-10,-.87451,.18285,.0264094,0,-.74902,.3066,0,0,-.623529,.422841,0,0,-.498039,.522945,0,0,-.372549,.605721,0,0,-.247059,.672502,.14168,0,-.121569,.728167,.244025,0,.00392157,.781215,.333454,0,.129412,.825,.423586,0,.254902,.855893,.516793,0,.380392,.880491,.608846,0,.505882,.910305,.695505,0,.631373,.94109,.779067,.223528,.756863,.967873,.858572,.473521,.882353,.986815,.933211,.751583,1,1,1,.999997]},{ColorSpace:"Lab",Name:"erdc_marine2gold_BW",RGBPoints:[-1,111641e-12,0,162551e-11,-.87451,.0413146,.0619808,.209857,-.74902,.0185557,.101341,.350684,-.623529,.00486405,.149847,.461054,-.498039,.0836345,.210845,.517906,-.372549,.173222,.276134,.541793,-.247059,.259857,.343877,.535869,-.121569,.362299,.408124,.504293,.00392157,.468266,.468276,.468257,.129412,.582781,.527545,.374914,.254902,.691591,.585251,.274266,.380392,.784454,.645091,.247332,.505882,.862299,.710383,.27518,.631373,.920863,.782923,.351563,.756863,.955792,.859699,.533541,.882353,.976162,.93433,.780671,1,1,1,.999983]},{ColorSpace:"Lab",Name:"erdc_blue2gold_BW",RGBPoints:[-1,0,0,0,-.87451,.0742735,.0440331,.230013,-.74902,.125276,.0258685,.415826,-.623529,.143879,.0163031,.591346,-.498039,.212261,.0627855,.705239,-.372549,.306048,.141178,.763636,-.247059,.391537,.232286,.773263,-.121569,.461734,.336633,.708321,.00392157,.54209,.427581,.590007,.129412,.61704,.508623,.460978,.254902,.702703,.579586,.309117,.380392,.790336,.644811,.170397,.505882,.870173,.710733,.117134,.631373,.93656,.781991,.157144,.756863,.965672,.862068,.409836,.882353,.985751,.936296,.714162,1,1,1,.999999]},{ColorSpace:"Lab",Name:"erdc_sapphire2gold_BW",RGBPoints:[-1,.107704,.107708,.107694,-.87451,.1851,.112354,.308554,-.74902,.236782,.114233,.48788,-.623529,.28296,.126187,.639464,-.498039,.344787,.171643,.739713,-.372549,.413325,.242371,.76913,-.247059,.481863,.3131,.719841,-.121569,.550402,.383829,.612222,.00392157,.61894,.454558,.51126,.129412,.687478,.525287,.39993,.254902,.756017,.596016,.289923,.380392,.824555,.666745,.255498,.505882,.892979,.736822,.27696,.631373,.938851,.804966,.351734,.756863,.966491,.874853,.53572,.882353,.982105,.94153,.782579,1,1,1,.999986]},{ColorSpace:"Lab",Name:"erdc_red2purple_BW",RGBPoints:[-1,0,0,0,-.87451,.167793,.0166271,.0431278,-.74902,.262608,.0107595,.0791181,-.623529,.351902,.0101858,.100926,-.498039,.441257,.0160835,.131919,-.372549,.5221,.0555972,.195625,-.247059,.593852,.104294,.310234,-.121569,.654628,.158115,.448486,.00392157,.707443,.220914,.570253,.129412,.749504,.293268,.67897,.254902,.781587,.370517,.779269,.380392,.809951,.451099,.855831,.505882,.84424,.531462,.900451,.631373,.865174,.620901,.91606,.756863,.875041,.714054,.910284,.882353,.880764,.80554,.896276,1,.887572,.887591,.887556]},{ColorSpace:"Lab",Name:"erdc_purple2pink_BW",RGBPoints:[-1,0,0,0,-.87451,.117562,.0291202,.175876,-.74902,.178368,.0458476,.285454,-.623529,.237731,.0680173,.387717,-.498039,.300877,.0956291,.484802,-.372549,.370929,.136858,.554985,-.247059,.449033,.189273,.58863,-.121569,.529971,.245796,.598587,.00392157,.609914,.300643,.610244,.129412,.697079,.351286,.616371,.254902,.785858,.401991,.617376,.380392,.862517,.45745,.64463,.505882,.91359,.525462,.705336,.631373,.932583,.61064,.767412,.756863,.922478,.706966,.817522,.882353,.901302,.803071,.856311,1,.887571,.887591,.887549]},{ColorSpace:"Lab",Name:"erdc_pbj_lin",RGBPoints:[-1,0,0,0,-.87451,.091821,.0611476,.10617,-.74902,.160311,.0900022,.192713,-.623529,.22484,.12126,.272128,-.498039,.291263,.157469,.340828,-.372549,.360015,.200388,.388903,-.247059,.437497,.250058,.387201,-.121569,.512636,.304969,.355955,.00392157,.582603,.360874,.33488,.129412,.655126,.416374,.306351,.254902,.725889,.473329,.279051,.380392,.778125,.537928,.302697,.505882,.815894,.606931,.382431,.631373,.839159,.679308,.497608,.756863,.854748,.751666,.631792,.882353,.869483,.822508,.768592,1,.887572,.887589,.887565]},{ColorSpace:"Lab",Name:"erdc_blue2green_muted",RGBPoints:[-1,.107704,.107708,.107695,-.87451,.141522,.13066,.270741,-.74902,.180123,.146119,.42308,-.623529,.210161,.169674,.551795,-.498039,.239701,.212939,.634969,-.372549,.253916,.282947,.653641,-.247059,.242791,.366933,.608521,-.121569,.226302,.446776,.52693,.00392157,.236237,.514689,.458798,.129412,.274641,.577589,.376069,.254902,.349625,.633993,.288131,.380392,.4437,.683677,.260497,.505882,.536247,.731214,.285424,.631373,.628472,.777128,.349151,.756863,.718259,.819287,.496825,.882353,.804768,.856164,.703299,1,.887571,.887591,.887548]},{ColorSpace:"Lab",Name:"erdc_blue2green_BW",RGBPoints:[-1,363578e-12,0,529374e-11,-.87451,.0539915,.0577948,.212806,-.74902,.0620393,.0758942,.388959,-.623529,.0697499,.102032,.54177,-.498039,.113295,.156156,.64334,-.372549,.152047,.243196,.670283,-.247059,.158096,.344084,.622864,-.121569,.151142,.43922,.532767,.00392157,.17155,.521588,.457719,.129412,.225861,.599141,.363997,.254902,.32328,.67007,.259083,.380392,.442344,.733697,.223754,.505882,.558409,.794941,.257411,.631373,.673875,.854344,.340822,.756863,.787244,.909326,.524717,.882353,.896483,.958063,.775914,1,1,1,.999982]},{ColorSpace:"Lab",Name:"GREEN-WHITE_LINEAR",RGBPoints:[-1,0,0,0,-.87451,0,.062745,0,-.74902,0,.12549,0,-.623529,0,.188235,0,-.498039,0,.25098,0,-.372549,0,.313725,0,-.247059,0,.376471,0,-.121569,.094118,.439216,0,.00392157,.196078,.501961,0,.129412,.294118,.564706,0,.254902,.396078,.627451,0,.380392,.498039,.690196,0,.505882,.6,.752941,.145098,.631373,.701961,.815686,.364706,.756863,.8,.878431,.580392,.882353,.901961,.941176,.796078,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_green2yellow_BW",RGBPoints:[-1,0,0,0,-.87451,0,.105542,.0603919,-.74902,0,.159454,.104148,-.623529,0,.219502,.15542,-.498039,0,.282276,.203811,-.372549,0,.346331,.235652,-.247059,0,.411765,.235428,-.121569,0,.477177,.217977,.00392157,.0593644,.541635,.21361,.129412,.233081,.604722,.210591,.254902,.369803,.664942,.226536,.380392,.498446,.722367,.288237,.505882,.601929,.782244,.380815,.631373,.703207,.840497,.512134,.756863,.803186,.896433,.674462,.882353,.903834,.950266,.846715,1,1,1,.999981]},{ColorSpace:"Lab",Name:"blue2cyan",RGBPoints:[-1,0,0,0,-.87451,0,.152941,.364706,-.74902,0,.254902,.470588,-.623529,0,.34902,.572549,-.498039,0,.443137,.670588,-.372549,0,.537255,.772549,-.247059,0,.627451,.870588,-.121569,0,.717647,.964706,.00392157,.0784314,.772549,1,.129412,.207843,.858824,1,.254902,.32549,.941176,1,.380392,.45098,1,1,.505882,.560784,1,1,.631373,.662745,1,1,.756863,.760784,1,1,.882353,.870588,1,1,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_blue2cyan_BW",RGBPoints:[-1,405298e-12,0,59012e-10,-.87451,.0207526,.0740933,.18093,-.74902,0,.121033,.30343,-.623529,0,.166892,.416095,-.498039,0,.216768,.524796,-.372549,.0164769,.275471,.608585,-.247059,.0544527,.344824,.659267,-.121569,.0880643,.419118,.688675,.00392157,.127938,.492556,.720256,.129412,.149476,.566946,.756918,.254902,.188961,.641333,.792122,.380392,.245482,.715336,.827609,.505882,.329216,.786235,.874761,.631373,.453558,.852803,.918466,.756863,.626281,.910493,.954,.882353,.82257,.958709,.980146,1,1,1,.999989]},{ColorSpace:"Lab",Name:"erdc_blue_BW",RGBPoints:[-1,0,0,0,-.87451,.0425591,.0763529,.150682,-.74902,.0569472,.119154,.275403,-.623529,.0635978,.164772,.395427,-.498039,.0774342,.213851,.510014,-.372549,.106815,.267034,.615102,-.247059,.122093,.324649,.720068,-.121569,.160851,.387068,.806956,.00392157,.213754,.453516,.878012,.129412,.26722,.524656,.932436,.254902,.326844,.599279,.968038,.380392,.403403,.674712,.984784,.505882,.499703,.745519,1,.631373,.615055,.813983,1,.756863,.74405,.879228,1,.882353,.877909,.941913,1,1,1,1,.999996]},{ColorSpace:"Lab",Name:"BLUE-WHITE",RGBPoints:[-1,0,0,0,-.87451,0,0,.082353,-.74902,0,0,.168627,-.623529,0,0,.254902,-.498039,0,0,.337255,-.372549,0,0,.423529,-.247059,0,0,.509804,-.121569,0,.101961,.592157,.00392157,0,.203922,.678431,.129412,0,.301961,.764706,.254902,0,.403922,.85098,.380392,0,.505882,.933333,.505882,0,.603922,1,.631373,.254902,.705882,1,.756863,.509804,.807843,1,.882353,.764706,.905882,1,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_purple_BW",RGBPoints:[-1,4264e-11,0,620844e-12,-.87451,.100579,.0593111,.145666,-.74902,.167794,.0889224,.254953,-.623529,.231446,.123339,.360511,-.498039,.296699,.163027,.461278,-.372549,.363211,.209286,.55306,-.247059,.431136,.260776,.637195,-.121569,.498202,.320012,.705799,.00392157,.567456,.380459,.778091,.129412,.629381,.445284,.8448,.254902,.688373,.517374,.895694,.380392,.74891,.590906,.93976,.505882,.805017,.667956,.977626,.631373,.850914,.752618,.992396,.756863,.89724,.838454,.994093,.882353,.948461,.922603,.994449,1,1,1,.999967]},{ColorSpace:"Lab",Name:"erdc_magenta_BW",RGBPoints:[-1,0,0,254023e-10,-.87451,.128696,.0456782,.11635,-.74902,.228133,.0476299,.201452,-.623529,.327273,.0374065,.282107,-.498039,.420953,.0408166,.35709,-.372549,.511562,.0642203,.430511,-.247059,.599552,.102686,.504257,-.121569,.684646,.150536,.579429,.00392157,.765817,.205978,.656062,.129412,.839176,.27229,.731807,.254902,.89536,.357594,.797309,.380392,.930238,.457825,.846984,.505882,.945921,.564536,.880571,.631373,.948995,.670753,.902279,.756863,.947124,.772819,.918171,.882353,.947265,.869424,.934352,1,.954719,.95475,.954726]},{ColorSpace:"Lab",Name:"magenta",RGBPoints:[-1,0,0,0,-.87451,.364706,0,.152941,-.74902,.470588,0,.254902,-.623529,.572549,0,.34902,-.498039,.670588,0,.443137,-.372549,.772549,0,.537255,-.247059,.870588,0,.627451,-.121569,.964706,0,.717647,.00392157,1,.0784314,.772549,.129412,1,.207843,.858824,.254902,1,.32549,.941176,.380392,1,.45098,1,.505882,1,.560784,1,.631373,1,.662745,1,.756863,1,.760784,1,.882353,1,.870588,1,1,1,1,1]},{ColorSpace:"Lab",Name:"RED-PURPLE",RGBPoints:[-1,0,0,0,-.87451,.188235,0,.007843,-.74902,.345098,0,.035294,-.623529,.439216,0,.098039,-.498039,.533333,0,.152941,-.372549,.627451,.015686,.211765,-.247059,.721569,.031373,.266667,-.121569,.8,.047059,.329412,.00392157,.862745,.047059,.403922,.129412,.941176,.062745,.466667,.254902,.988235,.078431,.54902,.380392,.988235,.141176,.643137,.505882,.988235,.25098,.729412,.631373,.988235,.376471,.811765,.756863,.988235,.54902,.886275,.882353,.988235,.752941,.952941,1,.996078,.996078,.996078]},{ColorSpace:"Lab",Name:"erdc_red_BW",RGBPoints:[-1,0,0,0,-.87451,.147204,.0480135,.0401815,-.74902,.253411,.0617478,.0301333,-.623529,.356059,.0746331,.0446897,-.498039,.457731,.0934935,.0636931,-.372549,.557199,.122714,.0860013,-.247059,.665179,.144238,.105585,-.121569,.763833,.187056,.138326,.00392157,.847035,.254558,.189407,.129412,.905663,.345937,.258215,.254902,.941431,.447111,.346277,.380392,.962608,.546927,.457571,.505882,.987833,.637276,.569944,.631373,.994202,.732176,.687958,.756863,.993304,.826268,.800567,.882353,.994413,.917205,.906393,1,1,1,.999979]},{ColorSpace:"Lab",Name:"RED_TEMPERATURE",RGBPoints:[-1,0,0,0,-.87451,.090196,0,0,-.74902,.180392,0,0,-.623529,.270588,0,0,-.498039,.360784,0,0,-.372549,.45098,0,0,-.247059,.545098,0,0,-.121569,.635294,0,0,.00392157,.72549,.058824,0,.129412,.815686,.176471,0,.254902,.905882,.294118,0,.380392,1,.411765,0,.505882,1,.533333,.027451,.631373,1,.65098,.27451,.756863,1,.768627,.521569,.882353,1,.886275,.768627,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_orange_BW",RGBPoints:[-1,0,0,253806e-10,-.87451,.135871,.0593824,0,-.74902,.224328,.0907216,0,-.623529,.318083,.119647,0,-.498039,.414443,.150246,0,-.372549,.511077,.184884,0,-.247059,.605501,.226033,0,-.121569,.695274,.275491,0,.00392157,.777826,.334445,0,.129412,.851498,.402441,0,.254902,.915899,.47759,602975e-9,.380392,.971984,.557882,.0361443,.505882,1,.641287,.135967,.631373,1,.725198,.27997,.756863,1,.808205,.438135,.882353,1,.89306,.587036,1,1,.977928,.721599]},{ColorSpace:"Lab",Name:"heated_object",RGBPoints:[-1,0,0,0,-.87451,.34902,.0862745,0,-.74902,.45098,.172549,0,-.623529,.52549,.231373,0,-.498039,.580392,.278431,0,-.372549,.623529,.313725,0,-.247059,.670588,.352941,0,-.121569,.717647,.392157,0,.00392157,.772549,.439216,0,.129412,.839216,.494118,0,.254902,.901961,.541176,0,.380392,.968627,.6,0,.505882,1,.658824,0,.631373,1,.721569,0,.756863,1,.827451,.298039,.882353,1,.976471,.72549,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_gold_BW",RGBPoints:[-1,0,0,190933e-10,-.87451,.128363,.0636265,0,-.74902,.193795,.111057,0,-.623529,.25976,.15987,0,-.498039,.328546,.210589,0,-.372549,.399726,.26332,0,-.247059,.472969,.318261,0,-.121569,.546245,.375827,0,.00392157,.61745,.436719,0,.129412,.685545,.501113,0,.254902,.749578,.568799,0,.380392,.80962,.6394,0,.505882,.865572,.712699,.10257,.631373,.917709,.787569,.233665,.756863,.966914,.863138,.369608,.882353,1,.939405,.496104,1,.999225,1,.612275]},{ColorSpace:"Lab",Name:"erdc_brown_BW",RGBPoints:[-1,33216e-11,0,483629e-11,-.87451,.14693,.0518172,0,-.74902,.225806,.0814996,0,-.623529,.301681,.111452,0,-.498039,.370487,.150664,0,-.372549,.43108,.199477,0,-.247059,.4849,.255107,0,-.121569,.536798,.313486,0,.00392157,.59286,.371167,0,.129412,.653119,.428135,0,.254902,.714589,.485917,.0379541,.380392,.774667,.54565,.116634,.505882,.831222,.608047,.183895,.631373,.880305,.674199,.260298,.756863,.922314,.742472,.367086,.882353,.959408,.811222,.497258,1,.993548,.875183,.622093]},{ColorSpace:"Lab",Name:"copper_Matlab",RGBPoints:[-1,0,0,0,-.87451,.0784314,.0501961,.0313725,-.74902,.156863,.100392,.0627451,-.623529,.235294,.150588,.0941176,-.498039,.313725,.200784,.12549,-.372549,.392157,.25098,.156863,-.247059,.470588,.301176,.188235,-.121569,.54902,.351373,.219608,.00392157,.627451,.401569,.25098,.129412,.705882,.451765,.282353,.254902,.784314,.501961,.313725,.380392,.862745,.552157,.345098,.505882,.941176,.602353,.376471,.631373,1,.652549,.407843,.756863,1,.702745,.439216,.882353,1,.752941,.470588,1,1,.8,.5]},{ColorSpace:"Lab",Name:"pink_Matlab",RGBPoints:[-1,0,0,0,-.87451,.312416,.204524,.204524,-.74902,.441822,.289241,.289241,-.623529,.54112,.354246,.354246,-.498039,.624831,.409048,.409048,-.372549,.698582,.45733,.45733,-.247059,.764404,.502282,.500979,-.121569,.791292,.591516,.54112,.00392157,.817297,.66895,.578481,.129412,.842499,.738308,.613572,.254902,.866968,.801687,.646762,.380392,.890766,.86041,.678329,.505882,.913944,.913944,.711254,.631373,.936549,.936549,.79459,.756863,.958621,.958621,.869979,.882353,.980196,.980196,.939336,1,1,1,1]},{ColorSpace:"Lab",Name:"bone_Matlab",RGBPoints:[-1,0,0,0,-.87451,.054902,.054902,.075817,-.74902,.109804,.109804,.151634,-.623529,.164706,.164706,.227451,-.498039,.219608,.219608,.303268,-.372549,.27451,.27451,.379085,-.247059,.329412,.329902,.454412,-.121569,.384314,.405719,.509314,.00392157,.439216,.481536,.564216,.129412,.494118,.557353,.619118,.254902,.54902,.63317,.67402,.380392,.603922,.708987,.728922,.505882,.660294,.783824,.783824,.631373,.746569,.838725,.838725,.756863,.832843,.893627,.893627,.882353,.919118,.948529,.948529,1,1,1,1]},{ColorSpace:"Lab",Name:"gray_Matlab",RGBPoints:[-1,0,0,0,-.87451,.0627451,.0627451,.0627451,-.74902,.12549,.12549,.12549,-.623529,.188235,.188235,.188235,-.498039,.25098,.25098,.25098,-.372549,.313725,.313725,.313725,-.247059,.376471,.376471,.376471,-.121569,.439216,.439216,.439216,.00392157,.501961,.501961,.501961,.129412,.564706,.564706,.564706,.254902,.627451,.627451,.627451,.380392,.690196,.690196,.690196,.505882,.752941,.752941,.752941,.631373,.815686,.815686,.815686,.756863,.878431,.878431,.878431,.882353,.941176,.941176,.941176,1,1,1,1]},{ColorSpace:"Lab",Name:"Purples",RGBPoints:[-1,.247059,0,.490196,-.87451,.288397,.07677,.525629,-.74902,.32975,.153587,.561092,-.623529,.373057,.236263,.600461,-.498039,.416363,.319,.639923,-.372549,.459669,.405613,.685198,-.247059,.503345,.491534,.730058,-.121569,.562399,.54862,.757616,.00392157,.621453,.606075,.785544,.129412,.680508,.674971,.824914,.254902,.739562,.743406,.863899,.380392,.798616,.800492,.893426,.505882,.85684,.856655,.922491,.631373,.898178,.894056,.942176,.756863,.938654,.930919,.961646,.882353,.964245,.958478,.977393,1,.988235,.984314,.992157]},{ColorSpace:"Lab",Name:"Blues",RGBPoints:[-1,.031373,.188235,.419608,-.87451,.031373,.253195,.516063,-.74902,.031757,.318139,.612149,-.623529,.080969,.38113,.661361,-.498039,.130427,.444152,.710327,-.372549,.195386,.509112,.743791,-.247059,.260715,.573841,.777209,-.121569,.341423,.628958,.808704,.00392157,.422745,.684075,.839892,.129412,.523137,.739193,.861546,.254902,.622684,.793464,.883429,.380392,.701423,.826928,.910988,.505882,.778685,.8603,.937993,.631373,.825928,.891795,.953741,.756863,.87328,.923291,.969489,.882353,.922491,.954787,.985236,1,.968627,.984314,1]},{ColorSpace:"Lab",Name:"Greens",RGBPoints:[-1,0,.266667,.105882,-.87451,0,.347374,.139346,-.74902,538e-6,.427912,.172933,-.623529,.069435,.486967,.222145,-.498039,.138178,.546082,.271326,-.372549,.197232,.609073,.31857,-.247059,.257255,.671742,.365859,-.121569,.357647,.720953,.415071,.00392157,.45767,.769919,.465021,.129412,.546251,.811257,.537855,.254902,.634295,.852211,.610688,.380392,.709097,.883706,.683522,.505882,.78316,.914833,.755894,.631373,.842215,.938454,.818885,.756863,.899977,.961538,.880692,.882353,.935409,.975317,.92203,1,.968627,.988235,.960784]},{ColorSpace:"Lab",Name:"PuBu",RGBPoints:[-1,.301961,0,.294118,-.87451,.404321,.029527,.390573,-.74902,.50599,.059592,.486782,-.623529,.519769,.158016,.551742,-.498039,.533456,.256194,.616301,-.372549,.54133,.33887,.655671,-.247059,.54902,.421592,.695087,-.121569,.54902,.506236,.736424,.00392157,.550127,.590573,.777701,.129412,.585559,.665375,.81707,.254902,.622145,.739023,.855825,.380392,.687105,.784298,.879446,.505882,.752065,.829758,.903253,.631373,.817024,.87897,.930811,.756863,.880907,.927213,.957832,.882353,.926182,.958708,.975548,1,.968627,.988235,.992157]},{ColorSpace:"Lab",Name:"BuPu",RGBPoints:[-1,.007843,.219608,.345098,-.87451,.01178,.286536,.449427,-.74902,.015702,.35328,.553479,-.623529,.01767,.396586,.622376,-.498039,.021115,.4402,.690688,-.372549,.11757,.503191,.722184,-.247059,.214625,.565859,.753633,-.121569,.336671,.615071,.78316,.00392157,.457978,.663975,.812503,.129412,.556401,.703345,.836125,.254902,.65421,.742714,.859669,.380392,.736886,.782084,.881323,.505882,.81827,.821638,.903068,.631373,.873387,.864944,.92669,.756863,.927536,.907605,.949988,.882353,.964937,.9391,.967705,1,1,.968627,.984314]},{ColorSpace:"Lab",Name:"BuGn",RGBPoints:[-1,.031373,.25098,.505882,-.87451,.031373,.329719,.590527,-.74902,.031911,.408397,.674787,-.623529,.100807,.479262,.710219,-.498039,.169704,.550219,.745744,-.372549,.238601,.62699,.787082,-.247059,.307958,.703114,.826759,-.121569,.39654,.752326,.797232,.00392157,.485121,.801046,.767705,.129412,.573702,.83451,.738178,.254902,.661592,.867743,.711034,.380392,.732457,.895302,.74253,.505882,.801845,.922307,.774579,.631373,.841215,.938055,.817885,.756863,.880907,.95391,.861084,.882353,.926182,.971626,.902422,1,.968627,.988235,.941176]},{ColorSpace:"Lab",Name:"GnBu",RGBPoints:[-1,0,.266667,.105882,-.87451,0,.347374,.139346,-.74902,538e-6,.427912,.172933,-.623529,.069435,.486967,.222145,-.498039,.138178,.546175,.272095,-.372549,.197232,.615071,.368551,-.247059,.256609,.683276,.464867,-.121569,.329443,.722645,.555417,.00392157,.403137,.762138,.645413,.129412,.503529,.805444,.718247,.254902,.603922,.848597,.790465,.380392,.704314,.887966,.847551,.505882,.802307,.926321,.903714,.631373,.851519,.944037,.941115,.756863,.899977,.961538,.976901,.882353,.935409,.975317,.984775,1,.968627,.988235,.992157]},{ColorSpace:"Lab",Name:"GnBuPu",RGBPoints:[-1,.003922,.27451,.211765,-.87451,.003922,.349312,.280661,-.74902,.003937,.423852,.349773,-.623529,.005905,.46519,.446228,-.498039,.009443,.506344,.542837,-.372549,.111803,.535871,.649135,-.247059,.214025,.565859,.753633,-.121569,.310481,.615071,.78316,.00392157,.407797,.663975,.812503,.129412,.531811,.703345,.836125,.254902,.65421,.742714,.859669,.380392,.736886,.782084,.881323,.505882,.81827,.821176,.902884,.631373,.873387,.854641,.922568,.756863,.927536,.888535,.942361,.882353,.964937,.929873,.964014,1,1,.968627,.984314]},{ColorSpace:"Lab",Name:"BuGnYl",RGBPoints:[-1,.031373,.113725,.345098,-.87451,.088458,.159,.463206,-.74902,.145052,.204567,.5807,-.623529,.139146,.287243,.620069,-.498039,.13318,.370196,.659562,-.372549,.123337,.470588,.706805,-.247059,.115386,.570335,.753126,-.121569,.186251,.643168,.761,.00392157,.258716,.71514,.768074,.129412,.380761,.760415,.750358,.254902,.503576,.806075,.732795,.380392,.645306,.861192,.719016,.505882,.783899,.91511,.705606,.631373,.858701,.944637,.6997,.756863,.931349,.973303,.698424,.882353,.966782,.987082,.777163,1,1,1,.85098]},{ColorSpace:"Lab",Name:"PuRd",RGBPoints:[-1,.286275,0,.415686,-.87451,.38273,.001968,.441276,-.74902,.479231,.003922,.466774,-.623529,.581592,.003922,.480554,-.498039,.683799,.00549,.494887,-.372549,.776317,.105882,.544098,-.247059,.867866,.206321,.592618,-.121569,.919047,.308681,.612303,.00392157,.968812,.411226,.632603,.129412,.974717,.519493,.671972,.254902,.980546,.626451,.71065,.380392,.984483,.701253,.732303,.505882,.988328,.77504,.755617,.631373,.990296,.828189,.812703,.756863,.992372,.880907,.869035,.882353,.996309,.926182,.912341,1,1,.968627,.952941]},{ColorSpace:"Lab",Name:"RdPu",RGBPoints:[-1,.403922,0,.121569,-.87451,.500377,0,.192434,-.74902,.596909,277e-6,.263037,-.623529,.703206,.035709,.300438,-.498039,.808612,.071296,.338854,-.372549,.857824,.116571,.441215,-.247059,.905513,.163552,.54293,-.121569,.889765,.281661,.617732,.00392157,.873156,.39897,.691611,.129412,.82985,.491488,.736886,.254902,.789081,.583237,.781853,.380392,.810734,.656071,.819254,.505882,.833126,.729181,.85684,.631373,.870527,.80792,.898178,.756863,.907605,.884398,.938331,.882353,.9391,.921799,.958016,1,.968627,.956863,.976471]},{ColorSpace:"Lab",Name:"Oranges",RGBPoints:[-1,.498039,.152941,.015686,-.87451,.57481,.182468,.013718,-.74902,.651765,.212042,.011734,-.623529,.752157,.247474,.007797,-.498039,.851719,.283368,.004475,-.372549,.898962,.348328,.039908,-.247059,.945652,.413426,.076401,-.121569,.969273,.484291,.157109,.00392157,.992157,.554971,.238185,.129412,.992157,.619931,.330704,.254902,.992157,.684967,.423837,.380392,.992157,.751895,.532103,.505882,.992249,.817716,.639354,.631373,.994218,.861023,.725967,.756863,.996186,.903576,.810965,.882353,.998155,.933103,.868051,1,1,.960784,.921569]},{ColorSpace:"Lab",Name:"Reds",RGBPoints:[-1,.403922,0,.05098,-.87451,.525967,.029527,.066728,-.74902,.647643,.058962,.082476,-.623529,.722445,.076678,.098224,-.498039,.797186,.095194,.114187,-.372549,.868051,.164091,.143714,-.247059,.937809,.233541,.173933,-.121569,.96143,.326059,.232987,.00392157,.984375,.418147,.292657,.129412,.986344,.496886,.371396,.254902,.988235,.575702,.450673,.380392,.988235,.656409,.543191,.505882,.98842,.736747,.635894,.631373,.992357,.809581,.732349,.756863,.996186,.880692,.826759,.882353,.998155,.92203,.885813,1,1,.960784,.941176]},{ColorSpace:"Lab",Name:"RdOr",RGBPoints:[-1,.498039,0,0,-.87451,.6004,0,0,-.74902,.702514,738e-6,477e-6,-.623529,.773379,.095225,.061499,-.498039,.843875,.189865,.12283,-.372549,.891119,.294195,.203537,-.247059,.937855,.397924,.283137,-.121569,.963445,.476663,.316601,.00392157,.988297,.555771,.351665,.129412,.990265,.646321,.436309,.254902,.992157,.735256,.519646,.380392,.992157,.784468,.570827,.505882,.992249,.833218,.623483,.631373,.994218,.872587,.706159,.756863,.996186,.911419,.788189,.882353,.998155,.940946,.859054,1,1,.968627,.92549]},{ColorSpace:"Lab",Name:"BrOrYl",RGBPoints:[-1,.4,.145098,.023529,-.87451,.500392,.174625,.019592,-.74902,.600784,.204291,.015656,-.623529,.701176,.251534,.011719,-.498039,.800984,.299146,.008397,-.372549,.863975,.370012,.043829,-.247059,.926321,.441107,.0794,-.121569,.961753,.521815,.120738,.00392157,.996078,.602645,.163122,.129412,.996078,.68729,.237924,.254902,.996078,.771011,.314879,.380392,.996078,.832034,.444798,.505882,.996171,.892042,.572595,.631373,.998139,.931411,.65724,.756863,1,.969489,.741669,.882353,1,.985236,.822376,1,1,1,.898039]},{ColorSpace:"Lab",Name:"RdOrYl",RGBPoints:[-1,.501961,0,.14902,-.87451,.622038,0,.14902,-.74902,.741761,4e-4,.148866,-.623529,.816563,.05158,.129181,-.498039,.890965,.10356,.110235,-.372549,.940177,.205921,.137793,-.247059,.988281,.308789,.165536,-.121569,.99025,.432803,.200969,.00392157,.992218,.555217,.236278,.129412,.994187,.628051,.267774,.254902,.996078,.701038,.301269,.380392,.996078,.777809,.383945,.505882,.996171,.852826,.466621,.631373,.998139,.892195,.549296,.756863,1,.931349,.632188,.882353,1,.966782,.7188,1,1,1,.8]},{ColorSpace:"Lab",Name:"CIELab_blue2red",RGBPoints:[-1,0,.6,.74902,1,.76863,.46667,.34118]},{ColorSpace:"Lab",Name:"blue2yellow",RGBPoints:[-1,0,0,1,0,.5,.5,.5,1,1,1,0]},{ColorSpace:"Lab",Name:"erdc_blue2gold",RGBPoints:[-1,.175119,.0438468,1,-.874016,.22383,.159771,.94557,-.748031,.27254,.233611,.891216,-.622047,.321251,.296526,.836857,-.496063,.369962,.354296,.782359,-.370079,.418672,.409139,.72754,-.244094,.467383,.462152,.672148,-.11811,.51609,.51396,.615825,.00787402,.572863,.55452,.559172,.133858,.630269,.593822,.517729,.259843,.689588,.624668,.47446,.385827,.745394,.656113,.428638,.511811,.798624,.688104,.379105,.637795,.849926,.720593,.323834,.76378,.899765,.753543,.258657,.889764,.948487,.78692,.171778,1,.990413,.816451,.00729848]},{ColorSpace:"Lab",Name:"erdc_blue2yellow",RGBPoints:[-1,.0830122,0,.495617,-.87451,.141973,.0551288,.57363,-.74902,.193048,.110258,.604561,-.623529,.234231,.165386,.57643,-.498039,.275413,.220515,.548299,-.372549,.316596,.275644,.520169,-.247059,.357778,.330773,.492038,-.121569,.398961,.385901,.463908,.00392157,.449929,.438487,.426815,.129412,.511572,.488299,.379944,.254902,.581222,.53603,.325741,.380392,.650871,.583761,.271538,.505882,.720521,.631493,.217335,.631373,.79017,.679224,.163132,.756863,.85982,.726955,.108929,.882353,.910254,.774159,.14112,1,.927513,.81759,.306289]},{ColorSpace:"Lab",Name:"erdc_cyan2orange",RGBPoints:[-1,.0471513,.213874,.414329,-.87451,.0674702,.256648,.439027,-.74902,.0959957,.299331,.462089,-.623529,.132428,.341872,.483212,-.498039,.188743,.38277,.500597,-.372549,.268511,.420229,.512179,-.247059,.352945,.455602,.519101,-.121569,.43893,.489368,.521538,.00392157,.522445,.522495,.522436,.129412,.600089,.555682,.53205,.254902,.67988,.587981,.539163,.380392,.761011,.619586,.544439,.505882,.84278,.650741,.548567,.631373,.910713,.687347,.557822,.756863,.952232,.734972,.577775,.882353,.975642,.789858,.604868,1,.990752,.843643,.632857]},{ColorSpace:"Lab",Name:"erdc_purple2green",RGBPoints:[-1,.235006,.0483128,.530899,-.87451,.302968,.108419,.552391,-.74902,.360241,.166059,.569502,-.623529,.406746,.226782,.579373,-.498039,.444073,.28964,.582094,-.372549,.473648,.353774,.577947,-.247059,.497636,.418154,.567911,-.121569,.519086,.481741,.553968,.00392157,.542884,.542914,.542875,.129412,.566303,.603989,.527499,.254902,.595218,.662965,.516857,.380392,.628641,.720701,.510673,.505882,.665373,.777849,.508165,.631373,.704182,.834921,.508303,.756863,.743846,.892328,.50999,.882353,.783158,.950422,.512181,1,.818617,1,.513888]},{ColorSpace:"Lab",Name:"erdc_purple2green_dark",RGBPoints:[-1,.107656,0,.428682,-.87451,.1924,0,.449799,-.74902,.255118,.0648939,.466726,-.623529,.304256,.133066,.476703,-.498039,.343202,.19716,.479793,-.372549,.373876,.260353,.476241,-.247059,.398497,.322872,.466953,-.121569,.420016,.384252,.453785,.00392157,.44319,.443216,.443186,.129412,.465553,.502139,.428233,.254902,.492959,.559151,.417591,.380392,.524654,.615092,.411016,.505882,.55959,.670583,.40779,.631373,.596614,.726102,.406948,.756863,.634544,.782032,.407439,.882353,.672183,.838703,.408237,1,.706131,.892759,.408452]},{ColorSpace:"Lab",Name:"coolwarm",RGBPoints:[-1,.229806,.298718,.753683,-.875,.303869,.406535,.844959,-.75,.383013,.509419,.917388,-.625,.466667,.604563,.968155,-.5,.552953,.688929,.995376,-.375,.639176,.7596,.998151,-.25,.722193,.813953,.976575,-.125,.798692,.849786,.931689,0,.865395,.86541,.865396,.125,.924128,.827385,.774508,.25,.958853,.769768,.678008,.375,.969954,.694267,.579375,.5,.958003,.602842,.481776,.625,.923945,.497309,.38797,.75,.869187,.378313,.300267,.875,.795632,.241284,.220526,1,.705673,.0155562,.150233]},{ColorSpace:"Lab",Name:"BuRd",RGBPoints:[-1,.019608,.188235,.380392,-.87451,.088504,.321107,.564937,-.74902,.163399,.444983,.697501,-.623529,.247059,.555709,.754095,-.498039,.420684,.676432,.818685,-.372549,.606459,.789773,.880277,-.247059,.761476,.868512,.924567,-.121569,.878047,.925721,.951942,.00392157,.969089,.966474,.964937,.129412,.983852,.897578,.846828,.254902,.982468,.800692,.706113,.380392,.960323,.66782,.536332,.505882,.894579,.503806,.399769,.631373,.81707,.33218,.281046,.756863,.728489,.155017,.197386,.882353,.576932,.055363,.14925,1,.403922,0,.121569]},{ColorSpace:"Lab",Name:"Spectral_lowBlue",RGBPoints:[-1,.368627,.309804,.635294,-.87451,.260361,.450058,.70173,-.74902,.248058,.591311,.717186,-.623529,.376009,.734025,.658132,-.498039,.537947,.814764,.64506,-.372549,.702345,.879585,.636678,-.247059,.84752,.938639,.607151,-.121569,.940408,.976163,.656055,.00392157,.999923,.997616,.745021,.129412,.997463,.921338,.61707,.254902,.995002,.824606,.499885,.380392,.992541,.701576,.39654,.505882,.973472,.547405,.318108,.631373,.937793,.398539,.270127,.756863,.861515,.282891,.299654,.882353,.746482,.144637,.288812,1,.619608,.003922,.258824]},{ColorSpace:"Lab",Name:"GnRP",RGBPoints:[-1,0,.266667,.105882,-.87451,.066436,.394617,.174779,-.74902,.168858,.524567,.25767,-.623529,.323875,.657439,.361015,-.498039,.504883,.772318,.506344,-.372549,.678431,.870127,.654902,-.247059,.803922,.921799,.780392,-.121569,.897116,.951942,.882814,.00392157,.967397,.965936,.967474,.129412,.928028,.879815,.930565,.254902,.866052,.780777,.882891,.380392,.77501,.665129,.821376,.505882,.675663,.537024,.737024,.631373,.57847,.396155,.645982,.756863,.492349,.223914,.547559,.882353,.375548,.096886,.423299,1,.25098,0,.294118]},{ColorSpace:"Lab",Name:"GYPi",RGBPoints:[-1,.152941,.392157,.098039,-.87451,.246444,.505344,.117724,-.74902,.351942,.614533,.161399,-.623529,.474971,.717878,.240138,-.498039,.611995,.811226,.392849,-.372549,.746328,.893118,.565321,-.247059,.859516,.94233,.747405,-.121569,.928105,.96386,.875663,.00392157,.969089,.966859,.968012,.129412,.983852,.910265,.948328,.254902,.979239,.833218,.914648,.380392,.949712,.729873,.862976,.505882,.905652,.58293,.763552,.631373,.85521,.410073,.652211,.756863,.793695,.183699,.531642,.882353,.683737,.063899,.420761,1,.556863,.003922,.321569]},{ColorSpace:"Lab",Name:"GnYlRd",RGBPoints:[-1,0,.407843,.215686,-.87451,.063975,.525952,.277201,-.74902,.177932,.633064,.332718,-.623529,.364937,.724106,.379469,-.498039,.527951,.797155,.40223,-.372549,.678431,.862822,.433449,-.247059,.803922,.916955,.514648,-.121569,.909419,.961861,.625067,.00392157,.999923,.997616,.745021,.129412,.997463,.921338,.61707,.254902,.995002,.824606,.499885,.380392,.992541,.701576,.39654,.505882,.973472,.547405,.318108,.631373,.939023,.389927,.245521,.756863,.867666,.239831,.176624,.882353,.762399,.110727,.151326,1,.647059,0,.14902]},{ColorSpace:"Lab",Name:"GBBr",RGBPoints:[-1,0,.235294,.188235,-.87451,.002461,.338639,.301423,-.74902,.055902,.448981,.417609,-.623529,.183852,.56955,.538178,-.498039,.357785,.700115,.660746,-.372549,.540177,.819531,.77624,-.247059,.714879,.890888,.864821,-.121569,.851134,.934564,.922645,.00392157,.960861,.959785,.95694,.129412,.963322,.927797,.83391,.254902,.939946,.868897,.68935,.380392,.883353,.775394,.517109,.505882,.808074,.625836,.324106,.631373,.717647,.476355,.15494,.756863,.592157,.358247,.06882,.882353,.458593,.26436,.031142,1,.329412,.188235,.019608]},{ColorSpace:"Lab",Name:"PuOr",RGBPoints:[-1,.498039,.231373,.031373,-.87451,.62599,.30273,.026451,-.74902,.746943,.387082,.037524,-.623529,.85767,.490427,.071972,-.498039,.936409,.617762,.236371,-.372549,.992695,.743099,.43291,-.247059,.995156,.841523,.63714,-.121569,.985313,.913802,.813687,.00392157,.966244,.966398,.967705,.129412,.889965,.89504,.938178,.254902,.806151,.804306,.894656,.380392,.712649,.688658,.833141,.505882,.594233,.554325,.744637,.631373,.474894,.404229,.652364,.756863,.366628,.217224,.563783,.882353,.266436,.089965,.434833,1,.176471,0,.294118]},{ColorSpace:"Lab",Name:"PRGn",RGBPoints:[-1,.25098,0,.294118,-.87451,.383852,.103345,.431911,-.74902,.497732,.234679,.55371,-.623529,.583852,.40692,.652134,-.498039,.681968,.545175,.742561,-.372549,.7807,.672357,.825221,-.247059,.871742,.788005,.886736,-.121569,.930488,.885198,.932872,.00392157,.966321,.968089,.965859,.129412,.892503,.950865,.877278,.254902,.796078,.91857,.772549,.380392,.670588,.866897,.647059,.505882,.493195,.765398,.496655,.631373,.314187,.649135,.354556,.756863,.15917,.516263,.251211,.882353,.062284,.386621,.170473,1,0,.266667,.105882]},{ColorSpace:"Lab",Name:"PiYG",RGBPoints:[-1,.556863,.003922,.321569,-.87451,.692195,.067897,.427374,-.74902,.797539,.197847,.539177,-.623529,.859054,.424221,.659746,-.498039,.908574,.592618,.770319,-.372549,.951557,.736332,.866205,-.247059,.981084,.839677,.917878,-.121569,.98293,.913802,.949558,.00392157,.96732,.968474,.965629,.129412,.92549,.963552,.869666,.254902,.852441,.939254,.736025,.380392,.739254,.890042,.553941,.505882,.60323,.805536,.382238,.631373,.467282,.711419,.235217,.756863,.344252,.608074,.156478,.882353,.2406,.49827,.116494,1,.152941,.392157,.098039]},{ColorSpace:"Lab",Name:"OrPu",RGBPoints:[-1,.176471,0,.294118,-.87451,.272434,.095963,.444214,-.74902,.373395,.228912,.56932,-.623529,.481661,.415917,.657901,-.498039,.601922,.562937,.750481,-.372549,.718493,.695886,.836986,-.247059,.811995,.811534,.898501,-.121569,.894733,.8995,.940023,.00392157,.969166,.966859,.963629,.129412,.98639,.910265,.803691,.254902,.995002,.835371,.624375,.380392,.992541,.736947,.420146,.505882,.931949,.609458,.224221,.631373,.85075,.483968,.069819,.756863,.740023,.380623,.035371,.882353,.617993,.29827,.026759,1,.498039,.231373,.031373]},{ColorSpace:"Lab",Name:"BrBG",RGBPoints:[-1,.329412,.188235,.019608,-.87451,.467205,.269435,.031911,-.74902,.6,.365629,.074202,-.623529,.72549,.483737,.160323,-.498039,.812995,.635832,.336409,-.372549,.88689,.781238,.527874,-.247059,.943483,.87474,.700115,-.121569,.963168,.929796,.841599,.00392157,.957247,.959938,.959554,.129412,.84406,.932872,.920185,.254902,.70396,.886428,.859285,.380392,.529258,.815071,.770704,.505882,.346251,.691811,.653057,.631373,.175855,.562015,.530642,.756863,.047905,.441446,.410073,.882353,.002307,.33218,.294348,1,0,.235294,.188235]},{ColorSpace:"Lab",Name:"GyRd",RGBPoints:[-1,.101961,.101961,.101961,-.87451,.227451,.227451,.227451,-.74902,.359939,.359939,.359939,-.623529,.502653,.502653,.502653,-.498039,.631373,.631373,.631373,-.372549,.749865,.749865,.749865,-.247059,.843368,.843368,.843368,-.121569,.926105,.926105,.926105,.00392157,.999846,.997232,.995694,.129412,.994925,.908651,.857901,.254902,.982468,.800692,.706113,.380392,.960323,.66782,.536332,.505882,.894579,.503806,.399769,.631373,.81707,.33218,.281046,.756863,.728489,.155017,.197386,.882353,.576932,.055363,.14925,1,.403922,0,.121569]},{ColorSpace:"Lab",Name:"erdc_divHi_purpleGreen",RGBPoints:[-1,.297553,0,.489074,-.87451,.40259,.151146,.567754,-.74902,.516038,.284843,.658231,-.623529,.629783,.423646,.750938,-.498039,.735198,.563697,.835956,-.372549,.82408,.695541,.903582,-.247059,.889091,.807454,.944862,-.121569,.92334,.886917,.951839,.00392157,.921045,.921084,.921003,.129412,.877324,.907455,.845381,.254902,.797649,.849713,.734695,.380392,.691646,.75964,.600532,.505882,.568981,.649159,.453807,.631373,.438945,.529756,.304259,.756863,.30973,.412001,.158303,.882353,.187078,.305111,.00251458,1,.101655,.220836,0]},{ColorSpace:"Lab",Name:"erdc_divHi_purpleGreen_dim",RGBPoints:[-1,.404088,.131038,.592767,-.87451,.486469,.230957,.651243,-.74902,.575165,.339335,.717723,-.623529,.662741,.454332,.784263,-.498039,.742071,.570213,.842918,-.372549,.806935,.678992,.886227,-.247059,.852219,.771315,.90763,-.121569,.873345,.837327,.901572,.00392157,.866783,.86682,.866745,.129412,.82839,.858225,.796812,.254902,.762578,.814287,.700202,.380392,.676429,.744229,.585735,.505882,.577033,.65732,.461526,.631373,.47128,.562476,.33476,.756863,.365461,.467957,.21076,.882353,.264758,.381138,.0878313,1,.182591,.312249,0]},{ColorSpace:"Lab",Name:"erdc_divLow_icePeach",RGBPoints:[-1,.480048,.817441,.998056,-.87451,.425898,.726921,.883187,-.74902,.366682,.629445,.761936,-.623529,.308756,.531002,.640217,-.498039,.258021,.43705,.523433,-.372549,.219244,.352381,.416348,-.247059,.195127,.281032,.322979,-.121569,.186286,.22627,.246525,.00392157,.192352,.19236,.192364,.129412,.255927,.214469,.191756,.254902,.340459,.254426,.206666,.380392,.444655,.309315,.234029,.505882,.565353,.376004,.270969,.631373,.697917,.450748,.314293,.756863,.836657,.529064,.360227,.882353,.972695,.614884,.413123,1,1,.705904,.472699]},{ColorSpace:"Lab",Name:"erdc_divLow_purpleGreen",RGBPoints:[-1,.956034,.666487,.952663,-.87451,.874457,.572698,.936352,-.74902,.753465,.488253,.909063,-.623529,.63309,.413507,.763833,-.498039,.514491,.345878,.620015,-.372549,.405008,.288141,.484376,-.247059,.311388,.241986,.363556,-.121569,.238722,.209044,.263449,.00392157,.192352,.192366,.192362,.129412,.200379,.233201,.168618,.254902,.230151,.291737,.165227,.380392,.279481,.366076,.178607,.505882,.344927,.453267,.205703,.631373,.421554,.549449,.242643,.756863,.503334,.649999,.284377,.882353,.583497,.749672,.324969,1,.650705,.837228,.356264]},{ColorSpace:"Lab",Name:"Haze_green",RGBPoints:[-1,1,.835294,.886275,-.87451,.937255,.756863,.870443,-.74902,.875817,.666376,.857807,-.623529,.778359,.583007,.808134,-.498039,.676253,.494118,.745098,-.372549,.561365,.390123,.682353,-.247059,.438344,.262745,.621496,-.121569,.321133,.141031,.558751,.00392157,.203922,.0217865,.495861,.129412,.265505,.129412,.433261,.254902,.311692,.255338,.37008,.380392,.356282,.377342,.310821,.505882,.39971,.488889,.258243,.631373,.442556,.604357,.205519,.756863,.48671,.71968,.152941,.882353,.529847,.830356,.100944,1,.572549,.933333,.054902]},{ColorSpace:"Lab",Name:"Haze_lime",RGBPoints:[-1,.704034,.784196,1,-.87451,.633111,.691418,.956078,-.74902,.564021,.600606,.912157,-.623529,.496827,.51189,.868235,-.498039,.43157,.425416,.824314,-.372549,.368248,.341347,.780392,-.247059,.306767,.259855,.736471,-.121569,.246862,.181069,.692549,.00392157,.191619,.109542,.648627,.129412,.257404,.194031,.604706,.254902,.321794,.278775,.560784,.380392,.387909,.364617,.516863,.505882,.456569,.451881,.472941,.631373,.527424,.540773,.42902,.756863,.599759,.631427,.385098,.882353,.673065,.723898,.341176,1,.742751,.812252,.3]},{ColorSpace:"RGB",Name:"Haze",RGBPoints:[-1,1,.835294,.996078,-.00392157,.023529,.141176,.498039,.00392157,.015686,.137255,.494118,1,.984314,.764706,0]},{ColorSpace:"Lab",Name:"Haze_cyan",RGBPoints:[-1,.956863,1,.835294,-.87451,.933188,.921714,.760784,-.74902,.870588,.803486,.671605,-.623529,.807843,.684096,.583297,-.498039,.745098,.569208,.494118,-.372549,.682353,.437763,.390123,-.247059,.621496,.288163,.262745,-.121569,.558751,.144517,.141031,.00392157,.495861,.0217865,.0413943,.129412,.433261,.137255,.129412,.254902,.37008,.263181,.255338,.380392,.306318,.381845,.372694,.505882,.243137,.503994,.494263,.631373,.180392,.629484,.619753,.756863,.117647,.754975,.747131,.882353,.054902,.876398,.866812,1,0,.988235,.976471]},{ColorSpace:"Lab",Name:"nic_Edge",RGBPoints:[-1,.191208,.191208,.191208,-.87451,.239484,.00545035,.614821,-.74902,.220593,.0617459,.863547,-.623529,.17509,.278988,.97794,-.498039,.143526,.576069,.998553,-.372549,.166456,.871883,.96594,-.247059,.376202,.993555,.981833,-.121569,.681996,.991297,.999239,.00392157,.954172,.952734,.94374,.129412,.999735,.99301,.662896,.254902,.979399,.991466,.357973,.380392,.968771,.854967,.162659,.505882,.999245,.556697,.144323,.631373,.973959,.26223,.177946,.756863,.852358,.0526707,.222974,.882353,.593889,.00912724,.238855,1,.191208,.191208,.191208]},{ColorSpace:"Lab",Name:"erdc_iceFire_H",RGBPoints:[-1,405432e-12,0,590122e-11,-.87451,0,.120401,.302675,-.74902,0,.216583,.524574,-.623529,.0552475,.345025,.6595,-.498039,.128047,.492588,.720288,-.372549,.188955,.641309,.792092,-.247059,.327673,.784935,.873434,-.121569,.60824,.892164,.935547,.00392157,.881371,.912178,.818099,.129412,.951407,.835621,.449279,.254902,.904481,.690489,0,.380392,.85407,.510864,0,.505882,.777093,.33018,88199e-8,.631373,.672862,.139087,.00269398,.756863,.508815,0,0,.882353,.299417,366289e-9,547829e-9,1,.0157519,.00332021,455569e-13]},{ColorSpace:"Lab",Name:"erdc_iceFire_L",RGBPoints:[-1,.870485,.913768,.832905,-.87451,.586919,.887865,.934003,-.74902,.31583,.776442,.867858,-.623529,.18302,.632034,.787722,-.498039,.117909,.484134,.713825,-.372549,.0507239,.335979,.654741,-.247059,0,.209874,.511832,-.121569,0,.114689,.28935,.00392157,.0157519,.00332021,455569e-13,.129412,.312914,0,0,.254902,.520865,0,0,.380392,.680105,.15255,.0025996,.505882,.785109,.339479,797922e-9,.631373,.857354,.522494,0,.756863,.910974,.699774,0,.882353,.951921,.842817,.478545,1,.881371,.912178,.818099]},{ColorSpace:"RGB",Name:"hsv",RGBPoints:[-1,1,0,0,-.666666,1,0,1,-.333333,0,0,1,0,0,1,1,.33333,0,1,0,.66666,1,1,0,1,1,0,0]},{ColorSpace:"Lab",Name:"hue_L60",RGBPoints:[-1,.964784,.400592,.349549,-.87451,.964915,.372498,.53785,-.74902,.892353,.401039,.759569,-.623529,.79263,.446956,.903017,-.498039,.682208,.49954,.966673,-.372549,.56392,.553082,.968836,-.247059,.442031,.606396,.901601,-.121569,.305499,.65701,.765784,.00392157,.197251,.687914,.620914,.129412,.193882,.701887,.472654,.254902,.249866,.706123,.320005,.380392,.35132,.697417,.202919,.505882,.498097,.669467,.125232,.631373,.637477,.626239,.107431,.756863,.762115,.56872,.155812,.882353,.889434,.481116,.240445,1,.964784,.400592,.349549]},{IndexedColors:[0,0,0,.8941176470588236,.1019607843137255,.1098039215686274,.2156862745098039,.4941176470588236,.7215686274509804,.3019607843137255,.6862745098039216,.2901960784313726,.596078431372549,.3058823529411765,.6392156862745098,1,.4980392156862745,0,.6509803921568628,.3372549019607843,.1568627450980392],Name:"Spectrum",NanColor:[.6509803921568628,.3372549019607843,.1568627450980392]},{IndexedColors:[.4745098039215686,.09019607843137255,.09019607843137255,.7098039215686275,.00392156862745098,.00392156862745098,.9372549019607843,.2784313725490196,.09803921568627451,.9764705882352941,.5137254901960784,.1411764705882353,1,.7058823529411765,0,1,.8980392156862745,.02352941176470588],Name:"Warm",NanColor:[1,.8980392156862745,.02352941176470588]},{IndexedColors:[.4588235294117647,.6941176470588235,.00392156862745098,.3450980392156863,.5019607843137255,.1607843137254902,.3137254901960784,.8431372549019608,.7490196078431373,.1098039215686274,.5843137254901961,.803921568627451,.2313725490196079,.407843137254902,.6705882352941176,.6039215686274509,.407843137254902,1,.3725490196078431,.2,.5019607843137255],Name:"Cool",NanColor:[.3725490196078431,.2,.5019607843137255]},{IndexedColors:[.2313725490196079,.407843137254902,.6705882352941176,.1098039215686274,.5843137254901961,.803921568627451,.3058823529411765,.8509803921568627,.9176470588235294,.4509803921568628,.6039215686274509,.8352941176470589,.2588235294117647,.2392156862745098,.6627450980392157,.3137254901960784,.3294117647058823,.5294117647058824,.06274509803921569,.1647058823529412,.3215686274509804],Name:"Blues",NanColor:[.06274509803921569,.1647058823529412,.3215686274509804]},{IndexedColors:[.1098039215686274,.5843137254901961,.803921568627451,.2313725490196079,.407843137254902,.6705882352941176,.4,.2431372549019608,.7176470588235294,.6352941176470588,.3294117647058823,.8117647058823529,.8705882352941177,.3803921568627451,.807843137254902,.8627450980392157,.3803921568627451,.5843137254901961,.2392156862745098,.06274509803921569,.3215686274509804],Name:"Wild Flower",NanColor:[.2392156862745098,.06274509803921569,.3215686274509804]},{IndexedColors:[.396078431372549,.4862745098039216,.2156862745098039,.4588235294117647,.6941176470588235,.00392156862745098,.6980392156862745,.7294117647058823,.1882352941176471,1,.8980392156862745,.02352941176470588,1,.7058823529411765,0,.9764705882352941,.5137254901960784,.1411764705882353],Name:"Citrus",NanColor:[.9764705882352941,.5137254901960784,.1411764705882353]},{IndexedColors:[.4980392156862745,.2313725490196079,.03137254901960784,.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333,.1764705882352941,0,.2941176470588235],Name:"Brewer Diverging Purple-Orange (11)",NanColor:[.1764705882352941,0,.2941176470588235]},{IndexedColors:[.4980392156862745,.2313725490196079,.03137254901960784,.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333,.1764705882352941,0,.2941176470588235],Name:"Brewer Diverging Purple-Orange (10)",NanColor:[.1764705882352941,0,.2941176470588235]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (9)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (8)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.9450980392156862,.6392156862745098,.2509803921568627,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6,.5568627450980392,.7647058823529411,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (7)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.9450980392156862,.6392156862745098,.2509803921568627,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6,.5568627450980392,.7647058823529411,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (6)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.9019607843137255,.3803921568627451,.00392156862745098,.9921568627450981,.7215686274509804,.3882352941176471,.9686274509803922,.9686274509803922,.9686274509803922,.6980392156862745,.6705882352941176,.8235294117647058,.3686274509803922,.2352941176470588,.6],Name:"Brewer Diverging Purple-Orange (5)",NanColor:[.3686274509803922,.2352941176470588,.6]},{IndexedColors:[.9019607843137255,.3803921568627451,.00392156862745098,.9921568627450981,.7215686274509804,.3882352941176471,.6980392156862745,.6705882352941176,.8235294117647058,.3686274509803922,.2352941176470588,.6],Name:"Brewer Diverging Purple-Orange (4)",NanColor:[.3686274509803922,.2352941176470588,.6]},{IndexedColors:[.9450980392156862,.6392156862745098,.2509803921568627,.9686274509803922,.9686274509803922,.9686274509803922,.6,.5568627450980392,.7647058823529411],Name:"Brewer Diverging Purple-Orange (3)",NanColor:[.6,.5568627450980392,.7647058823529411]},{IndexedColors:[.6196078431372549,.00392156862745098,.2588235294117647,.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353,.3686274509803922,.3098039215686275,.6352941176470588],Name:"Brewer Diverging Spectral (11)",NanColor:[.3686274509803922,.3098039215686275,.6352941176470588]},{IndexedColors:[.6196078431372549,.00392156862745098,.2588235294117647,.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353,.3686274509803922,.3098039215686275,.6352941176470588],Name:"Brewer Diverging Spectral (10)",NanColor:[.3686274509803922,.3098039215686275,.6352941176470588]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (9)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (8)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9882352941176471,.5529411764705883,.3490196078431372,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6,.8352941176470589,.5803921568627451,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (7)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9882352941176471,.5529411764705883,.3490196078431372,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6,.8352941176470589,.5803921568627451,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (6)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8431372549019608,.09803921568627451,.1098039215686274,.9921568627450981,.6823529411764706,.3803921568627451,1,1,.7490196078431373,.6705882352941176,.8666666666666667,.6431372549019608,.1686274509803922,.5137254901960784,.7294117647058823],Name:"Brewer Diverging Spectral (5)",NanColor:[.1686274509803922,.5137254901960784,.7294117647058823]},{IndexedColors:[.8431372549019608,.09803921568627451,.1098039215686274,.9921568627450981,.6823529411764706,.3803921568627451,.6705882352941176,.8666666666666667,.6431372549019608,.1686274509803922,.5137254901960784,.7294117647058823],Name:"Brewer Diverging Spectral (4)",NanColor:[.1686274509803922,.5137254901960784,.7294117647058823]},{IndexedColors:[.9882352941176471,.5529411764705883,.3490196078431372,1,1,.7490196078431373,.6,.8352941176470589,.5803921568627451],Name:"Brewer Diverging Spectral (3)",NanColor:[.6,.8352941176470589,.5803921568627451]},{IndexedColors:[.3294117647058823,.1882352941176471,.0196078431372549,.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922,0,.2352941176470588,.1882352941176471],Name:"Brewer Diverging Brown-Blue-Green (11)",NanColor:[0,.2352941176470588,.1882352941176471]},{IndexedColors:[.3294117647058823,.1882352941176471,.0196078431372549,.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922,0,.2352941176470588,.1882352941176471],Name:"Brewer Diverging Brown-Blue-Green (10)",NanColor:[0,.2352941176470588,.1882352941176471]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (9)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (8)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.8470588235294118,.7019607843137254,.396078431372549,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.3529411764705883,.7058823529411765,.6745098039215687,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (7)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.8470588235294118,.7019607843137254,.396078431372549,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.3529411764705883,.7058823529411765,.6745098039215687,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (6)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.6509803921568628,.3803921568627451,.1019607843137255,.8745098039215686,.7607843137254902,.4901960784313725,.9607843137254902,.9607843137254902,.9607843137254902,.5019607843137255,.803921568627451,.7568627450980392,.00392156862745098,.5215686274509804,.4431372549019608],Name:"Brewer Diverging Brown-Blue-Green (5)",NanColor:[.00392156862745098,.5215686274509804,.4431372549019608]},{IndexedColors:[.6509803921568628,.3803921568627451,.1019607843137255,.8745098039215686,.7607843137254902,.4901960784313725,.5019607843137255,.803921568627451,.7568627450980392,.00392156862745098,.5215686274509804,.4431372549019608],Name:"Brewer Diverging Brown-Blue-Green (4)",NanColor:[.00392156862745098,.5215686274509804,.4431372549019608]},{IndexedColors:[.8470588235294118,.7019607843137254,.396078431372549,.9607843137254902,.9607843137254902,.9607843137254902,.3529411764705883,.7058823529411765,.6745098039215687],Name:"Brewer Diverging Brown-Blue-Green (3)",NanColor:[.3529411764705883,.7058823529411765,.6745098039215687]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8980392156862745,.9607843137254902,.9764705882352941,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.4274509803921568,.1725490196078431,0,.2666666666666667,.1058823529411765],Name:"Brewer Sequential Blue-Green (9)",NanColor:[0,.2666666666666667,.1058823529411765]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8980392156862745,.9607843137254902,.9764705882352941,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.3450980392156863,.1411764705882353],Name:"Brewer Sequential Blue-Green (8)",NanColor:[0,.3450980392156863,.1411764705882353]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.8,.9254901960784314,.9019607843137255,.8,.9254901960784314,.9019607843137255,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.3450980392156863,.1411764705882353],Name:"Brewer Sequential Blue-Green (7)",NanColor:[0,.3450980392156863,.1411764705882353]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.1725490196078431,.6352941176470588,.3725490196078431,0,.4274509803921568,.1725490196078431],Name:"Brewer Sequential Blue-Green (6)",NanColor:[0,.4274509803921568,.1725490196078431]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.6980392156862745,.8862745098039215,.8862745098039215,.4,.7607843137254902,.6431372549019608,.1725490196078431,.6352941176470588,.3725490196078431,0,.4274509803921568,.1725490196078431],Name:"Brewer Sequential Blue-Green (5)",NanColor:[0,.4274509803921568,.1725490196078431]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.6980392156862745,.8862745098039215,.8862745098039215,.4,.7607843137254902,.6431372549019608,.1372549019607843,.5450980392156862,.2705882352941176],Name:"Brewer Sequential Blue-Green (4)",NanColor:[.1372549019607843,.5450980392156862,.2705882352941176]},{IndexedColors:[.8980392156862745,.9607843137254902,.9764705882352941,.6,.8470588235294118,.788235294117647,.1725490196078431,.6352941176470588,.3725490196078431],Name:"Brewer Sequential Blue-Green (3)",NanColor:[.1725490196078431,.6352941176470588,.3725490196078431]},{IndexedColors:[1,1,.8980392156862745,1,.9686274509803922,.7372549019607844,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.6,.203921568627451,.01568627450980392,.4,.1450980392156863,.02352941176470588],Name:"Brewer Sequential Yellow-Orange-Brown (9)",NanColor:[.4,.1450980392156863,.02352941176470588]},{IndexedColors:[1,1,.8980392156862745,1,.9686274509803922,.7372549019607844,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.5490196078431373,.1764705882352941,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (8)",NanColor:[.5490196078431373,.1764705882352941,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.5490196078431373,.1764705882352941,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (7)",NanColor:[.5490196078431373,.1764705882352941,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.8509803921568627,.3725490196078431,.05490196078431372,.6,.203921568627451,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (6)",NanColor:[.6,.203921568627451,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8509803921568627,.5568627450980392,.996078431372549,.6,.1607843137254902,.8509803921568627,.3725490196078431,.05490196078431372,.6,.203921568627451,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (5)",NanColor:[.6,.203921568627451,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8509803921568627,.5568627450980392,.996078431372549,.6,.1607843137254902,.8,.2980392156862745,.00784313725490196],Name:"Brewer Sequential Yellow-Orange-Brown (4)",NanColor:[.8,.2980392156862745,.00784313725490196]},{IndexedColors:[1,.9686274509803922,.7372549019607844,.996078431372549,.7686274509803922,.3098039215686275,.8509803921568627,.3725490196078431,.05490196078431372],Name:"Brewer Sequential Yellow-Orange-Brown (3)",NanColor:[.8509803921568627,.3725490196078431,.05490196078431372]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8784313725490196,.9254901960784314,.9568627450980393,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.5058823529411764,.05882352941176471,.4862745098039216,.3019607843137255,0,.2941176470588235],Name:"Brewer Sequential Blue-Purple (9)",NanColor:[.3019607843137255,0,.2941176470588235]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8784313725490196,.9254901960784314,.9568627450980393,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.4313725490196079,.00392156862745098,.4196078431372549],Name:"Brewer Sequential Blue-Purple (8)",NanColor:[.4313725490196079,.00392156862745098,.4196078431372549]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.4313725490196079,.00392156862745098,.4196078431372549],Name:"Brewer Sequential Blue-Purple (7)",NanColor:[.4313725490196079,.00392156862745098,.4196078431372549]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.3372549019607843,.6549019607843137,.5058823529411764,.05882352941176471,.4862745098039216],Name:"Brewer Sequential Blue-Purple (6)",NanColor:[.5058823529411764,.05882352941176471,.4862745098039216]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7019607843137254,.803921568627451,.8901960784313725,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.3372549019607843,.6549019607843137,.5058823529411764,.05882352941176471,.4862745098039216],Name:"Brewer Sequential Blue-Purple (5)",NanColor:[.5058823529411764,.05882352941176471,.4862745098039216]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7019607843137254,.803921568627451,.8901960784313725,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.2549019607843137,.615686274509804],Name:"Brewer Sequential Blue-Purple (4)",NanColor:[.5333333333333333,.2549019607843137,.615686274509804]},{IndexedColors:[.8784313725490196,.9254901960784314,.9568627450980393,.6196078431372549,.7372549019607844,.8549019607843137,.5333333333333333,.3372549019607843,.6549019607843137],Name:"Brewer Sequential Blue-Purple (3)",NanColor:[.5333333333333333,.3372549019607843,.6549019607843137]},{IndexedColors:[.4980392156862745,.788235294117647,.4980392156862745,.7450980392156863,.6823529411764706,.8313725490196079,.9921568627450981,.7529411764705882,.5254901960784314,1,1,.6,.2196078431372549,.4235294117647059,.6901960784313725,.9411764705882353,.00784313725490196,.4980392156862745,.7490196078431373,.3568627450980392,.09019607843137255,.4,.4,.4],Name:"Brewer Qualitative Accent",NanColor:[.4,.4,.4]},{IndexedColors:[.1058823529411765,.6196078431372549,.4666666666666667,.8509803921568627,.3725490196078431,.00784313725490196,.4588235294117647,.4392156862745098,.7019607843137254,.9058823529411765,.1607843137254902,.5411764705882353,.4,.6509803921568628,.1176470588235294,.9019607843137255,.6705882352941176,.00784313725490196,.6509803921568628,.4627450980392157,.1137254901960784,.4,.4,.4],Name:"Brewer Qualitative Dark2",NanColor:[.4,.4,.4]},{IndexedColors:[.4,.7607843137254902,.6470588235294118,.9882352941176471,.5529411764705883,.3843137254901961,.5529411764705883,.6274509803921569,.796078431372549,.9058823529411765,.5411764705882353,.7647058823529411,.6509803921568628,.8470588235294118,.3294117647058823,1,.8509803921568627,.1843137254901961,.8980392156862745,.7686274509803922,.5803921568627451,.7019607843137254,.7019607843137254,.7019607843137254],Name:"Brewer Qualitative Set2",NanColor:[.7019607843137254,.7019607843137254,.7019607843137254]},{IndexedColors:[.7019607843137254,.8862745098039215,.803921568627451,.9921568627450981,.803921568627451,.6745098039215687,.796078431372549,.8352941176470589,.9098039215686274,.9568627450980393,.792156862745098,.8941176470588236,.9019607843137255,.9607843137254902,.788235294117647,1,.9490196078431372,.6823529411764706,.9450980392156862,.8862745098039215,.8,.8,.8,.8],Name:"Brewer Qualitative Pastel2",NanColor:[.8,.8,.8]},{IndexedColors:[.984313725490196,.7058823529411765,.6823529411764706,.7019607843137254,.803921568627451,.8901960784313725,.8,.9215686274509803,.7725490196078432,.8705882352941177,.796078431372549,.8941176470588236,.996078431372549,.8509803921568627,.6509803921568628,1,1,.8,.8980392156862745,.8470588235294118,.7411764705882353,.9921568627450981,.8549019607843137,.9254901960784314,.9490196078431372,.9490196078431372,.9490196078431372],Name:"Brewer Qualitative Pastel1",NanColor:[.9490196078431372,.9490196078431372,.9490196078431372]},{IndexedColors:[.8941176470588236,.1019607843137255,.1098039215686274,.2156862745098039,.4941176470588236,.7215686274509804,.3019607843137255,.6862745098039216,.2901960784313726,.596078431372549,.3058823529411765,.6392156862745098,1,.4980392156862745,0,1,1,.2,.6509803921568628,.3372549019607843,.1568627450980392,.9686274509803922,.5058823529411764,.7490196078431373,.6,.6,.6],Name:"Brewer Qualitative Set1",NanColor:[.6,.6,.6]},{IndexedColors:[.6509803921568628,.807843137254902,.8901960784313725,.1215686274509804,.4705882352941176,.7058823529411765,.6980392156862745,.8745098039215686,.5411764705882353,.2,.6274509803921569,.1725490196078431,.984313725490196,.6039215686274509,.6,.8901960784313725,.1019607843137255,.1098039215686274,.9921568627450981,.7490196078431373,.4352941176470588,1,.4980392156862745,0,.792156862745098,.6980392156862745,.8392156862745098,.4156862745098039,.2392156862745098,.6039215686274509,1,1,.6],Name:"Brewer Qualitative Paired",NanColor:[1,1,.6]},{IndexedColors:[.5529411764705883,.8274509803921568,.7803921568627451,1,1,.7019607843137254,.7450980392156863,.7294117647058823,.8549019607843137,.984313725490196,.5019607843137255,.4470588235294118,.5019607843137255,.6941176470588235,.8274509803921568,.9921568627450981,.7058823529411765,.3843137254901961,.7019607843137254,.8705882352941177,.4117647058823529,.9882352941176471,.803921568627451,.8980392156862745,.8509803921568627,.8509803921568627,.8509803921568627,.7372549019607844,.5019607843137255,.7411764705882353,.8,.9215686274509803,.7725490196078432,1,.9294117647058824,.4352941176470588],Name:"Brewer Qualitative Set3",NanColor:[1,.9294117647058824,.4352941176470588]},{IndexedColors:[1,0,0,1,.862745,0,0,.695201,0],Name:"Traffic Lights",NanColor:[.803922,0,.803922]},{IndexedColors:[.908659,.604013,.581857,1,.862745,0,0,.695201,0],Name:"Traffic Lights For Deuteranopes",NanColor:[.803922,0,.803922]},{IndexedColors:[.4196078431372549,0,.07058823529411765,.9019607843137255,.9411764705882353,.0196078431372549,.01568627450980392,.6196078431372549,.00784313725490196],Name:"Traffic Lights For Deuteranopes 2",NanColor:[.803922,0,.803922]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Muted Blue-Green",NanColor:[.25,0,0],RGBPoints:[0,.109804,.27451,.301961,.02,.129412,.309804,.341176,.05,.14902,.341176,.380392,.1,.188235,.403922,.458824,.15,.227451,.447059,.521569,.2,.290196,.494118,.588235,.25,.368627,.552941,.670588,.3,.458824,.619608,.74902,.35,.588235,.713725,.85098,.4,.72549,.815686,.941176,.45,.831373,.882353,.980392,.475,.909804,.933333,1,.5,.980392,.984314,1,.5,.996078,1,.94902,.5,1,1,.980392,.5,.980392,.984314,1,.525,.972549,.988235,.890196,.55,.917647,.960784,.835294,.6,.835294,.921569,.772549,.65,.768627,.901961,.737255,.7,.670588,.831373,.654902,.75,.576471,.760784,.584314,.8,.498039,.678431,.521569,.85,.392157,.560784,.427451,.9,.294118,.45098,.333333,.95,.211765,.34902,.254902,1,.152941,.278431,.196078]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Green-Blue Asymmetric Divergent (62Blbc)",NanColor:[.25,0,0],RGBPoints:[0,.121569,.2,.145098,.05,.196078,.301961,.223529,.1,.258824,.4,.278431,.2,.341176,.54902,.341176,.25,.419608,.619608,.376471,.3,.545098,.701961,.392157,.35,.643137,.780392,.403922,.4,.729412,.819608,.45098,.45,.811765,.870588,.521569,.5,.898039,.909804,.564706,.55,.941176,.92549,.686275,.6,.960784,.94902,.776471,.64,1,1,1,.65,.890196,.988235,.972549,.7,.721569,.894118,.901961,.75,.631373,.823529,.839216,.8,.517647,.662745,.701961,.85,.384314,.494118,.54902,.9,.298039,.360784,.45098,.95,.223529,.25098,.34902,.99,.156863,.172549,.25098,1,.137255,.137255,.188235]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Asymmtrical Earth Tones (6_21b)",NanColor:[.25,0,0],RGBPoints:[0,.141176,.14902,.2,.05,.215686,.258824,.321569,.1,.243137,.368627,.380392,.15,.27451,.439216,.4,.2,.32549,.501961,.384314,.25,.403922,.6,.419608,.3,.486275,.701961,.454902,.35,.556863,.74902,.494118,.4,.670588,.8,.545098,.5,.854902,.901961,.631373,.55,.92549,.941176,.694118,.6,.960784,.94902,.776471,.65,.988235,.968627,.909804,.7,.839216,.815686,.772549,.75,.701961,.662745,.615686,.8,.6,.529412,.478431,.85,.501961,.403922,.360784,.9,.439216,.313725,.290196,1,.301961,.164706,.176471]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Yellow 15",NanColor:[.25,0,0],RGBPoints:[0,1,1,.988235,.002,1,1,.988235,.05,.984314,.988235,.843137,.1,.988235,.988235,.741176,.15,.980392,.968627,.654902,.2,.980392,.945098,.576471,.25,.968627,.905882,.486275,.3,.968627,.862745,.388235,.35,.960784,.803922,.286275,.4,.94902,.741176,.219608,.45,.941176,.678431,.14902,.5,.929412,.607843,.094118,.55,.921569,.545098,.054902,.6,.909804,.486275,.035294,.65,.890196,.411765,.019608,.7,.8,.305882,0,.75,.760784,.239216,0,.8,.678431,.180392,.011765,.85,.6,.121569,.023529,.9,.501961,.054902,.031373,.95,.4,.039216,.058824,1,.301961,.047059,.090196]},{ColorSpace:"Diverging",Name:"Magma (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.001462,466e-6,.013866,.003922,.002258,.001295,.018331,.007843,.003279,.002305,.023708,.011765,.004512,.00349,.029965,.015686,.00595,.004843,.03713,.019608,.007588,.006356,.044973,.023529,.009426,.008022,.052844,.027451,.011465,.009828,.06075,.031373,.013708,.011771,.068667,.035294,.016156,.01384,.076603,.039216,.018815,.016026,.084584,.043137,.021692,.01832,.09261,.047059,.024792,.020715,.100676,.05098,.028123,.023201,.108787,.054902,.031696,.025765,.116965,.058824,.03552,.028397,.125209,.062745,.039608,.03109,.133515,.066667,.04383,.03383,.141886,.070588,.048062,.036607,.150327,.07451,.05232,.039407,.158841,.078431,.056615,.04216,.167446,.082353,.060949,.044794,.176129,.086275,.06533,.047318,.184892,.090196,.069764,.049726,.193735,.094118,.074257,.052017,.20266,.098039,.078815,.054184,.211667,.101961,.083446,.056225,.220755,.105882,.088155,.058133,.229922,.109804,.092949,.059904,.239164,.113725,.097833,.061531,.248477,.117647,.102815,.06301,.257854,.121569,.107899,.064335,.267289,.12549,.113094,.065492,.276784,.129412,.118405,.066479,.286321,.133333,.123833,.067295,.295879,.137255,.12938,.067935,.305443,.141176,.135053,.068391,.315,.145098,.140858,.068654,.324538,.14902,.146785,.068738,.334011,.152941,.152839,.068637,.343404,.156863,.159018,.068354,.352688,.160784,.165308,.067911,.361816,.164706,.171713,.067305,.370771,.168627,.178212,.066576,.379497,.172549,.184801,.065732,.387973,.176471,.19146,.064818,.396152,.180392,.198177,.063862,.404009,.184314,.204935,.062907,.411514,.188235,.211718,.061992,.418647,.192157,.218512,.061158,.425392,.196078,.225302,.060445,.431742,.2,.232077,.059889,.437695,.203922,.238826,.059517,.443256,.207843,.245543,.059352,.448436,.211765,.25222,.059415,.453248,.215686,.258857,.059706,.45771,.219608,.265447,.060237,.46184,.223529,.271994,.060994,.46566,.227451,.278493,.061978,.46919,.231373,.284951,.063168,.472451,.235294,.291366,.064553,.475462,.239216,.29774,.066117,.478243,.243137,.304081,.067835,.480812,.247059,.310382,.069702,.483186,.25098,.316654,.07169,.48538,.254902,.322899,.073782,.487408,.258824,.329114,.075972,.489287,.262745,.335308,.078236,.491024,.266667,.341482,.080564,.492631,.270588,.347636,.082946,.494121,.27451,.353773,.085373,.495501,.278431,.359898,.087831,.496778,.282353,.366012,.090314,.49796,.286275,.372116,.092816,.499053,.290196,.378211,.095332,.500067,.294118,.384299,.097855,.501002,.298039,.390384,.100379,.501864,.301961,.396467,.102902,.502658,.305882,.402548,.10542,.503386,.309804,.408629,.10793,.504052,.313725,.414709,.110431,.504662,.317647,.420791,.11292,.505215,.321569,.426877,.115395,.505714,.32549,.432967,.117855,.50616,.329412,.439062,.120298,.506555,.333333,.445163,.122724,.506901,.337255,.451271,.125132,.507198,.341176,.457386,.127522,.507448,.345098,.463508,.129893,.507652,.34902,.46964,.132245,.507809,.352941,.47578,.134577,.507921,.356863,.481929,.136891,.507989,.360784,.488088,.139186,.508011,.364706,.494258,.141462,.507988,.368627,.500438,.143719,.50792,.372549,.506629,.145958,.507806,.376471,.512831,.148179,.507648,.380392,.519045,.150383,.507443,.384314,.52527,.152569,.507192,.388235,.531507,.154739,.506895,.392157,.537755,.156894,.506551,.396078,.544015,.159033,.506159,.4,.550287,.161158,.505719,.403922,.556571,.163269,.50523,.407843,.562866,.165368,.504692,.411765,.569172,.167454,.504105,.415686,.57549,.16953,.503466,.419608,.581819,.171596,.502777,.423529,.588158,.173652,.502035,.427451,.594508,.175701,.501241,.431373,.600868,.177743,.500394,.435294,.607238,.179779,.499492,.439216,.613617,.181811,.498536,.443137,.620005,.18384,.497524,.447059,.626401,.185867,.496456,.45098,.632805,.187893,.495332,.454902,.639216,.189921,.49415,.458824,.645633,.191952,.49291,.462745,.652056,.193986,.491611,.466667,.658483,.196027,.490253,.470588,.664915,.198075,.488836,.47451,.671349,.200133,.487358,.478431,.677786,.202203,.485819,.482353,.684224,.204286,.484219,.486275,.690661,.206384,.482558,.490196,.697098,.208501,.480835,.494118,.703532,.210638,.479049,.498039,.709962,.212797,.477201,.501961,.716387,.214982,.47529,.505882,.722805,.217194,.473316,.509804,.729216,.219437,.471279,.513725,.735616,.221713,.46918,.517647,.742004,.224025,.467018,.521569,.748378,.226377,.464794,.52549,.754737,.228772,.462509,.529412,.761077,.231214,.460162,.533333,.767398,.233705,.457755,.537255,.773695,.236249,.455289,.541176,.779968,.238851,.452765,.545098,.786212,.241514,.450184,.54902,.792427,.244242,.447543,.552941,.798608,.24704,.444848,.556863,.804752,.249911,.442102,.560784,.810855,.252861,.439305,.564706,.816914,.255895,.436461,.568627,.822926,.259016,.433573,.572549,.828886,.262229,.430644,.576471,.834791,.26554,.427671,.580392,.840636,.268953,.424666,.584314,.846416,.272473,.421631,.588235,.852126,.276106,.418573,.592157,.857763,.279857,.415496,.596078,.86332,.283729,.412403,.6,.868793,.287728,.409303,.603922,.874176,.291859,.406205,.607843,.879464,.296125,.403118,.611765,.884651,.30053,.400047,.615686,.889731,.305079,.397002,.619608,.8947,.309773,.393995,.623529,.899552,.314616,.391037,.627451,.904281,.31961,.388137,.631373,.908884,.324755,.385308,.635294,.913354,.330052,.382563,.639216,.917689,.3355,.379915,.643137,.921884,.341098,.377376,.647059,.925937,.346844,.374959,.65098,.929845,.352734,.372677,.654902,.933606,.358764,.370541,.658824,.937221,.364929,.368567,.662745,.940687,.371224,.366762,.666667,.944006,.377643,.365136,.670588,.94718,.384178,.363701,.67451,.95021,.39082,.362468,.678431,.953099,.397563,.361438,.682353,.955849,.4044,.360619,.686275,.958464,.411324,.360014,.690196,.960949,.418323,.35963,.694118,.96331,.42539,.359469,.698039,.965549,.432519,.359529,.701961,.967671,.439703,.35981,.705882,.96968,.446936,.360311,.709804,.971582,.45421,.36103,.713725,.973381,.46152,.361965,.717647,.975082,.468861,.363111,.721569,.97669,.476226,.364466,.72549,.97821,.483612,.366025,.729412,.979645,.491014,.367783,.733333,.981,.498428,.369734,.737255,.982279,.505851,.371874,.741176,.983485,.51328,.374198,.745098,.984622,.520713,.376698,.74902,.985693,.528148,.379371,.752941,.9867,.535582,.38221,.756863,.987646,.543015,.38521,.760784,.988533,.550446,.388365,.764706,.989363,.557873,.391671,.768627,.990138,.565296,.395122,.772549,.990871,.572706,.398714,.776471,.991558,.580107,.402441,.780392,.992196,.587502,.406299,.784314,.992785,.594891,.410283,.788235,.993326,.602275,.41439,.792157,.993834,.609644,.418613,.796078,.994309,.616999,.42295,.8,.994738,.62435,.427397,.803922,.995122,.631696,.431951,.807843,.99548,.639027,.436607,.811765,.99581,.646344,.441361,.815686,.996096,.653659,.446213,.819608,.996341,.660969,.45116,.823529,.99658,.668256,.456192,.827451,.996775,.675541,.461314,.831373,.996925,.682828,.466526,.835294,.997077,.690088,.471811,.839216,.997186,.697349,.477182,.843137,.997254,.704611,.482635,.847059,.997325,.711848,.488154,.85098,.997351,.719089,.493755,.854902,.997351,.726324,.499428,.858824,.997341,.733545,.505167,.862745,.997285,.740772,.510983,.866667,.997228,.747981,.516859,.870588,.997138,.75519,.522806,.87451,.997019,.762398,.528821,.878431,.996898,.769591,.534892,.882353,.996727,.776795,.541039,.886275,.996571,.783977,.547233,.890196,.996369,.791167,.553499,.894118,.996162,.798348,.55982,.898039,.995932,.805527,.566202,.901961,.99568,.812706,.572645,.905882,.995424,.819875,.57914,.909804,.995131,.827052,.585701,.913725,.994851,.834213,.592307,.917647,.994524,.841387,.598983,.921569,.994222,.84854,.605696,.92549,.993866,.855711,.612482,.929412,.993545,.862859,.619299,.933333,.99317,.870024,.626189,.937255,.992831,.877168,.633109,.941176,.99244,.88433,.640099,.945098,.992089,.89147,.647116,.94902,.991688,.898627,.654202,.952941,.991332,.905763,.661309,.956863,.99093,.912915,.668481,.960784,.99057,.920049,.675675,.964706,.990175,.927196,.682926,.968627,.989815,.934329,.690198,.972549,.989434,.94147,.697519,.976471,.989077,.948604,.704863,.980392,.988717,.955742,.712242,.984314,.988367,.962878,.719649,.988235,.988033,.970012,.727077,.992157,.987691,.977154,.734536,.996078,.987387,.984288,.742002,1,.987053,.991438,.749504]},{ColorSpace:"Diverging",Name:"Inferno (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.001462,466e-6,.013866,.003922,.002267,.00127,.01857,.007843,.003299,.002249,.024239,.011765,.004547,.003392,.030909,.015686,.006006,.004692,.038558,.019608,.007676,.006136,.046836,.023529,.009561,.007713,.055143,.027451,.011663,.009417,.06346,.031373,.013995,.011225,.071862,.035294,.016561,.013136,.080282,.039216,.019373,.015133,.088767,.043137,.022447,.017199,.097327,.047059,.025793,.019331,.10593,.05098,.029432,.021503,.114621,.054902,.033385,.023702,.123397,.058824,.037668,.025921,.132232,.062745,.042253,.028139,.141141,.066667,.046915,.030324,.150164,.070588,.051644,.032474,.159254,.07451,.056449,.034569,.168414,.078431,.06134,.03659,.177642,.082353,.066331,.038504,.186962,.086275,.071429,.040294,.196354,.090196,.076637,.041905,.205799,.094118,.081962,.043328,.215289,.098039,.087411,.044556,.224813,.101961,.09299,.045583,.234358,.105882,.098702,.046402,.243904,.109804,.104551,.047008,.25343,.113725,.110536,.047399,.262912,.117647,.116656,.047574,.272321,.121569,.122908,.047536,.281624,.12549,.129285,.047293,.290788,.129412,.135778,.046856,.299776,.133333,.142378,.046242,.308553,.137255,.149073,.045468,.317085,.141176,.15585,.044559,.325338,.145098,.162689,.043554,.333277,.14902,.169575,.042489,.340874,.152941,.176493,.041402,.348111,.156863,.183429,.040329,.354971,.160784,.190367,.039309,.361447,.164706,.197297,.0384,.367535,.168627,.204209,.037632,.373238,.172549,.211095,.03703,.378563,.176471,.217949,.036615,.383522,.180392,.224763,.036405,.388129,.184314,.231538,.036405,.3924,.188235,.238273,.036621,.396353,.192157,.244967,.037055,.400007,.196078,.25162,.037705,.403378,.2,.258234,.038571,.406485,.203922,.26481,.039647,.409345,.207843,.271347,.040922,.411976,.211765,.27785,.042353,.414392,.215686,.284321,.043933,.416608,.219608,.290763,.045644,.418637,.223529,.297178,.04747,.420491,.227451,.303568,.049396,.422182,.231373,.309935,.051407,.423721,.235294,.316282,.05349,.425116,.239216,.32261,.055634,.426377,.243137,.328921,.057827,.427511,.247059,.335217,.06006,.428524,.25098,.3415,.062325,.429425,.254902,.347771,.064616,.430217,.258824,.354032,.066925,.430906,.262745,.360284,.069247,.431497,.266667,.366529,.071579,.431994,.270588,.372768,.073915,.4324,.27451,.379001,.076253,.432719,.278431,.385228,.078591,.432955,.282353,.391453,.080927,.433109,.286275,.397674,.083257,.433183,.290196,.403894,.08558,.433179,.294118,.410113,.087896,.433098,.298039,.416331,.090203,.432943,.301961,.422549,.092501,.432714,.305882,.428768,.09479,.432412,.309804,.434987,.097069,.432039,.313725,.441207,.099338,.431594,.317647,.447428,.101597,.43108,.321569,.453651,.103848,.430498,.32549,.459875,.106089,.429846,.329412,.4661,.108322,.429125,.333333,.472328,.110547,.428334,.337255,.478558,.112764,.427475,.341176,.484789,.114974,.426548,.345098,.491022,.117179,.425552,.34902,.497257,.119379,.424488,.352941,.503493,.121575,.423356,.356863,.50973,.123769,.422156,.360784,.515967,.12596,.420887,.364706,.522206,.12815,.419549,.368627,.528444,.130341,.418142,.372549,.534683,.132534,.416667,.376471,.54092,.134729,.415123,.380392,.547157,.136929,.413511,.384314,.553392,.139134,.411829,.388235,.559624,.141346,.410078,.392157,.565854,.143567,.408258,.396078,.572081,.145797,.406369,.4,.578304,.148039,.404411,.403922,.584521,.150294,.402385,.407843,.590734,.152563,.40029,.411765,.59694,.154848,.398125,.415686,.603139,.157151,.395891,.419608,.60933,.159474,.393589,.423529,.615513,.161817,.391219,.427451,.621685,.164184,.388781,.431373,.627847,.166575,.386276,.435294,.633998,.168992,.383704,.439216,.640135,.171438,.381065,.443137,.64626,.173914,.378359,.447059,.652369,.176421,.375586,.45098,.658463,.178962,.372748,.454902,.66454,.181539,.369846,.458824,.670599,.184153,.366879,.462745,.676638,.186807,.363849,.466667,.682656,.189501,.360757,.470588,.688653,.192239,.357603,.47451,.694627,.195021,.354388,.478431,.700576,.197851,.351113,.482353,.7065,.200728,.347777,.486275,.712396,.203656,.344383,.490196,.718264,.206636,.340931,.494118,.724103,.20967,.337424,.498039,.729909,.212759,.333861,.501961,.735683,.215906,.330245,.505882,.741423,.219112,.326576,.509804,.747127,.222378,.322856,.513725,.752794,.225706,.319085,.517647,.758422,.229097,.315266,.521569,.76401,.232554,.311399,.52549,.769556,.236077,.307485,.529412,.775059,.239667,.303526,.533333,.780517,.243327,.299523,.537255,.785929,.247056,.295477,.541176,.791293,.250856,.29139,.545098,.796607,.254728,.287264,.54902,.801871,.258674,.283099,.552941,.807082,.262692,.278898,.556863,.812239,.266786,.274661,.560784,.817341,.270954,.27039,.564706,.822386,.275197,.266085,.568627,.827372,.279517,.26175,.572549,.832299,.283913,.257383,.576471,.837165,.288385,.252988,.580392,.841969,.292933,.248564,.584314,.846709,.297559,.244113,.588235,.851384,.30226,.239636,.592157,.855992,.307038,.235133,.596078,.860533,.311892,.230606,.6,.865006,.316822,.226055,.603922,.869409,.321827,.221482,.607843,.873741,.326906,.216886,.611765,.878001,.33206,.212268,.615686,.882188,.337287,.207628,.619608,.886302,.342586,.202968,.623529,.890341,.347957,.198286,.627451,.894305,.353399,.193584,.631373,.898192,.358911,.18886,.635294,.902003,.364492,.184116,.639216,.905735,.37014,.17935,.643137,.90939,.375856,.174563,.647059,.912966,.381636,.169755,.65098,.916462,.387481,.164924,.654902,.919879,.393389,.16007,.658824,.923215,.399359,.155193,.662745,.92647,.405389,.150292,.666667,.929644,.411479,.145367,.670588,.932737,.417627,.140417,.67451,.935747,.423831,.13544,.678431,.938675,.430091,.130438,.682353,.941521,.436405,.125409,.686275,.944285,.442772,.120354,.690196,.946965,.449191,.115272,.694118,.949562,.45566,.110164,.698039,.952075,.462178,.105031,.701961,.954506,.468744,.099874,.705882,.956852,.475356,.094695,.709804,.959114,.482014,.089499,.713725,.961293,.488716,.084289,.717647,.963387,.495462,.079073,.721569,.965397,.502249,.073859,.72549,.967322,.509078,.068659,.729412,.969163,.515946,.063488,.733333,.970919,.522853,.058367,.737255,.97259,.529798,.053324,.741176,.974176,.53678,.048392,.745098,.975677,.543798,.043618,.74902,.977092,.55085,.03905,.752941,.978422,.557937,.034931,.756863,.979666,.565057,.031409,.760784,.980824,.572209,.028508,.764706,.981895,.579392,.02625,.768627,.982881,.586606,.024661,.772549,.983779,.593849,.02377,.776471,.984591,.601122,.023606,.780392,.985315,.608422,.024202,.784314,.985952,.61575,.025592,.788235,.986502,.623105,.027814,.792157,.986964,.630485,.030908,.796078,.987337,.63789,.034916,.8,.987622,.64532,.039886,.803922,.987819,.652773,.045581,.807843,.987926,.66025,.05175,.811765,.987945,.667748,.058329,.815686,.987874,.675267,.065257,.819608,.987714,.682807,.072489,.823529,.987464,.690366,.07999,.827451,.987124,.697944,.087731,.831373,.986694,.70554,.095694,.835294,.986175,.713153,.103863,.839216,.985566,.720782,.112229,.843137,.984865,.728427,.120785,.847059,.984075,.736087,.129527,.85098,.983196,.743758,.138453,.854902,.982228,.751442,.147565,.858824,.981173,.759135,.156863,.862745,.980032,.766837,.166353,.866667,.978806,.774545,.176037,.870588,.977497,.782258,.185923,.87451,.976108,.789974,.196018,.878431,.974638,.797692,.206332,.882353,.973088,.805409,.216877,.886275,.971468,.813122,.227658,.890196,.969783,.820825,.238686,.894118,.968041,.828515,.249972,.898039,.966243,.836191,.261534,.901961,.964394,.843848,.273391,.905882,.962517,.851476,.285546,.909804,.960626,.859069,.29801,.913725,.95872,.866624,.31082,.917647,.956834,.874129,.323974,.921569,.954997,.881569,.337475,.92549,.953215,.888942,.351369,.929412,.951546,.896226,.365627,.933333,.950018,.903409,.380271,.937255,.948683,.910473,.395289,.941176,.947594,.917399,.410665,.945098,.946809,.924168,.426373,.94902,.946392,.930761,.442367,.952941,.946403,.937159,.458592,.956863,.946903,.943348,.47497,.960784,.947937,.949318,.491426,.964706,.949545,.955063,.50786,.968627,.95174,.960587,.524203,.972549,.954529,.965896,.540361,.976471,.957896,.971003,.556275,.980392,.961812,.975924,.571925,.984314,.966249,.980678,.587206,.988235,.971162,.985282,.602154,.992157,.976511,.989753,.61676,.996078,.982257,.994109,.631017,1,.988362,.998364,.644924]},{ColorSpace:"Diverging",Name:"Plasma (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.050383,.029803,.527975,.003922,.063536,.028426,.533124,.007843,.075353,.027206,.538007,.011765,.086222,.026125,.542658,.015686,.096379,.025165,.547103,.019608,.10598,.024309,.551368,.023529,.115124,.023556,.555468,.027451,.123903,.022878,.559423,.031373,.132381,.022258,.56325,.035294,.140603,.021687,.566959,.039216,.148607,.021154,.570562,.043137,.156421,.020651,.574065,.047059,.16407,.020171,.577478,.05098,.171574,.019706,.580806,.054902,.17895,.019252,.584054,.058824,.186213,.018803,.587228,.062745,.193374,.018354,.59033,.066667,.200445,.017902,.593364,.070588,.207435,.017442,.596333,.07451,.21435,.016973,.599239,.078431,.221197,.016497,.602083,.082353,.227983,.016007,.604867,.086275,.234715,.015502,.607592,.090196,.241396,.014979,.610259,.094118,.248032,.014439,.612868,.098039,.254627,.013882,.615419,.101961,.261183,.013308,.617911,.105882,.267703,.012716,.620346,.109804,.274191,.012109,.622722,.113725,.280648,.011488,.625038,.117647,.287076,.010855,.627295,.121569,.293478,.010213,.62949,.12549,.299855,.009561,.631624,.129412,.30621,.008902,.633694,.133333,.312543,.008239,.6357,.137255,.318856,.007576,.63764,.141176,.32515,.006915,.639512,.145098,.331426,.006261,.641316,.14902,.337683,.005618,.643049,.152941,.343925,.004991,.64471,.156863,.35015,.004382,.646298,.160784,.356359,.003798,.64781,.164706,.362553,.003243,.649245,.168627,.368733,.002724,.650601,.172549,.374897,.002245,.651876,.176471,.381047,.001814,.653068,.180392,.387183,.001434,.654177,.184314,.393304,.001114,.655199,.188235,.399411,859e-6,.656133,.192157,.405503,678e-6,.656977,.196078,.41158,577e-6,.65773,.2,.417642,564e-6,.65839,.203922,.423689,646e-6,.658956,.207843,.429719,831e-6,.659425,.211765,.435734,.001127,.659797,.215686,.441732,.00154,.660069,.219608,.447714,.00208,.66024,.223529,.453677,.002755,.66031,.227451,.459623,.003574,.660277,.231373,.46555,.004545,.660139,.235294,.471457,.005678,.659897,.239216,.477344,.00698,.659549,.243137,.48321,.00846,.659095,.247059,.489055,.010127,.658534,.25098,.494877,.01199,.657865,.254902,.500678,.014055,.657088,.258824,.506454,.016333,.656202,.262745,.512206,.018833,.655209,.266667,.517933,.021563,.654109,.270588,.523633,.024532,.652901,.27451,.529306,.027747,.651586,.278431,.534952,.031217,.650165,.282353,.54057,.03495,.64864,.286275,.546157,.038954,.64701,.290196,.551715,.043136,.645277,.294118,.557243,.047331,.643443,.298039,.562738,.051545,.641509,.301961,.568201,.055778,.639477,.305882,.573632,.060028,.637349,.309804,.579029,.064296,.635126,.313725,.584391,.068579,.632812,.317647,.589719,.072878,.630408,.321569,.595011,.07719,.627917,.32549,.600266,.081516,.625342,.329412,.605485,.085854,.622686,.333333,.610667,.090204,.619951,.337255,.615812,.094564,.61714,.341176,.620919,.098934,.614257,.345098,.625987,.103312,.611305,.34902,.631017,.107699,.608287,.352941,.636008,.112092,.605205,.356863,.640959,.116492,.602065,.360784,.645872,.120898,.598867,.364706,.650746,.125309,.595617,.368627,.65558,.129725,.592317,.372549,.660374,.134144,.588971,.376471,.665129,.138566,.585582,.380392,.669845,.142992,.582154,.384314,.674522,.147419,.578688,.388235,.67916,.151848,.575189,.392157,.683758,.156278,.57166,.396078,.688318,.160709,.568103,.4,.69284,.165141,.564522,.403922,.697324,.169573,.560919,.407843,.701769,.174005,.557296,.411765,.706178,.178437,.553657,.415686,.710549,.182868,.550004,.419608,.714883,.187299,.546338,.423529,.719181,.191729,.542663,.427451,.723444,.196158,.538981,.431373,.72767,.200586,.535293,.435294,.731862,.205013,.531601,.439216,.736019,.209439,.527908,.443137,.740143,.213864,.524216,.447059,.744232,.218288,.520524,.45098,.748289,.222711,.516834,.454902,.752312,.227133,.513149,.458824,.756304,.231555,.509468,.462745,.760264,.235976,.505794,.466667,.764193,.240396,.502126,.470588,.76809,.244817,.498465,.47451,.771958,.249237,.494813,.478431,.775796,.253658,.491171,.482353,.779604,.258078,.487539,.486275,.783383,.2625,.483918,.490196,.787133,.266922,.480307,.494118,.790855,.271345,.476706,.498039,.794549,.27577,.473117,.501961,.798216,.280197,.469538,.505882,.801855,.284626,.465971,.509804,.805467,.289057,.462415,.513725,.809052,.293491,.45887,.517647,.812612,.297928,.455338,.521569,.816144,.302368,.451816,.52549,.819651,.306812,.448306,.529412,.823132,.311261,.444806,.533333,.826588,.315714,.441316,.537255,.830018,.320172,.437836,.541176,.833422,.324635,.434366,.545098,.836801,.329105,.430905,.54902,.840155,.33358,.427455,.552941,.843484,.338062,.424013,.556863,.846788,.342551,.420579,.560784,.850066,.347048,.417153,.564706,.853319,.351553,.413734,.568627,.856547,.356066,.410322,.572549,.85975,.360588,.406917,.576471,.862927,.365119,.403519,.580392,.866078,.36966,.400126,.584314,.869203,.374212,.396738,.588235,.872303,.378774,.393355,.592157,.875376,.383347,.389976,.596078,.878423,.387932,.3866,.6,.881443,.392529,.383229,.603922,.884436,.397139,.37986,.607843,.887402,.401762,.376494,.611765,.89034,.406398,.37313,.615686,.89325,.411048,.369768,.619608,.896131,.415712,.366407,.623529,.898984,.420392,.363047,.627451,.901807,.425087,.359688,.631373,.904601,.429797,.356329,.635294,.907365,.434524,.35297,.639216,.910098,.439268,.34961,.643137,.9128,.444029,.346251,.647059,.915471,.448807,.34289,.65098,.918109,.453603,.339529,.654902,.920714,.458417,.336166,.658824,.923287,.463251,.332801,.662745,.925825,.468103,.329435,.666667,.928329,.472975,.326067,.670588,.930798,.477867,.322697,.67451,.933232,.48278,.319325,.678431,.93563,.487712,.315952,.682353,.93799,.492667,.312575,.686275,.940313,.497642,.309197,.690196,.942598,.502639,.305816,.694118,.944844,.507658,.302433,.698039,.947051,.512699,.299049,.701961,.949217,.517763,.295662,.705882,.951344,.52285,.292275,.709804,.953428,.52796,.288883,.713725,.95547,.533093,.28549,.717647,.957469,.53825,.282096,.721569,.959424,.543431,.278701,.72549,.961336,.548636,.275305,.729412,.963203,.553865,.271909,.733333,.965024,.559118,.268513,.737255,.966798,.564396,.265118,.741176,.968526,.5697,.261721,.745098,.970205,.575028,.258325,.74902,.971835,.580382,.254931,.752941,.973416,.585761,.25154,.756863,.974947,.591165,.248151,.760784,.976428,.596595,.244767,.764706,.977856,.602051,.241387,.768627,.979233,.607532,.238013,.772549,.980556,.613039,.234646,.776471,.981826,.618572,.231287,.780392,.983041,.624131,.227937,.784314,.984199,.629718,.224595,.788235,.985301,.63533,.221265,.792157,.986345,.640969,.217948,.796078,.987332,.646633,.214648,.8,.98826,.652325,.211364,.803922,.989128,.658043,.2081,.807843,.989935,.663787,.204859,.811765,.990681,.669558,.201642,.815686,.991365,.675355,.198453,.819608,.991985,.681179,.195295,.823529,.992541,.68703,.19217,.827451,.993032,.692907,.189084,.831373,.993456,.69881,.186041,.835294,.993814,.704741,.183043,.839216,.994103,.710698,.180097,.843137,.994324,.716681,.177208,.847059,.994474,.722691,.174381,.85098,.994553,.728728,.171622,.854902,.994561,.734791,.168938,.858824,.994495,.74088,.166335,.862745,.994355,.746995,.163821,.866667,.994141,.753137,.161404,.870588,.993851,.759304,.159092,.87451,.993482,.765499,.156891,.878431,.993033,.77172,.154808,.882353,.992505,.777967,.152855,.886275,.991897,.784239,.151042,.890196,.991209,.790537,.149377,.894118,.990439,.796859,.14787,.898039,.989587,.803205,.146529,.901961,.988648,.809579,.145357,.905882,.987621,.815978,.144363,.909804,.986509,.822401,.143557,.913725,.985314,.828846,.142945,.917647,.984031,.835315,.142528,.921569,.982653,.841812,.142303,.92549,.98119,.848329,.142279,.929412,.979644,.854866,.142453,.933333,.977995,.861432,.142808,.937255,.976265,.868016,.143351,.941176,.974443,.874622,.144061,.945098,.97253,.88125,.144923,.94902,.970533,.887896,.145919,.952941,.968443,.894564,.147014,.956863,.966271,.901249,.14818,.960784,.964021,.90795,.14937,.964706,.961681,.914672,.15052,.968627,.959276,.921407,.151566,.972549,.956808,.928152,.152409,.976471,.954287,.934908,.152921,.980392,.951726,.941671,.152925,.984314,.949151,.948435,.152178,.988235,.946602,.95519,.150328,.992157,.944152,.961916,.146861,.996078,.941896,.96859,.140956,1,.940015,.975158,.131326]},{ColorSpace:"Diverging",Name:"Viridis (matplotlib)",NanColor:[1,0,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Eric Firing",RGBPoints:[0,.267004,.004874,.329415,.003922,.26851,.009605,.335427,.007843,.269944,.014625,.341379,.011765,.271305,.019942,.347269,.015686,.272594,.025563,.353093,.019608,.273809,.031497,.358853,.023529,.274952,.037752,.364543,.027451,.276022,.044167,.370164,.031373,.277018,.050344,.375715,.035294,.277941,.056324,.381191,.039216,.278791,.062145,.386592,.043137,.279566,.067836,.391917,.047059,.280267,.073417,.397163,.05098,.280894,.078907,.402329,.054902,.281446,.08432,.407414,.058824,.281924,.089666,.412415,.062745,.282327,.094955,.417331,.066667,.282656,.100196,.42216,.070588,.28291,.105393,.426902,.07451,.283091,.110553,.431554,.078431,.283197,.11568,.436115,.082353,.283229,.120777,.440584,.086275,.283187,.125848,.44496,.090196,.283072,.130895,.449241,.094118,.282884,.13592,.453427,.098039,.282623,.140926,.457517,.101961,.28229,.145912,.46151,.105882,.281887,.150881,.465405,.109804,.281412,.155834,.469201,.113725,.280868,.160771,.472899,.117647,.280255,.165693,.476498,.121569,.279574,.170599,.479997,.12549,.278826,.17549,.483397,.129412,.278012,.180367,.486697,.133333,.277134,.185228,.489898,.137255,.276194,.190074,.493001,.141176,.275191,.194905,.496005,.145098,.274128,.199721,.498911,.14902,.273006,.20452,.501721,.152941,.271828,.209303,.504434,.156863,.270595,.214069,.507052,.160784,.269308,.218818,.509577,.164706,.267968,.223549,.512008,.168627,.26658,.228262,.514349,.172549,.265145,.232956,.516599,.176471,.263663,.237631,.518762,.180392,.262138,.242286,.520837,.184314,.260571,.246922,.522828,.188235,.258965,.251537,.524736,.192157,.257322,.25613,.526563,.196078,.255645,.260703,.528312,.2,.253935,.265254,.529983,.203922,.252194,.269783,.531579,.207843,.250425,.27429,.533103,.211765,.248629,.278775,.534556,.215686,.246811,.283237,.535941,.219608,.244972,.287675,.53726,.223529,.243113,.292092,.538516,.227451,.241237,.296485,.539709,.231373,.239346,.300855,.540844,.235294,.237441,.305202,.541921,.239216,.235526,.309527,.542944,.243137,.233603,.313828,.543914,.247059,.231674,.318106,.544834,.25098,.229739,.322361,.545706,.254902,.227802,.326594,.546532,.258824,.225863,.330805,.547314,.262745,.223925,.334994,.548053,.266667,.221989,.339161,.548752,.270588,.220057,.343307,.549413,.27451,.21813,.347432,.550038,.278431,.21621,.351535,.550627,.282353,.214298,.355619,.551184,.286275,.212395,.359683,.55171,.290196,.210503,.363727,.552206,.294118,.208623,.367752,.552675,.298039,.206756,.371758,.553117,.301961,.204903,.375746,.553533,.305882,.203063,.379716,.553925,.309804,.201239,.38367,.554294,.313725,.19943,.387607,.554642,.317647,.197636,.391528,.554969,.321569,.19586,.395433,.555276,.32549,.1941,.399323,.555565,.329412,.192357,.403199,.555836,.333333,.190631,.407061,.556089,.337255,.188923,.41091,.556326,.341176,.187231,.414746,.556547,.345098,.185556,.41857,.556753,.34902,.183898,.422383,.556944,.352941,.182256,.426184,.55712,.356863,.180629,.429975,.557282,.360784,.179019,.433756,.55743,.364706,.177423,.437527,.557565,.368627,.175841,.44129,.557685,.372549,.174274,.445044,.557792,.376471,.172719,.448791,.557885,.380392,.171176,.45253,.557965,.384314,.169646,.456262,.55803,.388235,.168126,.459988,.558082,.392157,.166617,.463708,.558119,.396078,.165117,.467423,.558141,.4,.163625,.471133,.558148,.403922,.162142,.474838,.55814,.407843,.160665,.47854,.558115,.411765,.159194,.482237,.558073,.415686,.157729,.485932,.558013,.419608,.15627,.489624,.557936,.423529,.154815,.493313,.55784,.427451,.153364,.497,.557724,.431373,.151918,.500685,.557587,.435294,.150476,.504369,.55743,.439216,.149039,.508051,.55725,.443137,.147607,.511733,.557049,.447059,.14618,.515413,.556823,.45098,.144759,.519093,.556572,.454902,.143343,.522773,.556295,.458824,.141935,.526453,.555991,.462745,.140536,.530132,.555659,.466667,.139147,.533812,.555298,.470588,.13777,.537492,.554906,.47451,.136408,.541173,.554483,.478431,.135066,.544853,.554029,.482353,.133743,.548535,.553541,.486275,.132444,.552216,.553018,.490196,.131172,.555899,.552459,.494118,.129933,.559582,.551864,.498039,.128729,.563265,.551229,.501961,.127568,.566949,.550556,.505882,.126453,.570633,.549841,.509804,.125394,.574318,.549086,.513725,.124395,.578002,.548287,.517647,.123463,.581687,.547445,.521569,.122606,.585371,.546557,.52549,.121831,.589055,.545623,.529412,.121148,.592739,.544641,.533333,.120565,.596422,.543611,.537255,.120092,.600104,.54253,.541176,.119738,.603785,.5414,.545098,.119512,.607464,.540218,.54902,.119423,.611141,.538982,.552941,.119483,.614817,.537692,.556863,.119699,.61849,.536347,.560784,.120081,.622161,.534946,.564706,.120638,.625828,.533488,.568627,.12138,.629492,.531973,.572549,.122312,.633153,.530398,.576471,.123444,.636809,.528763,.580392,.12478,.640461,.527068,.584314,.126326,.644107,.525311,.588235,.128087,.647749,.523491,.592157,.130067,.651384,.521608,.596078,.132268,.655014,.519661,.6,.134692,.658636,.517649,.603922,.137339,.662252,.515571,.607843,.14021,.665859,.513427,.611765,.143303,.669459,.511215,.615686,.146616,.67305,.508936,.619608,.150148,.676631,.506589,.623529,.153894,.680203,.504172,.627451,.157851,.683765,.501686,.631373,.162016,.687316,.499129,.635294,.166383,.690856,.496502,.639216,.170948,.694384,.493803,.643137,.175707,.6979,.491033,.647059,.180653,.701402,.488189,.65098,.185783,.704891,.485273,.654902,.19109,.708366,.482284,.658824,.196571,.711827,.479221,.662745,.202219,.715272,.476084,.666667,.20803,.718701,.472873,.670588,.214,.722114,.469588,.67451,.220124,.725509,.466226,.678431,.226397,.728888,.462789,.682353,.232815,.732247,.459277,.686275,.239374,.735588,.455688,.690196,.24607,.73891,.452024,.694118,.252899,.742211,.448284,.698039,.259857,.745492,.444467,.701961,.266941,.748751,.440573,.705882,.274149,.751988,.436601,.709804,.281477,.755203,.432552,.713725,.288921,.758394,.428426,.717647,.296479,.761561,.424223,.721569,.304148,.764704,.419943,.72549,.311925,.767822,.415586,.729412,.319809,.770914,.411152,.733333,.327796,.77398,.40664,.737255,.335885,.777018,.402049,.741176,.344074,.780029,.397381,.745098,.35236,.783011,.392636,.74902,.360741,.785964,.387814,.752941,.369214,.788888,.382914,.756863,.377779,.791781,.377939,.760784,.386433,.794644,.372886,.764706,.395174,.797475,.367757,.768627,.404001,.800275,.362552,.772549,.412913,.803041,.357269,.776471,.421908,.805774,.35191,.780392,.430983,.808473,.346476,.784314,.440137,.811138,.340967,.788235,.449368,.813768,.335384,.792157,.458674,.816363,.329727,.796078,.468053,.818921,.323998,.8,.477504,.821444,.318195,.803922,.487026,.823929,.312321,.807843,.496615,.826376,.306377,.811765,.506271,.828786,.300362,.815686,.515992,.831158,.294279,.819608,.525776,.833491,.288127,.823529,.535621,.835785,.281908,.827451,.545524,.838039,.275626,.831373,.555484,.840254,.269281,.835294,.565498,.84243,.262877,.839216,.575563,.844566,.256415,.843137,.585678,.846661,.249897,.847059,.595839,.848717,.243329,.85098,.606045,.850733,.236712,.854902,.616293,.852709,.230052,.858824,.626579,.854645,.223353,.862745,.636902,.856542,.21662,.866667,.647257,.8584,.209861,.870588,.657642,.860219,.203082,.87451,.668054,.861999,.196293,.878431,.678489,.863742,.189503,.882353,.688944,.865448,.182725,.886275,.699415,.867117,.175971,.890196,.709898,.868751,.169257,.894118,.720391,.87035,.162603,.898039,.730889,.871916,.156029,.901961,.741388,.873449,.149561,.905882,.751884,.874951,.143228,.909804,.762373,.876424,.137064,.913725,.772852,.877868,.131109,.917647,.783315,.879285,.125405,.921569,.79376,.880678,.120005,.92549,.804182,.882046,.114965,.929412,.814576,.883393,.110347,.933333,.82494,.88472,.106217,.937255,.83527,.886029,.102646,.941176,.845561,.887322,.099702,.945098,.85581,.888601,.097452,.94902,.866013,.889868,.095953,.952941,.876168,.891125,.09525,.956863,.886271,.892374,.095374,.960784,.89632,.893616,.096335,.964706,.906311,.894855,.098125,.968627,.916242,.896091,.100717,.972549,.926106,.89733,.104071,.976471,.935904,.89857,.108131,.980392,.945636,.899815,.112838,.984314,.9553,.901065,.118128,.988235,.964894,.902323,.123941,.992157,.974417,.90359,.130215,.996078,.983868,.904867,.136897,1,.993248,.906157,.143936]},{ShowIndexedColorActiveValues:1,IndexedColors:[.07,.5,.7,1,1,1,.85,1,1,.8,.5,1,.76,1,0,1,.71,.71,.5,.5,.5,.05,.05,1,1,.05,.05,.7,1,1,.7,.89,.96,.67,.36,.95,.54,1,0,.75,.65,.65,.5,.6,.6,1,.5,0,1,1,.19,.12,.94,.12,.5,.82,.89,.56,.25,.83,.24,1,0,.9,.9,.9,.75,.76,.78,.65,.65,.67,.54,.6,.78,.61,.48,.78,.5,.48,.78,.44,.48,.78,.36,.48,.76,1,.48,.38,.49,.5,.69,.76,.56,.56,.4,.56,.56,.74,.5,.89,1,.63,0,.65,.16,.16,.36,.72,.82,.44,.18,.69,0,1,0,.58,1,1,.58,.88,.88,.45,.76,.79,.33,.71,.71,.23,.62,.62,.14,.56,.56,.04,.49,.55,0,.41,.52,.88,.88,1,1,.85,.56,.65,.46,.45,.4,.5,.5,.62,.39,.71,.83,.48,0,.58,0,.58,.26,.62,.69,.34,.09,.56,0,.79,0,.44,.83,1,1,1,.78,.85,1,.78,.78,1,.78,.64,1,.78,.56,1,.78,.38,1,.78,.27,1,.78,.19,1,.78,.12,1,.78,0,1,.61,0,.9,.46,0,.83,.32,0,.75,.22,0,.67,.14,.3,.76,1,.3,.65,1,.13,.58,.84,.15,.49,.67,.15,.4,.59,.09,.33,.53,.96,.93,.82,.8,.82,.12,.71,.71,.76,.65,.33,.3,.34,.35,.38,.62,.31,.71,.67,.36,0,.46,.31,.27,.26,.51,.59,.26,0,.4,0,.49,0,.44,.67,.98,0,.73,1,0,.63,1,0,.56,1,0,.5,1,0,.42,1,.33,.36,.95,.47,.36,.89,.54,.31,.89,.63,.21,.83,.7,.12,.83,.7,.12,.73,.7,.05,.65,.74,.05,.53,.78,0,.4,.8,0,.35,.82,0,.31,.85,0,.27,.88,0,.22,.9,0,.18,.91,0,.15,.92,0,.14,.93,0,.13,.94,0,.12,.95,0,.11,.96,0,.1,.97,0,.09,.98,0,.08,.99,0,.07,1,0,.06],Annotations:[0,"Xx",1,"H",2,"He",3,"Li",4,"Be",5,"B",6,"C",7,"N",8,"O",9,"F",10,"Ne",11,"Na",12,"Mg",13,"Al",14,"Si",15,"P",16,"S",17,"Cl",18,"Ar",19,"K",20,"Ca",21,"Sc",22,"Ti",23,"V",24,"Cr",25,"Mn",26,"Fe",27,"Co",28,"Ni",29,"Cu",30,"Zn",31,"Ga",32,"Ge",33,"As",34,"Se",35,"Br",36,"Kr",37,"Rb",38,"Sr",39,"Y",40,"Zr",41,"Nb",42,"Mo",43,"Tc",44,"Ru",45,"Rh",46,"Pd",47,"Ag",48,"Cd",49,"In",50,"Sn",51,"Sb",52,"Te",53,"I",54,"Xe",55,"Cs",56,"Ba",57,"La",58,"Ce",59,"Pr",60,"Nd",61,"Pm",62,"Sm",63,"Eu",64,"Gd",65,"Tb",66,"Dy",67,"Ho",68,"Er",69,"Tm",70,"Yb",71,"Lu",72,"Hf",73,"Ta",74,"W",75,"Re",76,"Os",77,"Ir",78,"Pt",79,"Au",80,"Hg",81,"Tl",82,"Pb",83,"Bi",84,"Po",85,"At",86,"Rn",87,"Fr",88,"Ra",89,"Ac",90,"Th",91,"Pa",92,"U",93,"Np",94,"Pu",95,"Am",96,"Cm",97,"Bk",98,"Cf",99,"Es",100,"Fm",101,"Md",102,"No",103,"Lr",104,"Rf",105,"Db",106,"Sg",107,"Bh",108,"Hs",109,"Mt",110,"Ds",111,"Rg",112,"Cn",113,"Uut",114,"Uuq",115,"Uup",116,"Uuh",117,"Uus",118,"Uuo"],Name:"BlueObeliskElements"}]},function(g,p){g.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1763.3333740234375 1792"><path d="M707.333 1440q0 12-10 24l-319 319q-10 9-23 9-12 0-23-9l-320-320q-15-16-7-35 8-20 30-20h192V32q0-14 9-23t23-9h192q14 0 23 9t9 23v1376h192q14 0 23 9t9 23zm1056 128v192q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-192q0-14 9-23t23-9h832q14 0 23 9t9 23zm-192-512v192q0 14-9 23t-23 9h-640q-14 0-23-9t-9-23v-192q0-14 9-23t23-9h640q14 0 23 9t9 23zm-192-512v192q0 14-9 23t-23 9h-448q-14 0-23-9t-9-23V544q0-14 9-23t23-9h448q14 0 23 9t9 23zm-192-512v192q0 14-9 23t-23 9h-256q-14 0-23-9t-9-23V32q0-14 9-23t23-9h256q14 0 23 9t9 23z"/></svg>'},function(g,p,a){var u=function(){return function(w,r){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return function(b,C){var A=[],x=!0,E=!1,M=void 0;try{for(var S,D=b[Symbol.iterator]();!(x=(S=D.next()).done)&&(A.push(S.value),!C||A.length!==C);x=!0);}catch(V){E=!0,M=V}finally{try{!x&&D.return&&D.return()}finally{if(E)throw M}}return A}(w,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function w(r,b){for(var C=0;C<b.length;C++){var A=b[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(r,A.key,A)}}return function(r,b,C){return b&&w(r.prototype,b),C&&w(r,C),r}}();function P(w){if(Array.isArray(w)){for(var r=0,b=Array(w.length);r<w.length;r++)b[r]=w[r];return b}return Array.from(w)}var U=a(254),m=function(w){function r(b){(function(A,x){if(!(A instanceof x))throw new TypeError("Cannot call a class as a function")})(this,r);var C=function(A,x){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||typeof x!="object"&&typeof x!="function"?A:x}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return C._messageId=1,C._messages=new Map,C._worker=b,C._worker.onmessage=C._onMessage.bind(C),C._id=Math.ceil(1e7*Math.random()),C}return function(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(r,U),f(r,[{key:"terminate",value:function(){this._worker.terminate()}},{key:"isFree",value:function(){return this._messages.size===0}},{key:"jobsLength",value:function(){return this._messages.size}},{key:"exec",value:function(b){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,A=this,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],E=arguments[3];return new Promise(function(M,S){var D=A._messageId++;A._messages.set(D,[M,S,E]),A._worker.postMessage([D,C,b],x||[])})}},{key:"postMessage",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,C=this,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],x=arguments[2];return new Promise(function(E,M){var S=C._messageId++;C._messages.set(S,[E,M,x]),C._worker.postMessage([S,b],A||[])})}},{key:"emit",value:function(b){for(var C=arguments.length,A=Array(C>1?C-1:0),x=1;x<C;x++)A[x-1]=arguments[x];this._worker.postMessage({eventName:b,args:A})}},{key:"_onMessage",value:function(b){var C;if(!Array.isArray(b.data)&&b.data.eventName)return(C=function M(S,D,V){S===null&&(S=Function.prototype);var d=Object.getOwnPropertyDescriptor(S,D);if(d===void 0){var O=Object.getPrototypeOf(S);return O===null?void 0:M(O,D,V)}if("value"in d)return d.value;var F=d.get;return F!==void 0?F.call(V):void 0}(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"emit",this)).call.apply(C,[this,b.data.eventName].concat(P(b.data.args)));var A=function(M){return Array.isArray(M)?M:Array.from(M)}(b.data),x=A[0],E=A.slice(1);if(x===1)this._onEvent.apply(this,P(E));else{if(x!==0)throw new Error("Wrong message type '"+x+"'");this._onResult.apply(this,P(E))}}},{key:"_onResult",value:function(b,C,A){var x=this._messages.get(b),E=u(x,2),M=E[0],S=E[1];return this._messages.delete(b),C===1?M(A):S(A)}},{key:"_onEvent",value:function(b,C,A){var x=this._messages.get(b),E=u(x,3)[2];E&&E(C,A)}}]),r}();g.exports=m},function(g,p,a){g.exports=function(){return a(255)(`!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=r(2),l=0,c=1,s=0,p=1,y="main",v=function(e){return"object"===(void 0===e?"undefined":i(e))&&"function"==typeof e.then&&"function"==typeof e.catch};var b=function e(t,r){u(this,e),this.payload=t,this.transferable=r};e.exports=function(e){var t=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},y,e),r=self.postMessage.bind(self),i=new(function(e){function i(){return u(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,f),n(i,[{key:"emit",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return r({eventName:e,args:n}),this}},{key:"emitLocally",value:function(e){for(var t,r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];(t=o(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"emit",this)).call.apply(t,[this,e].concat(n))}},{key:"operation",value:function(e,r){return t[e]=r,this}}]),i}()),h=function(e,r,n){var o=t[n||y];if(!o)throw new Error("Not found handler for this request");return o(r,m.bind(null,e))},d=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];r([l,e,t,n],o)},m=function(e,t,n){if(!t)throw new Error("eventName is required");if("string"!=typeof t)throw new Error("eventName should be string");r([c,e,t,n])};return self.addEventListener("message",function(e){var t=e.data;Array.isArray(t)?function(e,t,r){var n=function(t){t&&t instanceof b?d(e,p,t.payload,t.transferable):d(e,p,t)},o=function(t){d(e,s,{message:t.message,stack:t.stack})};try{var i=h(e,t,r);v(i)?i.then(n).catch(o):n(i)}catch(e){o(e)}}.apply(void 0,a(t)):t&&t.eventName&&i.emitLocally.apply(i,[t.eventName].concat(a(t.args)))}),i},e.exports.TransferableResponse=b},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n);o()(function(e,t){var r=e.array,n=e.min,i=e.max,a=e.component||0,u=e.numberOfComponents||1,f=e.numberOfBins,l=i-n,c=new Float32Array(f);c.fill(0);for(var s=r.length,p=a;p<s;p+=u){c[Math.floor((f-1)*(Number(r[p])-n)/l)]+=1}return Promise.resolve(new o.a.TransferableResponse(c,[c.buffer]))})},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return n(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=!0,i=!1,a=void 0;try{for(var u,f=this.__listeners[e][Symbol.iterator]();!(o=(u=f.next()).done);o=!0){u.value.apply(void 0,r)}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}return this}},{key:"once",value:function(e,t){var r=this,n=function n(){r.off(e,n),t.apply(void 0,arguments)};return this.on(e,n)}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter(function(e){return e!==t}):[],this}}]),e}();e.exports=o}]);`,null)}},function(g,p){g.exports=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="31.654362741230607 28.850229150738443 113.67896134435179 115.80278931174794" width="109.68" height="111.8"><defs><path d="M87.79 29.85L142.33 61.23L87.79 89.05L33.24 61.23L87.79 29.85Z" id="b6gn5Ph4a"></path><linearGradient id="gradientc5ieAzTlrB" gradientUnits="userSpaceOnUse" x1="87.79" y1="88.11" x2="86.79" y2="15.31"><stop style="stop-color: #8dbee6;stop-opacity: 1" offset="0%"></stop><stop style="stop-color: #3384c5;stop-opacity: 1" offset="100%"></stop></linearGradient><path d="M87.79 141.63L33.24 115L33.24 61.17L87.79 88.83L87.79 141.63Z" id="bcpTLWFe1"></path><linearGradient id="gradienta1vdPb9Tx" gradientUnits="userSpaceOnUse" x1="86.52" y1="89.05" x2="58.85" y2="125.96"><stop style="stop-color: #7bb2de;stop-opacity: 1" offset="0%"></stop><stop style="stop-color: #3789cb;stop-opacity: 1" offset="100%"></stop></linearGradient><path d="M142.33 115.48L142.31 61.17L87.77 88.26L87.8 141.65L142.33 115.48Z" id="doqFZ6o0V"></path><linearGradient id="gradientb6QK8E71A" gradientUnits="userSpaceOnUse" x1="87.77" y1="89.05" x2="125.07" y2="123.31"><stop style="stop-color: #7db2dd;stop-opacity: 1" offset="0%"></stop><stop style="stop-color: #3384c5;stop-opacity: 1" offset="100%"></stop></linearGradient><path d="M87.2 58.24L141.75 89.62L87.2 117.43L32.65 89.62L87.2 58.24Z" id="dDpnVVPsa"></path><path d="M117.39 102.02L116.4 47.72L62.36 75.78L63.33 129.16L117.39 102.02Z" id="b2LmEtWKW7"></path><path d="M111.39 129L54.95 100.95L56.3 47.13L112.71 76.21L111.39 129Z" id="a2vWKwK9hV"></path><path d="M87.18 91.77L87.39 62.98L63.46 77.15L63.25 105.45L87.18 91.77Z" id="blEPHXHzV"></path><path d="M87.7 91.5L112.05 105.3L87.7 117.53L63.35 105.3L87.7 91.5Z" id="d10FgvNsKq"></path><path d="M53.45 81.07L63.41 91.93L63.21 105.2L53.84 95.8L53.45 81.07Z" id="b4fb7ce3g6"></path><path d="M54.34 78L63.46 82.93L63.26 92.41L54.68 88.36L54.34 78Z" id="b4t14UEF2B"></path><path d="M45.58 84.93L58.54 91.93L62.69 104.55L50.76 98.72L45.58 84.93Z" id="b7nuEYAotU"></path><path d="M117.88 95.3L117.38 101.98L112.01 104.88L112.16 98.78L117.88 95.3Z" id="cbfwgDbHI"></path><path d="M118.38 75.8L117.88 82.48L112.51 85.38L112.66 79.28L118.38 75.8Z" id="a7u7rrS51C"></path><path d="M118.08 83.3L117.58 89.98L112.21 92.88L112.36 86.78L118.08 83.3Z" id="b2cAudVEyd"></path><path d="M117.98 89.2L117.48 95.88L112.11 98.78L112.26 92.68L117.98 89.2Z" id="hMEdWtW14"></path><path d="M112.44 88.87L118.08 85.26L118.09 79.16L112.79 82.18L112.44 88.87Z" id="d6AqxDBdCj"></path></defs><g><g><use xlink:href="#b6gn5Ph4a" opacity="0.4" fill="url(#gradientc5ieAzTlrB)"></use></g><g><use xlink:href="#bcpTLWFe1" opacity="0.4" fill="url(#gradienta1vdPb9Tx)"></use><g><use xlink:href="#bcpTLWFe1" opacity="0.4" fill-opacity="0" stroke="#ffffff" stroke-width="1" stroke-opacity="1"></use></g></g><g><use xlink:href="#doqFZ6o0V" opacity="0.4" fill="url(#gradientb6QK8E71A)"></use><g><use xlink:href="#doqFZ6o0V" opacity="0.4" fill-opacity="0" stroke="#ffffff" stroke-width="1" stroke-opacity="1"></use></g></g><g><use xlink:href="#dDpnVVPsa" opacity="1" fill="#59d87d" fill-opacity="1"></use></g><g><use xlink:href="#b2LmEtWKW7" opacity="1" fill="#ffff72" fill-opacity="1"></use></g><g><use xlink:href="#a2vWKwK9hV" opacity="1" fill="#ff7b7b" fill-opacity="1"></use></g><g><use xlink:href="#blEPHXHzV" opacity="1" fill="#ffff72" fill-opacity="1"></use></g><g><use xlink:href="#d10FgvNsKq" opacity="1" fill="#59d87d" fill-opacity="1"></use></g><g><use xlink:href="#b4fb7ce3g6" opacity="1" fill="#59d87d" fill-opacity="1"></use></g><g><use xlink:href="#b4t14UEF2B" opacity="1" fill="#59d87d" fill-opacity="1"></use></g><g><use xlink:href="#b7nuEYAotU" opacity="1" fill="#59d87d" fill-opacity="1"></use></g><g><use xlink:href="#cbfwgDbHI" opacity="1" fill="#59d87d" fill-opacity="1"></use></g><g><use xlink:href="#a7u7rrS51C" opacity="1" fill="#59d87d" fill-opacity="1"></use></g><g><use xlink:href="#b2cAudVEyd" opacity="1" fill="#59d87d" fill-opacity="1"></use></g><g><use xlink:href="#hMEdWtW14" opacity="1" fill="#59d87d" fill-opacity="1"></use></g><g><use xlink:href="#d6AqxDBdCj" opacity="1" fill="#59d87d" fill-opacity="1"></use></g></g></svg>`},function(g,p){g.exports=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="15 15 75.15107913669064 70.19424460431657" width="61.15" height="59.19"><defs><path d="M15 15L76.15 15L76.15 74.19L15 74.19L15 15Z" id="a28rcsTDH"></path><clipPath id="clipa5ipCW0hFw"><use xlink:href="#a28rcsTDH" opacity="1"></use></clipPath></defs><g><g><g><filter id="shadow11528463" x="-5" y="-5" width="113.15" height="108.19" filterUnits="userSpaceOnUse" primitiveUnits="userSpaceOnUse"><feFlood></feFlood><feComposite in2="SourceAlpha" operator="in"></feComposite><feGaussianBlur stdDeviation="1"></feGaussianBlur><feOffset dx="12" dy="9" result="afterOffset"></feOffset><feFlood flood-color="#000000" flood-opacity="0.5"></feFlood><feComposite in2="afterOffset" operator="in"></feComposite><feMorphology operator="dilate" radius="1"></feMorphology><feComposite in2="SourceAlpha" operator="out"></feComposite></filter><path d="M15 15L76.15 15L76.15 74.19L15 74.19L15 15Z" id="ciVjyGjh3" fill="white" fill-opacity="1" filter="url(#shadow11528463)"></path></g><use xlink:href="#a28rcsTDH" opacity="1" fill="#ffffff" fill-opacity="0"></use><g clip-path="url(#clipa5ipCW0hFw)"><use xlink:href="#a28rcsTDH" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="8" stroke-opacity="1"></use></g></g></g></svg>`},function(g,p){g.exports=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="180px" height="180px" viewBox="0 0 180 180" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 43.1 (39012) - http://www.bohemiancoding.com/sketch -->
    <title>Spacing</title>
    <desc>Created with Sketch.</desc>
    <defs></defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square">
        <g id="Spacing" stroke="#000000" stroke-width="10">
            <path d="M10,90 L170,90" id="Line"></path>
            <path d="M10,133.488074 L10,47" id="Line"></path>
            <path d="M170,133.488074 L170,47" id="Line"></path>
            <path d="M90,133.488074 L90,47" id="Line"></path>
        </g>
    </g>
</svg>`},function(g,p){g.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path d="M16 12h4v4h-4zm-4 4h4v4h-4zm8 0h4v4h-4zm4-4h4v4h-4zM8 12h4v4H8zM32 0H4C1.8 0 0 1.8 0 4v28c0 2.2 1.8 4 4 4h28c2.2 0 4-1.8 4-4V4c0-2.2-1.8-4-4-4zM12 30H8v-4h4v4zm8 0h-4v-4h4v4zm8 0h-4v-4h4v4zm4-14h-4v4h4v4h-4v-4h-4v4h-4v-4h-4v4h-4v-4H8v4H4v-4h4v-4H4V4h28v12z"/></svg>'},function(g,p){g.exports=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   version="1.1"
   id="svg2"
   viewBox="0 0 62.221396 60.130392"
   height="16.970133mm"
   width="17.560261mm">
  <defs
     id="defs4" />
  <metadata
     id="metadata7">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     transform="translate(-204.3732,-426.67465)"
     id="layer1">
    <rect
       transform="matrix(0.67893789,0.73419571,-0.73419571,0.67893789,0,0)"
       y="107.51627"
       x="484.44534"
       height="59.38089"
       width="21.540062"
       id="rect4140"
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:4;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       id="path4148"
       d="m 243.29116,434.92064 c 3.16419,3.42172 6.32839,6.84344 9.49258,10.26516"
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:4;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    <path
       id="path4148-3-5"
       d="m 236.26734,441.53481 c 1.96377,2.12361 3.92755,4.24722 5.89132,6.37082"
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:4;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    <path
       id="path4148-3"
       d="m 228.61436,448.49077 c 3.16419,3.42172 6.32839,6.84345 9.49259,10.26516"
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:4;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    <path
       id="path4148-3-5-5"
       d="m 220.76246,455.75236 c 1.96378,2.12361 3.92756,4.24721 5.89133,6.37081"
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:4;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
    <path
       id="path4148-6"
       d="m 213.55887,462.41313 c 3.16419,3.42173 6.32839,6.84345 9.49258,10.26518"
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:4;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
  </g>
</svg>
`},function(g,p){g.exports=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="38.02499999999962 25.210286106408134 111.25000000000004 113.80117886174482" width="105.25" height="107.8"><defs><path d="M146.27 80.85L99.52 136.01L41.02 84.85L91.78 28.21L146.27 80.85Z" id="g1sYRhKBTc"></path><path d="M146.27 80.35L105.27 93.1L92.02 28.21" id="b6Qk62r8FU"></path><path d="M104.52 93.1L41.02 85.6" id="f2j8oT8xXt"></path><path d="M105.2 93.1L99.92 136.01" id="e2xdqfDjam"></path></defs><g><g><g><use xlink:href="#g1sYRhKBTc" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="6" stroke-opacity="1"></use></g></g><g><g><use xlink:href="#b6Qk62r8FU" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="6" stroke-opacity="1"></use></g></g><g><g><use xlink:href="#f2j8oT8xXt" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="6" stroke-opacity="1"></use></g></g><g><g><use xlink:href="#e2xdqfDjam" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="6" stroke-opacity="1"></use></g></g></g></svg>`},function(g,p){g.exports=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="58.39999999999958 47.210286106408134 110.87500000000003 111.80117886174482" width="106.88" height="107.8"><defs><path d="M164.65 100.85L117.9 156.01L59.4 104.85L110.15 48.21L164.65 100.85Z" id="c3iy9z4fON"></path><path d="M166.27 100.35L125.27 113.1L112.02 48.21" id="bzN5nrQYw"></path><path d="M124.52 113.1L61.02 105.6" id="be83I4jJ9"></path><path d="M125.2 113.1L119.92 156.01" id="bMepUtqJ8"></path></defs><g><g><use xlink:href="#c3iy9z4fON" opacity="0.7" fill="#235b8b" fill-opacity="1"></use><g><use xlink:href="#c3iy9z4fON" opacity="0.7" fill-opacity="0" stroke="#ffffff" stroke-width="2" stroke-opacity="0.56"></use></g></g><g><g><use xlink:href="#bzN5nrQYw" opacity="1" fill-opacity="0" stroke="#ffffff" stroke-width="2" stroke-opacity="0.56"></use></g></g><g><g><use xlink:href="#be83I4jJ9" opacity="1" fill-opacity="0" stroke="#ffffff" stroke-width="2" stroke-opacity="0.56"></use></g></g><g><g><use xlink:href="#bMepUtqJ8" opacity="1" fill-opacity="0" stroke="#ffffff" stroke-width="2" stroke-opacity="0.56"></use></g></g></g></svg>`},function(g,p){g.exports=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="46.39999999999958 35.210286106408134 112.87500000000003 113.80117886174482" width="106.88" height="107.8"><defs><path d="M154.65 90.85L107.9 146.01L49.4 94.85L100.15 38.21L154.65 90.85Z" id="a2AvBeWVA"></path><path d="M156.27 90.35L115.27 103.1L102.02 38.21" id="f4MDBVECGn"></path><path d="M114.52 103.1L51.02 95.6" id="cJYqpEja8"></path><path d="M115.2 103.1L109.92 146.01" id="bYhixCFJU"></path></defs><g><g><use xlink:href="#a2AvBeWVA" opacity="0.7" fill="#235b8b" fill-opacity="1"></use><g><use xlink:href="#a2AvBeWVA" opacity="0.7" fill-opacity="0" stroke="#000000" stroke-width="6" stroke-opacity="1"></use></g></g><g><g><use xlink:href="#f4MDBVECGn" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="6" stroke-opacity="1"></use></g></g><g><g><use xlink:href="#cJYqpEja8" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="6" stroke-opacity="1"></use></g></g><g><g><use xlink:href="#bYhixCFJU" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="6" stroke-opacity="1"></use></g></g></g></svg>`},function(g,p){g.exports=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="79.72897196261681 69.24299065420558 74.85981308411215 70.79439252336448" width="70.86" height="66.79"><defs><path d="M80.73 70.24L97.89 70.24L97.89 88.04L80.73 88.04L80.73 70.24Z" id="d1IRBSkW0J"></path><path d="M86.45 108.61L115.68 108.61L115.68 137.04L86.45 137.04L86.45 108.61Z" id="c1U7Gy6CdC"></path><path d="M128.71 77.23L151.59 77.23L151.59 98.84L128.71 98.84L128.71 77.23Z" id="c30560QY8i"></path></defs><g><g><use xlink:href="#d1IRBSkW0J" opacity="1" fill="#000000" fill-opacity="1"></use></g><g><use xlink:href="#c1U7Gy6CdC" opacity="1" fill="#000000" fill-opacity="1"></use></g><g><use xlink:href="#c30560QY8i" opacity="1" fill="#000000" fill-opacity="1"></use></g></g></svg>`},function(g,p){g.exports=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="78.90654205607476 66.53271028037366 92.03738317757015 95.8317757009348" width="88.04" height="91.83"><defs><path d="M131.23 134.9C131.23 148.4 119.73 159.36 105.57 159.36C91.41 159.36 79.91 148.4 79.91 134.9C79.91 121.39 91.41 110.43 105.57 110.43C119.73 110.43 131.23 121.39 131.23 134.9Z" id="a2gLxlzdS"></path><path d="M111.07 79.93C111.07 86.76 105.37 92.32 98.36 92.32C91.34 92.32 85.64 86.76 85.64 79.93C85.64 73.09 91.34 67.53 98.36 67.53C105.37 67.53 111.07 73.09 111.07 79.93Z" id="cfsvtS2n"></path><path d="M167.94 92.32C167.94 102.31 159.72 110.43 149.59 110.43C139.46 110.43 131.23 102.31 131.23 92.32C131.23 82.32 139.46 74.21 149.59 74.21C159.72 74.21 167.94 82.32 167.94 92.32Z" id="a1x6mlrMud"></path></defs><g><g><use xlink:href="#a2gLxlzdS" opacity="1" fill="#000000" fill-opacity="1"></use><g><filter id="shadow13324637" x="66.91" y="97.43" width="81.33" height="79.93" filterUnits="userSpaceOnUse" primitiveUnits="userSpaceOnUse"><feFlood></feFlood><feComposite in2="SourceAlpha" operator="out"></feComposite><feGaussianBlur stdDeviation="1"></feGaussianBlur><feOffset dx="4" dy="5" result="afterOffset"></feOffset><feFlood flood-color="#bcbcbc" flood-opacity="0.59"></feFlood><feComposite in2="afterOffset" operator="in"></feComposite><feMorphology operator="dilate" radius="1"></feMorphology><feComposite in2="SourceAlpha" operator="in"></feComposite></filter><path d="M131.23 134.9C131.23 148.4 119.73 159.36 105.57 159.36C91.41 159.36 79.91 148.4 79.91 134.9C79.91 121.39 91.41 110.43 105.57 110.43C119.73 110.43 131.23 121.39 131.23 134.9Z" id="f4uZzXVkjx" fill="white" fill-opacity="1" filter="url(#shadow13324637)"></path></g></g><g><use xlink:href="#cfsvtS2n" opacity="1" fill="#000000" fill-opacity="1"></use><g><filter id="shadow4343687" x="74.64" y="56.53" width="49.42" height="49.79" filterUnits="userSpaceOnUse" primitiveUnits="userSpaceOnUse"><feFlood></feFlood><feComposite in2="SourceAlpha" operator="out"></feComposite><feGaussianBlur stdDeviation="1"></feGaussianBlur><feOffset dx="2" dy="3" result="afterOffset"></feOffset><feFlood flood-color="#c3c3c3" flood-opacity="0.59"></feFlood><feComposite in2="afterOffset" operator="in"></feComposite><feMorphology operator="dilate" radius="1"></feMorphology><feComposite in2="SourceAlpha" operator="in"></feComposite></filter><path d="M111.07 79.93C111.07 86.76 105.37 92.32 98.36 92.32C91.34 92.32 85.64 86.76 85.64 79.93C85.64 73.09 91.34 67.53 98.36 67.53C105.37 67.53 111.07 73.09 111.07 79.93Z" id="fQeIIpjpO" fill="white" fill-opacity="1" filter="url(#shadow4343687)"></path></g></g><g><use xlink:href="#a1x6mlrMud" opacity="1" fill="#000000" fill-opacity="1"></use><g><filter id="shadow6368627" x="119.23" y="62.21" width="63.71" height="64.22" filterUnits="userSpaceOnUse" primitiveUnits="userSpaceOnUse"><feFlood></feFlood><feComposite in2="SourceAlpha" operator="out"></feComposite><feGaussianBlur stdDeviation="1"></feGaussianBlur><feOffset dx="3" dy="4" result="afterOffset"></feOffset><feFlood flood-color="#bababa" flood-opacity="0.59"></feFlood><feComposite in2="afterOffset" operator="in"></feComposite><feMorphology operator="dilate" radius="1"></feMorphology><feComposite in2="SourceAlpha" operator="in"></feComposite></filter><path d="M167.94 92.32C167.94 102.31 159.72 110.43 149.59 110.43C139.46 110.43 131.23 102.31 131.23 92.32C131.23 82.32 139.46 74.21 149.59 74.21C159.72 74.21 167.94 82.32 167.94 92.32Z" id="bcD3QYzW" fill="white" fill-opacity="1" filter="url(#shadow6368627)"></path></g></g></g></svg>`},function(g,p){g.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1536 1536"><path d="M755 928q0 13-10 23l-332 332 144 144q19 19 19 45t-19 45-45 19H64q-26 0-45-19t-19-45v-448q0-26 19-45t45-19 45 19l144 144 332-332q10-10 23-10t23 10l114 114q10 10 10 23zm781-864v448q0 26-19 45t-45 19-45-19l-144-144-332 332q-10 10-23 10t-23-10L791 631q-10-10-10-23t10-23l332-332-144-144q-19-19-19-45t19-45 45-19h448q26 0 45 19t19 45z"/></svg>'},function(g,p,a){var u,f;(f=typeof(u=function(){if(typeof window=="undefined")return null;var P=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")(),U=P.requestAnimationFrame||P.mozRequestAnimationFrame||P.webkitRequestAnimationFrame||function(x){return P.setTimeout(x,20)},m=P.cancelAnimationFrame||P.mozCancelAnimationFrame||P.webkitCancelAnimationFrame||function(x){P.clearTimeout(x)};function w(x,E){var M=Object.prototype.toString.call(x),S=M==="[object Array]"||M==="[object NodeList]"||M==="[object HTMLCollection]"||M==="[object Object]"||typeof jQuery!="undefined"&&x instanceof jQuery||typeof Elements!="undefined"&&x instanceof Elements,D=0,V=x.length;if(S)for(;D<V;D++)E(x[D]);else E(x)}function r(x){if(!x.getBoundingClientRect)return{width:x.offsetWidth,height:x.offsetHeight};var E=x.getBoundingClientRect();return{width:Math.round(E.width),height:Math.round(E.height)}}function b(x,E){Object.keys(E).forEach(function(M){x.style[M]=E[M]})}var C=function(x,E){var M=0;function S(D,V){if(D)if(D.resizedAttached)D.resizedAttached.add(V);else{D.resizedAttached=new function(){var Pe,Oe,xe=[];this.add=function(Ve){xe.push(Ve)},this.call=function(Ve){for(Pe=0,Oe=xe.length;Pe<Oe;Pe++)xe[Pe].call(this,Ve)},this.remove=function(Ve){var me=[];for(Pe=0,Oe=xe.length;Pe<Oe;Pe++)xe[Pe]!==Ve&&me.push(xe[Pe]);xe=me},this.length=function(){return xe.length}},D.resizedAttached.add(V),D.resizeSensor=document.createElement("div"),D.resizeSensor.dir="ltr",D.resizeSensor.className="resize-sensor";var d={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},O={position:"absolute",left:"0px",top:"0px",transition:"0s"};b(D.resizeSensor,d);var F=document.createElement("div");F.className="resize-sensor-expand",b(F,d);var I=document.createElement("div");b(I,O),F.appendChild(I);var L=document.createElement("div");L.className="resize-sensor-shrink",b(L,d);var G=document.createElement("div");b(G,O),b(G,{width:"200%",height:"200%"}),L.appendChild(G),D.resizeSensor.appendChild(F),D.resizeSensor.appendChild(L),D.appendChild(D.resizeSensor);var z=window.getComputedStyle(D),B=z?z.getPropertyValue("position"):null;B!=="absolute"&&B!=="relative"&&B!=="fixed"&&B!=="sticky"&&(D.style.position="relative");var Y=!1,q=0,H=r(D),ne=0,Ae=0,ce=!0;M=0;var ye=function(){if(ce){var Pe=D.offsetWidth===0&&D.offsetHeight===0;if(Pe)return void(M||(M=U(function(){M=0,ye()})));ce=!1}(function(){var Oe=D.offsetWidth,xe=D.offsetHeight;I.style.width=Oe+10+"px",I.style.height=xe+10+"px",F.scrollLeft=Oe+10,F.scrollTop=xe+10,L.scrollLeft=Oe+10,L.scrollTop=xe+10})()};D.resizeSensor.resetSensor=ye;var K=function(){q=0,Y&&(ne=H.width,Ae=H.height,D.resizedAttached&&D.resizedAttached.call(H))},j=function(){H=r(D),(Y=H.width!==ne||H.height!==Ae)&&!q&&(q=U(K)),ye()},ve=function(Pe,Oe,xe){Pe.attachEvent?Pe.attachEvent("on"+Oe,xe):Pe.addEventListener(Oe,xe)};ve(F,"scroll",j),ve(L,"scroll",j),M=U(function(){M=0,ye()})}}w(x,function(D){S(D,E)}),this.detach=function(D){M||(m(M),M=0),C.detach(x,D)},this.reset=function(){x.resizeSensor.resetSensor()}};if(C.reset=function(x){w(x,function(E){E.resizeSensor.resetSensor()})},C.detach=function(x,E){w(x,function(M){M&&(M.resizedAttached&&typeof E=="function"&&(M.resizedAttached.remove(E),M.resizedAttached.length())||M.resizeSensor&&(M.contains(M.resizeSensor)&&M.removeChild(M.resizeSensor),delete M.resizeSensor,delete M.resizedAttached))})},typeof MutationObserver!="undefined"){var A=new MutationObserver(function(x){for(var E in x)if(x.hasOwnProperty(E))for(var M=x[E].addedNodes,S=0;S<M.length;S++)M[S].resizeSensor&&C.reset(M[S])});document.addEventListener("DOMContentLoaded",function(x){A.observe(document.body,{childList:!0,subtree:!0})})}return C})=="function"?u.call(p,a,p,g):u)===void 0||(g.exports=f)},function(g,p){g.exports=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkSphereMapperVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// this shader implements imposters in OpenGL for Spheres

attribute vec4 vertexMC;
attribute vec2 offsetMC;

// optional normal declaration
//VTK::Normal::Dec

// Texture coordinates
//VTK::TCoord::Dec

uniform mat3 normalMatrix; // transform model coordinate directions to view coordinates

// material property values
//VTK::Color::Dec

// clipping plane vars
//VTK::Clip::Dec

// camera and actor matrix values
//VTK::Camera::Dec

varying vec4 vertexVCVSOutput;
varying float radiusVCVSOutput;
varying vec3 centerVCVSOutput;

uniform int cameraParallel;

void main()
{
  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Clip::Impl

  // compute the projected vertex position
  vertexVCVSOutput = MCVCMatrix * vertexMC;
  centerVCVSOutput = vertexVCVSOutput.xyz;
  radiusVCVSOutput = length(offsetMC)*0.5;

  // make the triangle face the camera
  if (cameraParallel == 0)
    {
    vec3 dir = normalize(-vertexVCVSOutput.xyz);
    vec3 base2 = normalize(cross(dir,vec3(1.0,0.0,0.0)));
    vec3 base1 = cross(base2,dir);
    vertexVCVSOutput.xyz = vertexVCVSOutput.xyz + offsetMC.x*base1 + offsetMC.y*base2;
    }
  else
    {
    // add in the offset
    vertexVCVSOutput.xy = vertexVCVSOutput.xy + offsetMC;
    }

  gl_Position = VCPCMatrix * vertexVCVSOutput;
}
`},function(g,p){g.exports=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkStickMapperVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// this shader implements imposters in OpenGL for Sticks

attribute vec4 vertexMC;
attribute vec3 orientMC;
attribute vec4 offsetMC;
attribute float radiusMC;

// optional normal declaration
//VTK::Normal::Dec

//VTK::Picking::Dec

// Texture coordinates
//VTK::TCoord::Dec

uniform mat3 normalMatrix; // transform model coordinate directions to view coordinates

// material property values
//VTK::Color::Dec

// clipping plane vars
//VTK::Clip::Dec

// camera and actor matrix values
//VTK::Camera::Dec

varying vec4 vertexVCVSOutput;
varying float radiusVCVSOutput;
varying float lengthVCVSOutput;
varying vec3 centerVCVSOutput;
varying vec3 orientVCVSOutput;

uniform int cameraParallel;

void main()
{
  //VTK::Picking::Impl

  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Clip::Impl

  vertexVCVSOutput = MCVCMatrix * vertexMC;
  centerVCVSOutput = vertexVCVSOutput.xyz;
  radiusVCVSOutput = radiusMC;
  lengthVCVSOutput = length(orientMC);
  orientVCVSOutput = normalMatrix * normalize(orientMC);

  // make sure it is pointing out of the screen
  if (orientVCVSOutput.z < 0.0)
    {
    orientVCVSOutput = -orientVCVSOutput;
    }

  // make the basis
  vec3 xbase;
  vec3 ybase;
  vec3 dir = vec3(0.0,0.0,1.0);
  if (cameraParallel == 0)
    {
    dir = normalize(-vertexVCVSOutput.xyz);
    }
  if (abs(dot(dir,orientVCVSOutput)) == 1.0)
    {
    xbase = normalize(cross(vec3(0.0,1.0,0.0),orientVCVSOutput));
    ybase = cross(xbase,orientVCVSOutput);
    }
  else
    {
    xbase = normalize(cross(orientVCVSOutput,dir));
    ybase = cross(orientVCVSOutput,xbase);
    }

  vec3 offsets = offsetMC.xyz*2.0-1.0;
  vertexVCVSOutput.xyz = vertexVCVSOutput.xyz +
    radiusVCVSOutput*offsets.x*xbase +
    radiusVCVSOutput*offsets.y*ybase +
    0.5*lengthVCVSOutput*offsets.z*orientVCVSOutput;

  gl_Position = VCPCMatrix * vertexVCVSOutput;
}
`},function(g,p){g.exports=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

attribute vec4 vertexDC;

varying vec3 vertexVCVSOutput;
uniform mat4 PCVCMatrix;

uniform float dcxmin;
uniform float dcxmax;
uniform float dcymin;
uniform float dcymax;

void main()
{
  // dcsmall is the device coords reduced to the
  // x y area covered by the volume
  vec4 dcsmall = vec4(
    dcxmin + 0.5 * (vertexDC.x + 1.0) * (dcxmax - dcxmin),
    dcymin + 0.5 * (vertexDC.y + 1.0) * (dcymax - dcymin),
    vertexDC.z,
    vertexDC.w);
  vec4 vcpos = PCVCMatrix * dcsmall;
  vertexVCVSOutput = vcpos.xyz/vcpos.w;
  gl_Position = dcsmall;
}
`},function(g,p){g.exports=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkVolumeFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// Template for the volume mappers fragment shader

// the output of this shader
//VTK::Output::Dec

varying vec3 vertexVCVSOutput;

// first declare the settings from the mapper
// that impact the code paths in here

// always set vtkNumComponents 1,2,3,4
//VTK::NumComponents

// possibly define vtkUseTriliear
//VTK::TrilinearOn

// possibly define vtkIndependentComponents
//VTK::IndependentComponentsOn

// possibly define any "proportional" components
//VTK::vtkProportionalComponents

// Define the blend mode to use
#define vtkBlendMode //VTK::BlendMode

// Possibly define vtkImageLabelOutlineOn
//VTK::ImageLabelOutlineOn

#ifdef vtkImageLabelOutlineOn
uniform int outlineThickness;
uniform float vpWidth;
uniform float vpHeight;
uniform mat4 PCWCMatrix;
uniform mat4 vWCtoIDX;
#endif

// define vtkLightComplexity
//VTK::LightComplexity
#if vtkLightComplexity > 0
uniform float vSpecularPower;
uniform float vAmbient;
uniform float vDiffuse;
uniform float vSpecular;
//VTK::Light::Dec
#endif

// possibly define vtkGradientOpacityOn
//VTK::GradientOpacityOn
#ifdef vtkGradientOpacityOn
uniform float goscale0;
uniform float goshift0;
uniform float gomin0;
uniform float gomax0;
#if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)
uniform float goscale1;
uniform float goshift1;
uniform float gomin1;
uniform float gomax1;
#if vtkNumComponents >= 3
uniform float goscale2;
uniform float goshift2;
uniform float gomin2;
uniform float gomax2;
#endif
#if vtkNumComponents >= 4
uniform float goscale3;
uniform float goshift3;
uniform float gomin3;
uniform float gomax3;
#endif
#endif
#endif

// if you want to see the raw tiled
// data in webgl1 uncomment the following line
// #define debugtile

// camera values
uniform float camThick;
uniform float camNear;
uniform float camFar;
uniform int cameraParallel;

// values describing the volume geometry
uniform vec3 vOriginVC;
uniform vec3 vSpacing;
uniform ivec3 volumeDimensions; // 3d texture dimensions
uniform vec3 vPlaneNormal0;
uniform float vPlaneDistance0;
uniform vec3 vPlaneNormal1;
uniform float vPlaneDistance1;
uniform vec3 vPlaneNormal2;
uniform float vPlaneDistance2;
uniform vec3 vPlaneNormal3;
uniform float vPlaneDistance3;
uniform vec3 vPlaneNormal4;
uniform float vPlaneDistance4;
uniform vec3 vPlaneNormal5;
uniform float vPlaneDistance5;

// opacity and color textures
uniform sampler2D otexture;
uniform float oshift0;
uniform float oscale0;
uniform sampler2D ctexture;
uniform float cshift0;
uniform float cscale0;

// jitter texture
uniform sampler2D jtexture;

// some 3D texture values
uniform float sampleDistance;
uniform vec3 vVCToIJK;

// the heights defined below are the locations
// for the up to four components of the tfuns
// the tfuns have a height of 2XnumComps pixels so the
// values are computed to hit the middle of the two rows
// for that component
#ifdef vtkIndependentComponentsOn
#if vtkNumComponents == 2
uniform float mix0;
uniform float mix1;
#define height0 0.25
#define height1 0.75
#endif
#if vtkNumComponents == 3
uniform float mix0;
uniform float mix1;
uniform float mix2;
#define height0 0.17
#define height1 0.5
#define height2 0.83
#endif
#if vtkNumComponents == 4
uniform float mix0;
uniform float mix1;
uniform float mix2;
uniform float mix3;
#define height0 0.125
#define height1 0.375
#define height2 0.625
#define height3 0.875
#endif
#endif

#if vtkNumComponents >= 2
uniform float oshift1;
uniform float oscale1;
uniform float cshift1;
uniform float cscale1;
#endif
#if vtkNumComponents >= 3
uniform float oshift2;
uniform float oscale2;
uniform float cshift2;
uniform float cscale2;
#endif
#if vtkNumComponents >= 4
uniform float oshift3;
uniform float oscale3;
uniform float cshift3;
uniform float cscale3;
#endif

// declaration for intermixed geometry
//VTK::ZBuffer::Dec

// Lighting values
//VTK::Light::Dec

//=======================================================================
// Webgl2 specific version of functions
#if __VERSION__ == 300

uniform highp sampler3D texture1;

vec4 getTextureValue(vec3 pos)
{
  vec4 tmp = texture(texture1, pos);
#if vtkNumComponents == 1
  tmp.a = tmp.r;
#endif
#if vtkNumComponents == 2
  tmp.a = tmp.g;
#endif
#if vtkNumComponents == 3
  tmp.a = length(tmp.rgb);
#endif
  return tmp;
}

//=======================================================================
// WebGL1 specific version of functions
#else

uniform sampler2D texture1;

uniform float texWidth;
uniform float texHeight;
uniform int xreps;
uniform int xstride;
uniform int ystride;

// if computing triliear values from multiple z slices
#ifdef vtkTriliearOn
vec4 getTextureValue(vec3 ijk)
{
  float zoff = 1.0/float(volumeDimensions.z);
  vec4 val1 = getOneTextureValue(ijk);
  vec4 val2 = getOneTextureValue(vec3(ijk.xy, ijk.z + zoff));

  float indexZ = float(volumeDimensions)*ijk.z;
  float zmix =  indexZ - floor(indexZ);

  return mix(val1, val2, zmix);
}

vec4 getOneTextureValue(vec3 ijk)
#else // nearest or fast linear
vec4 getTextureValue(vec3 ijk)
#endif
{
  vec3 tdims = vec3(volumeDimensions);

#ifdef debugtile
  vec2 tpos = vec2(ijk.x, ijk.y);
  vec4 tmp = texture2D(texture1, tpos);
  tmp.a = 1.0;

#else
  int z = int(ijk.z * tdims.z);
  int yz = z / xreps;
  int xz = z - yz*xreps;

  int tileWidth = volumeDimensions.x/xstride;
  int tileHeight = volumeDimensions.y/ystride;

  xz *= tileWidth;
  yz *= tileHeight;

  float ni = float(xz) + (ijk.x*float(tileWidth));
  float nj = float(yz) + (ijk.y*float(tileHeight));

  vec2 tpos = vec2(ni/texWidth, nj/texHeight);

  vec4 tmp = texture2D(texture1, tpos);

#if vtkNumComponents == 1
  tmp.a = tmp.r;
#endif
#if vtkNumComponents == 2
  tmp.g = tmp.a;
#endif
#if vtkNumComponents == 3
  tmp.a = length(tmp.rgb);
#endif
#endif

  return tmp;
}

// End of Webgl1 specific code
//=======================================================================
#endif

//=======================================================================
// compute the normal and gradient magnitude for a position
vec4 computeNormal(vec3 pos, float scalar, vec3 tstep)
{
  vec4 result;

  result.x = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)).a - scalar;
  result.y = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)).a - scalar;
  result.z = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)).a - scalar;

  // divide by spacing
  result.xyz /= vSpacing;

  result.w = length(result.xyz);

  // rotate to View Coords
  result.xyz =
    result.x * vPlaneNormal0 +
    result.y * vPlaneNormal2 +
    result.z * vPlaneNormal4;

  if (result.w > 0.0)
  {
    result.xyz /= result.w;
  }
  return result;
}

#ifdef vtkImageLabelOutlineOn
vec3 fragCoordToIndexSpace(vec4 fragCoord) {
  vec4 pcPos = vec4(
    (fragCoord.x / vpWidth - 0.5) * 2.0,
    (fragCoord.y / vpHeight - 0.5) * 2.0,
    (fragCoord.z - 0.5) * 2.0,
    1.0);

  vec4 worldCoord = PCWCMatrix * pcPos;
  vec4 vertex = (worldCoord/worldCoord.w);

  return (vWCtoIDX * vertex).xyz / vec3(volumeDimensions);
}
#endif

//=======================================================================
// compute the normals and gradient magnitudes for a position
// for independent components
mat4 computeMat4Normal(vec3 pos, vec4 tValue, vec3 tstep)
{
  mat4 result;
  vec4 distX = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)) - tValue;
  vec4 distY = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)) - tValue;
  vec4 distZ = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)) - tValue;

  // divide by spacing
  distX /= vSpacing.x;
  distY /= vSpacing.y;
  distZ /= vSpacing.z;

  mat3 rot;
  rot[0] = vPlaneNormal0;
  rot[1] = vPlaneNormal2;
  rot[2] = vPlaneNormal4;

#if !defined(vtkComponent0Proportional)
  result[0].xyz = vec3(distX.r, distY.r, distZ.r);
  result[0].a = length(result[0].xyz);
  result[0].xyz *= rot;
  if (result[0].w > 0.0)
  {
    result[0].xyz /= result[0].w;
  }
#endif

// optionally compute the 2nd component
#if vtkNumComponents >= 2 && !defined(vtkComponent1Proportional)
  result[1].xyz = vec3(distX.g, distY.g, distZ.g);
  result[1].a = length(result[1].xyz);
  result[1].xyz *= rot;
  if (result[1].w > 0.0)
  {
    result[1].xyz /= result[1].w;
  }
#endif

// optionally compute the 3rd component
#if vtkNumComponents >= 3 && !defined(vtkComponent2Proportional)
  result[2].xyz = vec3(distX.b, distY.b, distZ.b);
  result[2].a = length(result[2].xyz);
  result[2].xyz *= rot;
  if (result[2].w > 0.0)
  {
    result[2].xyz /= result[2].w;
  }
#endif

// optionally compute the 4th component
#if vtkNumComponents >= 4 && !defined(vtkComponent3Proportional)
  result[3].xyz = vec3(distX.a, distY.a, distZ.a);
  result[3].a = length(result[3].xyz);
  result[3].xyz *= rot;
  if (result[3].w > 0.0)
  {
    result[3].xyz /= result[3].w;
  }
#endif

  return result;
}

//=======================================================================
// Given a normal compute the gradient opacity factors
//
float computeGradientOpacityFactor(
  vec4 normal, float goscale, float goshift, float gomin, float gomax)
{
#if defined(vtkGradientOpacityOn)
  return clamp(normal.a*goscale + goshift, gomin, gomax);
#else
  return 1.0;
#endif
}

#if vtkLightComplexity > 0
void applyLighting(inout vec3 tColor, vec4 normal)
{
  vec3 diffuse = vec3(0.0, 0.0, 0.0);
  vec3 specular = vec3(0.0, 0.0, 0.0);
  //VTK::Light::Impl
  tColor.rgb = tColor.rgb*(diffuse*vDiffuse + vAmbient) + specular*vSpecular;
}
#endif

//=======================================================================
// Given a texture value compute the color and opacity
//
vec4 getColorForValue(vec4 tValue, vec3 posIS, vec3 tstep)
{
#ifdef vtkImageLabelOutlineOn
  vec3 centerPosIS = fragCoordToIndexSpace(gl_FragCoord); // pos in texture space
  vec4 centerValue = getTextureValue(centerPosIS);
  bool pixelOnBorder = false;
  vec4 tColor = texture2D(ctexture, vec2(centerValue.r * cscale0 + cshift0, 0.5));

  // Get alpha of segment from opacity function.
  tColor.a = texture2D(otexture, vec2(centerValue.r * oscale0 + oshift0, 0.5)).r;

  // Only perform outline check on fragments rendering voxels that aren't invisible.
  // Saves a bunch of needless checks on the background.
  // TODO define epsilon when building shader?
  if (float(tColor.a) > 0.01) {
    for (int i = -outlineThickness; i <= outlineThickness; i++) {
      for (int j = -outlineThickness; j <= outlineThickness; j++) {
        if (i == 0 || j == 0) {
          continue;
        }

        vec4 neighborPixelCoord = vec4(gl_FragCoord.x + float(i),
          gl_FragCoord.y + float(j),
          gl_FragCoord.z, gl_FragCoord.w);

        vec3 neighborPosIS = fragCoordToIndexSpace(neighborPixelCoord);
        vec4 value = getTextureValue(neighborPosIS);

        // If any of my neighbours are not the same value as I
        // am, this means I am on the border of the segment.
        // We can break the loops
        if (any(notEqual(value, centerValue))) {
          pixelOnBorder = true;
          break;
        }
      }

      if (pixelOnBorder == true) {
        break;
      }
    }

    // If I am on the border, I am displayed at full opacity
    if (pixelOnBorder == true) {
      tColor.a = 1.0;
    }
  }

#else
  // compute the normal and gradient magnitude if needed
  // We compute it as a vec4 if possible otherwise a mat4
  //
  vec4 goFactor = vec4(1.0,1.0,1.0,1.0);

  // compute the normal vectors as needed
  #if (vtkLightComplexity > 0) || defined(vtkGradientOpacityOn)
    #if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)
      mat4 normalMat = computeMat4Normal(posIS, tValue, tstep);
      #if !defined(vtkComponent0Proportional)
        vec4 normal0 = normalMat[0];
      #endif
      #if !defined(vtkComponent1Proportional)
        vec4 normal1 = normalMat[1];
      #endif
      #if vtkNumComponents > 2
        #if !defined(vtkComponent2Proportional)
          vec4 normal2 = normalMat[2];
        #endif
        #if vtkNumComponents > 3
          #if !defined(vtkComponent3Proportional)
            vec4 normal3 = normalMat[3];
          #endif
        #endif
      #endif
    #else
      vec4 normal0 = computeNormal(posIS, tValue.a, tstep);
    #endif
  #endif

  // compute gradient opacity factors as needed
  #if defined(vtkGradientOpacityOn)
    #if !defined(vtkComponent0Proportional)
      goFactor.x =
        computeGradientOpacityFactor(normal0, goscale0, goshift0, gomin0, gomax0);
    #endif
    #if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)
      #if !defined(vtkComponent1Proportional)
        goFactor.y =
          computeGradientOpacityFactor(normal1, goscale1, goshift1, gomin1, gomax1);
      #endif
      #if vtkNumComponents > 2
        #if !defined(vtkComponent2Proportional)
          goFactor.z =
            computeGradientOpacityFactor(normal2, goscale2, goshift2, gomin2, gomax2);
        #endif
        #if vtkNumComponents > 3
          #if !defined(vtkComponent3Proportional)
            goFactor.w =
              computeGradientOpacityFactor(normal3, goscale3, goshift3, gomin3, gomax3);
          #endif
        #endif
      #endif
    #endif
  #endif

  // single component is always independent
  #if vtkNumComponents == 1
    vec4 tColor = texture2D(ctexture, vec2(tValue.r * cscale0 + cshift0, 0.5));
    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, 0.5)).r;
  #endif

  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2
    vec4 tColor = mix0*texture2D(ctexture, vec2(tValue.r * cscale0 + cshift0, height0));
    #if !defined(vtkComponent0Proportional)
      tColor.a = goFactor.x*mix0*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, height0)).r;
    #else
      float pwfValue = texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, height0)).r;
      tColor *= pwfValue;
      tColor.a *= mix(pwfValue, 1.0, (1.0 - mix0));
    #endif

    vec3 tColor1 = mix1*texture2D(ctexture, vec2(tValue.g * cscale1 + cshift1, height1)).rgb;
    #if !defined(vtkComponent1Proportional)
      tColor.a += goFactor.y*mix1*texture2D(otexture, vec2(tValue.g * oscale1 + oshift1, height1)).r;
    #else
      float pwfValue = texture2D(otexture, vec2(tValue.g * oscale1 + oshift1, height1)).r;
      tColor1 *= pwfValue;
      tColor.a *= mix(pwfValue, 1.0, (1.0 - mix1));
    #endif

    #if vtkNumComponents >= 3
      vec3 tColor2 = mix2*texture2D(ctexture, vec2(tValue.b * cscale2 + cshift2, height2)).rgb;
      #if !defined(vtkComponent2Proportional)
        tColor.a += goFactor.z*mix2*texture2D(otexture, vec2(tValue.b * oscale2 + oshift2, height2)).r;
      #else
        float pwfValue = texture2D(otexture, vec2(tValue.b * oscale2 + oshift2, height2)).r;
        tColor2 *= pwfValue;
        tColor.a *= mix(pwfValue, 1.0, (1.0 - mix2));
      #endif

      #if vtkNumComponents >= 4
        vec3 tColor3 = mix3*texture2D(ctexture, vec2(tValue.a * cscale3 + cshift3, height3)).rgb;
        #if !defined(vtkComponent3Proportional)
          tColor.a += goFactor.w*mix3*texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, height3)).r;
        #else
          float pwfValue = texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, height3)).r;
          tColor3 *= pwfValue;
          tColor.a *= mix(pwfValue, 1.0, (1.0 - mix3));
        #endif
      #endif
    #endif
  #else // then not independent

  #if vtkNumComponents == 2
    float lum = tValue.r * cscale0 + cshift0;
    float alpha = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale1 + oshift1, 0.5)).r;
    vec4 tColor = vec4(lum, lum, lum, alpha);
  #endif
  #if vtkNumComponents == 3
    vec4 tColor;
    tColor.r = tValue.r * cscale0 + cshift0;
    tColor.g = tValue.g * cscale1 + cshift1;
    tColor.b = tValue.b * cscale2 + cshift2;
    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale0 + oshift0, 0.5)).r;
  #endif
  #if vtkNumComponents == 4
    vec4 tColor;
    tColor.r = tValue.r * cscale0 + cshift0;
    tColor.g = tValue.g * cscale1 + cshift1;
    tColor.b = tValue.b * cscale2 + cshift2;
    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, 0.5)).r;
  #endif
  #endif // dependent

  // apply lighting if requested as appropriate
  #if vtkLightComplexity > 0
    #if !defined(vtkComponent0Proportional)
      applyLighting(tColor.rgb, normal0);
    #endif
  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2
    #if !defined(vtkComponent1Proportional)
      applyLighting(tColor1, normal1);
    #endif
  #if vtkNumComponents >= 3
    #if !defined(vtkComponent2Proportional)
      applyLighting(tColor2, normal2);
    #endif
  #if vtkNumComponents >= 4
    #if !defined(vtkComponent3Proportional)
      applyLighting(tColor3, normal3);
    #endif
  #endif
  #endif
  #endif
#endif

// perform final independent blend as needed
#if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2
  tColor.rgb += tColor1;
#if vtkNumComponents >= 3
  tColor.rgb += tColor2;
#if vtkNumComponents >= 4
  tColor.rgb += tColor3;
#endif
#endif
#endif

#endif







return tColor;
}



//=======================================================================
// Apply the specified blend mode operation along the ray's path.
//
void applyBlend(vec3 posIS, vec3 endIS, float sampleDistanceIS, vec3 tdims)
{
  vec3 tstep = 1.0/tdims;

  // start slightly inside and apply some jitter
  vec3 delta = endIS - posIS;
  vec3 stepIS = normalize(delta)*sampleDistanceIS;
  float raySteps = length(delta)/sampleDistanceIS;

  // avoid 0.0 jitter
  float jitter = 0.01 + 0.99*texture2D(jtexture, gl_FragCoord.xy/32.0).r;
  float stepsTraveled = jitter;

  // local vars for the loop
  vec4 color = vec4(0.0, 0.0, 0.0, 0.0);
  vec4 tValue;
  vec4 tColor;

  // if we have less than one step then pick the middle point
  // as our value
  // if (raySteps <= 1.0)
  // {
  //   posIS = (posIS + endIS)*0.5;
  // }

  // Perform initial step at the volume boundary
  // compute the scalar
  tValue = getTextureValue(posIS);

  #if vtkBlendMode == 0 // COMPOSITE_BLEND
    // now map through opacity and color
    tColor = getColorForValue(tValue, posIS, tstep);

    // handle very thin volumes
    if (raySteps <= 1.0)
    {
      tColor.a = 1.0 - pow(1.0 - tColor.a, raySteps);
      gl_FragData[0] = tColor;
      return;
    }

    tColor.a = 1.0 - pow(1.0 - tColor.a, jitter);
    color = vec4(tColor.rgb*tColor.a, tColor.a);
    posIS += (jitter*stepIS);

    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);

      // now map through opacity and color
      tColor = getColorForValue(tValue, posIS, tstep);

      float mix = (1.0 - color.a);

      // this line should not be needed but nvidia seems to not handle
      // the break correctly on windows/chrome 58 angle
      //mix = mix * sign(max(raySteps - stepsTraveled - 1.0, 0.0));

      color = color + vec4(tColor.rgb*tColor.a, tColor.a)*mix;
      stepsTraveled++;
      posIS += stepIS;
      if (color.a > 0.99) { color.a = 1.0; break; }
    }

    if (color.a < 0.99 && (raySteps - stepsTraveled) > 0.0)
    {
      posIS = endIS;

      // compute the scalar
      tValue = getTextureValue(posIS);

      // now map through opacity and color
      tColor = getColorForValue(tValue, posIS, tstep);
      tColor.a = 1.0 - pow(1.0 - tColor.a, raySteps - stepsTraveled);

      float mix = (1.0 - color.a);
      color = color + vec4(tColor.rgb*tColor.a, tColor.a)*mix;
    }

    gl_FragData[0] = vec4(color.rgb/color.a, color.a);
  #endif
  #if vtkBlendMode == 1 || vtkBlendMode == 2
    // MAXIMUM_INTENSITY_BLEND || MINIMUM_INTENSITY_BLEND
    // Find maximum/minimum intensity along the ray.

    // Define the operation we will use (min or max)
    #if vtkBlendMode == 1
    #define OP max
    #else
    #define OP min
    #endif

    // If the clipping range is shorter than the sample distance
    // we can skip the sampling loop along the ray.
    if (raySteps <= 1.0)
    {
      gl_FragData[0] = getColorForValue(tValue, posIS, tstep);
      return;
    }

    vec4 value = tValue;
    posIS += (jitter*stepIS);

    // Sample along the ray until MaximumSamplesValue,
    // ending slightly inside the total distance
    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      // If we have reached the last step, break
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);

      // Update the maximum value if necessary
      value = OP(tValue, value);

      // Otherwise, continue along the ray
      stepsTraveled++;
      posIS += stepIS;
    }

    // Perform the last step along the ray using the
    // residual distance
    posIS = endIS;
    tValue = getTextureValue(posIS);
    value = OP(tValue, value);

    // Now map through opacity and color
    gl_FragData[0] = getColorForValue(value, posIS, tstep);
  #endif
  #if vtkBlendMode == 3 //AVERAGE_INTENSITY_BLEND
    vec4 averageIPScalarRangeMin = vec4 (
      //VTK::AverageIPScalarRangeMin,
      //VTK::AverageIPScalarRangeMin,
      //VTK::AverageIPScalarRangeMin,
      1.0);
    vec4 averageIPScalarRangeMax = vec4(
      //VTK::AverageIPScalarRangeMax,
      //VTK::AverageIPScalarRangeMax,
      //VTK::AverageIPScalarRangeMax,
      1.0);

    vec4 sum = vec4(0.);

    averageIPScalarRangeMin.a = tValue.a;
    averageIPScalarRangeMax.a = tValue.a;

    if (all(greaterThanEqual(tValue, averageIPScalarRangeMin)) &&
    all(lessThanEqual(tValue, averageIPScalarRangeMax))) {
      sum += tValue;
    }

    if (raySteps <= 1.0) {
      gl_FragData[0] = getColorForValue(sum, posIS, tstep);
      return;
    }

    posIS += (jitter*stepIS);

    // Sample along the ray until MaximumSamplesValue,
    // ending slightly inside the total distance
    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      // If we have reached the last step, break
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);

      // One can control the scalar range by setting the AverageIPScalarRange to disregard scalar values, not in the range of interest, from the average computation.
      // Notes:
      // - We are comparing all values in the texture to see if any of them
      //   are outside of the scalar range. In the future we might want to allow
      //   scalar ranges for each component.
      // - We are setting the alpha channel for averageIPScalarRangeMin and
      //   averageIPScalarRangeMax so that we do not trigger this 'continue'
      //   based on the alpha channel comparison.
      // - There might be a better way to do this. I'm not sure if there is an
      //   equivalent of 'any' which only operates on RGB, though I suppose
      //   we could write an 'anyRGB' function and see if that is faster.
      averageIPScalarRangeMin.a = tValue.a;
      averageIPScalarRangeMax.a = tValue.a;
      if (any(lessThan(tValue, averageIPScalarRangeMin)) ||
          any(greaterThan(tValue, averageIPScalarRangeMax))) {
        continue;
      }

      // Sum the values across each step in the path
      sum += tValue;

      // Otherwise, continue along the ray
      stepsTraveled++;
      posIS += stepIS;
    }

    // Perform the last step along the ray using the
    // residual distance
    posIS = endIS;

    // compute the scalar
    tValue = getTextureValue(posIS);

    // One can control the scalar range by setting the AverageIPScalarRange to disregard scalar values, not in the range of interest, from the average computation
    if (all(greaterThanEqual(tValue, averageIPScalarRangeMin)) &&
        all(lessThanEqual(tValue, averageIPScalarRangeMax))) {
      sum += tValue;

      stepsTraveled++;
    }

    sum /= vec4(stepsTraveled, stepsTraveled, stepsTraveled, 1.0);

    gl_FragData[0] = getColorForValue(sum, posIS, tstep);
  #endif
}

//=======================================================================
// Compute a new start and end point for a given ray based
// on the provided bounded clipping plane (aka a rectangle)
void getRayPointIntersectionBounds(
  vec3 rayPos, vec3 rayDir,
  vec3 planeDir, float planeDist,
  inout vec2 tbounds, vec3 vPlaneX, vec3 vPlaneY,
  float vSize1, float vSize2)
{
  float result = dot(rayDir, planeDir);
  if (result == 0.0)
  {
    return;
  }
  result = -1.0 * (dot(rayPos, planeDir) + planeDist) / result;
  vec3 xposVC = rayPos + rayDir*result;
  vec3 vxpos = xposVC - vOriginVC;
  vec2 vpos = vec2(
    dot(vxpos, vPlaneX),
    dot(vxpos, vPlaneY));

  // on some apple nvidia systems this does not work
  // if (vpos.x < 0.0 || vpos.x > vSize1 ||
  //     vpos.y < 0.0 || vpos.y > vSize2)
  // even just
  // if (vpos.x < 0.0 || vpos.y < 0.0)
  // fails
  // so instead we compute a value that represents in and out
  //and then compute the return using this value
  float xcheck = max(0.0, vpos.x * (vpos.x - vSize1)); //  0 means in bounds
  float check = sign(max(xcheck, vpos.y * (vpos.y - vSize2))); //  0 means in bounds, 1 = out

  tbounds = mix(
   vec2(min(tbounds.x, result), max(tbounds.y, result)), // in value
   tbounds, // out value
   check);  // 0 in 1 out
}

//=======================================================================
// given a
// - ray direction (rayDir)
// - starting point (vertexVCVSOutput)
// - bounding planes of the volume
// - optionally depth buffer values
// - far clipping plane
// compute the start/end distances of the ray we need to cast
vec2 computeRayDistances(vec3 rayDir, vec3 tdims)
{
  vec2 dists = vec2(100.0*camFar, -1.0);

  vec3 vSize = vSpacing*(tdims - 1.0);

  // all this is in View Coordinates
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal0, vPlaneDistance0, dists, vPlaneNormal2, vPlaneNormal4,
    vSize.y, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal1, vPlaneDistance1, dists, vPlaneNormal2, vPlaneNormal4,
    vSize.y, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal2, vPlaneDistance2, dists, vPlaneNormal0, vPlaneNormal4,
    vSize.x, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal3, vPlaneDistance3, dists, vPlaneNormal0, vPlaneNormal4,
    vSize.x, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal4, vPlaneDistance4, dists, vPlaneNormal0, vPlaneNormal2,
    vSize.x, vSize.y);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal5, vPlaneDistance5, dists, vPlaneNormal0, vPlaneNormal2,
    vSize.x, vSize.y);

  // do not go behind front clipping plane
  dists.x = max(0.0,dists.x);

  // do not go PAST far clipping plane
  float farDist = -camThick/rayDir.z;
  dists.y = min(farDist,dists.y);

  // Do not go past the zbuffer value if set
  // This is used for intermixing opaque geometry
  //VTK::ZBuffer::Impl

  return dists;
}

//=======================================================================
// Compute the index space starting position (pos) and end
// position
//
void computeIndexSpaceValues(out vec3 pos, out vec3 endPos, out float sampleDistanceIS, vec3 rayDir, vec2 dists)
{
  // compute starting and ending values in volume space
  pos = vertexVCVSOutput + dists.x*rayDir;
  pos = pos - vOriginVC;
  // convert to volume basis and origin
  pos = vec3(
    dot(pos, vPlaneNormal0),
    dot(pos, vPlaneNormal2),
    dot(pos, vPlaneNormal4));

  endPos = vertexVCVSOutput + dists.y*rayDir;
  endPos = endPos - vOriginVC;
  endPos = vec3(
    dot(endPos, vPlaneNormal0),
    dot(endPos, vPlaneNormal2),
    dot(endPos, vPlaneNormal4));

  float delta = length(endPos - pos);

  pos *= vVCToIJK;
  endPos *= vVCToIJK;

  float delta2 = length(endPos - pos);
  sampleDistanceIS = sampleDistance*delta2/delta;
}

void main()
{

  vec3 rayDirVC;

  if (cameraParallel == 1)
  {
    // Camera is parallel, so the rayDir is just the direction of the camera.
    rayDirVC = vec3(0.0, 0.0, -1.0);
  } else {
    // camera is at 0,0,0 so rayDir for perspective is just the vc coord
    rayDirVC = normalize(vertexVCVSOutput);
  }

  vec3 tdims = vec3(volumeDimensions);

  // compute the start and end points for the ray
  vec2 rayStartEndDistancesVC = computeRayDistances(rayDirVC, tdims);

  // do we need to composite? aka does the ray have any length
  // If not, bail out early
  if (rayStartEndDistancesVC.y <= rayStartEndDistancesVC.x)
  {
    discard;
  }

  // IS = Index Space
  vec3 posIS;
  vec3 endIS;
  float sampleDistanceIS;
  computeIndexSpaceValues(posIS, endIS, sampleDistanceIS, rayDirVC, rayStartEndDistancesVC);

  // Perform the blending operation along the ray
  applyBlend(posIS, endIS, sampleDistanceIS, tdims);
}
`},function(g,p,a){var u;(function(f){function P(d,O){var F=(65535&d)+(65535&O);return(d>>16)+(O>>16)+(F>>16)<<16|65535&F}function U(d,O,F,I,L,G){return P(function(z,B){return z<<B|z>>>32-B}(P(P(O,d),P(I,G)),L),F)}function m(d,O,F,I,L,G,z){return U(O&F|~O&I,d,O,L,G,z)}function w(d,O,F,I,L,G,z){return U(O&I|F&~I,d,O,L,G,z)}function r(d,O,F,I,L,G,z){return U(O^F^I,d,O,L,G,z)}function b(d,O,F,I,L,G,z){return U(F^(O|~I),d,O,L,G,z)}function C(d,O){var F,I,L,G,z;d[O>>5]|=128<<O%32,d[14+(O+64>>>9<<4)]=O;var B=1732584193,Y=-271733879,q=-1732584194,H=271733878;for(F=0;F<d.length;F+=16)I=B,L=Y,G=q,z=H,Y=b(Y=b(Y=b(Y=b(Y=r(Y=r(Y=r(Y=r(Y=w(Y=w(Y=w(Y=w(Y=m(Y=m(Y=m(Y=m(Y,q=m(q,H=m(H,B=m(B,Y,q,H,d[F],7,-680876936),Y,q,d[F+1],12,-389564586),B,Y,d[F+2],17,606105819),H,B,d[F+3],22,-1044525330),q=m(q,H=m(H,B=m(B,Y,q,H,d[F+4],7,-176418897),Y,q,d[F+5],12,1200080426),B,Y,d[F+6],17,-1473231341),H,B,d[F+7],22,-45705983),q=m(q,H=m(H,B=m(B,Y,q,H,d[F+8],7,1770035416),Y,q,d[F+9],12,-1958414417),B,Y,d[F+10],17,-42063),H,B,d[F+11],22,-1990404162),q=m(q,H=m(H,B=m(B,Y,q,H,d[F+12],7,1804603682),Y,q,d[F+13],12,-40341101),B,Y,d[F+14],17,-1502002290),H,B,d[F+15],22,1236535329),q=w(q,H=w(H,B=w(B,Y,q,H,d[F+1],5,-165796510),Y,q,d[F+6],9,-1069501632),B,Y,d[F+11],14,643717713),H,B,d[F],20,-373897302),q=w(q,H=w(H,B=w(B,Y,q,H,d[F+5],5,-701558691),Y,q,d[F+10],9,38016083),B,Y,d[F+15],14,-660478335),H,B,d[F+4],20,-405537848),q=w(q,H=w(H,B=w(B,Y,q,H,d[F+9],5,568446438),Y,q,d[F+14],9,-1019803690),B,Y,d[F+3],14,-187363961),H,B,d[F+8],20,1163531501),q=w(q,H=w(H,B=w(B,Y,q,H,d[F+13],5,-1444681467),Y,q,d[F+2],9,-51403784),B,Y,d[F+7],14,1735328473),H,B,d[F+12],20,-1926607734),q=r(q,H=r(H,B=r(B,Y,q,H,d[F+5],4,-378558),Y,q,d[F+8],11,-2022574463),B,Y,d[F+11],16,1839030562),H,B,d[F+14],23,-35309556),q=r(q,H=r(H,B=r(B,Y,q,H,d[F+1],4,-1530992060),Y,q,d[F+4],11,1272893353),B,Y,d[F+7],16,-155497632),H,B,d[F+10],23,-1094730640),q=r(q,H=r(H,B=r(B,Y,q,H,d[F+13],4,681279174),Y,q,d[F],11,-358537222),B,Y,d[F+3],16,-722521979),H,B,d[F+6],23,76029189),q=r(q,H=r(H,B=r(B,Y,q,H,d[F+9],4,-640364487),Y,q,d[F+12],11,-421815835),B,Y,d[F+15],16,530742520),H,B,d[F+2],23,-995338651),q=b(q,H=b(H,B=b(B,Y,q,H,d[F],6,-198630844),Y,q,d[F+7],10,1126891415),B,Y,d[F+14],15,-1416354905),H,B,d[F+5],21,-57434055),q=b(q,H=b(H,B=b(B,Y,q,H,d[F+12],6,1700485571),Y,q,d[F+3],10,-1894986606),B,Y,d[F+10],15,-1051523),H,B,d[F+1],21,-2054922799),q=b(q,H=b(H,B=b(B,Y,q,H,d[F+8],6,1873313359),Y,q,d[F+15],10,-30611744),B,Y,d[F+6],15,-1560198380),H,B,d[F+13],21,1309151649),q=b(q,H=b(H,B=b(B,Y,q,H,d[F+4],6,-145523070),Y,q,d[F+11],10,-1120210379),B,Y,d[F+2],15,718787259),H,B,d[F+9],21,-343485551),B=P(B,I),Y=P(Y,L),q=P(q,G),H=P(H,z);return[B,Y,q,H]}function A(d){var O,F="",I=32*d.length;for(O=0;O<I;O+=8)F+=String.fromCharCode(d[O>>5]>>>O%32&255);return F}function x(d){var O,F=[];for(F[(d.length>>2)-1]=void 0,O=0;O<F.length;O+=1)F[O]=0;var I=8*d.length;for(O=0;O<I;O+=8)F[O>>5]|=(255&d.charCodeAt(O/8))<<O%32;return F}function E(d){var O,F,I="";for(F=0;F<d.length;F+=1)O=d.charCodeAt(F),I+="0123456789abcdef".charAt(O>>>4&15)+"0123456789abcdef".charAt(15&O);return I}function M(d){return unescape(encodeURIComponent(d))}function S(d){return function(O){return A(C(x(O),8*O.length))}(M(d))}function D(d,O){return function(F,I){var L,G,z=x(F),B=[],Y=[];for(B[15]=Y[15]=void 0,z.length>16&&(z=C(z,8*F.length)),L=0;L<16;L+=1)B[L]=909522486^z[L],Y[L]=1549556828^z[L];return G=C(B.concat(x(I)),512+8*I.length),A(C(Y.concat(G),640))}(M(d),M(O))}function V(d,O,F){return O?F?D(O,d):function(I,L){return E(D(I,L))}(O,d):F?S(d):function(I){return E(S(I))}(d)}(u=function(){return V}.call(p,a,p,g))===void 0||(g.exports=u)})()},function(g,p,a){(function(u){/**
 * @license
 * webvr-polyfill
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * cardboard-vr-display
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * webvr-polyfill-dpdb 
 * Copyright (c) 2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * wglu-preserve-state
 * Copyright (c) 2016, Brandon Jones.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * nosleep.js
 * Copyright (c) 2017, Rich Tibbett
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(f,P){g.exports=P()})(0,function(){var f=typeof window!="undefined"?window:u!==void 0?u:typeof self!="undefined"?self:{},P=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},U=function(x,E){for(var M=0,S=x.length;M<S;M++)E[M]=x[M]},m=function(x,E){for(var M in E)E.hasOwnProperty(M)&&(x[M]=E[M]);return x},w=function(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x}(function(x,E){return x(E={exports:{}},E.exports),E.exports}(function(x,E){/**
     * @license
     * cardboard-vr-display
     * Copyright (c) 2015-2017 Google
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     * http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     *//**
     * @license
     * gl-preserve-state
     * Copyright (c) 2016, Brandon Jones.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     *//**
     * @license
     * webvr-polyfill-dpdb
     * Copyright (c) 2015-2017 Google
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     * http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     *//**
     * @license
     * nosleep.js
     * Copyright (c) 2017, Rich Tibbett
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */x.exports=function(){var M=function(J,Te){if(!(J instanceof Te))throw new TypeError("Cannot call a class as a function")},S=function(){function J(Te,Me){for(var Ke=0;Ke<Me.length;Ke++){var rt=Me[Ke];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(Te,rt.key,rt)}}return function(Te,Me,Ke){return Me&&J(Te.prototype,Me),Ke&&J(Te,Ke),Te}}(),D=function(J,Te){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return function(Me,Ke){var rt=[],yt=!0,Ot=!1,cn=void 0;try{for(var gn,Pn=Me[Symbol.iterator]();!(yt=(gn=Pn.next()).done)&&(rt.push(gn.value),!Ke||rt.length!==Ke);yt=!0);}catch(kn){Ot=!0,cn=kn}finally{try{!yt&&Pn.return&&Pn.return()}finally{if(Ot)throw cn}}return rt}(J,Te);throw new TypeError("Invalid attempt to destructure non-iterable instance")},V=function(J,Te,Me){return J+(Te-J)*Me},d=function(){var J=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return J}}(),O=function(){var J=navigator.userAgent.indexOf("Version")!==-1&&navigator.userAgent.indexOf("Android")!==-1&&navigator.userAgent.indexOf("Chrome")!==-1;return function(){return J}}(),F=(/^((?!chrome|android).)*safari/i.test(navigator.userAgent),function(){var J=navigator.userAgent.indexOf("Firefox")!==-1&&navigator.userAgent.indexOf("Android")!==-1;return function(){return J}}()),I=function(){var J=navigator.userAgent.match(/.*Chrome\/([0-9]+)/),Te=J?parseInt(J[1],10):null;return function(){return Te}}(),L=function(){var J=!1;if(I()===65){var Te=navigator.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(Te){var Me=Te[1].split("."),Ke=D(Me,4),rt=(Ke[0],Ke[1],Ke[2]),yt=Ke[3];J=parseInt(rt,10)===3325&&parseInt(yt,10)<148}}return function(){return J}}(),G=function(){var J=navigator.userAgent.indexOf("R7 Build")!==-1;return function(){return J}}(),z=function(){var J=window.orientation==90||window.orientation==-90;return G()?!J:J},B=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},Y=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},q=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},H=function(J,Te,Me,Ke){var rt=J.createShader(J.VERTEX_SHADER);J.shaderSource(rt,Te),J.compileShader(rt);var yt=J.createShader(J.FRAGMENT_SHADER);J.shaderSource(yt,Me),J.compileShader(yt);var Ot=J.createProgram();for(var cn in J.attachShader(Ot,rt),J.attachShader(Ot,yt),Ke)J.bindAttribLocation(Ot,Ke[cn],cn);return J.linkProgram(Ot),J.deleteShader(rt),J.deleteShader(yt),Ot},ne=function(J,Te){for(var Me={},Ke=J.getProgramParameter(Te,J.ACTIVE_UNIFORMS),rt="",yt=0;yt<Ke;yt++){var Ot=J.getActiveUniform(Te,yt);rt=Ot.name.replace("[0]",""),Me[rt]=J.getUniformLocation(Te,rt)}return Me},Ae=function(){var J=!1;return function(Te){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(Te)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(Te.substr(0,4)))&&(J=!0)}(navigator.userAgent||navigator.vendor||window.opera),J},ce=function(J,Te){for(var Me in Te)Te.hasOwnProperty(Me)&&(J[Me]=Te[Me]);return J},ye=function(J){if(d()){var Te=J.style.width,Me=J.style.height;J.style.width=parseInt(Te)+1+"px",J.style.height=parseInt(Me)+"px",setTimeout(function(){J.style.width=Te,J.style.height=Me},100)}window.canvas=J},K=function(){var J=Math.PI/180,Te=.25*Math.PI,Me=new Float32Array([0,0,0,1]),Ke=new Float32Array([0,0,0]);function rt(yt,Ot,cn,gn,Pn,kn){(function(bt,Et,Ht,Mt){var pn=Math.tan(Et?Et.upDegrees*J:Te),Sn=Math.tan(Et?Et.downDegrees*J:Te),Gt=Math.tan(Et?Et.leftDegrees*J:Te),ln=Math.tan(Et?Et.rightDegrees*J:Te),tn=2/(Gt+ln),Rn=2/(pn+Sn);bt[0]=tn,bt[1]=0,bt[2]=0,bt[3]=0,bt[4]=0,bt[5]=Rn,bt[6]=0,bt[7]=0,bt[8]=-(Gt-ln)*tn*.5,bt[9]=(pn-Sn)*Rn*.5,bt[10]=Mt/(Ht-Mt),bt[11]=-1,bt[12]=0,bt[13]=0,bt[14]=Mt*Ht/(Ht-Mt),bt[15]=0})(yt,gn||null,kn.depthNear,kn.depthFar);var It=cn.orientation||Me,rn=cn.position||Ke;(function(bt,Et,Ht){var Mt=Et[0],pn=Et[1],Sn=Et[2],Gt=Et[3],ln=Mt+Mt,tn=pn+pn,Rn=Sn+Sn,Gn=Mt*ln,fr=Mt*tn,qn=Mt*Rn,dr=pn*tn,Jn=pn*Rn,mr=Sn*Rn,ar=Gt*ln,hr=Gt*tn,Vr=Gt*Rn;bt[0]=1-(dr+mr),bt[1]=fr+Vr,bt[2]=qn-hr,bt[3]=0,bt[4]=fr-Vr,bt[5]=1-(Gn+mr),bt[6]=Jn+ar,bt[7]=0,bt[8]=qn+hr,bt[9]=Jn-ar,bt[10]=1-(Gn+dr),bt[11]=0,bt[12]=Ht[0],bt[13]=Ht[1],bt[14]=Ht[2],bt[15]=1})(Ot,It,rn),Pn&&function(bt,Et,Ht){var Mt,pn,Sn,Gt,ln,tn,Rn,Gn,fr,qn,dr,Jn,mr=Ht[0],ar=Ht[1],hr=Ht[2];Et===bt?(bt[12]=Et[0]*mr+Et[4]*ar+Et[8]*hr+Et[12],bt[13]=Et[1]*mr+Et[5]*ar+Et[9]*hr+Et[13],bt[14]=Et[2]*mr+Et[6]*ar+Et[10]*hr+Et[14],bt[15]=Et[3]*mr+Et[7]*ar+Et[11]*hr+Et[15]):(Mt=Et[0],pn=Et[1],Sn=Et[2],Gt=Et[3],ln=Et[4],tn=Et[5],Rn=Et[6],Gn=Et[7],fr=Et[8],qn=Et[9],dr=Et[10],Jn=Et[11],bt[0]=Mt,bt[1]=pn,bt[2]=Sn,bt[3]=Gt,bt[4]=ln,bt[5]=tn,bt[6]=Rn,bt[7]=Gn,bt[8]=fr,bt[9]=qn,bt[10]=dr,bt[11]=Jn,bt[12]=Mt*mr+ln*ar+fr*hr+Et[12],bt[13]=pn*mr+tn*ar+qn*hr+Et[13],bt[14]=Sn*mr+Rn*ar+dr*hr+Et[14],bt[15]=Gt*mr+Gn*ar+Jn*hr+Et[15])}(Ot,Ot,Pn),function(bt,Et){var Ht=Et[0],Mt=Et[1],pn=Et[2],Sn=Et[3],Gt=Et[4],ln=Et[5],tn=Et[6],Rn=Et[7],Gn=Et[8],fr=Et[9],qn=Et[10],dr=Et[11],Jn=Et[12],mr=Et[13],ar=Et[14],hr=Et[15],Vr=Ht*ln-Mt*Gt,Zr=Ht*tn-pn*Gt,Jr=Ht*Rn-Sn*Gt,br=Mt*tn-pn*ln,Qr=Mt*Rn-Sn*ln,Nr=pn*Rn-Sn*tn,$r=Gn*mr-fr*Jn,Yr=Gn*ar-qn*Jn,ra=Gn*hr-dr*Jn,Ln=fr*ar-qn*mr,Wr=fr*hr-dr*mr,Pr=qn*hr-dr*ar,pr=Vr*Pr-Zr*Wr+Jr*Ln+br*ra-Qr*Yr+Nr*$r;if(!pr)return null;pr=1/pr,bt[0]=(ln*Pr-tn*Wr+Rn*Ln)*pr,bt[1]=(pn*Wr-Mt*Pr-Sn*Ln)*pr,bt[2]=(mr*Nr-ar*Qr+hr*br)*pr,bt[3]=(qn*Qr-fr*Nr-dr*br)*pr,bt[4]=(tn*ra-Gt*Pr-Rn*Yr)*pr,bt[5]=(Ht*Pr-pn*ra+Sn*Yr)*pr,bt[6]=(ar*Jr-Jn*Nr-hr*Zr)*pr,bt[7]=(Gn*Nr-qn*Jr+dr*Zr)*pr,bt[8]=(Gt*Wr-ln*ra+Rn*$r)*pr,bt[9]=(Mt*ra-Ht*Wr-Sn*$r)*pr,bt[10]=(Jn*Qr-mr*Jr+hr*Vr)*pr,bt[11]=(fr*Jr-Gn*Qr-dr*Vr)*pr,bt[12]=(ln*Yr-Gt*Ln-tn*$r)*pr,bt[13]=(Ht*Ln-Mt*Yr+pn*$r)*pr,bt[14]=(mr*Zr-Jn*br-ar*Vr)*pr,bt[15]=(Gn*br-fr*Zr+qn*Vr)*pr}(Ot,Ot)}return function(yt,Ot,cn){return!(!yt||!Ot||(yt.pose=Ot,yt.timestamp=Ot.timestamp,rt(yt.leftProjectionMatrix,yt.leftViewMatrix,Ot,cn._getFieldOfView("left"),cn._getEyeOffset("left"),cn),rt(yt.rightProjectionMatrix,yt.rightViewMatrix,Ot,cn._getFieldOfView("right"),cn._getEyeOffset("right"),cn),0))}}(),j=function(J){var Te,Me=J.indexOf("://");Te=Me!==-1?Me+3:0;var Ke=J.indexOf("/",Te);return Ke===-1&&(Ke=J.length),J.substring(0,Ke)},ve=function(){var J={};return function(Te,Me){J[Te]===void 0&&(console.warn("webvr-polyfill: "+Me),J[Te]=!0)}}(),Pe=function(J,Te){var Me=Te?"Please use "+Te+" instead.":"";ve(J,J+" has been deprecated. This may not work on native WebVR displays. "+Me)},Oe=function(J,Te,Me){if(Te){for(var Ke=[],rt=null,yt=0;yt<Te.length;++yt){var Ot=Te[yt];switch(Ot){case J.TEXTURE_BINDING_2D:case J.TEXTURE_BINDING_CUBE_MAP:var cn=Te[++yt];if(cn<J.TEXTURE0||cn>J.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),Ke.push(null,null);break}rt||(rt=J.getParameter(J.ACTIVE_TEXTURE)),J.activeTexture(cn),Ke.push(J.getParameter(Ot),null);break;case J.ACTIVE_TEXTURE:rt=J.getParameter(J.ACTIVE_TEXTURE),Ke.push(null);break;default:Ke.push(J.getParameter(Ot))}}Me(J);for(var yt=0;yt<Te.length;++yt){var Ot=Te[yt],gn=Ke[yt];switch(Ot){case J.ACTIVE_TEXTURE:break;case J.ARRAY_BUFFER_BINDING:J.bindBuffer(J.ARRAY_BUFFER,gn);break;case J.COLOR_CLEAR_VALUE:J.clearColor(gn[0],gn[1],gn[2],gn[3]);break;case J.COLOR_WRITEMASK:J.colorMask(gn[0],gn[1],gn[2],gn[3]);break;case J.CURRENT_PROGRAM:J.useProgram(gn);break;case J.ELEMENT_ARRAY_BUFFER_BINDING:J.bindBuffer(J.ELEMENT_ARRAY_BUFFER,gn);break;case J.FRAMEBUFFER_BINDING:J.bindFramebuffer(J.FRAMEBUFFER,gn);break;case J.RENDERBUFFER_BINDING:J.bindRenderbuffer(J.RENDERBUFFER,gn);break;case J.TEXTURE_BINDING_2D:var cn=Te[++yt];if(cn<J.TEXTURE0||cn>J.TEXTURE31)break;J.activeTexture(cn),J.bindTexture(J.TEXTURE_2D,gn);break;case J.TEXTURE_BINDING_CUBE_MAP:var cn=Te[++yt];if(cn<J.TEXTURE0||cn>J.TEXTURE31)break;J.activeTexture(cn),J.bindTexture(J.TEXTURE_CUBE_MAP,gn);break;case J.VIEWPORT:J.viewport(gn[0],gn[1],gn[2],gn[3]);break;case J.BLEND:case J.CULL_FACE:case J.DEPTH_TEST:case J.SCISSOR_TEST:case J.STENCIL_TEST:gn?J.enable(Ot):J.disable(Ot);break;default:console.log("No GL restore behavior for 0x"+Ot.toString(16))}rt&&J.activeTexture(rt)}}else Me(J)},xe=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join(`
`),Ve=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join(`
`);function me(J,Te,Me,Ke){this.gl=J,this.cardboardUI=Te,this.bufferScale=Me,this.dirtySubmitFrameBindings=Ke,this.ctxAttribs=J.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=J.drawingBufferWidth,this.bufferHeight=J.drawingBufferHeight,this.realBindFramebuffer=J.bindFramebuffer,this.realEnable=J.enable,this.realDisable=J.disable,this.realColorMask=J.colorMask,this.realClearColor=J.clearColor,this.realViewport=J.viewport,d()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(J.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(J.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=H(J,xe,Ve,this.attribs),this.uniforms=ne(J,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=J.createBuffer(),this.indexBuffer=J.createBuffer(),this.indexCount=0,this.renderTarget=J.createTexture(),this.framebuffer=J.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=J.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=J.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=J.createRenderbuffer()),this.patch(),this.onResize()}me.prototype.destroy=function(){var J=this.gl;this.unpatch(),J.deleteProgram(this.program),J.deleteBuffer(this.vertexBuffer),J.deleteBuffer(this.indexBuffer),J.deleteTexture(this.renderTarget),J.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&J.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&J.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&J.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},me.prototype.onResize=function(){var J=this.gl,Te=this,Me=[J.RENDERBUFFER_BINDING,J.TEXTURE_BINDING_2D,J.TEXTURE0];Oe(J,Me,function(Ke){Te.realBindFramebuffer.call(Ke,Ke.FRAMEBUFFER,null),Te.scissorTest&&Te.realDisable.call(Ke,Ke.SCISSOR_TEST),Te.realColorMask.call(Ke,!0,!0,!0,!0),Te.realViewport.call(Ke,0,0,Ke.drawingBufferWidth,Ke.drawingBufferHeight),Te.realClearColor.call(Ke,0,0,0,1),Ke.clear(Ke.COLOR_BUFFER_BIT),Te.realBindFramebuffer.call(Ke,Ke.FRAMEBUFFER,Te.framebuffer),Ke.bindTexture(Ke.TEXTURE_2D,Te.renderTarget),Ke.texImage2D(Ke.TEXTURE_2D,0,Te.ctxAttribs.alpha?Ke.RGBA:Ke.RGB,Te.bufferWidth,Te.bufferHeight,0,Te.ctxAttribs.alpha?Ke.RGBA:Ke.RGB,Ke.UNSIGNED_BYTE,null),Ke.texParameteri(Ke.TEXTURE_2D,Ke.TEXTURE_MAG_FILTER,Ke.LINEAR),Ke.texParameteri(Ke.TEXTURE_2D,Ke.TEXTURE_MIN_FILTER,Ke.LINEAR),Ke.texParameteri(Ke.TEXTURE_2D,Ke.TEXTURE_WRAP_S,Ke.CLAMP_TO_EDGE),Ke.texParameteri(Ke.TEXTURE_2D,Ke.TEXTURE_WRAP_T,Ke.CLAMP_TO_EDGE),Ke.framebufferTexture2D(Ke.FRAMEBUFFER,Ke.COLOR_ATTACHMENT0,Ke.TEXTURE_2D,Te.renderTarget,0),Te.ctxAttribs.depth&&Te.ctxAttribs.stencil?(Ke.bindRenderbuffer(Ke.RENDERBUFFER,Te.depthStencilBuffer),Ke.renderbufferStorage(Ke.RENDERBUFFER,Ke.DEPTH_STENCIL,Te.bufferWidth,Te.bufferHeight),Ke.framebufferRenderbuffer(Ke.FRAMEBUFFER,Ke.DEPTH_STENCIL_ATTACHMENT,Ke.RENDERBUFFER,Te.depthStencilBuffer)):Te.ctxAttribs.depth?(Ke.bindRenderbuffer(Ke.RENDERBUFFER,Te.depthBuffer),Ke.renderbufferStorage(Ke.RENDERBUFFER,Ke.DEPTH_COMPONENT16,Te.bufferWidth,Te.bufferHeight),Ke.framebufferRenderbuffer(Ke.FRAMEBUFFER,Ke.DEPTH_ATTACHMENT,Ke.RENDERBUFFER,Te.depthBuffer)):Te.ctxAttribs.stencil&&(Ke.bindRenderbuffer(Ke.RENDERBUFFER,Te.stencilBuffer),Ke.renderbufferStorage(Ke.RENDERBUFFER,Ke.STENCIL_INDEX8,Te.bufferWidth,Te.bufferHeight),Ke.framebufferRenderbuffer(Ke.FRAMEBUFFER,Ke.STENCIL_ATTACHMENT,Ke.RENDERBUFFER,Te.stencilBuffer)),!Ke.checkFramebufferStatus(Ke.FRAMEBUFFER)===Ke.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),Te.realBindFramebuffer.call(Ke,Ke.FRAMEBUFFER,Te.lastBoundFramebuffer),Te.scissorTest&&Te.realEnable.call(Ke,Ke.SCISSOR_TEST),Te.realColorMask.apply(Ke,Te.colorMask),Te.realViewport.apply(Ke,Te.viewport),Te.realClearColor.apply(Ke,Te.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},me.prototype.patch=function(){if(!this.isPatched){var J=this,Te=this.gl.canvas,Me=this.gl;d()||(Te.width=B()*this.bufferScale,Te.height=Y()*this.bufferScale,Object.defineProperty(Te,"width",{configurable:!0,enumerable:!0,get:function(){return J.bufferWidth},set:function(Ke){J.bufferWidth=Ke,J.realCanvasWidth.set.call(Te,Ke),J.onResize()}}),Object.defineProperty(Te,"height",{configurable:!0,enumerable:!0,get:function(){return J.bufferHeight},set:function(Ke){J.bufferHeight=Ke,J.realCanvasHeight.set.call(Te,Ke),J.onResize()}})),this.lastBoundFramebuffer=Me.getParameter(Me.FRAMEBUFFER_BINDING),this.lastBoundFramebuffer==null&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(Me.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(Ke,rt){J.lastBoundFramebuffer=rt||J.framebuffer,J.realBindFramebuffer.call(Me,Ke,J.lastBoundFramebuffer)},this.cullFace=Me.getParameter(Me.CULL_FACE),this.depthTest=Me.getParameter(Me.DEPTH_TEST),this.blend=Me.getParameter(Me.BLEND),this.scissorTest=Me.getParameter(Me.SCISSOR_TEST),this.stencilTest=Me.getParameter(Me.STENCIL_TEST),Me.enable=function(Ke){switch(Ke){case Me.CULL_FACE:J.cullFace=!0;break;case Me.DEPTH_TEST:J.depthTest=!0;break;case Me.BLEND:J.blend=!0;break;case Me.SCISSOR_TEST:J.scissorTest=!0;break;case Me.STENCIL_TEST:J.stencilTest=!0}J.realEnable.call(Me,Ke)},Me.disable=function(Ke){switch(Ke){case Me.CULL_FACE:J.cullFace=!1;break;case Me.DEPTH_TEST:J.depthTest=!1;break;case Me.BLEND:J.blend=!1;break;case Me.SCISSOR_TEST:J.scissorTest=!1;break;case Me.STENCIL_TEST:J.stencilTest=!1}J.realDisable.call(Me,Ke)},this.colorMask=Me.getParameter(Me.COLOR_WRITEMASK),Me.colorMask=function(Ke,rt,yt,Ot){J.colorMask[0]=Ke,J.colorMask[1]=rt,J.colorMask[2]=yt,J.colorMask[3]=Ot,J.realColorMask.call(Me,Ke,rt,yt,Ot)},this.clearColor=Me.getParameter(Me.COLOR_CLEAR_VALUE),Me.clearColor=function(Ke,rt,yt,Ot){J.clearColor[0]=Ke,J.clearColor[1]=rt,J.clearColor[2]=yt,J.clearColor[3]=Ot,J.realClearColor.call(Me,Ke,rt,yt,Ot)},this.viewport=Me.getParameter(Me.VIEWPORT),Me.viewport=function(Ke,rt,yt,Ot){J.viewport[0]=Ke,J.viewport[1]=rt,J.viewport[2]=yt,J.viewport[3]=Ot,J.realViewport.call(Me,Ke,rt,yt,Ot)},this.isPatched=!0,ye(Te)}},me.prototype.unpatch=function(){if(this.isPatched){var J=this.gl,Te=this.gl.canvas;d()||(Object.defineProperty(Te,"width",this.realCanvasWidth),Object.defineProperty(Te,"height",this.realCanvasHeight)),Te.width=this.bufferWidth,Te.height=this.bufferHeight,J.bindFramebuffer=this.realBindFramebuffer,J.enable=this.realEnable,J.disable=this.realDisable,J.colorMask=this.realColorMask,J.clearColor=this.realClearColor,J.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&J.bindFramebuffer(J.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){ye(Te)},1)}},me.prototype.setTextureBounds=function(J,Te){J||(J=[0,0,.5,1]),Te||(Te=[.5,0,.5,1]),this.viewportOffsetScale[0]=J[0],this.viewportOffsetScale[1]=J[1],this.viewportOffsetScale[2]=J[2],this.viewportOffsetScale[3]=J[3],this.viewportOffsetScale[4]=Te[0],this.viewportOffsetScale[5]=Te[1],this.viewportOffsetScale[6]=Te[2],this.viewportOffsetScale[7]=Te[3]},me.prototype.submitFrame=function(){var J=this.gl,Te=this,Me=[];if(this.dirtySubmitFrameBindings||Me.push(J.CURRENT_PROGRAM,J.ARRAY_BUFFER_BINDING,J.ELEMENT_ARRAY_BUFFER_BINDING,J.TEXTURE_BINDING_2D,J.TEXTURE0),Oe(J,Me,function(rt){Te.realBindFramebuffer.call(rt,rt.FRAMEBUFFER,null),Te.cullFace&&Te.realDisable.call(rt,rt.CULL_FACE),Te.depthTest&&Te.realDisable.call(rt,rt.DEPTH_TEST),Te.blend&&Te.realDisable.call(rt,rt.BLEND),Te.scissorTest&&Te.realDisable.call(rt,rt.SCISSOR_TEST),Te.stencilTest&&Te.realDisable.call(rt,rt.STENCIL_TEST),Te.realColorMask.call(rt,!0,!0,!0,!0),Te.realViewport.call(rt,0,0,rt.drawingBufferWidth,rt.drawingBufferHeight),(Te.ctxAttribs.alpha||d())&&(Te.realClearColor.call(rt,0,0,0,1),rt.clear(rt.COLOR_BUFFER_BIT)),rt.useProgram(Te.program),rt.bindBuffer(rt.ELEMENT_ARRAY_BUFFER,Te.indexBuffer),rt.bindBuffer(rt.ARRAY_BUFFER,Te.vertexBuffer),rt.enableVertexAttribArray(Te.attribs.position),rt.enableVertexAttribArray(Te.attribs.texCoord),rt.vertexAttribPointer(Te.attribs.position,2,rt.FLOAT,!1,20,0),rt.vertexAttribPointer(Te.attribs.texCoord,3,rt.FLOAT,!1,20,8),rt.activeTexture(rt.TEXTURE0),rt.uniform1i(Te.uniforms.diffuse,0),rt.bindTexture(rt.TEXTURE_2D,Te.renderTarget),rt.uniform4fv(Te.uniforms.viewportOffsetScale,Te.viewportOffsetScale),rt.drawElements(rt.TRIANGLES,Te.indexCount,rt.UNSIGNED_SHORT,0),Te.cardboardUI&&Te.cardboardUI.renderNoState(),Te.realBindFramebuffer.call(Te.gl,rt.FRAMEBUFFER,Te.framebuffer),Te.ctxAttribs.preserveDrawingBuffer||(Te.realClearColor.call(rt,0,0,0,0),rt.clear(rt.COLOR_BUFFER_BIT)),Te.dirtySubmitFrameBindings||Te.realBindFramebuffer.call(rt,rt.FRAMEBUFFER,Te.lastBoundFramebuffer),Te.cullFace&&Te.realEnable.call(rt,rt.CULL_FACE),Te.depthTest&&Te.realEnable.call(rt,rt.DEPTH_TEST),Te.blend&&Te.realEnable.call(rt,rt.BLEND),Te.scissorTest&&Te.realEnable.call(rt,rt.SCISSOR_TEST),Te.stencilTest&&Te.realEnable.call(rt,rt.STENCIL_TEST),Te.realColorMask.apply(rt,Te.colorMask),Te.realViewport.apply(rt,Te.viewport),!Te.ctxAttribs.alpha&&Te.ctxAttribs.preserveDrawingBuffer||Te.realClearColor.apply(rt,Te.clearColor)}),d()){var Ke=J.canvas;Ke.width==Te.bufferWidth&&Ke.height==Te.bufferHeight||(Te.bufferWidth=Ke.width,Te.bufferHeight=Ke.height,Te.onResize())}},me.prototype.updateDeviceInfo=function(J){var Te=this.gl,Me=this,Ke=[Te.ARRAY_BUFFER_BINDING,Te.ELEMENT_ARRAY_BUFFER_BINDING];Oe(Te,Ke,function(rt){var yt=Me.computeMeshVertices_(Me.meshWidth,Me.meshHeight,J);if(rt.bindBuffer(rt.ARRAY_BUFFER,Me.vertexBuffer),rt.bufferData(rt.ARRAY_BUFFER,yt,rt.STATIC_DRAW),!Me.indexCount){var Ot=Me.computeMeshIndices_(Me.meshWidth,Me.meshHeight);rt.bindBuffer(rt.ELEMENT_ARRAY_BUFFER,Me.indexBuffer),rt.bufferData(rt.ELEMENT_ARRAY_BUFFER,Ot,rt.STATIC_DRAW),Me.indexCount=Ot.length}})},me.prototype.computeMeshVertices_=function(J,Te,Me){for(var Ke=new Float32Array(2*J*Te*5),rt=Me.getLeftEyeVisibleTanAngles(),yt=Me.getLeftEyeNoLensTanAngles(),Ot=Me.getLeftEyeVisibleScreenRect(yt),cn=0,gn=0;gn<2;gn++){for(var Pn=0;Pn<Te;Pn++)for(var kn=0;kn<J;kn++,cn++){var It=kn/(J-1),rn=Pn/(Te-1),bt=It,Et=rn,Ht=V(rt[0],rt[2],It),Mt=V(rt[3],rt[1],rn),pn=Math.sqrt(Ht*Ht+Mt*Mt),Sn=Me.distortion.distortInverse(pn),Gt=Ht*Sn/pn,ln=Mt*Sn/pn;It=(Gt-yt[0])/(yt[2]-yt[0]),rn=(ln-yt[3])/(yt[1]-yt[3]),It=2*(Ot.x+It*Ot.width-.5),rn=2*(Ot.y+rn*Ot.height-.5),Ke[5*cn+0]=It,Ke[5*cn+1]=rn,Ke[5*cn+2]=bt,Ke[5*cn+3]=Et,Ke[5*cn+4]=gn}var tn=rt[2]-rt[0];rt[0]=-(tn+rt[0]),rt[2]=tn-rt[2],tn=yt[2]-yt[0],yt[0]=-(tn+yt[0]),yt[2]=tn-yt[2],Ot.x=1-(Ot.x+Ot.width)}return Ke},me.prototype.computeMeshIndices_=function(J,Te){for(var Me=new Uint16Array(2*(J-1)*(Te-1)*6),Ke=J/2,rt=Te/2,yt=0,Ot=0,cn=0;cn<2;cn++)for(var gn=0;gn<Te;gn++)for(var Pn=0;Pn<J;Pn++,yt++)Pn!=0&&gn!=0&&(Pn<=Ke==gn<=rt?(Me[Ot++]=yt,Me[Ot++]=yt-J-1,Me[Ot++]=yt-J,Me[Ot++]=yt-J-1,Me[Ot++]=yt,Me[Ot++]=yt-1):(Me[Ot++]=yt-1,Me[Ot++]=yt-J,Me[Ot++]=yt,Me[Ot++]=yt-J,Me[Ot++]=yt-1,Me[Ot++]=yt-J-1));return Me},me.prototype.getOwnPropertyDescriptor_=function(J,Te){var Me=Object.getOwnPropertyDescriptor(J,Te);return Me.get!==void 0&&Me.set!==void 0||(Me.configurable=!0,Me.enumerable=!0,Me.get=function(){return this.getAttribute(Te)},Me.set=function(Ke){this.setAttribute(Te,Ke)}),Me};var pe=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join(`
`),ke=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join(`
`),X=Math.PI/180,Z=.3125;function ae(J){this.gl=J,this.attribs={position:0},this.program=H(J,pe,ke,this.attribs),this.uniforms=ne(J,this.program),this.vertexBuffer=J.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}function Ue(J){this.coefficients=J}ae.prototype.destroy=function(){var J=this.gl;this.listener&&J.canvas.removeEventListener("click",this.listener,!1),J.deleteProgram(this.program),J.deleteBuffer(this.vertexBuffer)},ae.prototype.listen=function(J,Te){var Me=this.gl.canvas;this.listener=function(Ke){var rt=Me.clientWidth/2;Ke.clientX>rt-42&&Ke.clientX<rt+42&&Ke.clientY>Me.clientHeight-42?J(Ke):Ke.clientX<42&&Ke.clientY<42&&Te(Ke)},Me.addEventListener("click",this.listener,!1)},ae.prototype.onResize=function(){var J=this.gl,Te=this,Me=[J.ARRAY_BUFFER_BINDING];Oe(J,Me,function(Ke){var rt=[],yt=Ke.drawingBufferWidth/2,Ot=Math.max(screen.width,screen.height)*window.devicePixelRatio,cn=Ke.drawingBufferWidth/Ot,gn=cn*window.devicePixelRatio,Pn=4*gn/2,kn=42*gn,It=28*gn/2,rn=14*gn;function bt(Sn,Gt){var ln=(90-Sn)*X,tn=Math.cos(ln),Rn=Math.sin(ln);rt.push(Z*tn*It+yt,Z*Rn*It+It),rt.push(Gt*tn*It+yt,Gt*Rn*It+It)}rt.push(yt-Pn,kn),rt.push(yt-Pn,Ke.drawingBufferHeight),rt.push(yt+Pn,kn),rt.push(yt+Pn,Ke.drawingBufferHeight),Te.gearOffset=rt.length/2;for(var Et=0;Et<=6;Et++){var Ht=60*Et;bt(Ht,1),bt(Ht+12,1),bt(Ht+20,.75),bt(Ht+40,.75),bt(Ht+48,1)}function Mt(Sn,Gt){rt.push(rn+Sn,Ke.drawingBufferHeight-rn-Gt)}Te.gearVertexCount=rt.length/2-Te.gearOffset,Te.arrowOffset=rt.length/2;var pn=Pn/Math.sin(45*X);Mt(0,It),Mt(It,0),Mt(It+pn,pn),Mt(pn,It+pn),Mt(pn,It-pn),Mt(0,It),Mt(It,2*It),Mt(It+pn,2*It-pn),Mt(pn,It-pn),Mt(0,It),Mt(pn,It-Pn),Mt(28*gn,It-Pn),Mt(pn,It+Pn),Mt(28*gn,It+Pn),Te.arrowVertexCount=rt.length/2-Te.arrowOffset,Ke.bindBuffer(Ke.ARRAY_BUFFER,Te.vertexBuffer),Ke.bufferData(Ke.ARRAY_BUFFER,new Float32Array(rt),Ke.STATIC_DRAW)})},ae.prototype.render=function(){var J=this.gl,Te=this,Me=[J.CULL_FACE,J.DEPTH_TEST,J.BLEND,J.SCISSOR_TEST,J.STENCIL_TEST,J.COLOR_WRITEMASK,J.VIEWPORT,J.CURRENT_PROGRAM,J.ARRAY_BUFFER_BINDING];Oe(J,Me,function(Ke){Ke.disable(Ke.CULL_FACE),Ke.disable(Ke.DEPTH_TEST),Ke.disable(Ke.BLEND),Ke.disable(Ke.SCISSOR_TEST),Ke.disable(Ke.STENCIL_TEST),Ke.colorMask(!0,!0,!0,!0),Ke.viewport(0,0,Ke.drawingBufferWidth,Ke.drawingBufferHeight),Te.renderNoState()})},ae.prototype.renderNoState=function(){var J=this.gl;J.useProgram(this.program),J.bindBuffer(J.ARRAY_BUFFER,this.vertexBuffer),J.enableVertexAttribArray(this.attribs.position),J.vertexAttribPointer(this.attribs.position,2,J.FLOAT,!1,8,0),J.uniform4f(this.uniforms.color,1,1,1,1),function(Te,Me,Ke,rt,yt,Ot,cn){var gn=1/(Me-Ke),Pn=1/(rt-yt),kn=1/(Ot-cn);Te[0]=-2*gn,Te[1]=0,Te[2]=0,Te[3]=0,Te[4]=0,Te[5]=-2*Pn,Te[6]=0,Te[7]=0,Te[8]=0,Te[9]=0,Te[10]=2*kn,Te[11]=0,Te[12]=(Me+Ke)*gn,Te[13]=(yt+rt)*Pn,Te[14]=(cn+Ot)*kn,Te[15]=1}(this.projMat,0,J.drawingBufferWidth,0,J.drawingBufferHeight,.1,1024),J.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),J.drawArrays(J.TRIANGLE_STRIP,0,4),J.drawArrays(J.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),J.drawArrays(J.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},Ue.prototype.distortInverse=function(J){for(var Te=0,Me=1,Ke=J-this.distort(Te);Math.abs(Me-Te)>1e-4;){var rt=J-this.distort(Me),yt=Me-rt*((Me-Te)/(rt-Ke));Te=Me,Me=yt,Ke=rt}return Me},Ue.prototype.distort=function(J){for(var Te=J*J,Me=0,Ke=0;Ke<this.coefficients.length;Ke++)Me=Te*(Me+this.coefficients[Ke]);return(Me+1)*J};var Ie=Math.PI/180,le=180/Math.PI,ge=function(J,Te,Me){this.x=J||0,this.y=Te||0,this.z=Me||0};ge.prototype={constructor:ge,set:function(J,Te,Me){return this.x=J,this.y=Te,this.z=Me,this},copy:function(J){return this.x=J.x,this.y=J.y,this.z=J.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var J=this.length();if(J!==0){var Te=1/J;this.multiplyScalar(Te)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(J){this.x*=J,this.y*=J,this.z*=J},applyQuaternion:function(J){var Te=this.x,Me=this.y,Ke=this.z,rt=J.x,yt=J.y,Ot=J.z,cn=J.w,gn=cn*Te+yt*Ke-Ot*Me,Pn=cn*Me+Ot*Te-rt*Ke,kn=cn*Ke+rt*Me-yt*Te,It=-rt*Te-yt*Me-Ot*Ke;return this.x=gn*cn+It*-rt+Pn*-Ot-kn*-yt,this.y=Pn*cn+It*-yt+kn*-rt-gn*-Ot,this.z=kn*cn+It*-Ot+gn*-yt-Pn*-rt,this},dot:function(J){return this.x*J.x+this.y*J.y+this.z*J.z},crossVectors:function(J,Te){var Me=J.x,Ke=J.y,rt=J.z,yt=Te.x,Ot=Te.y,cn=Te.z;return this.x=Ke*cn-rt*Ot,this.y=rt*yt-Me*cn,this.z=Me*Ot-Ke*yt,this}};var ze=function(J,Te,Me,Ke){this.x=J||0,this.y=Te||0,this.z=Me||0,this.w=Ke!==void 0?Ke:1};function nt(J){this.width=J.width||B(),this.height=J.height||Y(),this.widthMeters=J.widthMeters,this.heightMeters=J.heightMeters,this.bevelMeters=J.bevelMeters}ze.prototype={constructor:ze,set:function(J,Te,Me,Ke){return this.x=J,this.y=Te,this.z=Me,this.w=Ke,this},copy:function(J){return this.x=J.x,this.y=J.y,this.z=J.z,this.w=J.w,this},setFromEulerXYZ:function(J,Te,Me){var Ke=Math.cos(J/2),rt=Math.cos(Te/2),yt=Math.cos(Me/2),Ot=Math.sin(J/2),cn=Math.sin(Te/2),gn=Math.sin(Me/2);return this.x=Ot*rt*yt+Ke*cn*gn,this.y=Ke*cn*yt-Ot*rt*gn,this.z=Ke*rt*gn+Ot*cn*yt,this.w=Ke*rt*yt-Ot*cn*gn,this},setFromEulerYXZ:function(J,Te,Me){var Ke=Math.cos(J/2),rt=Math.cos(Te/2),yt=Math.cos(Me/2),Ot=Math.sin(J/2),cn=Math.sin(Te/2),gn=Math.sin(Me/2);return this.x=Ot*rt*yt+Ke*cn*gn,this.y=Ke*cn*yt-Ot*rt*gn,this.z=Ke*rt*gn-Ot*cn*yt,this.w=Ke*rt*yt+Ot*cn*gn,this},setFromAxisAngle:function(J,Te){var Me=Te/2,Ke=Math.sin(Me);return this.x=J.x*Ke,this.y=J.y*Ke,this.z=J.z*Ke,this.w=Math.cos(Me),this},multiply:function(J){return this.multiplyQuaternions(this,J)},multiplyQuaternions:function(J,Te){var Me=J.x,Ke=J.y,rt=J.z,yt=J.w,Ot=Te.x,cn=Te.y,gn=Te.z,Pn=Te.w;return this.x=Me*Pn+yt*Ot+Ke*gn-rt*cn,this.y=Ke*Pn+yt*cn+rt*Ot-Me*gn,this.z=rt*Pn+yt*gn+Me*cn-Ke*Ot,this.w=yt*Pn-Me*Ot-Ke*cn-rt*gn,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var J=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return J===0?(this.x=0,this.y=0,this.z=0,this.w=1):(J=1/J,this.x=this.x*J,this.y=this.y*J,this.z=this.z*J,this.w=this.w*J),this},slerp:function(J,Te){if(Te===0)return this;if(Te===1)return this.copy(J);var Me=this.x,Ke=this.y,rt=this.z,yt=this.w,Ot=yt*J.w+Me*J.x+Ke*J.y+rt*J.z;if(Ot<0?(this.w=-J.w,this.x=-J.x,this.y=-J.y,this.z=-J.z,Ot=-Ot):this.copy(J),Ot>=1)return this.w=yt,this.x=Me,this.y=Ke,this.z=rt,this;var cn=Math.acos(Ot),gn=Math.sqrt(1-Ot*Ot);if(Math.abs(gn)<.001)return this.w=.5*(yt+this.w),this.x=.5*(Me+this.x),this.y=.5*(Ke+this.y),this.z=.5*(rt+this.z),this;var Pn=Math.sin((1-Te)*cn)/gn,kn=Math.sin(Te*cn)/gn;return this.w=yt*Pn+this.w*kn,this.x=Me*Pn+this.x*kn,this.y=Ke*Pn+this.y*kn,this.z=rt*Pn+this.z*kn,this},setFromUnitVectors:function(){var J,Te;return function(Me,Ke){return J===void 0&&(J=new ge),(Te=Me.dot(Ke)+1)<1e-6?(Te=0,Math.abs(Me.x)>Math.abs(Me.z)?J.set(-Me.y,Me.x,0):J.set(0,-Me.z,Me.y)):J.crossVectors(Me,Ke),this.x=J.x,this.y=J.y,this.z=J.z,this.w=Te,this.normalize(),this}}()};var st=new nt({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),Ge=new nt({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),N={CardboardV1:new de({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new de({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function W(J,Te){this.viewer=N.CardboardV2,this.updateDeviceParams(J),this.distortion=new Ue(this.viewer.distortionCoefficients);for(var Me=0;Me<Te.length;Me++){var Ke=Te[Me];N[Ke.id]=new de(Ke)}}function de(J){this.id=J.id,this.label=J.label,this.fov=J.fov,this.interLensDistance=J.interLensDistance,this.baselineLensDistance=J.baselineLensDistance,this.screenLensDistance=J.screenLensDistance,this.distortionCoefficients=J.distortionCoefficients,this.inverseCoefficients=J.inverseCoefficients}W.prototype.updateDeviceParams=function(J){this.device=this.determineDevice_(J)||this.device},W.prototype.getDevice=function(){return this.device},W.prototype.setViewer=function(J){this.viewer=J,this.distortion=new Ue(this.viewer.distortionCoefficients)},W.prototype.determineDevice_=function(J){if(!J)return d()?(console.warn("Using fallback iOS device measurements."),Ge):(console.warn("Using fallback Android device measurements."),st);var Te=.0254/J.xdpi,Me=.0254/J.ydpi,Ke=B(),rt=Y();return new nt({widthMeters:Te*Ke,heightMeters:Me*rt,bevelMeters:.001*J.bevelMm})},W.prototype.getDistortedFieldOfViewLeftEye=function(){var J=this.viewer,Te=this.device,Me=this.distortion,Ke=J.screenLensDistance,rt=(Te.widthMeters-J.interLensDistance)/2,yt=J.interLensDistance/2,Ot=J.baselineLensDistance-Te.bevelMeters,cn=Te.heightMeters-Ot,gn=le*Math.atan(Me.distort(rt/Ke)),Pn=le*Math.atan(Me.distort(yt/Ke)),kn=le*Math.atan(Me.distort(Ot/Ke)),It=le*Math.atan(Me.distort(cn/Ke));return{leftDegrees:Math.min(gn,J.fov),rightDegrees:Math.min(Pn,J.fov),downDegrees:Math.min(kn,J.fov),upDegrees:Math.min(It,J.fov)}},W.prototype.getLeftEyeVisibleTanAngles=function(){var J=this.viewer,Te=this.device,Me=this.distortion,Ke=Math.tan(-Ie*J.fov),rt=Math.tan(Ie*J.fov),yt=Math.tan(Ie*J.fov),Ot=Math.tan(-Ie*J.fov),cn=Te.widthMeters/4,gn=Te.heightMeters/2,Pn=J.baselineLensDistance-Te.bevelMeters-gn,kn=J.interLensDistance/2-cn,It=-Pn,rn=J.screenLensDistance,bt=Me.distort((kn-cn)/rn),Et=Me.distort((It+gn)/rn),Ht=Me.distort((kn+cn)/rn),Mt=Me.distort((It-gn)/rn),pn=new Float32Array(4);return pn[0]=Math.max(Ke,bt),pn[1]=Math.min(rt,Et),pn[2]=Math.min(yt,Ht),pn[3]=Math.max(Ot,Mt),pn},W.prototype.getLeftEyeNoLensTanAngles=function(){var J=this.viewer,Te=this.device,Me=this.distortion,Ke=new Float32Array(4),rt=Me.distortInverse(Math.tan(-Ie*J.fov)),yt=Me.distortInverse(Math.tan(Ie*J.fov)),Ot=Me.distortInverse(Math.tan(Ie*J.fov)),cn=Me.distortInverse(Math.tan(-Ie*J.fov)),gn=Te.widthMeters/4,Pn=Te.heightMeters/2,kn=J.baselineLensDistance-Te.bevelMeters-Pn,It=J.interLensDistance/2-gn,rn=-kn,bt=J.screenLensDistance,Et=(It-gn)/bt,Ht=(rn+Pn)/bt,Mt=(It+gn)/bt,pn=(rn-Pn)/bt;return Ke[0]=Math.max(rt,Et),Ke[1]=Math.min(yt,Ht),Ke[2]=Math.min(Ot,Mt),Ke[3]=Math.max(cn,pn),Ke},W.prototype.getLeftEyeVisibleScreenRect=function(J){var Te=this.viewer,Me=this.device,Ke=Te.screenLensDistance,rt=(Me.widthMeters-Te.interLensDistance)/2,yt=Te.baselineLensDistance-Me.bevelMeters,Ot=(J[0]*Ke+rt)/Me.widthMeters,cn=(J[1]*Ke+yt)/Me.heightMeters,gn=(J[2]*Ke+rt)/Me.widthMeters,Pn=(J[3]*Ke+yt)/Me.heightMeters;return{x:Ot,y:Pn,width:gn-Ot,height:cn-Pn}},W.prototype.getFieldOfViewLeftEye=function(J){return J?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},W.prototype.getFieldOfViewRightEye=function(J){var Te=this.getFieldOfViewLeftEye(J);return{leftDegrees:Te.rightDegrees,rightDegrees:Te.leftDegrees,upDegrees:Te.upDegrees,downDegrees:Te.downDegrees}},W.prototype.getUndistortedFieldOfViewLeftEye=function(){var J=this.getUndistortedParams_();return{leftDegrees:le*Math.atan(J.outerDist),rightDegrees:le*Math.atan(J.innerDist),downDegrees:le*Math.atan(J.bottomDist),upDegrees:le*Math.atan(J.topDist)}},W.prototype.getUndistortedViewportLeftEye=function(){var J=this.getUndistortedParams_(),Te=this.viewer,Me=this.device,Ke=Te.screenLensDistance,rt=Me.widthMeters/Ke,yt=Me.heightMeters/Ke,Ot=Me.width/rt,cn=Me.height/yt,gn=Math.round((J.eyePosX-J.outerDist)*Ot),Pn=Math.round((J.eyePosY-J.bottomDist)*cn);return{x:gn,y:Pn,width:Math.round((J.eyePosX+J.innerDist)*Ot)-gn,height:Math.round((J.eyePosY+J.topDist)*cn)-Pn}},W.prototype.getUndistortedParams_=function(){var J=this.viewer,Te=this.device,Me=this.distortion,Ke=J.screenLensDistance,rt=J.interLensDistance/2/Ke,yt=Te.widthMeters/Ke,Ot=Te.heightMeters/Ke,cn=yt/2-rt,gn=(J.baselineLensDistance-Te.bevelMeters)/Ke,Pn=J.fov,kn=Me.distortInverse(Math.tan(Ie*Pn)),It=Math.min(cn,kn),rn=Math.min(rt,kn),bt=Math.min(gn,kn),Et=Math.min(Ot-gn,kn);return{outerDist:It,innerDist:rn,topDist:Et,bottomDist:bt,eyePosX:cn,eyePosY:gn}},W.Viewers=N;var ie={format:1,last_updated:"2019-11-09T17:36:14Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X00PD/*"},{ua:"ASUS_X00PD"}],dpi:245,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X008D/*"},{ua:"ASUS_X008D"}],dpi:282,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2 XL/*"},{ua:"Pixel 2 XL"}],dpi:537.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3 XL/*"},{ua:"Pixel 3 XL"}],dpi:[558.5,553.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3/*"},{ua:"Pixel 3"}],dpi:442.4,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2/*"},{ua:"Pixel 2"}],dpi:441,bw:3,ac:500},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/BLN-L24/*"},{ua:"HONORBLN-L24"}],dpi:480,bw:4,ac:500},{type:"android",rules:[{mdmh:"Huawei/*/BKL-L09/*"},{ua:"BKL-L09"}],dpi:403,bw:3.47,ac:500},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1001/*"},{ua:"ONE E1001"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1003/*"},{ua:"ONE E1003"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2001/*"},{ua:"ONE A2001"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2003/*"},{ua:"ONE A2003"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3000/*"},{ua:"ONEPLUS A3000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3003/*"},{ua:"ONEPLUS A3003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3010/*"},{ua:"ONEPLUS A3010"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6000/*"},{ua:"ONEPLUS A6000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6003/*"},{ua:"ONEPLUS A6003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6010/*"},{ua:"ONEPLUS A6010"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6013/*"},{ua:"ONEPLUS A6013"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955F/*"},{ua:"SM-G955F"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G960F/*"},{ua:"SM-G960F"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9600/*"},{ua:"SM-G9600"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960T/*"},{ua:"SM-G960T"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960N/*"},{ua:"SM-G960N"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960U/*"},{ua:"SM-G960U"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9608/*"},{ua:"SM-G9608"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960FD/*"},{ua:"SM-G960FD"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960W/*"},{ua:"SM-G960W"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G965F/*"},{ua:"SM-G965F"}],dpi:529,bw:2,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/EML-L29/*"},{ua:"EML-L29"}],dpi:428,bw:3.45,ac:500},{type:"android",rules:[{mdmh:"Nokia/*/Nokia 7.1/*"},{ua:"Nokia 7.1"}],dpi:[432,431.9],bw:3,ac:500},{type:"ios",rules:[{res:[1242,2688]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G570M/*"},{ua:"SM-G570M"}],dpi:320,bw:3.684,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G970F/*"},{ua:"SM-G970F"}],dpi:438,bw:2.281,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G973F/*"},{ua:"SM-G973F"}],dpi:550,bw:2.002,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G975F/*"},{ua:"SM-G975F"}],dpi:522,bw:2.054,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G977F/*"},{ua:"SM-G977F"}],dpi:505,bw:2.334,ac:500},{type:"ios",rules:[{res:[828,1792]}],dpi:326,bw:5,ac:500}]};function _e(J,Te){if(this.dpdb=ie,this.recalculateDeviceParams_(),J){this.onDeviceParamsUpdated=Te;var Me=new XMLHttpRequest,Ke=this;Me.open("GET",J,!0),Me.addEventListener("load",function(){Ke.loading=!1,Me.status>=200&&Me.status<=299?(Ke.dpdb=JSON.parse(Me.response),Ke.recalculateDeviceParams_()):console.error("Error loading online DPDB!")}),Me.send()}}function Ze(J){this.xdpi=J.xdpi,this.ydpi=J.ydpi,this.bevelMm=J.bevelMm}function ft(J,Te){this.set(J,Te)}function at(J,Te){this.kFilter=J,this.isDebug=Te,this.currentAccelMeasurement=new ft,this.currentGyroMeasurement=new ft,this.previousGyroMeasurement=new ft,d()?this.filterQ=new ze(-1,0,0,1):this.filterQ=new ze(1,0,0,1),this.previousFilterQ=new ze,this.previousFilterQ.copy(this.filterQ),this.accelQ=new ze,this.isOrientationInitialized=!1,this.estimatedGravity=new ge,this.measuredGravity=new ge,this.gyroIntegralQ=new ze}function ht(J,Te){this.predictionTimeS=J,this.isDebug=Te,this.previousQ=new ze,this.previousTimestampS=null,this.deltaQ=new ze,this.outQ=new ze}function Ct(J,Te,Me,Ke){this.yawOnly=Me,this.accelerometer=new ge,this.gyroscope=new ge,this.filter=new at(J,Ke),this.posePredictor=new ht(Te,Ke),this.isFirefoxAndroid=F(),this.isIOS=d();var rt=I();this.isDeviceMotionInRadians=!this.isIOS&&rt&&rt<66,this.isWithoutDeviceMotion=L(),this.filterToWorldQ=new ze,d()?this.filterToWorldQ.setFromAxisAngle(new ge(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new ge(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new ze,this.worldToScreenQ=new ze,this.originalPoseAdjustQ=new ze,this.originalPoseAdjustQ.setFromAxisAngle(new ge(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),z()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new ze,this.orientationOut_=new Float32Array(4),this.start()}_e.prototype.getDeviceParams=function(){return this.deviceParams},_e.prototype.recalculateDeviceParams_=function(){var J=this.calcDeviceParams_();J?(this.deviceParams=J,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},_e.prototype.calcDeviceParams_=function(){var J=this.dpdb;if(!J)return console.error("DPDB not available."),null;if(J.format!=1)return console.error("DPDB has unexpected format version."),null;if(!J.devices||!J.devices.length)return console.error("DPDB does not have a devices section."),null;var Te=navigator.userAgent||navigator.vendor||window.opera,Me=B(),Ke=Y();if(!J.devices)return console.error("DPDB has no devices section."),null;for(var rt=0;rt<J.devices.length;rt++){var yt=J.devices[rt];if(yt.rules)if(yt.type=="ios"||yt.type=="android"){if(d()==(yt.type=="ios")){for(var Ot=!1,cn=0;cn<yt.rules.length;cn++){var gn=yt.rules[cn];if(this.ruleMatches_(gn,Te,Me,Ke)){Ot=!0;break}}if(Ot){var Pn=yt.dpi[0]||yt.dpi,kn=yt.dpi[1]||yt.dpi;return new Ze({xdpi:Pn,ydpi:kn,bevelMm:yt.bw})}}}else console.warn("Device["+rt+"] has invalid type.");else console.warn("Device["+rt+"] has no rules section.")}return console.warn("No DPDB device match."),null},_e.prototype.ruleMatches_=function(J,Te,Me,Ke){if(!J.ua&&!J.res||(J.ua&&J.ua.substring(0,2)==="SM"&&(J.ua=J.ua.substring(0,7)),J.ua&&Te.indexOf(J.ua)<0))return!1;if(J.res){if(!J.res[0]||!J.res[1])return!1;var rt=J.res[0],yt=J.res[1];if(Math.min(Me,Ke)!=Math.min(rt,yt)||Math.max(Me,Ke)!=Math.max(rt,yt))return!1}return!0},ft.prototype.set=function(J,Te){this.sample=J,this.timestampS=Te},ft.prototype.copy=function(J){this.set(J.sample,J.timestampS)},at.prototype.addAccelMeasurement=function(J,Te){this.currentAccelMeasurement.set(J,Te)},at.prototype.addGyroMeasurement=function(J,Te){this.currentGyroMeasurement.set(J,Te);var Me=Te-this.previousGyroMeasurement.timestampS;(function(Ke){return!isNaN(Ke)&&!(Ke<=.001)&&!(Ke>1)})(Me)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},at.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var J=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,Te=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,J);this.gyroIntegralQ.multiply(Te),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(Te);var Me=new ze;Me.copy(this.filterQ),Me.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(Me),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var Ke=new ze;Ke.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),Ke.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",le*function(yt){return yt.w>1?(console.warn("getQuaternionAngle: w > 1"),0):2*Math.acos(yt.w)}(Ke),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var rt=new ze;rt.copy(this.filterQ),rt.multiply(Ke),this.filterQ.slerp(rt,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},at.prototype.getOrientation=function(){return this.filterQ},at.prototype.accelToQuaternion_=function(J){var Te=new ge;Te.copy(J),Te.normalize();var Me=new ze;return Me.setFromUnitVectors(new ge(0,0,-1),Te),Me.inverse(),Me},at.prototype.gyroToQuaternionDelta_=function(J,Te){var Me=new ze,Ke=new ge;return Ke.copy(J),Ke.normalize(),Me.setFromAxisAngle(Ke,J.length()*Te),Me},ht.prototype.getPrediction=function(J,Te,Me){if(!this.previousTimestampS)return this.previousQ.copy(J),this.previousTimestampS=Me,J;var Ke=new ge;Ke.copy(Te),Ke.normalize();var rt=Te.length();if(rt<20*Ie)return this.isDebug&&console.log("Moving slowly, at %s deg/s: no prediction",(le*rt).toFixed(1)),this.outQ.copy(J),this.previousQ.copy(J),this.outQ;var yt=rt*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(Ke,yt),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(J),this.previousTimestampS=Me,this.outQ},Ct.prototype.getPosition=function(){return null},Ct.prototype.getOrientation=function(){var J=void 0;if(this.isWithoutDeviceMotion&&this._deviceOrientationQ){this.deviceOrientationFixQ=this.deviceOrientationFixQ||function(){var rt=new ze().setFromAxisAngle(new ge(0,0,-1),0),yt=new ze;return window.orientation===-90?yt.setFromAxisAngle(new ge(0,1,0),Math.PI/-2):yt.setFromAxisAngle(new ge(0,1,0),Math.PI/2),rt.multiply(yt)}(),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||function(){var rt=new ze;return rt.setFromAxisAngle(new ge(1,0,0),-Math.PI/2),rt}(),J=this._deviceOrientationQ;var Me=new ze;return Me.copy(J),Me.multiply(this.deviceOrientationFilterToWorldQ),Me.multiply(this.resetQ),Me.multiply(this.worldToScreenQ),Me.multiplyQuaternions(this.deviceOrientationFixQ,Me),this.yawOnly&&(Me.x=0,Me.z=0,Me.normalize()),this.orientationOut_[0]=Me.x,this.orientationOut_[1]=Me.y,this.orientationOut_[2]=Me.z,this.orientationOut_[3]=Me.w,this.orientationOut_}var Te=this.filter.getOrientation();J=this.posePredictor.getPrediction(Te,this.gyroscope,this.previousTimestampS);var Me=new ze;return Me.copy(this.filterToWorldQ),Me.multiply(this.resetQ),Me.multiply(J),Me.multiply(this.worldToScreenQ),this.yawOnly&&(Me.x=0,Me.z=0,Me.normalize()),this.orientationOut_[0]=Me.x,this.orientationOut_[1]=Me.y,this.orientationOut_[2]=Me.z,this.orientationOut_[3]=Me.w,this.orientationOut_},Ct.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),z()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},Ct.prototype.onDeviceOrientation_=function(J){this._deviceOrientationQ=this._deviceOrientationQ||new ze;var Te=J.alpha,Me=J.beta,Ke=J.gamma;Te=(Te||0)*Math.PI/180,Me=(Me||0)*Math.PI/180,Ke=(Ke||0)*Math.PI/180,this._deviceOrientationQ.setFromEulerYXZ(Me,Te,-Ke)},Ct.prototype.onDeviceMotion_=function(J){this.updateDeviceMotion_(J)},Ct.prototype.updateDeviceMotion_=function(J){var Te=J.accelerationIncludingGravity,Me=J.rotationRate,Ke=J.timeStamp/1e3,rt=Ke-this.previousTimestampS;return rt<0?(ve("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),void(this.previousTimestampS=Ke)):rt<=.001||rt>1?(ve("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),void(this.previousTimestampS=Ke)):(this.accelerometer.set(-Te.x,-Te.y,-Te.z),G()?this.gyroscope.set(-Me.beta,Me.alpha,Me.gamma):this.gyroscope.set(Me.alpha,Me.beta,Me.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addAccelMeasurement(this.accelerometer,Ke),this.filter.addGyroMeasurement(this.gyroscope,Ke),void(this.previousTimestampS=Ke))},Ct.prototype.onOrientationChange_=function(J){this.setScreenTransform_()},Ct.prototype.onMessage_=function(J){var Te=J.data;if(Te&&Te.type){var Me=Te.type.toLowerCase();Me==="devicemotion"&&this.updateDeviceMotion_(Te.deviceMotionEvent)}},Ct.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new ge(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new ge(0,0,1),Math.PI/2)}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},Ct.prototype.start=function(){this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),this.onDeviceOrientationCallback_=this.onDeviceOrientation_.bind(this),d()&&function(){var J=window.self!==window.top,Te=j(document.referrer),Me=j(window.location.href);return J&&Te!==Me}()&&window.addEventListener("message",this.onMessageCallback_),window.addEventListener("orientationchange",this.onOrientationChangeCallback_),this.isWithoutDeviceMotion?window.addEventListener("deviceorientation",this.onDeviceOrientationCallback_):window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},Ct.prototype.stop=function(){window.removeEventListener("devicemotion",this.onDeviceMotionCallback_),window.removeEventListener("deviceorientation",this.onDeviceOrientationCallback_),window.removeEventListener("orientationchange",this.onOrientationChangeCallback_),window.removeEventListener("message",this.onMessageCallback_)};var Kt=new ge(1,0,0),nn=new ge(0,0,1),oe=new ze;oe.setFromAxisAngle(Kt,-Math.PI/2),oe.multiply(new ze().setFromAxisAngle(nn,Math.PI/2));var St=function(){function J(Te){M(this,J),this.config=Te,this.sensor=null,this.fusionSensor=null,this._out=new Float32Array(4),this.api=null,this.errors=[],this._sensorQ=new ze,this._outQ=new ze,this._onSensorRead=this._onSensorRead.bind(this),this._onSensorError=this._onSensorError.bind(this),this.init()}return S(J,[{key:"init",value:function(){var Te=null;try{(Te=new RelativeOrientationSensor({frequency:60,referenceFrame:"screen"})).addEventListener("error",this._onSensorError)}catch(Me){this.errors.push(Me),Me.name==="SecurityError"?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):Me.name==="ReferenceError"?this.useDeviceMotion():console.error(Me)}Te&&(this.api="sensor",this.sensor=Te,this.sensor.addEventListener("reading",this._onSensorRead),this.sensor.start())}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new Ct(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG),this.sensor&&(this.sensor.removeEventListener("reading",this._onSensorRead),this.sensor.removeEventListener("error",this._onSensorError),this.sensor=null)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this._out[0]=this._out[1]=this._out[2]=0,this._out[3]=1,this._out;var Te=this.sensor.quaternion;this._sensorQ.set(Te[0],Te[1],Te[2],Te[3]);var Me=this._outQ;return Me.copy(oe),Me.multiply(this._sensorQ),this.config.YAW_ONLY&&(Me.x=Me.z=0,Me.normalize()),this._out[0]=Me.x,this._out[1]=Me.y,this._out[2]=Me.z,this._out[3]=Me.w,this._out}},{key:"_onSensorError",value:function(Te){this.errors.push(Te.error),Te.error.name==="NotAllowedError"?console.error("Permission to access sensor was denied"):Te.error.name==="NotReadableError"?console.error("Sensor could not be read"):console.error(Te.error),this.useDeviceMotion()}},{key:"_onSensorRead",value:function(){}}]),J}();function Ce(){this.loadIcon_();var J=document.createElement("div"),Ot=J.style;Ot.position="fixed",Ot.top=0,Ot.right=0,Ot.bottom=0,Ot.left=0,Ot.backgroundColor="gray",Ot.fontFamily="sans-serif",Ot.zIndex=1e6;var Te=document.createElement("img");Te.src=this.icon;var Ot=Te.style;Ot.marginLeft="25%",Ot.marginTop="25%",Ot.width="50%",J.appendChild(Te);var Me=document.createElement("div"),Ot=Me.style;Ot.textAlign="center",Ot.fontSize="16px",Ot.lineHeight="24px",Ot.margin="24px 25%",Ot.width="50%",Me.innerHTML="Place your phone into your Cardboard viewer.",J.appendChild(Me);var Ke=document.createElement("div"),Ot=Ke.style;Ot.backgroundColor="#CFD8DC",Ot.position="fixed",Ot.bottom=0,Ot.width="100%",Ot.height="48px",Ot.padding="14px 24px",Ot.boxSizing="border-box",Ot.color="#656A6B",J.appendChild(Ke);var rt=document.createElement("div");rt.style.float="left",rt.innerHTML="No Cardboard viewer?";var yt=document.createElement("a");yt.href="https://www.google.com/get/cardboard/get-cardboard/",yt.innerHTML="get one",yt.target="_blank";var Ot=yt.style;Ot.float="right",Ot.fontWeight=600,Ot.textTransform="uppercase",Ot.borderLeft="1px solid gray",Ot.paddingLeft="24px",Ot.textDecoration="none",Ot.color="#656A6B",Ke.appendChild(rt),Ke.appendChild(yt),this.overlay=J,this.text=Me,this.hide()}Ce.prototype.show=function(J){J||this.overlay.parentElement?J&&(this.overlay.parentElement&&this.overlay.parentElement!=J&&this.overlay.parentElement.removeChild(this.overlay),J.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display="block";var Te=this.overlay.querySelector("img"),Me=Te.style;z()?(Me.width="20%",Me.marginLeft="40%",Me.marginTop="3%"):(Me.width="50%",Me.marginLeft="25%",Me.marginTop="25%")},Ce.prototype.hide=function(){this.overlay.style.display="none"},Ce.prototype.showTemporarily=function(J,Te){this.show(Te),this.timer=setTimeout(this.hide.bind(this),J)},Ce.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},Ce.prototype.update=function(){this.disableShowTemporarily(),!z()&&Ae()?this.show():this.hide()},Ce.prototype.loadIcon_=function(){this.icon=function(J,Te){return"data:"+J+","+encodeURIComponent(Te)}("image/svg+xml","<svg width='198' height='240' viewBox='0 0 198 240' xmlns='http://www.w3.org/2000/svg'><g fill='none' fill-rule='evenodd'><path d='M149.625 109.527l6.737 3.891v.886c0 .177.013.36.038.549.01.081.02.162.027.242.14 1.415.974 2.998 2.105 3.999l5.72 5.062.081-.09s4.382-2.53 5.235-3.024l25.97 14.993v54.001c0 .771-.386 1.217-.948 1.217-.233 0-.495-.076-.772-.236l-23.967-13.838-.014.024-27.322 15.775-.85-1.323c-4.731-1.529-9.748-2.74-14.951-3.61a.27.27 0 0 0-.007.024l-5.067 16.961-7.891 4.556-.037-.063v27.59c0 .772-.386 1.217-.948 1.217-.232 0-.495-.076-.772-.236l-42.473-24.522c-.95-.549-1.72-1.877-1.72-2.967v-1.035l-.021.047a5.111 5.111 0 0 0-1.816-.399 5.682 5.682 0 0 0-.546.001 13.724 13.724 0 0 1-1.918-.041c-1.655-.153-3.2-.6-4.404-1.296l-46.576-26.89.005.012-10.278-18.75c-1.001-1.827-.241-4.216 1.698-5.336l56.011-32.345a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.659 3.227 1.853l.005-.003.227.413-.006.004a9.63 9.63 0 0 0 1.477 2.018l.277.27c1.914 1.85 4.468 2.801 7.113 2.801 1.949 0 3.948-.517 5.775-1.572.013 0 7.319-4.219 7.319-4.219a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.658 3.226 1.853l3.25 5.928.022-.018 6.785 3.917-.105-.182 46.881-26.965m0-1.635c-.282 0-.563.073-.815.218l-46.169 26.556-5.41-3.124-3.005-5.481c-.913-1.667-2.699-2.702-4.66-2.703-1.011 0-2.02.274-2.917.792a3825 3825 0 0 1-7.275 4.195l-.044.024a9.937 9.937 0 0 1-4.957 1.353c-2.292 0-4.414-.832-5.976-2.342l-.252-.245a7.992 7.992 0 0 1-1.139-1.534 1.379 1.379 0 0 0-.06-.122l-.227-.414a1.718 1.718 0 0 0-.095-.154c-.938-1.574-2.673-2.545-4.571-2.545-1.011 0-2.02.274-2.917.792L3.125 155.502c-2.699 1.559-3.738 4.94-2.314 7.538l10.278 18.75c.177.323.448.563.761.704l46.426 26.804c1.403.81 3.157 1.332 5.072 1.508a15.661 15.661 0 0 0 2.146.046 4.766 4.766 0 0 1 .396 0c.096.004.19.011.283.022.109 1.593 1.159 3.323 2.529 4.114l42.472 24.522c.524.302 1.058.455 1.59.455 1.497 0 2.583-1.2 2.583-2.852v-26.562l7.111-4.105a1.64 1.64 0 0 0 .749-.948l4.658-15.593c4.414.797 8.692 1.848 12.742 3.128l.533.829a1.634 1.634 0 0 0 2.193.531l26.532-15.317L193 192.433c.523.302 1.058.455 1.59.455 1.497 0 2.583-1.199 2.583-2.852v-54.001c0-.584-.312-1.124-.818-1.416l-25.97-14.993a1.633 1.633 0 0 0-1.636.001c-.606.351-2.993 1.73-4.325 2.498l-4.809-4.255c-.819-.725-1.461-1.933-1.561-2.936a7.776 7.776 0 0 0-.033-.294 2.487 2.487 0 0 1-.023-.336v-.886c0-.584-.312-1.123-.817-1.416l-6.739-3.891a1.633 1.633 0 0 0-.817-.219' fill='#455A64'/><path d='M96.027 132.636l46.576 26.891c1.204.695 1.979 1.587 2.242 2.541l-.01.007-81.374 46.982h-.001c-1.654-.152-3.199-.6-4.403-1.295l-46.576-26.891 83.546-48.235' fill='#FAFAFA'/><path d='M63.461 209.174c-.008 0-.015 0-.022-.002-1.693-.156-3.228-.609-4.441-1.309l-46.576-26.89a.118.118 0 0 1 0-.203l83.546-48.235a.117.117 0 0 1 .117 0l46.576 26.891c1.227.708 2.021 1.612 2.296 2.611a.116.116 0 0 1-.042.124l-.021.016-81.375 46.981a.11.11 0 0 1-.058.016zm-50.747-28.303l46.401 26.79c1.178.68 2.671 1.121 4.32 1.276l81.272-46.922c-.279-.907-1.025-1.73-2.163-2.387l-46.517-26.857-83.313 48.1z' fill='#607D8B'/><path d='M148.327 165.471a5.85 5.85 0 0 1-.546.001c-1.894-.083-3.302-1.038-3.145-2.132a2.693 2.693 0 0 0-.072-1.105l-81.103 46.822c.628.058 1.272.073 1.918.042.182-.009.364-.009.546-.001 1.894.083 3.302 1.038 3.145 2.132l79.257-45.759' fill='#FFF'/><path d='M69.07 211.347a.118.118 0 0 1-.115-.134c.045-.317-.057-.637-.297-.925-.505-.61-1.555-1.022-2.738-1.074a5.966 5.966 0 0 0-.535.001 14.03 14.03 0 0 1-1.935-.041.117.117 0 0 1-.103-.092.116.116 0 0 1 .055-.126l81.104-46.822a.117.117 0 0 1 .171.07c.104.381.129.768.074 1.153-.045.316.057.637.296.925.506.61 1.555 1.021 2.739 1.073.178.008.357.008.535-.001a.117.117 0 0 1 .064.218l-79.256 45.759a.114.114 0 0 1-.059.016zm-3.405-2.372c.089 0 .177.002.265.006 1.266.056 2.353.488 2.908 1.158.227.274.35.575.36.882l78.685-45.429c-.036 0-.072-.001-.107-.003-1.267-.056-2.354-.489-2.909-1.158-.282-.34-.402-.724-.347-1.107a2.604 2.604 0 0 0-.032-.91L63.846 208.97a13.91 13.91 0 0 0 1.528.012c.097-.005.194-.007.291-.007z' fill='#607D8B'/><path d='M2.208 162.134c-1.001-1.827-.241-4.217 1.698-5.337l56.011-32.344c1.939-1.12 4.324-.546 5.326 1.281l.232.41a9.344 9.344 0 0 0 1.47 2.021l.278.27c3.325 3.214 8.583 3.716 12.888 1.23l7.319-4.22c1.94-1.119 4.324-.546 5.325 1.282l3.25 5.928-83.519 48.229-10.278-18.75z' fill='#FAFAFA'/><path d='M12.486 181.001a.112.112 0 0 1-.031-.005.114.114 0 0 1-.071-.056L2.106 162.19c-1.031-1.88-.249-4.345 1.742-5.494l56.01-32.344a4.328 4.328 0 0 1 2.158-.588c1.415 0 2.65.702 3.311 1.882.01.008.018.017.024.028l.227.414a.122.122 0 0 1 .013.038 9.508 9.508 0 0 0 1.439 1.959l.275.266c1.846 1.786 4.344 2.769 7.031 2.769 1.977 0 3.954-.538 5.717-1.557a.148.148 0 0 1 .035-.013l7.284-4.206a4.321 4.321 0 0 1 2.157-.588c1.427 0 2.672.716 3.329 1.914l3.249 5.929a.116.116 0 0 1-.044.157l-83.518 48.229a.116.116 0 0 1-.059.016zm49.53-57.004c-.704 0-1.41.193-2.041.557l-56.01 32.345c-1.882 1.086-2.624 3.409-1.655 5.179l10.221 18.645 83.317-48.112-3.195-5.829c-.615-1.122-1.783-1.792-3.124-1.792a4.08 4.08 0 0 0-2.04.557l-7.317 4.225a.148.148 0 0 1-.035.013 11.7 11.7 0 0 1-5.801 1.569c-2.748 0-5.303-1.007-7.194-2.835l-.278-.27a9.716 9.716 0 0 1-1.497-2.046.096.096 0 0 1-.013-.037l-.191-.347a.11.11 0 0 1-.023-.029c-.615-1.123-1.783-1.793-3.124-1.793z' fill='#607D8B'/><path d='M42.434 155.808c-2.51-.001-4.697-1.258-5.852-3.365-1.811-3.304-.438-7.634 3.059-9.654l12.291-7.098a7.599 7.599 0 0 1 3.789-1.033c2.51 0 4.697 1.258 5.852 3.365 1.811 3.304.439 7.634-3.059 9.654l-12.291 7.098a7.606 7.606 0 0 1-3.789 1.033zm13.287-20.683a7.128 7.128 0 0 0-3.555.971l-12.291 7.098c-3.279 1.893-4.573 5.942-2.883 9.024 1.071 1.955 3.106 3.122 5.442 3.122a7.13 7.13 0 0 0 3.556-.97l12.291-7.098c3.279-1.893 4.572-5.942 2.883-9.024-1.072-1.955-3.106-3.123-5.443-3.123z' fill='#607D8B'/><path d='M149.588 109.407l6.737 3.89v.887c0 .176.013.36.037.549.011.081.02.161.028.242.14 1.415.973 2.998 2.105 3.999l7.396 6.545c.177.156.358.295.541.415 1.579 1.04 2.95.466 3.062-1.282.049-.784.057-1.595.023-2.429l-.003-.16v-1.151l25.987 15.003v54c0 1.09-.77 1.53-1.72.982l-42.473-24.523c-.95-.548-1.72-1.877-1.72-2.966v-34.033' fill='#FAFAFA'/><path d='M194.553 191.25c-.257 0-.54-.085-.831-.253l-42.472-24.521c-.981-.567-1.779-1.943-1.779-3.068v-34.033h.234v34.033c0 1.051.745 2.336 1.661 2.866l42.473 24.521c.424.245.816.288 1.103.122.285-.164.442-.52.442-1.002v-53.933l-25.753-14.868.003 1.106c.034.832.026 1.654-.024 2.439-.054.844-.396 1.464-.963 1.746-.619.309-1.45.173-2.28-.373a5.023 5.023 0 0 1-.553-.426l-7.397-6.544c-1.158-1.026-1.999-2.625-2.143-4.076a9.624 9.624 0 0 0-.027-.238 4.241 4.241 0 0 1-.038-.564v-.82l-6.68-3.856.117-.202 6.738 3.89.058.034v.954c0 .171.012.351.036.533.011.083.021.165.029.246.138 1.395.948 2.935 2.065 3.923l7.397 6.545c.173.153.35.289.527.406.758.499 1.504.63 2.047.359.49-.243.786-.795.834-1.551.05-.778.057-1.591.024-2.417l-.004-.163v-1.355l.175.1 25.987 15.004.059.033v54.068c0 .569-.198.996-.559 1.204a1.002 1.002 0 0 1-.506.131' fill='#607D8B'/><path d='M145.685 163.161l24.115 13.922-25.978 14.998-1.462-.307c-6.534-2.17-13.628-3.728-21.019-4.616-4.365-.524-8.663 1.096-9.598 3.62a2.746 2.746 0 0 0-.011 1.928c1.538 4.267 4.236 8.363 7.995 12.135l.532.845-25.977 14.997-24.115-13.922 75.518-43.6' fill='#FFF'/><path d='M94.282 220.818l-.059-.033-24.29-14.024.175-.101 75.577-43.634.058.033 24.29 14.024-26.191 15.122-.045-.01-1.461-.307c-6.549-2.174-13.613-3.725-21.009-4.614a13.744 13.744 0 0 0-1.638-.097c-3.758 0-7.054 1.531-7.837 3.642a2.62 2.62 0 0 0-.01 1.848c1.535 4.258 4.216 8.326 7.968 12.091l.016.021.526.835.006.01.064.102-.105.061-25.977 14.998-.058.033zm-23.881-14.057l23.881 13.788 24.802-14.32c.546-.315.846-.489 1.017-.575l-.466-.74c-3.771-3.787-6.467-7.881-8.013-12.168a2.851 2.851 0 0 1 .011-2.008c.815-2.199 4.203-3.795 8.056-3.795.557 0 1.117.033 1.666.099 7.412.891 14.491 2.445 21.041 4.621.836.175 1.215.254 1.39.304l25.78-14.884-23.881-13.788-75.284 43.466z' fill='#607D8B'/><path d='M167.23 125.979v50.871l-27.321 15.773-6.461-14.167c-.91-1.996-3.428-1.738-5.624.574a10.238 10.238 0 0 0-2.33 4.018l-6.46 21.628-27.322 15.774v-50.871l75.518-43.6' fill='#FFF'/><path d='M91.712 220.567a.127.127 0 0 1-.059-.016.118.118 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.519-43.6a.117.117 0 0 1 .175.101v50.871c0 .041-.023.08-.059.1l-27.321 15.775a.118.118 0 0 1-.094.01.12.12 0 0 1-.071-.063l-6.46-14.168c-.375-.822-1.062-1.275-1.934-1.275-1.089 0-2.364.686-3.5 1.881a10.206 10.206 0 0 0-2.302 3.972l-6.46 21.627a.118.118 0 0 1-.054.068L91.77 220.551a.12.12 0 0 1-.058.016zm.117-50.92v50.601l27.106-15.65 6.447-21.583a10.286 10.286 0 0 1 2.357-4.065c1.18-1.242 2.517-1.954 3.669-1.954.969 0 1.731.501 2.146 1.411l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M168.543 126.213v50.87l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.624.574a10.248 10.248 0 0 0-2.33 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6' fill='#FFF'/><path d='M93.025 220.8a.123.123 0 0 1-.059-.015.12.12 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.518-43.6a.112.112 0 0 1 .117 0c.036.02.059.059.059.1v50.871a.116.116 0 0 1-.059.101l-27.321 15.774a.111.111 0 0 1-.094.01.115.115 0 0 1-.071-.062l-6.46-14.168c-.375-.823-1.062-1.275-1.935-1.275-1.088 0-2.363.685-3.499 1.881a10.19 10.19 0 0 0-2.302 3.971l-6.461 21.628a.108.108 0 0 1-.053.067l-27.322 15.775a.12.12 0 0 1-.058.015zm.117-50.919v50.6l27.106-15.649 6.447-21.584a10.293 10.293 0 0 1 2.357-4.065c1.179-1.241 2.516-1.954 3.668-1.954.969 0 1.732.502 2.147 1.412l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M169.8 177.083l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.625.574a10.246 10.246 0 0 0-2.329 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6v50.87z' fill='#FAFAFA'/><path d='M94.282 220.917a.234.234 0 0 1-.234-.233v-50.871c0-.083.045-.161.117-.202l75.518-43.601a.234.234 0 1 1 .35.202v50.871a.233.233 0 0 1-.116.202l-27.322 15.775a.232.232 0 0 1-.329-.106l-6.461-14.168c-.36-.789-.992-1.206-1.828-1.206-1.056 0-2.301.672-3.415 1.844a10.099 10.099 0 0 0-2.275 3.924l-6.46 21.628a.235.235 0 0 1-.107.136l-27.322 15.774a.23.23 0 0 1-.116.031zm.233-50.969v50.331l26.891-15.525 6.434-21.539a10.41 10.41 0 0 1 2.384-4.112c1.201-1.265 2.569-1.991 3.753-1.991 1.018 0 1.818.526 2.253 1.48l6.354 13.934 26.982-15.578v-50.331l-75.051 43.331z' fill='#607D8B'/><path d='M109.894 199.943c-1.774 0-3.241-.725-4.244-2.12a.224.224 0 0 1 .023-.294.233.233 0 0 1 .301-.023c.78.547 1.705.827 2.75.827 1.323 0 2.754-.439 4.256-1.306 5.311-3.067 9.631-10.518 9.631-16.611 0-1.927-.442-3.56-1.278-4.724a.232.232 0 0 1 .323-.327c1.671 1.172 2.591 3.381 2.591 6.219 0 6.242-4.426 13.863-9.865 17.003-1.574.908-3.084 1.356-4.488 1.356zm-2.969-1.542c.813.651 1.82.877 2.968.877h.001c1.321 0 2.753-.327 4.254-1.194 5.311-3.067 9.632-10.463 9.632-16.556 0-1.979-.463-3.599-1.326-4.761.411 1.035.625 2.275.625 3.635 0 6.243-4.426 13.883-9.865 17.023-1.574.909-3.084 1.317-4.49 1.317-.641 0-1.243-.149-1.799-.341z' fill='#607D8B'/><path d='M113.097 197.23c5.384-3.108 9.748-10.636 9.748-16.814 0-2.051-.483-3.692-1.323-4.86-1.784-1.252-4.374-1.194-7.257.47-5.384 3.108-9.748 10.636-9.748 16.814 0 2.051.483 3.692 1.323 4.86 1.784 1.252 4.374 1.194 7.257-.47' fill='#FAFAFA'/><path d='M108.724 198.614c-1.142 0-2.158-.213-3.019-.817-.021-.014-.04.014-.055-.007-.894-1.244-1.367-2.948-1.367-4.973 0-6.242 4.426-13.864 9.865-17.005 1.574-.908 3.084-1.363 4.49-1.363 1.142 0 2.158.309 3.018.913a.23.23 0 0 1 .056.056c.894 1.244 1.367 2.972 1.367 4.997 0 6.243-4.426 13.783-9.865 16.923-1.574.909-3.084 1.276-4.49 1.276zm-2.718-1.109c.774.532 1.688.776 2.718.776 1.323 0 2.754-.413 4.256-1.28 5.311-3.066 9.631-10.505 9.631-16.598 0-1.909-.434-3.523-1.255-4.685-.774-.533-1.688-.799-2.718-.799-1.323 0-2.755.441-4.256 1.308-5.311 3.066-9.631 10.506-9.631 16.599 0 1.909.434 3.517 1.255 4.679z' fill='#607D8B'/><path d='M149.318 114.262l-9.984 8.878 15.893 11.031 5.589-6.112-11.498-13.797' fill='#FAFAFA'/><path d='M169.676 120.84l-9.748 5.627c-3.642 2.103-9.528 2.113-13.147.024-3.62-2.089-3.601-5.488.041-7.591l9.495-5.608-6.729-3.885-81.836 47.071 45.923 26.514 3.081-1.779c.631-.365.869-.898.618-1.39-2.357-4.632-2.593-9.546-.683-14.262 5.638-13.92 24.509-24.815 48.618-28.07 8.169-1.103 16.68-.967 24.704.394.852.145 1.776.008 2.407-.357l3.081-1.778-25.825-14.91' fill='#FAFAFA'/><path d='M113.675 183.459a.47.47 0 0 1-.233-.062l-45.924-26.515a.468.468 0 0 1 .001-.809l81.836-47.071a.467.467 0 0 1 .466 0l6.729 3.885a.467.467 0 0 1-.467.809l-6.496-3.75-80.9 46.533 44.988 25.973 2.848-1.644c.192-.111.62-.409.435-.773-2.416-4.748-2.658-9.814-.7-14.65 2.806-6.927 8.885-13.242 17.582-18.263 8.657-4.998 19.518-8.489 31.407-10.094 8.198-1.107 16.79-.97 24.844.397.739.125 1.561.007 2.095-.301l2.381-1.374-25.125-14.506a.467.467 0 0 1 .467-.809l25.825 14.91a.467.467 0 0 1 0 .809l-3.081 1.779c-.721.417-1.763.575-2.718.413-7.963-1.351-16.457-1.486-24.563-.392-11.77 1.589-22.512 5.039-31.065 9.977-8.514 4.916-14.456 11.073-17.183 17.805-1.854 4.578-1.623 9.376.666 13.875.37.725.055 1.513-.8 2.006l-3.081 1.78a.476.476 0 0 1-.234.062' fill='#455A64'/><path d='M153.316 128.279c-2.413 0-4.821-.528-6.652-1.586-1.818-1.049-2.82-2.461-2.82-3.975 0-1.527 1.016-2.955 2.861-4.02l9.493-5.607a.233.233 0 1 1 .238.402l-9.496 5.609c-1.696.979-2.628 2.263-2.628 3.616 0 1.34.918 2.608 2.585 3.571 3.549 2.049 9.343 2.038 12.914-.024l9.748-5.628a.234.234 0 0 1 .234.405l-9.748 5.628c-1.858 1.072-4.296 1.609-6.729 1.609' fill='#607D8B'/><path d='M113.675 182.992l-45.913-26.508M113.675 183.342a.346.346 0 0 1-.175-.047l-45.913-26.508a.35.35 0 1 1 .35-.607l45.913 26.508a.35.35 0 0 1-.175.654' fill='#455A64'/><path d='M67.762 156.484v54.001c0 1.09.77 2.418 1.72 2.967l42.473 24.521c.95.549 1.72.11 1.72-.98v-54.001' fill='#FAFAFA'/><path d='M112.727 238.561c-.297 0-.62-.095-.947-.285l-42.473-24.521c-1.063-.613-1.895-2.05-1.895-3.27v-54.001a.35.35 0 1 1 .701 0v54.001c0 .96.707 2.18 1.544 2.663l42.473 24.522c.344.198.661.243.87.122.206-.119.325-.411.325-.799v-54.001a.35.35 0 1 1 .7 0v54.001c0 .655-.239 1.154-.675 1.406a1.235 1.235 0 0 1-.623.162' fill='#455A64'/><path d='M112.86 147.512h-.001c-2.318 0-4.499-.522-6.142-1.471-1.705-.984-2.643-2.315-2.643-3.749 0-1.445.952-2.791 2.68-3.788l12.041-6.953c1.668-.962 3.874-1.493 6.212-1.493 2.318 0 4.499.523 6.143 1.472 1.704.984 2.643 2.315 2.643 3.748 0 1.446-.952 2.791-2.68 3.789l-12.042 6.952c-1.668.963-3.874 1.493-6.211 1.493zm12.147-16.753c-2.217 0-4.298.497-5.861 1.399l-12.042 6.952c-1.502.868-2.33 1.998-2.33 3.182 0 1.173.815 2.289 2.293 3.142 1.538.889 3.596 1.378 5.792 1.378h.001c2.216 0 4.298-.497 5.861-1.399l12.041-6.953c1.502-.867 2.33-1.997 2.33-3.182 0-1.172-.814-2.288-2.292-3.142-1.539-.888-3.596-1.377-5.793-1.377z' fill='#607D8B'/><path d='M165.63 123.219l-5.734 3.311c-3.167 1.828-8.286 1.837-11.433.02-3.147-1.817-3.131-4.772.036-6.601l5.734-3.31 11.397 6.58' fill='#FAFAFA'/><path d='M154.233 117.448l9.995 5.771-4.682 2.704c-1.434.827-3.352 1.283-5.399 1.283-2.029 0-3.923-.449-5.333-1.263-1.29-.744-2-1.694-2-2.674 0-.991.723-1.955 2.036-2.713l5.383-3.108m0-.809l-5.734 3.31c-3.167 1.829-3.183 4.784-.036 6.601 1.568.905 3.623 1.357 5.684 1.357 2.077 0 4.159-.46 5.749-1.377l5.734-3.311-11.397-6.58M145.445 179.667c-1.773 0-3.241-.85-4.243-2.245-.067-.092-.057-.275.023-.356.08-.081.207-.12.3-.055.781.548 1.706.812 2.751.811 1.322 0 2.754-.446 4.256-1.313 5.31-3.066 9.631-10.522 9.631-16.615 0-1.927-.442-3.562-1.279-4.726a.235.235 0 0 1 .024-.301.232.232 0 0 1 .3-.027c1.67 1.172 2.59 3.38 2.59 6.219 0 6.242-4.425 13.987-9.865 17.127-1.573.908-3.083 1.481-4.488 1.481zM142.476 178c.814.651 1.82 1.002 2.969 1.002 1.322 0 2.753-.452 4.255-1.32 5.31-3.065 9.631-10.523 9.631-16.617 0-1.98-.463-3.63-1.325-4.793.411 1.035.624 2.26.624 3.62 0 6.242-4.425 13.875-9.865 17.015-1.573.909-3.084 1.376-4.489 1.376a5.49 5.49 0 0 1-1.8-.283z' fill='#607D8B'/><path d='M148.648 176.704c5.384-3.108 9.748-10.636 9.748-16.813 0-2.052-.483-3.693-1.322-4.861-1.785-1.252-4.375-1.194-7.258.471-5.383 3.108-9.748 10.636-9.748 16.813 0 2.051.484 3.692 1.323 4.86 1.785 1.253 4.374 1.195 7.257-.47' fill='#FAFAFA'/><path d='M144.276 178.276c-1.143 0-2.158-.307-3.019-.911a.217.217 0 0 1-.055-.054c-.895-1.244-1.367-2.972-1.367-4.997 0-6.241 4.425-13.875 9.865-17.016 1.573-.908 3.084-1.369 4.489-1.369 1.143 0 2.158.307 3.019.91a.24.24 0 0 1 .055.055c.894 1.244 1.367 2.971 1.367 4.997 0 6.241-4.425 13.875-9.865 17.016-1.573.908-3.084 1.369-4.489 1.369zm-2.718-1.172c.773.533 1.687.901 2.718.901 1.322 0 2.754-.538 4.256-1.405 5.31-3.066 9.631-10.567 9.631-16.661 0-1.908-.434-3.554-1.256-4.716-.774-.532-1.688-.814-2.718-.814-1.322 0-2.754.433-4.256 1.3-5.31 3.066-9.631 10.564-9.631 16.657 0 1.91.434 3.576 1.256 4.738z' fill='#607D8B'/><path d='M150.72 172.361l-.363-.295a24.105 24.105 0 0 0 2.148-3.128 24.05 24.05 0 0 0 1.977-4.375l.443.149a24.54 24.54 0 0 1-2.015 4.46 24.61 24.61 0 0 1-2.19 3.189M115.917 191.514l-.363-.294a24.174 24.174 0 0 0 2.148-3.128 24.038 24.038 0 0 0 1.976-4.375l.443.148a24.48 24.48 0 0 1-2.015 4.461 24.662 24.662 0 0 1-2.189 3.188M114 237.476V182.584 237.476' fill='#607D8B'/><g><path d='M81.822 37.474c.017-.135-.075-.28-.267-.392-.327-.188-.826-.21-1.109-.045l-6.012 3.471c-.131.076-.194.178-.191.285.002.132.002.461.002.578v.043l-.007.128-6.591 3.779c-.001 0-2.077 1.046-2.787 5.192 0 0-.912 6.961-.898 19.745.015 12.57.606 17.07 1.167 21.351.22 1.684 3.001 2.125 3.001 2.125.331.04.698-.027 1.08-.248l75.273-43.551c1.808-1.069 2.667-3.719 3.056-6.284 1.213-7.99 1.675-32.978-.275-39.878-.196-.693-.51-1.083-.868-1.282l-2.086-.79c-.727.028-1.416.467-1.534.535L82.032 37.072l-.21.402' fill='#FFF'/><path d='M144.311 1.701l2.085.79c.358.199.672.589.868 1.282 1.949 6.9 1.487 31.887.275 39.878-.39 2.565-1.249 5.215-3.056 6.284L69.21 93.486a1.78 1.78 0 0 1-.896.258l-.183-.011c0 .001-2.782-.44-3.003-2.124-.56-4.282-1.151-8.781-1.165-21.351-.015-12.784.897-19.745.897-19.745.71-4.146 2.787-5.192 2.787-5.192l6.591-3.779.007-.128v-.043c0-.117 0-.446-.002-.578-.003-.107.059-.21.191-.285l6.012-3.472a.98.98 0 0 1 .481-.11c.218 0 .449.053.627.156.193.112.285.258.268.392l.211-.402 60.744-34.836c.117-.068.806-.507 1.534-.535m0-.997l-.039.001c-.618.023-1.283.244-1.974.656l-.021.012-60.519 34.706a2.358 2.358 0 0 0-.831-.15c-.365 0-.704.084-.98.244l-6.012 3.471c-.442.255-.699.69-.689 1.166l.001.15-6.08 3.487c-.373.199-2.542 1.531-3.29 5.898l-.006.039c-.009.07-.92 7.173-.906 19.875.014 12.62.603 17.116 1.172 21.465l.002.015c.308 2.355 3.475 2.923 3.836 2.98l.034.004c.101.013.204.019.305.019a2.77 2.77 0 0 0 1.396-.392l75.273-43.552c1.811-1.071 2.999-3.423 3.542-6.997 1.186-7.814 1.734-33.096-.301-40.299-.253-.893-.704-1.527-1.343-1.882l-.132-.062-2.085-.789a.973.973 0 0 0-.353-.065' fill='#455A64'/><path d='M128.267 11.565l1.495.434-56.339 32.326' fill='#FFF'/><path d='M74.202 90.545a.5.5 0 0 1-.25-.931l18.437-10.645a.499.499 0 1 1 .499.864L74.451 90.478l-.249.067M75.764 42.654l-.108-.062.046-.171 5.135-2.964.17.045-.045.171-5.135 2.964-.063.017M70.52 90.375V46.421l.063-.036L137.84 7.554v43.954l-.062.036L70.52 90.375zm.25-43.811v43.38l66.821-38.579V7.985L70.77 46.564z' fill='#607D8B'/><path d='M86.986 83.182c-.23.149-.612.384-.849.523l-11.505 6.701c-.237.139-.206.252.068.252h.565c.275 0 .693-.113.93-.252L87.7 83.705c.237-.139.428-.253.425-.256a11.29 11.29 0 0 1-.006-.503c0-.274-.188-.377-.418-.227l-.715.463' fill='#607D8B'/><path d='M75.266 90.782H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.236-.138.615-.371.844-.519l.715-.464a.488.488 0 0 1 .266-.089c.172 0 .345.13.345.421 0 .214.001.363.003.437l.006.004-.004.069c-.003.075-.003.075-.486.356l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.108.866-.234l11.505-6.702c.168-.098.294-.173.361-.214-.004-.084-.004-.218-.004-.437l-.095-.171-.131.049-.714.463c-.232.15-.616.386-.854.525l-11.505 6.702-.029.018z' fill='#607D8B'/><path d='M75.266 89.871H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.258-.151.694-.268.993-.268h.565c.2 0 .316.056.346.166.03.11-.043.217-.215.317l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.107.866-.234l11.505-6.702.03-.018-.035-.001h-.565c-.252 0-.649.108-.867.234l-11.505 6.702-.029.018zM74.37 90.801v-1.247 1.247' fill='#607D8B'/><path d='M68.13 93.901c-.751-.093-1.314-.737-1.439-1.376-.831-4.238-1.151-8.782-1.165-21.352-.015-12.784.897-19.745.897-19.745.711-4.146 2.787-5.192 2.787-5.192l74.859-43.219c.223-.129 2.487-1.584 3.195.923 1.95 6.9 1.488 31.887.275 39.878-.389 2.565-1.248 5.215-3.056 6.283L69.21 93.653c-.382.221-.749.288-1.08.248 0 0-2.781-.441-3.001-2.125-.561-4.281-1.152-8.781-1.167-21.351-.014-12.784.898-19.745.898-19.745.71-4.146 2.787-5.191 2.787-5.191l6.598-3.81.871-.119 6.599-3.83.046-.461L68.13 93.901' fill='#FAFAFA'/><path d='M68.317 94.161l-.215-.013h-.001l-.244-.047c-.719-.156-2.772-.736-2.976-2.292-.568-4.34-1.154-8.813-1.168-21.384-.014-12.654.891-19.707.9-19.777.725-4.231 2.832-5.338 2.922-5.382l6.628-3.827.87-.119 6.446-3.742.034-.334a.248.248 0 0 1 .273-.223.248.248 0 0 1 .223.272l-.059.589-6.752 3.919-.87.118-6.556 3.785c-.031.016-1.99 1.068-2.666 5.018-.007.06-.908 7.086-.894 19.702.014 12.539.597 16.996 1.161 21.305.091.691.689 1.154 1.309 1.452a1.95 1.95 0 0 1-.236-.609c-.781-3.984-1.155-8.202-1.17-21.399-.014-12.653.891-19.707.9-19.777.725-4.231 2.832-5.337 2.922-5.382-.004.001 74.444-42.98 74.846-43.212l.028-.017c.904-.538 1.72-.688 2.36-.433.555.221.949.733 1.172 1.52 2.014 7.128 1.46 32.219.281 39.983-.507 3.341-1.575 5.515-3.175 6.462L69.335 93.869a2.023 2.023 0 0 1-1.018.292zm-.147-.507c.293.036.604-.037.915-.217l75.273-43.551c1.823-1.078 2.602-3.915 2.934-6.106 1.174-7.731 1.731-32.695-.268-39.772-.178-.631-.473-1.032-.876-1.192-.484-.193-1.166-.052-1.921.397l-.034.021-74.858 43.218c-.031.017-1.989 1.069-2.666 5.019-.007.059-.908 7.085-.894 19.702.015 13.155.386 17.351 1.161 21.303.09.461.476.983 1.037 1.139.114.025.185.037.196.039h.001z' fill='#455A64'/><path d='M69.317 68.982c.489-.281.885-.056.885.505 0 .56-.396 1.243-.885 1.525-.488.282-.884.057-.884-.504 0-.56.396-1.243.884-1.526' fill='#FFF'/><path d='M68.92 71.133c-.289 0-.487-.228-.487-.625 0-.56.396-1.243.884-1.526a.812.812 0 0 1 .397-.121c.289 0 .488.229.488.626 0 .56-.396 1.243-.885 1.525a.812.812 0 0 1-.397.121m.794-2.459a.976.976 0 0 0-.49.147c-.548.317-.978 1.058-.978 1.687 0 .486.271.812.674.812a.985.985 0 0 0 .491-.146c.548-.317.978-1.057.978-1.687 0-.486-.272-.813-.675-.813' fill='#8097A2'/><path d='M68.92 70.947c-.271 0-.299-.307-.299-.439 0-.491.361-1.116.79-1.363a.632.632 0 0 1 .303-.096c.272 0 .301.306.301.438 0 .491-.363 1.116-.791 1.364a.629.629 0 0 1-.304.096m.794-2.086a.812.812 0 0 0-.397.121c-.488.283-.884.966-.884 1.526 0 .397.198.625.487.625a.812.812 0 0 0 .397-.121c.489-.282.885-.965.885-1.525 0-.397-.199-.626-.488-.626' fill='#8097A2'/><path d='M69.444 85.35c.264-.152.477-.031.477.272 0 .303-.213.67-.477.822-.263.153-.477.031-.477-.271 0-.302.214-.671.477-.823' fill='#FFF'/><path d='M69.23 86.51c-.156 0-.263-.123-.263-.337 0-.302.214-.671.477-.823a.431.431 0 0 1 .214-.066c.156 0 .263.124.263.338 0 .303-.213.67-.477.822a.431.431 0 0 1-.214.066m.428-1.412c-.1 0-.203.029-.307.09-.32.185-.57.618-.57.985 0 .309.185.524.449.524a.63.63 0 0 0 .308-.09c.32-.185.57-.618.57-.985 0-.309-.185-.524-.45-.524' fill='#8097A2'/><path d='M69.23 86.322l-.076-.149c0-.235.179-.544.384-.661l.12-.041.076.151c0 .234-.179.542-.383.66l-.121.04m.428-1.038a.431.431 0 0 0-.214.066c-.263.152-.477.521-.477.823 0 .214.107.337.263.337a.431.431 0 0 0 .214-.066c.264-.152.477-.519.477-.822 0-.214-.107-.338-.263-.338' fill='#8097A2'/><path d='M139.278 7.769v43.667L72.208 90.16V46.493l67.07-38.724' fill='#455A64'/><path d='M72.083 90.375V46.421l.063-.036 67.257-38.831v43.954l-.062.036-67.258 38.831zm.25-43.811v43.38l66.821-38.579V7.985L72.333 46.564z' fill='#607D8B'/></g><path d='M125.737 88.647l-7.639 3.334V84l-11.459 4.713v8.269L99 100.315l13.369 3.646 13.368-15.314' fill='#455A64'/></g></svg>")};var He="CardboardV1",Nt="WEBVR_CARDBOARD_VIEWER";function Dt(J){try{this.selectedKey=localStorage.getItem(Nt)}catch(Te){console.error("Failed to load viewer profile: %s",Te)}this.selectedKey||(this.selectedKey=J||He),this.dialog=this.createDialog_(W.Viewers),this.root=null,this.onChangeCallbacks_=[]}Dt.prototype.show=function(J){this.root=J,J.appendChild(this.dialog);var Te=this.dialog.querySelector("#"+this.selectedKey);Te.checked=!0,this.dialog.style.display="block"},Dt.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},Dt.prototype.getCurrentViewer=function(){return W.Viewers[this.selectedKey]},Dt.prototype.getSelectedKey_=function(){var J=this.dialog.querySelector("input[name=field]:checked");return J?J.id:null},Dt.prototype.onChange=function(J){this.onChangeCallbacks_.push(J)},Dt.prototype.fireOnChange_=function(J){for(var Te=0;Te<this.onChangeCallbacks_.length;Te++)this.onChangeCallbacks_[Te](J)},Dt.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),this.selectedKey&&W.Viewers[this.selectedKey]){this.fireOnChange_(W.Viewers[this.selectedKey]);try{localStorage.setItem(Nt,this.selectedKey)}catch(J){console.error("Failed to save viewer profile: %s",J)}this.hide()}else console.error("ViewerSelector.onSave_: this should never happen!")},Dt.prototype.createDialog_=function(J){var Te=document.createElement("div");Te.classList.add("webvr-polyfill-viewer-selector"),Te.style.display="none";var Me=document.createElement("div"),rt=Me.style;rt.position="fixed",rt.left=0,rt.top=0,rt.width="100%",rt.height="100%",rt.background="rgba(0, 0, 0, 0.3)",Me.addEventListener("click",this.hide.bind(this));var Ke=document.createElement("div"),rt=Ke.style;for(var yt in rt.boxSizing="border-box",rt.position="fixed",rt.top="24px",rt.left="50%",rt.marginLeft="-140px",rt.width="280px",rt.padding="24px",rt.overflow="hidden",rt.background="#fafafa",rt.fontFamily="'Roboto', sans-serif",rt.boxShadow="0px 5px 20px #666",Ke.appendChild(this.createH1_("Select your viewer")),J)Ke.appendChild(this.createChoice_(yt,J[yt].label));return Ke.appendChild(this.createButton_("Save",this.onSave_.bind(this))),Te.appendChild(Me),Te.appendChild(Ke),Te},Dt.prototype.createH1_=function(J){var Te=document.createElement("h1"),Me=Te.style;return Me.color="black",Me.fontSize="20px",Me.fontWeight="bold",Me.marginTop=0,Me.marginBottom="24px",Te.innerHTML=J,Te},Dt.prototype.createChoice_=function(J,Te){var Me=document.createElement("div");Me.style.marginTop="8px",Me.style.color="black";var Ke=document.createElement("input");Ke.style.fontSize="30px",Ke.setAttribute("id",J),Ke.setAttribute("type","radio"),Ke.setAttribute("value",J),Ke.setAttribute("name","field");var rt=document.createElement("label");return rt.style.marginLeft="4px",rt.setAttribute("for",J),rt.innerHTML=Te,Me.appendChild(Ke),Me.appendChild(rt),Me},Dt.prototype.createButton_=function(J,Te){var Me=document.createElement("button");Me.innerHTML=J;var Ke=Me.style;return Ke.float="right",Ke.textTransform="uppercase",Ke.color="#1094f7",Ke.fontSize="14px",Ke.letterSpacing=0,Ke.border=0,Ke.background="none",Ke.marginTop="16px",Me.addEventListener("click",Te),Me};var On=function(J){return J&&J.__esModule&&Object.prototype.hasOwnProperty.call(J,"default")?J.default:J}(function(J,Te){return J(Te={exports:{}},Te.exports),Te.exports}(function(J,Te){(function(Me,Ke){J.exports=Ke()})(0,function(){return function(Me){var Ke={};function rt(yt){if(Ke[yt])return Ke[yt].exports;var Ot=Ke[yt]={i:yt,l:!1,exports:{}};return Me[yt].call(Ot.exports,Ot,Ot.exports,rt),Ot.l=!0,Ot.exports}return rt.m=Me,rt.c=Ke,rt.d=function(yt,Ot,cn){rt.o(yt,Ot)||Object.defineProperty(yt,Ot,{configurable:!1,enumerable:!0,get:cn})},rt.n=function(yt){var Ot=yt&&yt.__esModule?function(){return yt.default}:function(){return yt};return rt.d(Ot,"a",Ot),Ot},rt.o=function(yt,Ot){return Object.prototype.hasOwnProperty.call(yt,Ot)},rt.p="",rt(rt.s=0)}([function(Me,Ke,rt){var yt=function(){function Pn(kn,It){for(var rn=0;rn<It.length;rn++){var bt=It[rn];bt.enumerable=bt.enumerable||!1,bt.configurable=!0,"value"in bt&&(bt.writable=!0),Object.defineProperty(kn,bt.key,bt)}}return function(kn,It,rn){return It&&Pn(kn.prototype,It),rn&&Pn(kn,rn),kn}}(),Ot=rt(1),cn=typeof navigator!="undefined"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,gn=function(){function Pn(){(function(kn,It){if(!(kn instanceof It))throw new TypeError("Cannot call a class as a function")})(this,Pn),cn?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",Ot),this.noSleepVideo.addEventListener("timeupdate",function(kn){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())}.bind(this)))}return yt(Pn,[{key:"enable",value:function(){cn?(this.disable(),this.noSleepTimer=window.setInterval(function(){window.location.href="/",window.setTimeout(window.stop,0)},15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){cn?this.noSleepTimer&&(window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),Pn}();Me.exports=gn},function(Me,Ke,rt){Me.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])})})),Lt=1e3,An=[0,0,.5,1],dt=[.5,0,.5,1],zt=window.requestAnimationFrame,ur=window.cancelAnimationFrame;function Be(J){Object.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:J.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:J.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:J.canPresent},maxLayers:{writable:!1,enumerable:!0,value:J.maxLayers},hasOrientation:{enumerable:!0,get:function(){return Pe("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),J.hasOrientation}}})}function wn(J){var Te=!("wakelock"in(J=J||{}))||J.wakelock;this.isPolyfilled=!0,this.displayId=Lt++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,Object.defineProperty(this,"isConnected",{get:function(){return Pe("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new Be({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.originalParent_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,Te&&Ae()&&(this.wakelock_=new On)}wn.prototype.getFrameData=function(J){return K(J,this._getPose(),this)},wn.prototype.getPose=function(){return Pe("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this._getPose()},wn.prototype.resetPose=function(){return Pe("VRDisplay.prototype.resetPose"),this._resetPose()},wn.prototype.getImmediatePose=function(){return Pe("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this._getPose()},wn.prototype.requestAnimationFrame=function(J){return zt(J)},wn.prototype.cancelAnimationFrame=function(J){return ur(J)},wn.prototype.wrapForFullscreen=function(J){if(d())return J;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var Te=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",Te.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==J)return this.fullscreenWrapper_;if(this.fullscreenElement_&&(this.originalParent_?this.originalParent_.appendChild(this.fullscreenElement_):this.fullscreenElement_.parentElement.removeChild(this.fullscreenElement_)),this.fullscreenElement_=J,this.originalParent_=J.parentElement,this.originalParent_||document.body.appendChild(J),!this.fullscreenWrapper_.parentElement){var Me=this.fullscreenElement_.parentElement;Me.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),Me.removeChild(this.fullscreenElement_)}this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var Ke=this;return function(){if(Ke.fullscreenElement_){var rt=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];Ke.fullscreenElement_.setAttribute("style",rt.join("; ")+";")}}(),this.fullscreenWrapper_},wn.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var J=this.fullscreenElement_;this.fullscreenElementCachedStyle_?J.setAttribute("style",this.fullscreenElementCachedStyle_):J.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var Te=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(J),this.originalParent_===Te?Te.insertBefore(J,this.fullscreenWrapper_):this.originalParent_&&this.originalParent_.appendChild(J),Te.removeChild(this.fullscreenWrapper_),J}},wn.prototype.requestPresent=function(J){var Te=this.isPresenting,Me=this;return J instanceof Array||(Pe("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),J=[J]),new Promise(function(Ke,rt){if(Me.capabilities.canPresent)if(J.length==0||J.length>Me.capabilities.maxLayers)rt(new Error("Invalid number of layers."));else{var yt=J[0];if(yt.source){var Ot=yt.leftBounds||An,cn=yt.rightBounds||dt;if(Te){var gn=Me.layer_;gn.source!==yt.source&&(gn.source=yt.source);for(var Pn=0;Pn<4;Pn++)gn.leftBounds[Pn]=Ot[Pn],gn.rightBounds[Pn]=cn[Pn];return Me.wrapForFullscreen(Me.layer_.source),Me.updatePresent_(),void Ke()}if(Me.layer_={predistorted:yt.predistorted,source:yt.source,leftBounds:Ot.slice(0),rightBounds:cn.slice(0)},Me.waitingForPresent_=!1,Me.layer_&&Me.layer_.source){var kn=Me.wrapForFullscreen(Me.layer_.source);Me.addFullscreenListeners_(kn,function(){var It=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;Me.isPresenting=kn===It,Me.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch(function(rn){console.error("screen.orientation.lock() failed due to",rn.message)}),Me.waitingForPresent_=!1,Me.beginPresent_(),Ke()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),Me.removeFullscreenWrapper(),Me.disableWakeLock(),Me.endPresent_(),Me.removeFullscreenListeners_()),Me.fireVRDisplayPresentChange_()},function(){Me.waitingForPresent_&&(Me.removeFullscreenWrapper(),Me.removeFullscreenListeners_(),Me.disableWakeLock(),Me.waitingForPresent_=!1,Me.isPresenting=!1,rt(new Error("Unable to present.")))}),function(It){if(O())return!1;if(It.requestFullscreen)It.requestFullscreen();else if(It.webkitRequestFullscreen)It.webkitRequestFullscreen();else if(It.mozRequestFullScreen)It.mozRequestFullScreen();else{if(!It.msRequestFullscreen)return!1;It.msRequestFullscreen()}return!0}(kn)?(Me.enableWakeLock(),Me.waitingForPresent_=!0):(d()||O())&&(Me.enableWakeLock(),Me.isPresenting=!0,Me.beginPresent_(),Me.fireVRDisplayPresentChange_(),Ke())}Me.waitingForPresent_||d()||(q(),rt(new Error("Unable to present.")))}else Ke()}else rt(new Error("VRDisplay is not capable of presenting."))})},wn.prototype.exitPresent=function(){var J=this.isPresenting,Te=this;return this.isPresenting=!1,this.layer_=null,this.disableWakeLock(),new Promise(function(Me,Ke){J?(!q()&&d()&&(Te.endPresent_(),Te.fireVRDisplayPresentChange_()),O()&&(Te.removeFullscreenWrapper(),Te.removeFullscreenListeners_(),Te.endPresent_(),Te.fireVRDisplayPresentChange_()),Me()):Ke(new Error("Was not presenting to VRDisplay."))})},wn.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},wn.prototype.fireVRDisplayPresentChange_=function(){var J=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(J)},wn.prototype.fireVRDisplayConnect_=function(){var J=new CustomEvent("vrdisplayconnect",{detail:{display:this}});window.dispatchEvent(J)},wn.prototype.addFullscreenListeners_=function(J,Te,Me){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=J,this.fullscreenChangeHandler_=Te,this.fullscreenErrorHandler_=Me,Te&&(document.fullscreenEnabled?J.addEventListener("fullscreenchange",Te,!1):document.webkitFullscreenEnabled?J.addEventListener("webkitfullscreenchange",Te,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",Te,!1):document.msFullscreenEnabled&&J.addEventListener("msfullscreenchange",Te,!1)),Me&&(document.fullscreenEnabled?J.addEventListener("fullscreenerror",Me,!1):document.webkitFullscreenEnabled?J.addEventListener("webkitfullscreenerror",Me,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",Me,!1):document.msFullscreenEnabled&&J.addEventListener("msfullscreenerror",Me,!1))},wn.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var J=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var Te=this.fullscreenChangeHandler_;J.removeEventListener("fullscreenchange",Te,!1),J.removeEventListener("webkitfullscreenchange",Te,!1),document.removeEventListener("mozfullscreenchange",Te,!1),J.removeEventListener("msfullscreenchange",Te,!1)}if(this.fullscreenErrorHandler_){var Me=this.fullscreenErrorHandler_;J.removeEventListener("fullscreenerror",Me,!1),J.removeEventListener("webkitfullscreenerror",Me,!1),document.removeEventListener("mozfullscreenerror",Me,!1),J.removeEventListener("msfullscreenerror",Me,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},wn.prototype.enableWakeLock=function(){this.wakelock_&&this.wakelock_.enable()},wn.prototype.disableWakeLock=function(){this.wakelock_&&this.wakelock_.disable()},wn.prototype.beginPresent_=function(){},wn.prototype.endPresent_=function(){},wn.prototype.submitFrame=function(J){},wn.prototype.getEyeParameters=function(J){return null};var gr={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},Br={LEFT:"left",RIGHT:"right"};function nr(J){var Te=ce({},gr);J=ce(Te,J||{}),wn.call(this,{wakelock:J.MOBILE_WAKE_LOCK}),this.config=J,this.displayName="Cardboard VRDisplay",this.capabilities=new Be({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.bufferScale_=this.config.BUFFER_SCALE,this.poseSensor_=new St(this.config),this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new _e(this.config.DPDB_URL,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new W(this.dpdb_.getDeviceParams(),J.ADDITIONAL_VIEWERS),this.viewerSelector_=new Dt(J.DEFAULT_VIEWER),this.viewerSelector_.onChange(this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new Ce),d()&&window.addEventListener("resize",this.onResize_.bind(this))}return nr.prototype=Object.create(wn.prototype),nr.prototype._getPose=function(){return{position:null,orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},nr.prototype._resetPose=function(){this.poseSensor_.resetPose&&this.poseSensor_.resetPose()},nr.prototype._getFieldOfView=function(J){var Te;if(J==Br.LEFT)Te=this.deviceInfo_.getFieldOfViewLeftEye();else{if(J!=Br.RIGHT)return console.error("Invalid eye provided: %s",J),null;Te=this.deviceInfo_.getFieldOfViewRightEye()}return Te},nr.prototype._getEyeOffset=function(J){var Te;if(J==Br.LEFT)Te=[.5*-this.deviceInfo_.viewer.interLensDistance,0,0];else{if(J!=Br.RIGHT)return console.error("Invalid eye provided: %s",J),null;Te=[.5*this.deviceInfo_.viewer.interLensDistance,0,0]}return Te},nr.prototype.getEyeParameters=function(J){var Te=this._getEyeOffset(J),Me=this._getFieldOfView(J),Ke={offset:Te,renderWidth:.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_};return Object.defineProperty(Ke,"fieldOfView",{enumerable:!0,get:function(){return Pe("VRFieldOfView","VRFrameData's projection matrices"),Me}}),Ke},nr.prototype.onDeviceParamsUpdated_=function(J){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(J),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},nr.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},nr.prototype.beginPresent_=function(){var J=this.layer_.source.getContext("webgl");J||(J=this.layer_.source.getContext("experimental-webgl")),J||(J=this.layer_.source.getContext("webgl2")),J&&(this.layer_.predistorted?this.config.CARDBOARD_UI_DISABLED||(J.canvas.width=B()*this.bufferScale_,J.canvas.height=Y()*this.bufferScale_,this.cardboardUI_=new ae(J)):(this.config.CARDBOARD_UI_DISABLED||(this.cardboardUI_=new ae(J)),this.distorter_=new me(J,this.cardboardUI_,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.distorter_.updateDeviceInfo(this.deviceInfo_)),this.cardboardUI_&&this.cardboardUI_.listen(function(Te){this.viewerSelector_.show(this.layer_.source.parentElement),Te.stopPropagation(),Te.preventDefault()}.bind(this),function(Te){this.exitPresent(),Te.stopPropagation(),Te.preventDefault()}.bind(this)),this.rotateInstructions_&&(z()&&Ae()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},nr.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},nr.prototype.updatePresent_=function(){this.endPresent_(),this.beginPresent_()},nr.prototype.submitFrame=function(J){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var Te=this.layer_.source.getContext("webgl");Te||(Te=this.layer_.source.getContext("experimental-webgl")),Te||(Te=this.layer_.source.getContext("webgl2"));var Me=Te.canvas;Me.width==this.lastWidth&&Me.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=Me.width,this.lastHeight=Me.height,this.cardboardUI_.render()}},nr.prototype.onOrientationChange_=function(J){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},nr.prototype.onResize_=function(J){if(this.layer_){var Te=this.layer_.source.getContext("webgl");Te||(Te=this.layer_.source.getContext("experimental-webgl")),Te||(Te=this.layer_.source.getContext("webgl2")),Te.canvas.setAttribute("style",["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"].join("; ")+";"),ye(Te.canvas)}},nr.prototype.onViewerChanged_=function(J){this.deviceInfo_.setViewer(J),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},nr.prototype.fireVRDisplayDeviceParamsChange_=function(){var J=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(J)},nr.VRFrameData=function(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null},nr.VRDisplay=wn,nr}()})),r={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",PROVIDE_MOBILE_VRDISPLAY:!0,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};function b(x){this.config=m(m({},r),x),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in navigator,this.native={},this.native.getVRDisplays=navigator.getVRDisplays,this.native.VRFrameData=window.VRFrameData,this.native.VRDisplay=window.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&P())&&(this.enable(),this.getVRDisplays().then(function(E){E&&E[0]&&E[0].fireVRDisplayConnect_&&E[0].fireVRDisplayConnect_()}))}b.prototype.getPolyfillDisplays=function(){if(this._polyfillDisplaysPopulated)return this.polyfillDisplays;if(P()){var x=new w({ADDITIONAL_VIEWERS:this.config.ADDITIONAL_VIEWERS,DEFAULT_VIEWER:this.config.DEFAULT_VIEWER,MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(x)}return this._polyfillDisplaysPopulated=!0,this.polyfillDisplays},b.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var x=this.native.VRFrameData,E=new this.native.VRFrameData,M=this.native.VRDisplay.prototype.getFrameData;window.VRDisplay.prototype.getFrameData=function(S){S instanceof x?M.call(this,S):(M.call(this,E),S.pose=E.pose,U(E.leftProjectionMatrix,S.leftProjectionMatrix),U(E.rightProjectionMatrix,S.rightProjectionMatrix),U(E.leftViewMatrix,S.leftViewMatrix),U(E.rightViewMatrix,S.rightViewMatrix))}}navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=w.VRDisplay,window.VRFrameData=w.VRFrameData},b.prototype.getVRDisplays=function(){var x=this;return this.config,this.hasNative?this.native.getVRDisplays.call(navigator).then(function(E){return E.length>0?E:x.getPolyfillDisplays()}):Promise.resolve(this.getPolyfillDisplays())},b.version="0.10.10",b.VRFrameData=w.VRFrameData,b.VRDisplay=w.VRDisplay;var C=Object.freeze({default:b}),A=C&&b||C;return f!==void 0&&f.window&&(f.document||(f.document=f.window.document),f.navigator||(f.navigator=f.window.navigator)),A})}).call(this,a(40))},function(g,p,a){var u=Object.prototype.hasOwnProperty,f="~";function P(){}function U(r,b,C,A,x){if(typeof C!="function")throw new TypeError("The listener must be a function");var E=new function(S,D,V){this.fn=S,this.context=D,this.once=V||!1}(C,A||r,x),M=f?f+b:b;return r._events[M]?r._events[M].fn?r._events[M]=[r._events[M],E]:r._events[M].push(E):(r._events[M]=E,r._eventsCount++),r}function m(r,b){--r._eventsCount==0?r._events=new P:delete r._events[b]}function w(){this._events=new P,this._eventsCount=0}Object.create&&(P.prototype=Object.create(null),new P().__proto__||(f=!1)),w.prototype.eventNames=function(){var r,b,C=[];if(this._eventsCount===0)return C;for(b in r=this._events)u.call(r,b)&&C.push(f?b.slice(1):b);return Object.getOwnPropertySymbols?C.concat(Object.getOwnPropertySymbols(r)):C},w.prototype.listeners=function(r){var b=f?f+r:r,C=this._events[b];if(!C)return[];if(C.fn)return[C.fn];for(var A=0,x=C.length,E=new Array(x);A<x;A++)E[A]=C[A].fn;return E},w.prototype.listenerCount=function(r){var b=f?f+r:r,C=this._events[b];return C?C.fn?1:C.length:0},w.prototype.emit=function(r,b,C,A,x,E){var M=f?f+r:r;if(!this._events[M])return!1;var S,D,V=this._events[M],d=arguments.length;if(V.fn){switch(V.once&&this.removeListener(r,V.fn,void 0,!0),d){case 1:return V.fn.call(V.context),!0;case 2:return V.fn.call(V.context,b),!0;case 3:return V.fn.call(V.context,b,C),!0;case 4:return V.fn.call(V.context,b,C,A),!0;case 5:return V.fn.call(V.context,b,C,A,x),!0;case 6:return V.fn.call(V.context,b,C,A,x,E),!0}for(D=1,S=new Array(d-1);D<d;D++)S[D-1]=arguments[D];V.fn.apply(V.context,S)}else{var O,F=V.length;for(D=0;D<F;D++)switch(V[D].once&&this.removeListener(r,V[D].fn,void 0,!0),d){case 1:V[D].fn.call(V[D].context);break;case 2:V[D].fn.call(V[D].context,b);break;case 3:V[D].fn.call(V[D].context,b,C);break;case 4:V[D].fn.call(V[D].context,b,C,A);break;default:if(!S)for(O=1,S=new Array(d-1);O<d;O++)S[O-1]=arguments[O];V[D].fn.apply(V[D].context,S)}}return!0},w.prototype.on=function(r,b,C){return U(this,r,b,C,!1)},w.prototype.once=function(r,b,C){return U(this,r,b,C,!0)},w.prototype.removeListener=function(r,b,C,A){var x=f?f+r:r;if(!this._events[x])return this;if(!b)return m(this,x),this;var E=this._events[x];if(E.fn)E.fn!==b||A&&!E.once||C&&E.context!==C||m(this,x);else{for(var M=0,S=[],D=E.length;M<D;M++)(E[M].fn!==b||A&&!E[M].once||C&&E[M].context!==C)&&S.push(E[M]);S.length?this._events[x]=S.length===1?S[0]:S:m(this,x)}return this},w.prototype.removeAllListeners=function(r){var b;return r?(b=f?f+r:r,this._events[b]&&m(this,b)):(this._events=new P,this._eventsCount=0),this},w.prototype.off=w.prototype.removeListener,w.prototype.addListener=w.prototype.on,w.prefixed=f,w.EventEmitter=w,g.exports=w},function(g,p){g.exports=function(a){throw new TypeError('"'+a+'" is read-only')},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p,a){var u=a(259);g.exports=function(f,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(P&&P.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),P&&u(f,P)},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p,a){var u=a(111).default,f=a(260);g.exports=function(P,U){return!U||u(U)!=="object"&&typeof U!="function"?f(P):U},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p,a){var u=a(6),f=a.n(u),P=a(11),U=a.n(P),m=(a(118),a(47)),w=a(48),r=a.n(w),b=a(93),C=a(231),A=a(92),x=function(d){var O=new C(d[0].imageType);O.origin=Array.from(d[0].origin),O.spacing=Array.from(d[0].spacing);var F=O.imageType.dimension;O.direction=new A(F,F),O.direction.data=Array.from(d[0].direction.data);var I=F-1;O.size=Array.from(d[0].size);var L=d.reduce(function(H,ne){return H+ne.size[I]},0);O.size[I]=L;var G=O.size.reduce(function(H,ne){return H*ne},1)*O.imageType.components;O.data=new d[0].data.constructor(G);for(var z=O.imageType.components,B=0;B<O.size.length-1;B++)z*=O.size[B];for(var Y=0,q=0;q<d.length;q++)O.data.set(d[q].data,z*Y),Y+=d[q].size[I];return O},E=a(32),M=function(){var d=U()(f.a.mark(function O(F,I){var L,G,z,B,Y,q,H,ne,Ae=arguments;return f.a.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return L=Ae.length>2&&Ae[2]!==void 0&&Ae[2],G=F,ce.next=4,Object(m.a)("ImageIO",G);case 4:return z=ce.sent,B=z.webworkerPromise,Y=z.worker,G=Y,q=I.map(function(ye){return ye.data}),H={operation:"readDICOMImageSeries",fileDescriptions:I,singleSortedSeries:L,config:E.a},ce.next=12,B.postMessage(H,q);case 12:return ne=ce.sent,ce.abrupt("return",{image:ne,webWorker:G});case 14:case"end":return ce.stop()}},O)}));return function(O,F){return d.apply(this,arguments)}}(),S=navigator.hardwareConcurrency?navigator.hardwareConcurrency:4,D=new b.a(S,M),V=function(){var d=U()(f.a.mark(function O(F){var I,L,G,z,B,Y,q,H,ne,Ae,ce,ye=arguments;return f.a.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return I=ye.length>1&&ye[1]!==void 0&&ye[1],L=Array.from(F,function(j){return r.a.readAsArrayBuffer(j).then(function(ve){return{name:j.name,type:j.type,data:ve}})}),K.next=4,Promise.all(L);case 4:if(G=K.sent,!I){K.next=16;break}for(z=[],B=0;B<G.length;B+=8)Y=G.slice(B,B+8),z.push([Y,I]);return K.next=10,D.runTasks(z);case 10:return q=K.sent,H=q.map(function(j){return j.image}),ne=x(H),K.abrupt("return",{image:ne,webWorkerPool:D});case 16:return Ae=[[G,I]],K.next=19,D.runTasks(Ae);case 19:return ce=K.sent,K.abrupt("return",{image:ce[0].image,webWorkerPool:D});case 21:case"end":return K.stop()}},O)}));return function(O){return d.apply(this,arguments)}}();p.a=V},,,,,function(g,p,a){(function(u){g.exports=u.itkVtkViewer=a(277)}).call(this,a(40))},function(g,p){g.exports=function(a){if(Array.isArray(a))return a},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p){g.exports=function(a,u){var f=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(f!=null){var P,U,m=[],w=!0,r=!1;try{for(f=f.call(a);!(w=(P=f.next()).done)&&(m.push(P.value),!u||m.length!==u);w=!0);}catch(b){r=!0,U=b}finally{try{w||f.return==null||f.return()}finally{if(r)throw U}}return m}},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p){g.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p,a){var u=a(202),f=a(55),P=a(121),U=a(110),m=a(122),w=Object.prototype.toString,r=0,b=-1,C=0,A=8;function x(M){if(!(this instanceof x))return new x(M);this.options=f.assign({level:b,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:C,to:""},M||{});var S=this.options;S.raw&&S.windowBits>0?S.windowBits=-S.windowBits:S.gzip&&S.windowBits>0&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var D=u.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(D!==r)throw new Error(U[D]);if(S.header&&u.deflateSetHeader(this.strm,S.header),S.dictionary){var V;if(V=typeof S.dictionary=="string"?P.string2buf(S.dictionary):w.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(D=u.deflateSetDictionary(this.strm,V))!==r)throw new Error(U[D]);this._dict_set=!0}}function E(M,S){var D=new x(S);if(D.push(M,!0),D.err)throw D.msg||U[D.err];return D.result}x.prototype.push=function(M,S){var D,V,d=this.strm,O=this.options.chunkSize;if(this.ended)return!1;V=S===~~S?S:S===!0?4:0,typeof M=="string"?d.input=P.string2buf(M):w.call(M)==="[object ArrayBuffer]"?d.input=new Uint8Array(M):d.input=M,d.next_in=0,d.avail_in=d.input.length;do{if(d.avail_out===0&&(d.output=new f.Buf8(O),d.next_out=0,d.avail_out=O),(D=u.deflate(d,V))!==1&&D!==r)return this.onEnd(D),this.ended=!0,!1;d.avail_out!==0&&(d.avail_in!==0||V!==4&&V!==2)||(this.options.to==="string"?this.onData(P.buf2binstring(f.shrinkBuf(d.output,d.next_out))):this.onData(f.shrinkBuf(d.output,d.next_out)))}while((d.avail_in>0||d.avail_out===0)&&D!==1);return V===4?(D=u.deflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===r):V!==2||(this.onEnd(r),d.avail_out=0,!0)},x.prototype.onData=function(M){this.chunks.push(M)},x.prototype.onEnd=function(M){M===r&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=M,this.msg=this.strm.msg},p.Deflate=x,p.deflate=E,p.deflateRaw=function(M,S){return(S=S||{}).raw=!0,E(M,S)},p.gzip=function(M,S){return(S=S||{}).gzip=!0,E(M,S)}},function(g,p,a){var u,f=a(55),P=a(203),U=a(119),m=a(120),w=a(110),r=0,b=1,C=3,A=4,x=5,E=0,M=1,S=-2,D=-3,V=-5,d=-1,O=1,F=2,I=3,L=4,G=0,z=2,B=8,Y=9,q=15,H=8,ne=286,Ae=30,ce=19,ye=2*ne+1,K=15,j=3,ve=258,Pe=ve+j+1,Oe=32,xe=42,Ve=69,me=73,pe=91,ke=103,X=113,Z=666,ae=1,Ue=2,Ie=3,le=4,ge=3;function ze(oe,St){return oe.msg=w[St],St}function nt(oe){return(oe<<1)-(oe>4?9:0)}function st(oe){for(var St=oe.length;--St>=0;)oe[St]=0}function Ge(oe){var St=oe.state,Ce=St.pending;Ce>oe.avail_out&&(Ce=oe.avail_out),Ce!==0&&(f.arraySet(oe.output,St.pending_buf,St.pending_out,Ce,oe.next_out),oe.next_out+=Ce,St.pending_out+=Ce,oe.total_out+=Ce,oe.avail_out-=Ce,St.pending-=Ce,St.pending===0&&(St.pending_out=0))}function N(oe,St){P._tr_flush_block(oe,oe.block_start>=0?oe.block_start:-1,oe.strstart-oe.block_start,St),oe.block_start=oe.strstart,Ge(oe.strm)}function W(oe,St){oe.pending_buf[oe.pending++]=St}function de(oe,St){oe.pending_buf[oe.pending++]=St>>>8&255,oe.pending_buf[oe.pending++]=255&St}function ie(oe,St,Ce,He){var Nt=oe.avail_in;return Nt>He&&(Nt=He),Nt===0?0:(oe.avail_in-=Nt,f.arraySet(St,oe.input,oe.next_in,Nt,Ce),oe.state.wrap===1?oe.adler=U(oe.adler,St,Nt,Ce):oe.state.wrap===2&&(oe.adler=m(oe.adler,St,Nt,Ce)),oe.next_in+=Nt,oe.total_in+=Nt,Nt)}function _e(oe,St){var Ce,He,Nt=oe.max_chain_length,Dt=oe.strstart,On=oe.prev_length,Lt=oe.nice_match,An=oe.strstart>oe.w_size-Pe?oe.strstart-(oe.w_size-Pe):0,dt=oe.window,zt=oe.w_mask,ur=oe.prev,Be=oe.strstart+ve,wn=dt[Dt+On-1],gr=dt[Dt+On];oe.prev_length>=oe.good_match&&(Nt>>=2),Lt>oe.lookahead&&(Lt=oe.lookahead);do if(dt[(Ce=St)+On]===gr&&dt[Ce+On-1]===wn&&dt[Ce]===dt[Dt]&&dt[++Ce]===dt[Dt+1]){Dt+=2,Ce++;do;while(dt[++Dt]===dt[++Ce]&&dt[++Dt]===dt[++Ce]&&dt[++Dt]===dt[++Ce]&&dt[++Dt]===dt[++Ce]&&dt[++Dt]===dt[++Ce]&&dt[++Dt]===dt[++Ce]&&dt[++Dt]===dt[++Ce]&&dt[++Dt]===dt[++Ce]&&Dt<Be);if(He=ve-(Be-Dt),Dt=Be-ve,He>On){if(oe.match_start=St,On=He,He>=Lt)break;wn=dt[Dt+On-1],gr=dt[Dt+On]}}while((St=ur[St&zt])>An&&--Nt!=0);return On<=oe.lookahead?On:oe.lookahead}function Ze(oe){var St,Ce,He,Nt,Dt,On=oe.w_size;do{if(Nt=oe.window_size-oe.lookahead-oe.strstart,oe.strstart>=On+(On-Pe)){f.arraySet(oe.window,oe.window,On,On,0),oe.match_start-=On,oe.strstart-=On,oe.block_start-=On,St=Ce=oe.hash_size;do He=oe.head[--St],oe.head[St]=He>=On?He-On:0;while(--Ce);St=Ce=On;do He=oe.prev[--St],oe.prev[St]=He>=On?He-On:0;while(--Ce);Nt+=On}if(oe.strm.avail_in===0)break;if(Ce=ie(oe.strm,oe.window,oe.strstart+oe.lookahead,Nt),oe.lookahead+=Ce,oe.lookahead+oe.insert>=j)for(Dt=oe.strstart-oe.insert,oe.ins_h=oe.window[Dt],oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[Dt+1])&oe.hash_mask;oe.insert&&(oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[Dt+j-1])&oe.hash_mask,oe.prev[Dt&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=Dt,Dt++,oe.insert--,!(oe.lookahead+oe.insert<j)););}while(oe.lookahead<Pe&&oe.strm.avail_in!==0)}function ft(oe,St){for(var Ce,He;;){if(oe.lookahead<Pe){if(Ze(oe),oe.lookahead<Pe&&St===r)return ae;if(oe.lookahead===0)break}if(Ce=0,oe.lookahead>=j&&(oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+j-1])&oe.hash_mask,Ce=oe.prev[oe.strstart&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=oe.strstart),Ce!==0&&oe.strstart-Ce<=oe.w_size-Pe&&(oe.match_length=_e(oe,Ce)),oe.match_length>=j)if(He=P._tr_tally(oe,oe.strstart-oe.match_start,oe.match_length-j),oe.lookahead-=oe.match_length,oe.match_length<=oe.max_lazy_match&&oe.lookahead>=j){oe.match_length--;do oe.strstart++,oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+j-1])&oe.hash_mask,Ce=oe.prev[oe.strstart&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=oe.strstart;while(--oe.match_length!=0);oe.strstart++}else oe.strstart+=oe.match_length,oe.match_length=0,oe.ins_h=oe.window[oe.strstart],oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+1])&oe.hash_mask;else He=P._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++;if(He&&(N(oe,!1),oe.strm.avail_out===0))return ae}return oe.insert=oe.strstart<j-1?oe.strstart:j-1,St===A?(N(oe,!0),oe.strm.avail_out===0?Ie:le):oe.last_lit&&(N(oe,!1),oe.strm.avail_out===0)?ae:Ue}function at(oe,St){for(var Ce,He,Nt;;){if(oe.lookahead<Pe){if(Ze(oe),oe.lookahead<Pe&&St===r)return ae;if(oe.lookahead===0)break}if(Ce=0,oe.lookahead>=j&&(oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+j-1])&oe.hash_mask,Ce=oe.prev[oe.strstart&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=oe.strstart),oe.prev_length=oe.match_length,oe.prev_match=oe.match_start,oe.match_length=j-1,Ce!==0&&oe.prev_length<oe.max_lazy_match&&oe.strstart-Ce<=oe.w_size-Pe&&(oe.match_length=_e(oe,Ce),oe.match_length<=5&&(oe.strategy===O||oe.match_length===j&&oe.strstart-oe.match_start>4096)&&(oe.match_length=j-1)),oe.prev_length>=j&&oe.match_length<=oe.prev_length){Nt=oe.strstart+oe.lookahead-j,He=P._tr_tally(oe,oe.strstart-1-oe.prev_match,oe.prev_length-j),oe.lookahead-=oe.prev_length-1,oe.prev_length-=2;do++oe.strstart<=Nt&&(oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+j-1])&oe.hash_mask,Ce=oe.prev[oe.strstart&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=oe.strstart);while(--oe.prev_length!=0);if(oe.match_available=0,oe.match_length=j-1,oe.strstart++,He&&(N(oe,!1),oe.strm.avail_out===0))return ae}else if(oe.match_available){if((He=P._tr_tally(oe,0,oe.window[oe.strstart-1]))&&N(oe,!1),oe.strstart++,oe.lookahead--,oe.strm.avail_out===0)return ae}else oe.match_available=1,oe.strstart++,oe.lookahead--}return oe.match_available&&(He=P._tr_tally(oe,0,oe.window[oe.strstart-1]),oe.match_available=0),oe.insert=oe.strstart<j-1?oe.strstart:j-1,St===A?(N(oe,!0),oe.strm.avail_out===0?Ie:le):oe.last_lit&&(N(oe,!1),oe.strm.avail_out===0)?ae:Ue}function ht(oe,St,Ce,He,Nt){this.good_length=oe,this.max_lazy=St,this.nice_length=Ce,this.max_chain=He,this.func=Nt}function Ct(oe){var St;return oe&&oe.state?(oe.total_in=oe.total_out=0,oe.data_type=z,(St=oe.state).pending=0,St.pending_out=0,St.wrap<0&&(St.wrap=-St.wrap),St.status=St.wrap?xe:X,oe.adler=St.wrap===2?0:1,St.last_flush=r,P._tr_init(St),E):ze(oe,S)}function Kt(oe){var St=Ct(oe);return St===E&&function(Ce){Ce.window_size=2*Ce.w_size,st(Ce.head),Ce.max_lazy_match=u[Ce.level].max_lazy,Ce.good_match=u[Ce.level].good_length,Ce.nice_match=u[Ce.level].nice_length,Ce.max_chain_length=u[Ce.level].max_chain,Ce.strstart=0,Ce.block_start=0,Ce.lookahead=0,Ce.insert=0,Ce.match_length=Ce.prev_length=j-1,Ce.match_available=0,Ce.ins_h=0}(oe.state),St}function nn(oe,St,Ce,He,Nt,Dt){if(!oe)return S;var On=1;if(St===d&&(St=6),He<0?(On=0,He=-He):He>15&&(On=2,He-=16),Nt<1||Nt>Y||Ce!==B||He<8||He>15||St<0||St>9||Dt<0||Dt>L)return ze(oe,S);He===8&&(He=9);var Lt=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=B,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(2*ye),this.dyn_dtree=new f.Buf16(2*(2*Ae+1)),this.bl_tree=new f.Buf16(2*(2*ce+1)),st(this.dyn_ltree),st(this.dyn_dtree),st(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(K+1),this.heap=new f.Buf16(2*ne+1),st(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*ne+1),st(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return oe.state=Lt,Lt.strm=oe,Lt.wrap=On,Lt.gzhead=null,Lt.w_bits=He,Lt.w_size=1<<Lt.w_bits,Lt.w_mask=Lt.w_size-1,Lt.hash_bits=Nt+7,Lt.hash_size=1<<Lt.hash_bits,Lt.hash_mask=Lt.hash_size-1,Lt.hash_shift=~~((Lt.hash_bits+j-1)/j),Lt.window=new f.Buf8(2*Lt.w_size),Lt.head=new f.Buf16(Lt.hash_size),Lt.prev=new f.Buf16(Lt.w_size),Lt.lit_bufsize=1<<Nt+6,Lt.pending_buf_size=4*Lt.lit_bufsize,Lt.pending_buf=new f.Buf8(Lt.pending_buf_size),Lt.d_buf=1*Lt.lit_bufsize,Lt.l_buf=3*Lt.lit_bufsize,Lt.level=St,Lt.strategy=Dt,Lt.method=Ce,Kt(oe)}u=[new ht(0,0,0,0,function(oe,St){var Ce=65535;for(Ce>oe.pending_buf_size-5&&(Ce=oe.pending_buf_size-5);;){if(oe.lookahead<=1){if(Ze(oe),oe.lookahead===0&&St===r)return ae;if(oe.lookahead===0)break}oe.strstart+=oe.lookahead,oe.lookahead=0;var He=oe.block_start+Ce;if((oe.strstart===0||oe.strstart>=He)&&(oe.lookahead=oe.strstart-He,oe.strstart=He,N(oe,!1),oe.strm.avail_out===0)||oe.strstart-oe.block_start>=oe.w_size-Pe&&(N(oe,!1),oe.strm.avail_out===0))return ae}return oe.insert=0,St===A?(N(oe,!0),oe.strm.avail_out===0?Ie:le):(oe.strstart>oe.block_start&&(N(oe,!1),oe.strm.avail_out),ae)}),new ht(4,4,8,4,ft),new ht(4,5,16,8,ft),new ht(4,6,32,32,ft),new ht(4,4,16,16,at),new ht(8,16,32,32,at),new ht(8,16,128,128,at),new ht(8,32,128,256,at),new ht(32,128,258,1024,at),new ht(32,258,258,4096,at)],p.deflateInit=function(oe,St){return nn(oe,St,B,q,H,G)},p.deflateInit2=nn,p.deflateReset=Kt,p.deflateResetKeep=Ct,p.deflateSetHeader=function(oe,St){return oe&&oe.state?oe.state.wrap!==2?S:(oe.state.gzhead=St,E):S},p.deflate=function(oe,St){var Ce,He,Nt,Dt;if(!oe||!oe.state||St>x||St<0)return oe?ze(oe,S):S;if(He=oe.state,!oe.output||!oe.input&&oe.avail_in!==0||He.status===Z&&St!==A)return ze(oe,oe.avail_out===0?V:S);if(He.strm=oe,Ce=He.last_flush,He.last_flush=St,He.status===xe)if(He.wrap===2)oe.adler=0,W(He,31),W(He,139),W(He,8),He.gzhead?(W(He,(He.gzhead.text?1:0)+(He.gzhead.hcrc?2:0)+(He.gzhead.extra?4:0)+(He.gzhead.name?8:0)+(He.gzhead.comment?16:0)),W(He,255&He.gzhead.time),W(He,He.gzhead.time>>8&255),W(He,He.gzhead.time>>16&255),W(He,He.gzhead.time>>24&255),W(He,He.level===9?2:He.strategy>=F||He.level<2?4:0),W(He,255&He.gzhead.os),He.gzhead.extra&&He.gzhead.extra.length&&(W(He,255&He.gzhead.extra.length),W(He,He.gzhead.extra.length>>8&255)),He.gzhead.hcrc&&(oe.adler=m(oe.adler,He.pending_buf,He.pending,0)),He.gzindex=0,He.status=Ve):(W(He,0),W(He,0),W(He,0),W(He,0),W(He,0),W(He,He.level===9?2:He.strategy>=F||He.level<2?4:0),W(He,ge),He.status=X);else{var On=B+(He.w_bits-8<<4)<<8;On|=(He.strategy>=F||He.level<2?0:He.level<6?1:He.level===6?2:3)<<6,He.strstart!==0&&(On|=Oe),On+=31-On%31,He.status=X,de(He,On),He.strstart!==0&&(de(He,oe.adler>>>16),de(He,65535&oe.adler)),oe.adler=1}if(He.status===Ve)if(He.gzhead.extra){for(Nt=He.pending;He.gzindex<(65535&He.gzhead.extra.length)&&(He.pending!==He.pending_buf_size||(He.gzhead.hcrc&&He.pending>Nt&&(oe.adler=m(oe.adler,He.pending_buf,He.pending-Nt,Nt)),Ge(oe),Nt=He.pending,He.pending!==He.pending_buf_size));)W(He,255&He.gzhead.extra[He.gzindex]),He.gzindex++;He.gzhead.hcrc&&He.pending>Nt&&(oe.adler=m(oe.adler,He.pending_buf,He.pending-Nt,Nt)),He.gzindex===He.gzhead.extra.length&&(He.gzindex=0,He.status=me)}else He.status=me;if(He.status===me)if(He.gzhead.name){Nt=He.pending;do{if(He.pending===He.pending_buf_size&&(He.gzhead.hcrc&&He.pending>Nt&&(oe.adler=m(oe.adler,He.pending_buf,He.pending-Nt,Nt)),Ge(oe),Nt=He.pending,He.pending===He.pending_buf_size)){Dt=1;break}Dt=He.gzindex<He.gzhead.name.length?255&He.gzhead.name.charCodeAt(He.gzindex++):0,W(He,Dt)}while(Dt!==0);He.gzhead.hcrc&&He.pending>Nt&&(oe.adler=m(oe.adler,He.pending_buf,He.pending-Nt,Nt)),Dt===0&&(He.gzindex=0,He.status=pe)}else He.status=pe;if(He.status===pe)if(He.gzhead.comment){Nt=He.pending;do{if(He.pending===He.pending_buf_size&&(He.gzhead.hcrc&&He.pending>Nt&&(oe.adler=m(oe.adler,He.pending_buf,He.pending-Nt,Nt)),Ge(oe),Nt=He.pending,He.pending===He.pending_buf_size)){Dt=1;break}Dt=He.gzindex<He.gzhead.comment.length?255&He.gzhead.comment.charCodeAt(He.gzindex++):0,W(He,Dt)}while(Dt!==0);He.gzhead.hcrc&&He.pending>Nt&&(oe.adler=m(oe.adler,He.pending_buf,He.pending-Nt,Nt)),Dt===0&&(He.status=ke)}else He.status=ke;if(He.status===ke&&(He.gzhead.hcrc?(He.pending+2>He.pending_buf_size&&Ge(oe),He.pending+2<=He.pending_buf_size&&(W(He,255&oe.adler),W(He,oe.adler>>8&255),oe.adler=0,He.status=X)):He.status=X),He.pending!==0){if(Ge(oe),oe.avail_out===0)return He.last_flush=-1,E}else if(oe.avail_in===0&&nt(St)<=nt(Ce)&&St!==A)return ze(oe,V);if(He.status===Z&&oe.avail_in!==0)return ze(oe,V);if(oe.avail_in!==0||He.lookahead!==0||St!==r&&He.status!==Z){var Lt=He.strategy===F?function(An,dt){for(var zt;;){if(An.lookahead===0&&(Ze(An),An.lookahead===0)){if(dt===r)return ae;break}if(An.match_length=0,zt=P._tr_tally(An,0,An.window[An.strstart]),An.lookahead--,An.strstart++,zt&&(N(An,!1),An.strm.avail_out===0))return ae}return An.insert=0,dt===A?(N(An,!0),An.strm.avail_out===0?Ie:le):An.last_lit&&(N(An,!1),An.strm.avail_out===0)?ae:Ue}(He,St):He.strategy===I?function(An,dt){for(var zt,ur,Be,wn,gr=An.window;;){if(An.lookahead<=ve){if(Ze(An),An.lookahead<=ve&&dt===r)return ae;if(An.lookahead===0)break}if(An.match_length=0,An.lookahead>=j&&An.strstart>0&&(ur=gr[Be=An.strstart-1])===gr[++Be]&&ur===gr[++Be]&&ur===gr[++Be]){wn=An.strstart+ve;do;while(ur===gr[++Be]&&ur===gr[++Be]&&ur===gr[++Be]&&ur===gr[++Be]&&ur===gr[++Be]&&ur===gr[++Be]&&ur===gr[++Be]&&ur===gr[++Be]&&Be<wn);An.match_length=ve-(wn-Be),An.match_length>An.lookahead&&(An.match_length=An.lookahead)}if(An.match_length>=j?(zt=P._tr_tally(An,1,An.match_length-j),An.lookahead-=An.match_length,An.strstart+=An.match_length,An.match_length=0):(zt=P._tr_tally(An,0,An.window[An.strstart]),An.lookahead--,An.strstart++),zt&&(N(An,!1),An.strm.avail_out===0))return ae}return An.insert=0,dt===A?(N(An,!0),An.strm.avail_out===0?Ie:le):An.last_lit&&(N(An,!1),An.strm.avail_out===0)?ae:Ue}(He,St):u[He.level].func(He,St);if(Lt!==Ie&&Lt!==le||(He.status=Z),Lt===ae||Lt===Ie)return oe.avail_out===0&&(He.last_flush=-1),E;if(Lt===Ue&&(St===b?P._tr_align(He):St!==x&&(P._tr_stored_block(He,0,0,!1),St===C&&(st(He.head),He.lookahead===0&&(He.strstart=0,He.block_start=0,He.insert=0))),Ge(oe),oe.avail_out===0))return He.last_flush=-1,E}return St!==A?E:He.wrap<=0?M:(He.wrap===2?(W(He,255&oe.adler),W(He,oe.adler>>8&255),W(He,oe.adler>>16&255),W(He,oe.adler>>24&255),W(He,255&oe.total_in),W(He,oe.total_in>>8&255),W(He,oe.total_in>>16&255),W(He,oe.total_in>>24&255)):(de(He,oe.adler>>>16),de(He,65535&oe.adler)),Ge(oe),He.wrap>0&&(He.wrap=-He.wrap),He.pending!==0?E:M)},p.deflateEnd=function(oe){var St;return oe&&oe.state?(St=oe.state.status)!==xe&&St!==Ve&&St!==me&&St!==pe&&St!==ke&&St!==X&&St!==Z?ze(oe,S):(oe.state=null,St===X?ze(oe,D):E):S},p.deflateSetDictionary=function(oe,St){var Ce,He,Nt,Dt,On,Lt,An,dt,zt=St.length;if(!oe||!oe.state||(Dt=(Ce=oe.state).wrap)===2||Dt===1&&Ce.status!==xe||Ce.lookahead)return S;for(Dt===1&&(oe.adler=U(oe.adler,St,zt,0)),Ce.wrap=0,zt>=Ce.w_size&&(Dt===0&&(st(Ce.head),Ce.strstart=0,Ce.block_start=0,Ce.insert=0),dt=new f.Buf8(Ce.w_size),f.arraySet(dt,St,zt-Ce.w_size,Ce.w_size,0),St=dt,zt=Ce.w_size),On=oe.avail_in,Lt=oe.next_in,An=oe.input,oe.avail_in=zt,oe.next_in=0,oe.input=St,Ze(Ce);Ce.lookahead>=j;){He=Ce.strstart,Nt=Ce.lookahead-(j-1);do Ce.ins_h=(Ce.ins_h<<Ce.hash_shift^Ce.window[He+j-1])&Ce.hash_mask,Ce.prev[He&Ce.w_mask]=Ce.head[Ce.ins_h],Ce.head[Ce.ins_h]=He,He++;while(--Nt);Ce.strstart=He,Ce.lookahead=j-1,Ze(Ce)}return Ce.strstart+=Ce.lookahead,Ce.block_start=Ce.strstart,Ce.insert=Ce.lookahead,Ce.lookahead=0,Ce.match_length=Ce.prev_length=j-1,Ce.match_available=0,oe.next_in=Lt,oe.input=An,oe.avail_in=On,Ce.wrap=Dt,E},p.deflateInfo="pako deflate (from Nodeca project)"},function(g,p,a){var u=a(55),f=4,P=0,U=1,m=2;function w(W){for(var de=W.length;--de>=0;)W[de]=0}var r=0,b=1,C=2,A=29,x=256,E=x+1+A,M=30,S=19,D=2*E+1,V=15,d=16,O=7,F=256,I=16,L=17,G=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(2*(E+2));w(H);var ne=new Array(2*M);w(ne);var Ae=new Array(512);w(Ae);var ce=new Array(256);w(ce);var ye=new Array(A);w(ye);var K,j,ve,Pe=new Array(M);function Oe(W,de,ie,_e,Ze){this.static_tree=W,this.extra_bits=de,this.extra_base=ie,this.elems=_e,this.max_length=Ze,this.has_stree=W&&W.length}function xe(W,de){this.dyn_tree=W,this.max_code=0,this.stat_desc=de}function Ve(W){return W<256?Ae[W]:Ae[256+(W>>>7)]}function me(W,de){W.pending_buf[W.pending++]=255&de,W.pending_buf[W.pending++]=de>>>8&255}function pe(W,de,ie){W.bi_valid>d-ie?(W.bi_buf|=de<<W.bi_valid&65535,me(W,W.bi_buf),W.bi_buf=de>>d-W.bi_valid,W.bi_valid+=ie-d):(W.bi_buf|=de<<W.bi_valid&65535,W.bi_valid+=ie)}function ke(W,de,ie){pe(W,ie[2*de],ie[2*de+1])}function X(W,de){var ie=0;do ie|=1&W,W>>>=1,ie<<=1;while(--de>0);return ie>>>1}function Z(W,de,ie){var _e,Ze,ft=new Array(V+1),at=0;for(_e=1;_e<=V;_e++)ft[_e]=at=at+ie[_e-1]<<1;for(Ze=0;Ze<=de;Ze++){var ht=W[2*Ze+1];ht!==0&&(W[2*Ze]=X(ft[ht]++,ht))}}function ae(W){var de;for(de=0;de<E;de++)W.dyn_ltree[2*de]=0;for(de=0;de<M;de++)W.dyn_dtree[2*de]=0;for(de=0;de<S;de++)W.bl_tree[2*de]=0;W.dyn_ltree[2*F]=1,W.opt_len=W.static_len=0,W.last_lit=W.matches=0}function Ue(W){W.bi_valid>8?me(W,W.bi_buf):W.bi_valid>0&&(W.pending_buf[W.pending++]=W.bi_buf),W.bi_buf=0,W.bi_valid=0}function Ie(W,de,ie,_e){var Ze=2*de,ft=2*ie;return W[Ze]<W[ft]||W[Ze]===W[ft]&&_e[de]<=_e[ie]}function le(W,de,ie){for(var _e=W.heap[ie],Ze=ie<<1;Ze<=W.heap_len&&(Ze<W.heap_len&&Ie(de,W.heap[Ze+1],W.heap[Ze],W.depth)&&Ze++,!Ie(de,_e,W.heap[Ze],W.depth));)W.heap[ie]=W.heap[Ze],ie=Ze,Ze<<=1;W.heap[ie]=_e}function ge(W,de,ie){var _e,Ze,ft,at,ht=0;if(W.last_lit!==0)do _e=W.pending_buf[W.d_buf+2*ht]<<8|W.pending_buf[W.d_buf+2*ht+1],Ze=W.pending_buf[W.l_buf+ht],ht++,_e===0?ke(W,Ze,de):(ke(W,(ft=ce[Ze])+x+1,de),(at=z[ft])!==0&&pe(W,Ze-=ye[ft],at),ke(W,ft=Ve(--_e),ie),(at=B[ft])!==0&&pe(W,_e-=Pe[ft],at));while(ht<W.last_lit);ke(W,F,de)}function ze(W,de){var ie,_e,Ze,ft=de.dyn_tree,at=de.stat_desc.static_tree,ht=de.stat_desc.has_stree,Ct=de.stat_desc.elems,Kt=-1;for(W.heap_len=0,W.heap_max=D,ie=0;ie<Ct;ie++)ft[2*ie]!==0?(W.heap[++W.heap_len]=Kt=ie,W.depth[ie]=0):ft[2*ie+1]=0;for(;W.heap_len<2;)ft[2*(Ze=W.heap[++W.heap_len]=Kt<2?++Kt:0)]=1,W.depth[Ze]=0,W.opt_len--,ht&&(W.static_len-=at[2*Ze+1]);for(de.max_code=Kt,ie=W.heap_len>>1;ie>=1;ie--)le(W,ft,ie);Ze=Ct;do ie=W.heap[1],W.heap[1]=W.heap[W.heap_len--],le(W,ft,1),_e=W.heap[1],W.heap[--W.heap_max]=ie,W.heap[--W.heap_max]=_e,ft[2*Ze]=ft[2*ie]+ft[2*_e],W.depth[Ze]=(W.depth[ie]>=W.depth[_e]?W.depth[ie]:W.depth[_e])+1,ft[2*ie+1]=ft[2*_e+1]=Ze,W.heap[1]=Ze++,le(W,ft,1);while(W.heap_len>=2);W.heap[--W.heap_max]=W.heap[1],function(nn,oe){var St,Ce,He,Nt,Dt,On,Lt=oe.dyn_tree,An=oe.max_code,dt=oe.stat_desc.static_tree,zt=oe.stat_desc.has_stree,ur=oe.stat_desc.extra_bits,Be=oe.stat_desc.extra_base,wn=oe.stat_desc.max_length,gr=0;for(Nt=0;Nt<=V;Nt++)nn.bl_count[Nt]=0;for(Lt[2*nn.heap[nn.heap_max]+1]=0,St=nn.heap_max+1;St<D;St++)(Nt=Lt[2*Lt[2*(Ce=nn.heap[St])+1]+1]+1)>wn&&(Nt=wn,gr++),Lt[2*Ce+1]=Nt,Ce>An||(nn.bl_count[Nt]++,Dt=0,Ce>=Be&&(Dt=ur[Ce-Be]),On=Lt[2*Ce],nn.opt_len+=On*(Nt+Dt),zt&&(nn.static_len+=On*(dt[2*Ce+1]+Dt)));if(gr!==0){do{for(Nt=wn-1;nn.bl_count[Nt]===0;)Nt--;nn.bl_count[Nt]--,nn.bl_count[Nt+1]+=2,nn.bl_count[wn]--,gr-=2}while(gr>0);for(Nt=wn;Nt!==0;Nt--)for(Ce=nn.bl_count[Nt];Ce!==0;)(He=nn.heap[--St])>An||(Lt[2*He+1]!==Nt&&(nn.opt_len+=(Nt-Lt[2*He+1])*Lt[2*He],Lt[2*He+1]=Nt),Ce--)}}(W,de),Z(ft,Kt,W.bl_count)}function nt(W,de,ie){var _e,Ze,ft=-1,at=de[1],ht=0,Ct=7,Kt=4;for(at===0&&(Ct=138,Kt=3),de[2*(ie+1)+1]=65535,_e=0;_e<=ie;_e++)Ze=at,at=de[2*(_e+1)+1],++ht<Ct&&Ze===at||(ht<Kt?W.bl_tree[2*Ze]+=ht:Ze!==0?(Ze!==ft&&W.bl_tree[2*Ze]++,W.bl_tree[2*I]++):ht<=10?W.bl_tree[2*L]++:W.bl_tree[2*G]++,ht=0,ft=Ze,at===0?(Ct=138,Kt=3):Ze===at?(Ct=6,Kt=3):(Ct=7,Kt=4))}function st(W,de,ie){var _e,Ze,ft=-1,at=de[1],ht=0,Ct=7,Kt=4;for(at===0&&(Ct=138,Kt=3),_e=0;_e<=ie;_e++)if(Ze=at,at=de[2*(_e+1)+1],!(++ht<Ct&&Ze===at)){if(ht<Kt)do ke(W,Ze,W.bl_tree);while(--ht!=0);else Ze!==0?(Ze!==ft&&(ke(W,Ze,W.bl_tree),ht--),ke(W,I,W.bl_tree),pe(W,ht-3,2)):ht<=10?(ke(W,L,W.bl_tree),pe(W,ht-3,3)):(ke(W,G,W.bl_tree),pe(W,ht-11,7));ht=0,ft=Ze,at===0?(Ct=138,Kt=3):Ze===at?(Ct=6,Kt=3):(Ct=7,Kt=4)}}w(Pe);var Ge=!1;function N(W,de,ie,_e){pe(W,(r<<1)+(_e?1:0),3),function(Ze,ft,at,ht){Ue(Ze),ht&&(me(Ze,at),me(Ze,~at)),u.arraySet(Ze.pending_buf,Ze.window,ft,at,Ze.pending),Ze.pending+=at}(W,de,ie,!0)}p._tr_init=function(W){Ge||(function(){var de,ie,_e,Ze,ft,at=new Array(V+1);for(_e=0,Ze=0;Ze<A-1;Ze++)for(ye[Ze]=_e,de=0;de<1<<z[Ze];de++)ce[_e++]=Ze;for(ce[_e-1]=Ze,ft=0,Ze=0;Ze<16;Ze++)for(Pe[Ze]=ft,de=0;de<1<<B[Ze];de++)Ae[ft++]=Ze;for(ft>>=7;Ze<M;Ze++)for(Pe[Ze]=ft<<7,de=0;de<1<<B[Ze]-7;de++)Ae[256+ft++]=Ze;for(ie=0;ie<=V;ie++)at[ie]=0;for(de=0;de<=143;)H[2*de+1]=8,de++,at[8]++;for(;de<=255;)H[2*de+1]=9,de++,at[9]++;for(;de<=279;)H[2*de+1]=7,de++,at[7]++;for(;de<=287;)H[2*de+1]=8,de++,at[8]++;for(Z(H,E+1,at),de=0;de<M;de++)ne[2*de+1]=5,ne[2*de]=X(de,5);K=new Oe(H,z,x+1,E,V),j=new Oe(ne,B,0,M,V),ve=new Oe(new Array(0),Y,0,S,O)}(),Ge=!0),W.l_desc=new xe(W.dyn_ltree,K),W.d_desc=new xe(W.dyn_dtree,j),W.bl_desc=new xe(W.bl_tree,ve),W.bi_buf=0,W.bi_valid=0,ae(W)},p._tr_stored_block=N,p._tr_flush_block=function(W,de,ie,_e){var Ze,ft,at=0;W.level>0?(W.strm.data_type===m&&(W.strm.data_type=function(ht){var Ct,Kt=4093624447;for(Ct=0;Ct<=31;Ct++,Kt>>>=1)if(1&Kt&&ht.dyn_ltree[2*Ct]!==0)return P;if(ht.dyn_ltree[18]!==0||ht.dyn_ltree[20]!==0||ht.dyn_ltree[26]!==0)return U;for(Ct=32;Ct<x;Ct++)if(ht.dyn_ltree[2*Ct]!==0)return U;return P}(W)),ze(W,W.l_desc),ze(W,W.d_desc),at=function(ht){var Ct;for(nt(ht,ht.dyn_ltree,ht.l_desc.max_code),nt(ht,ht.dyn_dtree,ht.d_desc.max_code),ze(ht,ht.bl_desc),Ct=S-1;Ct>=3&&ht.bl_tree[2*q[Ct]+1]===0;Ct--);return ht.opt_len+=3*(Ct+1)+5+5+4,Ct}(W),Ze=W.opt_len+3+7>>>3,(ft=W.static_len+3+7>>>3)<=Ze&&(Ze=ft)):Ze=ft=ie+5,ie+4<=Ze&&de!==-1?N(W,de,ie,_e):W.strategy===f||ft===Ze?(pe(W,(b<<1)+(_e?1:0),3),ge(W,H,ne)):(pe(W,(C<<1)+(_e?1:0),3),function(ht,Ct,Kt,nn){var oe;for(pe(ht,Ct-257,5),pe(ht,Kt-1,5),pe(ht,nn-4,4),oe=0;oe<nn;oe++)pe(ht,ht.bl_tree[2*q[oe]+1],3);st(ht,ht.dyn_ltree,Ct-1),st(ht,ht.dyn_dtree,Kt-1)}(W,W.l_desc.max_code+1,W.d_desc.max_code+1,at+1),ge(W,W.dyn_ltree,W.dyn_dtree)),ae(W),_e&&Ue(W)},p._tr_tally=function(W,de,ie){return W.pending_buf[W.d_buf+2*W.last_lit]=de>>>8&255,W.pending_buf[W.d_buf+2*W.last_lit+1]=255&de,W.pending_buf[W.l_buf+W.last_lit]=255&ie,W.last_lit++,de===0?W.dyn_ltree[2*ie]++:(W.matches++,de--,W.dyn_ltree[2*(ce[ie]+x+1)]++,W.dyn_dtree[2*Ve(de)]++),W.last_lit===W.lit_bufsize-1},p._tr_align=function(W){pe(W,b<<1,3),ke(W,F,H),function(de){de.bi_valid===16?(me(de,de.bi_buf),de.bi_buf=0,de.bi_valid=0):de.bi_valid>=8&&(de.pending_buf[de.pending++]=255&de.bi_buf,de.bi_buf>>=8,de.bi_valid-=8)}(W)}},function(g,p,a){var u=a(205),f=a(55),P=a(121),U=a(123),m=a(110),w=a(122),r=a(208),b=Object.prototype.toString;function C(x){if(!(this instanceof C))return new C(x);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},x||{});var E=this.options;E.raw&&E.windowBits>=0&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),!(E.windowBits>=0&&E.windowBits<16)||x&&x.windowBits||(E.windowBits+=32),E.windowBits>15&&E.windowBits<48&&(15&E.windowBits)==0&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var M=u.inflateInit2(this.strm,E.windowBits);if(M!==U.Z_OK)throw new Error(m[M]);if(this.header=new r,u.inflateGetHeader(this.strm,this.header),E.dictionary&&(typeof E.dictionary=="string"?E.dictionary=P.string2buf(E.dictionary):b.call(E.dictionary)==="[object ArrayBuffer]"&&(E.dictionary=new Uint8Array(E.dictionary)),E.raw&&(M=u.inflateSetDictionary(this.strm,E.dictionary))!==U.Z_OK))throw new Error(m[M])}function A(x,E){var M=new C(E);if(M.push(x,!0),M.err)throw M.msg||m[M.err];return M.result}C.prototype.push=function(x,E){var M,S,D,V,d,O=this.strm,F=this.options.chunkSize,I=this.options.dictionary,L=!1;if(this.ended)return!1;S=E===~~E?E:E===!0?U.Z_FINISH:U.Z_NO_FLUSH,typeof x=="string"?O.input=P.binstring2buf(x):b.call(x)==="[object ArrayBuffer]"?O.input=new Uint8Array(x):O.input=x,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new f.Buf8(F),O.next_out=0,O.avail_out=F),(M=u.inflate(O,U.Z_NO_FLUSH))===U.Z_NEED_DICT&&I&&(M=u.inflateSetDictionary(this.strm,I)),M===U.Z_BUF_ERROR&&L===!0&&(M=U.Z_OK,L=!1),M!==U.Z_STREAM_END&&M!==U.Z_OK)return this.onEnd(M),this.ended=!0,!1;O.next_out&&(O.avail_out!==0&&M!==U.Z_STREAM_END&&(O.avail_in!==0||S!==U.Z_FINISH&&S!==U.Z_SYNC_FLUSH)||(this.options.to==="string"?(D=P.utf8border(O.output,O.next_out),V=O.next_out-D,d=P.buf2string(O.output,D),O.next_out=V,O.avail_out=F-V,V&&f.arraySet(O.output,O.output,D,V,0),this.onData(d)):this.onData(f.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(L=!0)}while((O.avail_in>0||O.avail_out===0)&&M!==U.Z_STREAM_END);return M===U.Z_STREAM_END&&(S=U.Z_FINISH),S===U.Z_FINISH?(M=u.inflateEnd(this.strm),this.onEnd(M),this.ended=!0,M===U.Z_OK):S!==U.Z_SYNC_FLUSH||(this.onEnd(U.Z_OK),O.avail_out=0,!0)},C.prototype.onData=function(x){this.chunks.push(x)},C.prototype.onEnd=function(x){x===U.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},p.Inflate=C,p.inflate=A,p.inflateRaw=function(x,E){return(E=E||{}).raw=!0,A(x,E)},p.ungzip=A},function(g,p,a){var u=a(55),f=a(119),P=a(120),U=a(206),m=a(207),w=0,r=1,b=2,C=4,A=5,x=6,E=0,M=1,S=2,D=-2,V=-3,d=-4,O=-5,F=8,I=1,L=2,G=3,z=4,B=5,Y=6,q=7,H=8,ne=9,Ae=10,ce=11,ye=12,K=13,j=14,ve=15,Pe=16,Oe=17,xe=18,Ve=19,me=20,pe=21,ke=22,X=23,Z=24,ae=25,Ue=26,Ie=27,le=28,ge=29,ze=30,nt=31,st=32,Ge=852,N=592,W=15;function de(oe){return(oe>>>24&255)+(oe>>>8&65280)+((65280&oe)<<8)+((255&oe)<<24)}function ie(oe){var St;return oe&&oe.state?(St=oe.state,oe.total_in=oe.total_out=St.total=0,oe.msg="",St.wrap&&(oe.adler=1&St.wrap),St.mode=I,St.last=0,St.havedict=0,St.dmax=32768,St.head=null,St.hold=0,St.bits=0,St.lencode=St.lendyn=new u.Buf32(Ge),St.distcode=St.distdyn=new u.Buf32(N),St.sane=1,St.back=-1,E):D}function _e(oe){var St;return oe&&oe.state?((St=oe.state).wsize=0,St.whave=0,St.wnext=0,ie(oe)):D}function Ze(oe,St){var Ce,He;return oe&&oe.state?(He=oe.state,St<0?(Ce=0,St=-St):(Ce=1+(St>>4),St<48&&(St&=15)),St&&(St<8||St>15)?D:(He.window!==null&&He.wbits!==St&&(He.window=null),He.wrap=Ce,He.wbits=St,_e(oe))):D}function ft(oe,St){var Ce,He;return oe?(He=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},oe.state=He,He.window=null,(Ce=Ze(oe,St))!==E&&(oe.state=null),Ce):D}var at,ht,Ct=!0;function Kt(oe){if(Ct){var St;for(at=new u.Buf32(512),ht=new u.Buf32(32),St=0;St<144;)oe.lens[St++]=8;for(;St<256;)oe.lens[St++]=9;for(;St<280;)oe.lens[St++]=7;for(;St<288;)oe.lens[St++]=8;for(m(r,oe.lens,0,288,at,0,oe.work,{bits:9}),St=0;St<32;)oe.lens[St++]=5;m(b,oe.lens,0,32,ht,0,oe.work,{bits:5}),Ct=!1}oe.lencode=at,oe.lenbits=9,oe.distcode=ht,oe.distbits=5}function nn(oe,St,Ce,He){var Nt,Dt=oe.state;return Dt.window===null&&(Dt.wsize=1<<Dt.wbits,Dt.wnext=0,Dt.whave=0,Dt.window=new u.Buf8(Dt.wsize)),He>=Dt.wsize?(u.arraySet(Dt.window,St,Ce-Dt.wsize,Dt.wsize,0),Dt.wnext=0,Dt.whave=Dt.wsize):((Nt=Dt.wsize-Dt.wnext)>He&&(Nt=He),u.arraySet(Dt.window,St,Ce-He,Nt,Dt.wnext),(He-=Nt)?(u.arraySet(Dt.window,St,Ce-He,He,0),Dt.wnext=He,Dt.whave=Dt.wsize):(Dt.wnext+=Nt,Dt.wnext===Dt.wsize&&(Dt.wnext=0),Dt.whave<Dt.wsize&&(Dt.whave+=Nt))),0}p.inflateReset=_e,p.inflateReset2=Ze,p.inflateResetKeep=ie,p.inflateInit=function(oe){return ft(oe,W)},p.inflateInit2=ft,p.inflate=function(oe,St){var Ce,He,Nt,Dt,On,Lt,An,dt,zt,ur,Be,wn,gr,Br,nr,J,Te,Me,Ke,rt,yt,Ot,cn,gn,Pn=0,kn=new u.Buf8(4),It=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!oe||!oe.state||!oe.output||!oe.input&&oe.avail_in!==0)return D;(Ce=oe.state).mode===ye&&(Ce.mode=K),On=oe.next_out,Nt=oe.output,An=oe.avail_out,Dt=oe.next_in,He=oe.input,Lt=oe.avail_in,dt=Ce.hold,zt=Ce.bits,ur=Lt,Be=An,Ot=E;e:for(;;)switch(Ce.mode){case I:if(Ce.wrap===0){Ce.mode=K;break}for(;zt<16;){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}if(2&Ce.wrap&&dt===35615){Ce.check=0,kn[0]=255&dt,kn[1]=dt>>>8&255,Ce.check=P(Ce.check,kn,2,0),dt=0,zt=0,Ce.mode=L;break}if(Ce.flags=0,Ce.head&&(Ce.head.done=!1),!(1&Ce.wrap)||(((255&dt)<<8)+(dt>>8))%31){oe.msg="incorrect header check",Ce.mode=ze;break}if((15&dt)!==F){oe.msg="unknown compression method",Ce.mode=ze;break}if(zt-=4,yt=8+(15&(dt>>>=4)),Ce.wbits===0)Ce.wbits=yt;else if(yt>Ce.wbits){oe.msg="invalid window size",Ce.mode=ze;break}Ce.dmax=1<<yt,oe.adler=Ce.check=1,Ce.mode=512&dt?Ae:ye,dt=0,zt=0;break;case L:for(;zt<16;){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}if(Ce.flags=dt,(255&Ce.flags)!==F){oe.msg="unknown compression method",Ce.mode=ze;break}if(57344&Ce.flags){oe.msg="unknown header flags set",Ce.mode=ze;break}Ce.head&&(Ce.head.text=dt>>8&1),512&Ce.flags&&(kn[0]=255&dt,kn[1]=dt>>>8&255,Ce.check=P(Ce.check,kn,2,0)),dt=0,zt=0,Ce.mode=G;case G:for(;zt<32;){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}Ce.head&&(Ce.head.time=dt),512&Ce.flags&&(kn[0]=255&dt,kn[1]=dt>>>8&255,kn[2]=dt>>>16&255,kn[3]=dt>>>24&255,Ce.check=P(Ce.check,kn,4,0)),dt=0,zt=0,Ce.mode=z;case z:for(;zt<16;){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}Ce.head&&(Ce.head.xflags=255&dt,Ce.head.os=dt>>8),512&Ce.flags&&(kn[0]=255&dt,kn[1]=dt>>>8&255,Ce.check=P(Ce.check,kn,2,0)),dt=0,zt=0,Ce.mode=B;case B:if(1024&Ce.flags){for(;zt<16;){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}Ce.length=dt,Ce.head&&(Ce.head.extra_len=dt),512&Ce.flags&&(kn[0]=255&dt,kn[1]=dt>>>8&255,Ce.check=P(Ce.check,kn,2,0)),dt=0,zt=0}else Ce.head&&(Ce.head.extra=null);Ce.mode=Y;case Y:if(1024&Ce.flags&&((wn=Ce.length)>Lt&&(wn=Lt),wn&&(Ce.head&&(yt=Ce.head.extra_len-Ce.length,Ce.head.extra||(Ce.head.extra=new Array(Ce.head.extra_len)),u.arraySet(Ce.head.extra,He,Dt,wn,yt)),512&Ce.flags&&(Ce.check=P(Ce.check,He,wn,Dt)),Lt-=wn,Dt+=wn,Ce.length-=wn),Ce.length))break e;Ce.length=0,Ce.mode=q;case q:if(2048&Ce.flags){if(Lt===0)break e;wn=0;do yt=He[Dt+wn++],Ce.head&&yt&&Ce.length<65536&&(Ce.head.name+=String.fromCharCode(yt));while(yt&&wn<Lt);if(512&Ce.flags&&(Ce.check=P(Ce.check,He,wn,Dt)),Lt-=wn,Dt+=wn,yt)break e}else Ce.head&&(Ce.head.name=null);Ce.length=0,Ce.mode=H;case H:if(4096&Ce.flags){if(Lt===0)break e;wn=0;do yt=He[Dt+wn++],Ce.head&&yt&&Ce.length<65536&&(Ce.head.comment+=String.fromCharCode(yt));while(yt&&wn<Lt);if(512&Ce.flags&&(Ce.check=P(Ce.check,He,wn,Dt)),Lt-=wn,Dt+=wn,yt)break e}else Ce.head&&(Ce.head.comment=null);Ce.mode=ne;case ne:if(512&Ce.flags){for(;zt<16;){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}if(dt!==(65535&Ce.check)){oe.msg="header crc mismatch",Ce.mode=ze;break}dt=0,zt=0}Ce.head&&(Ce.head.hcrc=Ce.flags>>9&1,Ce.head.done=!0),oe.adler=Ce.check=0,Ce.mode=ye;break;case Ae:for(;zt<32;){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}oe.adler=Ce.check=de(dt),dt=0,zt=0,Ce.mode=ce;case ce:if(Ce.havedict===0)return oe.next_out=On,oe.avail_out=An,oe.next_in=Dt,oe.avail_in=Lt,Ce.hold=dt,Ce.bits=zt,S;oe.adler=Ce.check=1,Ce.mode=ye;case ye:if(St===A||St===x)break e;case K:if(Ce.last){dt>>>=7&zt,zt-=7&zt,Ce.mode=Ie;break}for(;zt<3;){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}switch(Ce.last=1&dt,zt-=1,3&(dt>>>=1)){case 0:Ce.mode=j;break;case 1:if(Kt(Ce),Ce.mode=me,St===x){dt>>>=2,zt-=2;break e}break;case 2:Ce.mode=Oe;break;case 3:oe.msg="invalid block type",Ce.mode=ze}dt>>>=2,zt-=2;break;case j:for(dt>>>=7&zt,zt-=7&zt;zt<32;){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}if((65535&dt)!=(dt>>>16^65535)){oe.msg="invalid stored block lengths",Ce.mode=ze;break}if(Ce.length=65535&dt,dt=0,zt=0,Ce.mode=ve,St===x)break e;case ve:Ce.mode=Pe;case Pe:if(wn=Ce.length){if(wn>Lt&&(wn=Lt),wn>An&&(wn=An),wn===0)break e;u.arraySet(Nt,He,Dt,wn,On),Lt-=wn,Dt+=wn,An-=wn,On+=wn,Ce.length-=wn;break}Ce.mode=ye;break;case Oe:for(;zt<14;){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}if(Ce.nlen=257+(31&dt),dt>>>=5,zt-=5,Ce.ndist=1+(31&dt),dt>>>=5,zt-=5,Ce.ncode=4+(15&dt),dt>>>=4,zt-=4,Ce.nlen>286||Ce.ndist>30){oe.msg="too many length or distance symbols",Ce.mode=ze;break}Ce.have=0,Ce.mode=xe;case xe:for(;Ce.have<Ce.ncode;){for(;zt<3;){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}Ce.lens[It[Ce.have++]]=7&dt,dt>>>=3,zt-=3}for(;Ce.have<19;)Ce.lens[It[Ce.have++]]=0;if(Ce.lencode=Ce.lendyn,Ce.lenbits=7,cn={bits:Ce.lenbits},Ot=m(w,Ce.lens,0,19,Ce.lencode,0,Ce.work,cn),Ce.lenbits=cn.bits,Ot){oe.msg="invalid code lengths set",Ce.mode=ze;break}Ce.have=0,Ce.mode=Ve;case Ve:for(;Ce.have<Ce.nlen+Ce.ndist;){for(;J=(Pn=Ce.lencode[dt&(1<<Ce.lenbits)-1])>>>16&255,Te=65535&Pn,!((nr=Pn>>>24)<=zt);){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}if(Te<16)dt>>>=nr,zt-=nr,Ce.lens[Ce.have++]=Te;else{if(Te===16){for(gn=nr+2;zt<gn;){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}if(dt>>>=nr,zt-=nr,Ce.have===0){oe.msg="invalid bit length repeat",Ce.mode=ze;break}yt=Ce.lens[Ce.have-1],wn=3+(3&dt),dt>>>=2,zt-=2}else if(Te===17){for(gn=nr+3;zt<gn;){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}zt-=nr,yt=0,wn=3+(7&(dt>>>=nr)),dt>>>=3,zt-=3}else{for(gn=nr+7;zt<gn;){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}zt-=nr,yt=0,wn=11+(127&(dt>>>=nr)),dt>>>=7,zt-=7}if(Ce.have+wn>Ce.nlen+Ce.ndist){oe.msg="invalid bit length repeat",Ce.mode=ze;break}for(;wn--;)Ce.lens[Ce.have++]=yt}}if(Ce.mode===ze)break;if(Ce.lens[256]===0){oe.msg="invalid code -- missing end-of-block",Ce.mode=ze;break}if(Ce.lenbits=9,cn={bits:Ce.lenbits},Ot=m(r,Ce.lens,0,Ce.nlen,Ce.lencode,0,Ce.work,cn),Ce.lenbits=cn.bits,Ot){oe.msg="invalid literal/lengths set",Ce.mode=ze;break}if(Ce.distbits=6,Ce.distcode=Ce.distdyn,cn={bits:Ce.distbits},Ot=m(b,Ce.lens,Ce.nlen,Ce.ndist,Ce.distcode,0,Ce.work,cn),Ce.distbits=cn.bits,Ot){oe.msg="invalid distances set",Ce.mode=ze;break}if(Ce.mode=me,St===x)break e;case me:Ce.mode=pe;case pe:if(Lt>=6&&An>=258){oe.next_out=On,oe.avail_out=An,oe.next_in=Dt,oe.avail_in=Lt,Ce.hold=dt,Ce.bits=zt,U(oe,Be),On=oe.next_out,Nt=oe.output,An=oe.avail_out,Dt=oe.next_in,He=oe.input,Lt=oe.avail_in,dt=Ce.hold,zt=Ce.bits,Ce.mode===ye&&(Ce.back=-1);break}for(Ce.back=0;J=(Pn=Ce.lencode[dt&(1<<Ce.lenbits)-1])>>>16&255,Te=65535&Pn,!((nr=Pn>>>24)<=zt);){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}if(J&&(240&J)==0){for(Me=nr,Ke=J,rt=Te;J=(Pn=Ce.lencode[rt+((dt&(1<<Me+Ke)-1)>>Me)])>>>16&255,Te=65535&Pn,!(Me+(nr=Pn>>>24)<=zt);){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}dt>>>=Me,zt-=Me,Ce.back+=Me}if(dt>>>=nr,zt-=nr,Ce.back+=nr,Ce.length=Te,J===0){Ce.mode=Ue;break}if(32&J){Ce.back=-1,Ce.mode=ye;break}if(64&J){oe.msg="invalid literal/length code",Ce.mode=ze;break}Ce.extra=15&J,Ce.mode=ke;case ke:if(Ce.extra){for(gn=Ce.extra;zt<gn;){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}Ce.length+=dt&(1<<Ce.extra)-1,dt>>>=Ce.extra,zt-=Ce.extra,Ce.back+=Ce.extra}Ce.was=Ce.length,Ce.mode=X;case X:for(;J=(Pn=Ce.distcode[dt&(1<<Ce.distbits)-1])>>>16&255,Te=65535&Pn,!((nr=Pn>>>24)<=zt);){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}if((240&J)==0){for(Me=nr,Ke=J,rt=Te;J=(Pn=Ce.distcode[rt+((dt&(1<<Me+Ke)-1)>>Me)])>>>16&255,Te=65535&Pn,!(Me+(nr=Pn>>>24)<=zt);){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}dt>>>=Me,zt-=Me,Ce.back+=Me}if(dt>>>=nr,zt-=nr,Ce.back+=nr,64&J){oe.msg="invalid distance code",Ce.mode=ze;break}Ce.offset=Te,Ce.extra=15&J,Ce.mode=Z;case Z:if(Ce.extra){for(gn=Ce.extra;zt<gn;){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}Ce.offset+=dt&(1<<Ce.extra)-1,dt>>>=Ce.extra,zt-=Ce.extra,Ce.back+=Ce.extra}if(Ce.offset>Ce.dmax){oe.msg="invalid distance too far back",Ce.mode=ze;break}Ce.mode=ae;case ae:if(An===0)break e;if(wn=Be-An,Ce.offset>wn){if((wn=Ce.offset-wn)>Ce.whave&&Ce.sane){oe.msg="invalid distance too far back",Ce.mode=ze;break}wn>Ce.wnext?(wn-=Ce.wnext,gr=Ce.wsize-wn):gr=Ce.wnext-wn,wn>Ce.length&&(wn=Ce.length),Br=Ce.window}else Br=Nt,gr=On-Ce.offset,wn=Ce.length;wn>An&&(wn=An),An-=wn,Ce.length-=wn;do Nt[On++]=Br[gr++];while(--wn);Ce.length===0&&(Ce.mode=pe);break;case Ue:if(An===0)break e;Nt[On++]=Ce.length,An--,Ce.mode=pe;break;case Ie:if(Ce.wrap){for(;zt<32;){if(Lt===0)break e;Lt--,dt|=He[Dt++]<<zt,zt+=8}if(Be-=An,oe.total_out+=Be,Ce.total+=Be,Be&&(oe.adler=Ce.check=Ce.flags?P(Ce.check,Nt,Be,On-Be):f(Ce.check,Nt,Be,On-Be)),Be=An,(Ce.flags?dt:de(dt))!==Ce.check){oe.msg="incorrect data check",Ce.mode=ze;break}dt=0,zt=0}Ce.mode=le;case le:if(Ce.wrap&&Ce.flags){for(;zt<32;){if(Lt===0)break e;Lt--,dt+=He[Dt++]<<zt,zt+=8}if(dt!==(4294967295&Ce.total)){oe.msg="incorrect length check",Ce.mode=ze;break}dt=0,zt=0}Ce.mode=ge;case ge:Ot=M;break e;case ze:Ot=V;break e;case nt:return d;case st:default:return D}return oe.next_out=On,oe.avail_out=An,oe.next_in=Dt,oe.avail_in=Lt,Ce.hold=dt,Ce.bits=zt,(Ce.wsize||Be!==oe.avail_out&&Ce.mode<ze&&(Ce.mode<Ie||St!==C))&&nn(oe,oe.output,oe.next_out,Be-oe.avail_out)?(Ce.mode=nt,d):(ur-=oe.avail_in,Be-=oe.avail_out,oe.total_in+=ur,oe.total_out+=Be,Ce.total+=Be,Ce.wrap&&Be&&(oe.adler=Ce.check=Ce.flags?P(Ce.check,Nt,Be,oe.next_out-Be):f(Ce.check,Nt,Be,oe.next_out-Be)),oe.data_type=Ce.bits+(Ce.last?64:0)+(Ce.mode===ye?128:0)+(Ce.mode===me||Ce.mode===ve?256:0),(ur===0&&Be===0||St===C)&&Ot===E&&(Ot=O),Ot)},p.inflateEnd=function(oe){if(!oe||!oe.state)return D;var St=oe.state;return St.window&&(St.window=null),oe.state=null,E},p.inflateGetHeader=function(oe,St){var Ce;return oe&&oe.state?(2&(Ce=oe.state).wrap)==0?D:(Ce.head=St,St.done=!1,E):D},p.inflateSetDictionary=function(oe,St){var Ce,He=St.length;return oe&&oe.state?(Ce=oe.state).wrap!==0&&Ce.mode!==ce?D:Ce.mode===ce&&f(1,St,He,0)!==Ce.check?V:nn(oe,St,He,He)?(Ce.mode=nt,d):(Ce.havedict=1,E):D},p.inflateInfo="pako inflate (from Nodeca project)"},function(g,p,a){g.exports=function(u,f){var P,U,m,w,r,b,C,A,x,E,M,S,D,V,d,O,F,I,L,G,z,B,Y,q,H;P=u.state,U=u.next_in,q=u.input,m=U+(u.avail_in-5),w=u.next_out,H=u.output,r=w-(f-u.avail_out),b=w+(u.avail_out-257),C=P.dmax,A=P.wsize,x=P.whave,E=P.wnext,M=P.window,S=P.hold,D=P.bits,V=P.lencode,d=P.distcode,O=(1<<P.lenbits)-1,F=(1<<P.distbits)-1;e:do{D<15&&(S+=q[U++]<<D,D+=8,S+=q[U++]<<D,D+=8),I=V[S&O];t:for(;;){if(S>>>=L=I>>>24,D-=L,(L=I>>>16&255)===0)H[w++]=65535&I;else{if(!(16&L)){if((64&L)==0){I=V[(65535&I)+(S&(1<<L)-1)];continue t}if(32&L){P.mode=12;break e}u.msg="invalid literal/length code",P.mode=30;break e}G=65535&I,(L&=15)&&(D<L&&(S+=q[U++]<<D,D+=8),G+=S&(1<<L)-1,S>>>=L,D-=L),D<15&&(S+=q[U++]<<D,D+=8,S+=q[U++]<<D,D+=8),I=d[S&F];n:for(;;){if(S>>>=L=I>>>24,D-=L,!(16&(L=I>>>16&255))){if((64&L)==0){I=d[(65535&I)+(S&(1<<L)-1)];continue n}u.msg="invalid distance code",P.mode=30;break e}if(z=65535&I,D<(L&=15)&&(S+=q[U++]<<D,(D+=8)<L&&(S+=q[U++]<<D,D+=8)),(z+=S&(1<<L)-1)>C){u.msg="invalid distance too far back",P.mode=30;break e}if(S>>>=L,D-=L,z>(L=w-r)){if((L=z-L)>x&&P.sane){u.msg="invalid distance too far back",P.mode=30;break e}if(B=0,Y=M,E===0){if(B+=A-L,L<G){G-=L;do H[w++]=M[B++];while(--L);B=w-z,Y=H}}else if(E<L){if(B+=A+E-L,(L-=E)<G){G-=L;do H[w++]=M[B++];while(--L);if(B=0,E<G){G-=L=E;do H[w++]=M[B++];while(--L);B=w-z,Y=H}}}else if(B+=E-L,L<G){G-=L;do H[w++]=M[B++];while(--L);B=w-z,Y=H}for(;G>2;)H[w++]=Y[B++],H[w++]=Y[B++],H[w++]=Y[B++],G-=3;G&&(H[w++]=Y[B++],G>1&&(H[w++]=Y[B++]))}else{B=w-z;do H[w++]=H[B++],H[w++]=H[B++],H[w++]=H[B++],G-=3;while(G>2);G&&(H[w++]=H[B++],G>1&&(H[w++]=H[B++]))}break}}break}}while(U<m&&w<b);U-=G=D>>3,S&=(1<<(D-=G<<3))-1,u.next_in=U,u.next_out=w,u.avail_in=U<m?m-U+5:5-(U-m),u.avail_out=w<b?b-w+257:257-(w-b),P.hold=S,P.bits=D}},function(g,p,a){var u=a(55),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],P=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(w,r,b,C,A,x,E,M){var S,D,V,d,O,F,I,L,G,z=M.bits,B=0,Y=0,q=0,H=0,ne=0,Ae=0,ce=0,ye=0,K=0,j=0,ve=null,Pe=0,Oe=new u.Buf16(16),xe=new u.Buf16(16),Ve=null,me=0;for(B=0;B<=15;B++)Oe[B]=0;for(Y=0;Y<C;Y++)Oe[r[b+Y]]++;for(ne=z,H=15;H>=1&&Oe[H]===0;H--);if(ne>H&&(ne=H),H===0)return A[x++]=20971520,A[x++]=20971520,M.bits=1,0;for(q=1;q<H&&Oe[q]===0;q++);for(ne<q&&(ne=q),ye=1,B=1;B<=15;B++)if(ye<<=1,(ye-=Oe[B])<0)return-1;if(ye>0&&(w===0||H!==1))return-1;for(xe[1]=0,B=1;B<15;B++)xe[B+1]=xe[B]+Oe[B];for(Y=0;Y<C;Y++)r[b+Y]!==0&&(E[xe[r[b+Y]]++]=Y);if(w===0?(ve=Ve=E,F=19):w===1?(ve=f,Pe-=257,Ve=P,me-=257,F=256):(ve=U,Ve=m,F=-1),j=0,Y=0,B=q,O=x,Ae=ne,ce=0,V=-1,d=(K=1<<ne)-1,w===1&&K>852||w===2&&K>592)return 1;for(;;){I=B-ce,E[Y]<F?(L=0,G=E[Y]):E[Y]>F?(L=Ve[me+E[Y]],G=ve[Pe+E[Y]]):(L=96,G=0),S=1<<B-ce,q=D=1<<Ae;do A[O+(j>>ce)+(D-=S)]=I<<24|L<<16|G|0;while(D!==0);for(S=1<<B-1;j&S;)S>>=1;if(S!==0?(j&=S-1,j+=S):j=0,Y++,--Oe[B]==0){if(B===H)break;B=r[b+E[Y]]}if(B>ne&&(j&d)!==V){for(ce===0&&(ce=ne),O+=q,ye=1<<(Ae=B-ce);Ae+ce<H&&!((ye-=Oe[Ae+ce])<=0);)Ae++,ye<<=1;if(K+=1<<Ae,w===1&&K>852||w===2&&K>592)return 1;A[V=j&d]=ne<<24|Ae<<16|O-x|0}}return j!==0&&(A[O+j]=B-ce<<24|64<<16|0),M.bits=ne,0}},function(g,p,a){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(g,p){g.exports=class{constructor(){Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}emit(a,...u){if(!this.__listeners[a])return this;for(const f of this.__listeners[a])f(...u);return this}once(a,u){const f=(...P)=>{this.off(a,f),u(...P)};return this.on(a,f)}on(a,u){return this.__listeners[a]||(this.__listeners[a]=[]),this.__listeners[a].push(u),this}off(a,u){return this.__listeners[a]=u?this.__listeners[a].filter(f=>f!==u):[],this}}},function(g,p,a){var u=a(30),f=a(124),P=a(211),U=a(130);function m(r){var b=new P(r),C=f(P.prototype.request,b);return u.extend(C,P.prototype,b),u.extend(C,b),C}var w=m(a(127));w.Axios=P,w.create=function(r){return m(U(w.defaults,r))},w.Cancel=a(131),w.CancelToken=a(224),w.isCancel=a(126),w.all=function(r){return Promise.all(r)},w.spread=a(225),w.isAxiosError=a(226),g.exports=w,g.exports.default=w},function(g,p,a){var u=a(30),f=a(125),P=a(212),U=a(213),m=a(130);function w(r){this.defaults=r,this.interceptors={request:new P,response:new P}}w.prototype.request=function(r){typeof r=="string"?(r=arguments[1]||{}).url=arguments[0]:r=r||{},(r=m(this.defaults,r)).method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var b=[U,void 0],C=Promise.resolve(r);for(this.interceptors.request.forEach(function(A){b.unshift(A.fulfilled,A.rejected)}),this.interceptors.response.forEach(function(A){b.push(A.fulfilled,A.rejected)});b.length;)C=C.then(b.shift(),b.shift());return C},w.prototype.getUri=function(r){return r=m(this.defaults,r),f(r.url,r.params,r.paramsSerializer).replace(/^\?/,"")},u.forEach(["delete","get","head","options"],function(r){w.prototype[r]=function(b,C){return this.request(m(C||{},{method:r,url:b,data:(C||{}).data}))}}),u.forEach(["post","put","patch"],function(r){w.prototype[r]=function(b,C,A){return this.request(m(A||{},{method:r,url:b,data:C}))}}),g.exports=w},function(g,p,a){var u=a(30);function f(){this.handlers=[]}f.prototype.use=function(P,U){return this.handlers.push({fulfilled:P,rejected:U}),this.handlers.length-1},f.prototype.eject=function(P){this.handlers[P]&&(this.handlers[P]=null)},f.prototype.forEach=function(P){u.forEach(this.handlers,function(U){U!==null&&P(U)})},g.exports=f},function(g,p,a){var u=a(30),f=a(214),P=a(126),U=a(127);function m(w){w.cancelToken&&w.cancelToken.throwIfRequested()}g.exports=function(w){return m(w),w.headers=w.headers||{},w.data=f(w.data,w.headers,w.transformRequest),w.headers=u.merge(w.headers.common||{},w.headers[w.method]||{},w.headers),u.forEach(["delete","get","head","post","put","patch","common"],function(r){delete w.headers[r]}),(w.adapter||U.adapter)(w).then(function(r){return m(w),r.data=f(r.data,r.headers,w.transformResponse),r},function(r){return P(r)||(m(w),r&&r.response&&(r.response.data=f(r.response.data,r.response.headers,w.transformResponse))),Promise.reject(r)})}},function(g,p,a){var u=a(30);g.exports=function(f,P,U){return u.forEach(U,function(m){f=m(f,P)}),f}},function(g,p,a){var u=a(30);g.exports=function(f,P){u.forEach(f,function(U,m){m!==P&&m.toUpperCase()===P.toUpperCase()&&(f[P]=U,delete f[m])})}},function(g,p,a){var u=a(129);g.exports=function(f,P,U){var m=U.config.validateStatus;U.status&&m&&!m(U.status)?P(u("Request failed with status code "+U.status,U.config,null,U.request,U)):f(U)}},function(g,p,a){g.exports=function(u,f,P,U,m){return u.config=f,P&&(u.code=P),u.request=U,u.response=m,u.isAxiosError=!0,u.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},u}},function(g,p,a){var u=a(30);g.exports=u.isStandardBrowserEnv()?{write:function(f,P,U,m,w,r){var b=[];b.push(f+"="+encodeURIComponent(P)),u.isNumber(U)&&b.push("expires="+new Date(U).toGMTString()),u.isString(m)&&b.push("path="+m),u.isString(w)&&b.push("domain="+w),r===!0&&b.push("secure"),document.cookie=b.join("; ")},read:function(f){var P=document.cookie.match(new RegExp("(^|;\\s*)("+f+")=([^;]*)"));return P?decodeURIComponent(P[3]):null},remove:function(f){this.write(f,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(g,p,a){var u=a(220),f=a(221);g.exports=function(P,U){return P&&!u(U)?f(P,U):U}},function(g,p,a){g.exports=function(u){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(u)}},function(g,p,a){g.exports=function(u,f){return f?u.replace(/\/+$/,"")+"/"+f.replace(/^\/+/,""):u}},function(g,p,a){var u=a(30),f=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];g.exports=function(P){var U,m,w,r={};return P&&u.forEach(P.split(`
`),function(b){if(w=b.indexOf(":"),U=u.trim(b.substr(0,w)).toLowerCase(),m=u.trim(b.substr(w+1)),U){if(r[U]&&f.indexOf(U)>=0)return;r[U]=U==="set-cookie"?(r[U]?r[U]:[]).concat([m]):r[U]?r[U]+", "+m:m}}),r}},function(g,p,a){var u=a(30);g.exports=u.isStandardBrowserEnv()?function(){var f,P=/(msie|trident)/i.test(navigator.userAgent),U=document.createElement("a");function m(w){var r=w;return P&&(U.setAttribute("href",r),r=U.href),U.setAttribute("href",r),{href:U.href,protocol:U.protocol?U.protocol.replace(/:$/,""):"",host:U.host,search:U.search?U.search.replace(/^\?/,""):"",hash:U.hash?U.hash.replace(/^#/,""):"",hostname:U.hostname,port:U.port,pathname:U.pathname.charAt(0)==="/"?U.pathname:"/"+U.pathname}}return f=m(window.location.href),function(w){var r=u.isString(w)?m(w):w;return r.protocol===f.protocol&&r.host===f.host}}():function(){return!0}},function(g,p,a){var u=a(131);function f(P){if(typeof P!="function")throw new TypeError("executor must be a function.");var U;this.promise=new Promise(function(w){U=w});var m=this;P(function(w){m.reason||(m.reason=new u(w),U(m.reason))})}f.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},f.source=function(){var P;return{token:new f(function(U){P=U}),cancel:P}},g.exports=f},function(g,p,a){g.exports=function(u){return function(f){return u.apply(null,f)}}},function(g,p,a){g.exports=function(u){return typeof u=="object"&&u.isAxiosError===!0}},function(g,p){g.exports=function(a,u){if(a==null)return{};var f,P,U={},m=Object.keys(a);for(P=0;P<m.length;P++)f=m[P],u.indexOf(f)>=0||(U[f]=a[f]);return U},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p,a){var u=a(117);g.exports=function(f){if(Array.isArray(f))return u(f)},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p){g.exports=function(a){if(typeof Symbol!="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p){g.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p,a){var u=a(232),f=a(92);g.exports=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new u;this.imageType=P,this.name="Image";var U=P.dimension;this.origin=new Array(U),this.origin.fill(0),this.spacing=new Array(U),this.spacing.fill(1),this.direction=new f(U,U),this.direction.setIdentity(),this.size=new Array(U),this.size.fill(0),this.data=null}},function(g,p,a){var u=a(38),f=a(43);g.exports=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:2,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.UInt8,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.Scalar,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;this.dimension=P,this.componentType=U,this.pixelType=m,this.components=w}},function(g,p,a){var u=a(0),f=a(8),P=a(17),U=a(46);function m(A){return function(x){if(Array.isArray(x))return w(x)}(A)||function(x){if(typeof Symbol!="undefined"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}(A)||function(x,E){if(!!x){if(typeof x=="string")return w(x,E);var M=Object.prototype.toString.call(x).slice(8,-1);if(M==="Object"&&x.constructor&&(M=x.constructor.name),M==="Map"||M==="Set")return Array.from(x);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return w(x,E)}}(A)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function w(A,x){(x==null||x>A.length)&&(x=A.length);for(var E=0,M=new Array(x);E<x;E++)M[E]=A[E];return M}function r(A,x){x.classHierarchy.push("vtkXMLPolyDataReader"),A.parseXML=function(E,M,S,D,V){var d=E.getElementsByTagName(x.dataType)[0],O=d.getElementsByTagName("FieldData")[0],F=d.getElementsByTagName("Piece"),I=F.length,L=[];O&&(L=m(O.getElementsByTagName("DataArray")).map(function(B){return function(Y,q,H,ne,Ae){var ce=Number(Y.getAttribute("NumberOfTuples"));return f.a.newInstance(U.a.processDataArray(ce,Y,q,H,ne,Ae))}(B,S,D,V,x.binaryBuffer)}));for(var G=function(B){var Y=P.a.newInstance(),q=F[B],H=function(ye,K,j,ve,Pe,Oe,xe){var Ve=Number(j.getAttribute("NumberOf".concat(K)));if(Ve>0){var me=j.getElementsByTagName(K)[0].getElementsByTagName("DataArray")[0],pe=U.a.processDataArray(Ve,me,ve,Pe,Oe,xe),ke=pe.values,X=pe.numberOfComponents;ye["get".concat(K)]().setData(ke,X)}return Ve}(Y,"Points",q,S,D,V,x.binaryBuffer),ne=0;["Verts","Lines","Strips","Polys"].forEach(function(ye){ne+=function(K,j,ve,Pe,Oe,xe,Ve){var me=Number(ve.getAttribute("NumberOf".concat(j)));if(me>0){var pe=U.a.processCells(me,ve.getElementsByTagName(j)[0],Pe,Oe,xe,Ve);K["get".concat(j)]().setData(pe)}return me}(Y,ye,q,S,D,V,x.binaryBuffer)}),U.a.processFieldData(H,q.getElementsByTagName("PointData")[0],Y.getPointData(),S,D,V,x.binaryBuffer),U.a.processFieldData(ne,q.getElementsByTagName("CellData")[0],Y.getCellData(),S,D,V,x.binaryBuffer);for(var Ae=Y.getFieldData(),ce=0;ce<L.length;ce++)Ae.addArray(L[ce]);x.output[B]=Y},z=0;z<I;z++)G(z)}}var b={dataType:"PolyData"};function C(A,x){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(x,b,E),U.a.extend(A,x,E),r(A,x)}u.b.newInstance(C,"vtkXMLPolyDataReader")},function(g,p,a){(function(u){var f;(function(P,U,m){function w(C){var A=this,x=function(){var E=4022871197;return function(M){M=String(M);for(var S=0;S<M.length;S++){var D=.02519603282416938*(E+=M.charCodeAt(S));D-=E=D>>>0,E=(D*=E)>>>0,E+=4294967296*(D-=E)}return 23283064365386963e-26*(E>>>0)}}();A.next=function(){var E=2091639*A.s0+23283064365386963e-26*A.c;return A.s0=A.s1,A.s1=A.s2,A.s2=E-(A.c=0|E)},A.c=1,A.s0=x(" "),A.s1=x(" "),A.s2=x(" "),A.s0-=x(C),A.s0<0&&(A.s0+=1),A.s1-=x(C),A.s1<0&&(A.s1+=1),A.s2-=x(C),A.s2<0&&(A.s2+=1),x=null}function r(C,A){return A.c=C.c,A.s0=C.s0,A.s1=C.s1,A.s2=C.s2,A}function b(C,A){var x=new w(C),E=A&&A.state,M=x.next;return M.int32=function(){return 4294967296*x.next()|0},M.double=function(){return M()+11102230246251565e-32*(2097152*M()|0)},M.quick=M,E&&(typeof E=="object"&&r(E,x),M.state=function(){return r(x,{})}),M}U&&U.exports?U.exports=b:a(41)&&a(69)?(f=function(){return b}.call(p,a,p,U))===void 0||(U.exports=f):this.alea=b})(0,u,a(41))}).call(this,a(61)(g))},function(g,p,a){(function(u){var f;(function(P,U,m){function w(b,C){return C.x=b.x,C.y=b.y,C.z=b.z,C.w=b.w,C}function r(b,C){var A=new function(M){var S=this,D="";S.x=0,S.y=0,S.z=0,S.w=0,S.next=function(){var d=S.x^S.x<<11;return S.x=S.y,S.y=S.z,S.z=S.w,S.w^=S.w>>>19^d^d>>>8},M===(0|M)?S.x=M:D+=M;for(var V=0;V<D.length+64;V++)S.x^=0|D.charCodeAt(V),S.next()}(b),x=C&&C.state,E=function(){return(A.next()>>>0)/4294967296};return E.double=function(){do var M=((A.next()>>>11)+(A.next()>>>0)/4294967296)/2097152;while(M===0);return M},E.int32=A.next,E.quick=E,x&&(typeof x=="object"&&w(x,A),E.state=function(){return w(A,{})}),E}U&&U.exports?U.exports=r:a(41)&&a(69)?(f=function(){return r}.call(p,a,p,U))===void 0||(U.exports=f):this.xor128=r})(0,u,a(41))}).call(this,a(61)(g))},function(g,p,a){(function(u){var f;(function(P,U,m){function w(b,C){return C.x=b.x,C.y=b.y,C.z=b.z,C.w=b.w,C.v=b.v,C.d=b.d,C}function r(b,C){var A=new function(M){var S=this,D="";S.next=function(){var d=S.x^S.x>>>2;return S.x=S.y,S.y=S.z,S.z=S.w,S.w=S.v,(S.d=S.d+362437|0)+(S.v=S.v^S.v<<4^d^d<<1)|0},S.x=0,S.y=0,S.z=0,S.w=0,S.v=0,M===(0|M)?S.x=M:D+=M;for(var V=0;V<D.length+64;V++)S.x^=0|D.charCodeAt(V),V==D.length&&(S.d=S.x<<10^S.x>>>4),S.next()}(b),x=C&&C.state,E=function(){return(A.next()>>>0)/4294967296};return E.double=function(){do var M=((A.next()>>>11)+(A.next()>>>0)/4294967296)/2097152;while(M===0);return M},E.int32=A.next,E.quick=E,x&&(typeof x=="object"&&w(x,A),E.state=function(){return w(A,{})}),E}U&&U.exports?U.exports=r:a(41)&&a(69)?(f=function(){return r}.call(p,a,p,U))===void 0||(U.exports=f):this.xorwow=r})(0,u,a(41))}).call(this,a(61)(g))},function(g,p,a){(function(u){var f;(function(P,U,m){function w(b,C){return C.x=b.x.slice(),C.i=b.i,C}function r(b,C){b==null&&(b=+new Date);var A=new function(M){var S=this;S.next=function(){var D,V,d=S.x,O=S.i;return D=d[O],V=(D^=D>>>7)^D<<24,V^=(D=d[O+1&7])^D>>>10,V^=(D=d[O+3&7])^D>>>3,V^=(D=d[O+4&7])^D<<7,D=d[O+7&7],V^=(D^=D<<13)^D<<9,d[O]=V,S.i=O+1&7,V},function(D,V){var d,O=[];if(V===(0|V))O[0]=V;else for(V=""+V,d=0;d<V.length;++d)O[7&d]=O[7&d]<<15^V.charCodeAt(d)+O[d+1&7]<<13;for(;O.length<8;)O.push(0);for(d=0;d<8&&O[d]===0;++d);for(d==8?O[7]=-1:O[d],D.x=O,D.i=0,d=256;d>0;--d)D.next()}(S,M)}(b),x=C&&C.state,E=function(){return(A.next()>>>0)/4294967296};return E.double=function(){do var M=((A.next()>>>11)+(A.next()>>>0)/4294967296)/2097152;while(M===0);return M},E.int32=A.next,E.quick=E,x&&(x.x&&w(x,A),E.state=function(){return w(A,{})}),E}U&&U.exports?U.exports=r:a(41)&&a(69)?(f=function(){return r}.call(p,a,p,U))===void 0||(U.exports=f):this.xorshift7=r})(0,u,a(41))}).call(this,a(61)(g))},function(g,p,a){(function(u){var f;(function(P,U,m){function w(b,C){return C.i=b.i,C.w=b.w,C.X=b.X.slice(),C}function r(b,C){b==null&&(b=+new Date);var A=new function(M){var S=this;S.next=function(){var D,V,d=S.w,O=S.X,F=S.i;return S.w=d=d+1640531527|0,V=O[F+34&127],D=O[F=F+1&127],V^=V<<13,D^=D<<17,V^=V>>>15,D^=D>>>12,V=O[F]=V^D,S.i=F,V+(d^d>>>16)|0},function(D,V){var d,O,F,I,L,G=[],z=128;for(V===(0|V)?(O=V,V=null):(V+="\0",O=0,z=Math.max(z,V.length)),F=0,I=-32;I<z;++I)V&&(O^=V.charCodeAt((I+32)%V.length)),I===0&&(L=O),O^=O<<10,O^=O>>>15,O^=O<<4,O^=O>>>13,I>=0&&(L=L+1640531527|0,F=(d=G[127&I]^=O+L)==0?F+1:0);for(F>=128&&(G[127&(V&&V.length||0)]=-1),F=127,I=512;I>0;--I)O=G[F+34&127],d=G[F=F+1&127],O^=O<<13,d^=d<<17,O^=O>>>15,d^=d>>>12,G[F]=O^d;D.w=L,D.X=G,D.i=F}(S,M)}(b),x=C&&C.state,E=function(){return(A.next()>>>0)/4294967296};return E.double=function(){do var M=((A.next()>>>11)+(A.next()>>>0)/4294967296)/2097152;while(M===0);return M},E.int32=A.next,E.quick=E,x&&(x.X&&w(x,A),E.state=function(){return w(A,{})}),E}U&&U.exports?U.exports=r:a(41)&&a(69)?(f=function(){return r}.call(p,a,p,U))===void 0||(U.exports=f):this.xor4096=r})(0,u,a(41))}).call(this,a(61)(g))},function(g,p,a){(function(u){var f;(function(P,U,m){function w(b,C){return C.a=b.a,C.b=b.b,C.c=b.c,C.d=b.d,C}function r(b,C){var A=new function(M){var S=this,D="";S.next=function(){var d=S.b,O=S.c,F=S.d,I=S.a;return d=d<<25^d>>>7^O,O=O-F|0,F=F<<24^F>>>8^I,I=I-d|0,S.b=d=d<<20^d>>>12^O,S.c=O=O-F|0,S.d=F<<16^O>>>16^I,S.a=I-d|0},S.a=0,S.b=0,S.c=-1640531527,S.d=1367130551,M===Math.floor(M)?(S.a=M/4294967296|0,S.b=0|M):D+=M;for(var V=0;V<D.length+20;V++)S.b^=0|D.charCodeAt(V),S.next()}(b),x=C&&C.state,E=function(){return(A.next()>>>0)/4294967296};return E.double=function(){do var M=((A.next()>>>11)+(A.next()>>>0)/4294967296)/2097152;while(M===0);return M},E.int32=A.next,E.quick=E,x&&(typeof x=="object"&&w(x,A),E.state=function(){return w(A,{})}),E}U&&U.exports?U.exports=r:a(41)&&a(69)?(f=function(){return r}.call(p,a,p,U))===void 0||(U.exports=f):this.tychei=r})(0,u,a(41))}).call(this,a(61)(g))},function(g,p,a){var u;(function(f,P,U){var m,w=256,r=6,b="random",C=U.pow(w,r),A=U.pow(2,52),x=2*A,E=w-1;function M(d,O,F){var I=[],L=D(function B(Y,q){var H,ne=[],Ae=typeof Y;if(q&&Ae=="object")for(H in Y)try{ne.push(B(Y[H],q-1))}catch{}return ne.length?ne:Ae=="string"?Y:Y+"\0"}((O=O==1?{entropy:!0}:O||{}).entropy?[d,V(P)]:d==null?function(){try{var B;return m&&(B=m.randomBytes)?B=B(w):(B=new Uint8Array(w),(f.crypto||f.msCrypto).getRandomValues(B)),V(B)}catch{var Y=f.navigator,q=Y&&Y.plugins;return[+new Date,f,q,f.screen,V(P)]}}():d,3),I),G=new function(B){var Y,q=B.length,H=this,ne=0,Ae=H.i=H.j=0,ce=H.S=[];for(q||(B=[q++]);ne<w;)ce[ne]=ne++;for(ne=0;ne<w;ne++)ce[ne]=ce[Ae=E&Ae+B[ne%q]+(Y=ce[ne])],ce[Ae]=Y;(H.g=function(ye){for(var K,j=0,ve=H.i,Pe=H.j,Oe=H.S;ye--;)K=Oe[ve=E&ve+1],j=j*w+Oe[E&(Oe[ve]=Oe[Pe=E&Pe+K])+(Oe[Pe]=K)];return H.i=ve,H.j=Pe,j})(w)}(I),z=function(){for(var B=G.g(r),Y=C,q=0;B<A;)B=(B+q)*w,Y*=w,q=G.g(1);for(;B>=x;)B/=2,Y/=2,q>>>=1;return(B+q)/Y};return z.int32=function(){return 0|G.g(4)},z.quick=function(){return G.g(4)/4294967296},z.double=z,D(V(G.S),P),(O.pass||F||function(B,Y,q,H){return H&&(H.S&&S(H,G),B.state=function(){return S(G,{})}),q?(U[b]=B,Y):B})(z,L,"global"in O?O.global:this==U,O.state)}function S(d,O){return O.i=d.i,O.j=d.j,O.S=d.S.slice(),O}function D(d,O){for(var F,I=d+"",L=0;L<I.length;)O[E&L]=E&(F^=19*O[E&L])+I.charCodeAt(L++);return V(O)}function V(d){return String.fromCharCode.apply(0,d)}if(D(U.random(),P),g.exports){g.exports=M;try{m=a(241)}catch{}}else(u=function(){return M}.call(p,a,p,g))===void 0||(g.exports=u)})(typeof self!="undefined"?self:this,[],Math)},function(g,p){},function(g,p,a){(function(u){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var f=a(243),P=a(244),U=a(245);function m(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function w(X,Z){if(m()<Z)throw new RangeError("Invalid typed array length");return r.TYPED_ARRAY_SUPPORT?(X=new Uint8Array(Z)).__proto__=r.prototype:(X===null&&(X=new r(Z)),X.length=Z),X}function r(X,Z,ae){if(!(r.TYPED_ARRAY_SUPPORT||this instanceof r))return new r(X,Z,ae);if(typeof X=="number"){if(typeof Z=="string")throw new Error("If encoding is specified then the first argument must be a string");return A(this,X)}return b(this,X,Z,ae)}function b(X,Z,ae,Ue){if(typeof Z=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&Z instanceof ArrayBuffer?function(Ie,le,ge,ze){if(le.byteLength,ge<0||le.byteLength<ge)throw new RangeError("'offset' is out of bounds");if(le.byteLength<ge+(ze||0))throw new RangeError("'length' is out of bounds");return le=ge===void 0&&ze===void 0?new Uint8Array(le):ze===void 0?new Uint8Array(le,ge):new Uint8Array(le,ge,ze),r.TYPED_ARRAY_SUPPORT?(Ie=le).__proto__=r.prototype:Ie=x(Ie,le),Ie}(X,Z,ae,Ue):typeof Z=="string"?function(Ie,le,ge){if(typeof ge=="string"&&ge!==""||(ge="utf8"),!r.isEncoding(ge))throw new TypeError('"encoding" must be a valid string encoding');var ze=0|M(le,ge),nt=(Ie=w(Ie,ze)).write(le,ge);return nt!==ze&&(Ie=Ie.slice(0,nt)),Ie}(X,Z,ae):function(Ie,le){if(r.isBuffer(le)){var ge=0|E(le.length);return(Ie=w(Ie,ge)).length===0||le.copy(Ie,0,0,ge),Ie}if(le){if(typeof ArrayBuffer!="undefined"&&le.buffer instanceof ArrayBuffer||"length"in le)return typeof le.length!="number"||function(ze){return ze!=ze}(le.length)?w(Ie,0):x(Ie,le);if(le.type==="Buffer"&&U(le.data))return x(Ie,le.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(X,Z)}function C(X){if(typeof X!="number")throw new TypeError('"size" argument must be a number');if(X<0)throw new RangeError('"size" argument must not be negative')}function A(X,Z){if(C(Z),X=w(X,Z<0?0:0|E(Z)),!r.TYPED_ARRAY_SUPPORT)for(var ae=0;ae<Z;++ae)X[ae]=0;return X}function x(X,Z){var ae=Z.length<0?0:0|E(Z.length);X=w(X,ae);for(var Ue=0;Ue<ae;Ue+=1)X[Ue]=255&Z[Ue];return X}function E(X){if(X>=m())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m().toString(16)+" bytes");return 0|X}function M(X,Z){if(r.isBuffer(X))return X.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(X)||X instanceof ArrayBuffer))return X.byteLength;typeof X!="string"&&(X=""+X);var ae=X.length;if(ae===0)return 0;for(var Ue=!1;;)switch(Z){case"ascii":case"latin1":case"binary":return ae;case"utf8":case"utf-8":case void 0:return me(X).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ae;case"hex":return ae>>>1;case"base64":return pe(X).length;default:if(Ue)return me(X).length;Z=(""+Z).toLowerCase(),Ue=!0}}function S(X,Z,ae){var Ue=X[Z];X[Z]=X[ae],X[ae]=Ue}function D(X,Z,ae,Ue,Ie){if(X.length===0)return-1;if(typeof ae=="string"?(Ue=ae,ae=0):ae>2147483647?ae=2147483647:ae<-2147483648&&(ae=-2147483648),ae=+ae,isNaN(ae)&&(ae=Ie?0:X.length-1),ae<0&&(ae=X.length+ae),ae>=X.length){if(Ie)return-1;ae=X.length-1}else if(ae<0){if(!Ie)return-1;ae=0}if(typeof Z=="string"&&(Z=r.from(Z,Ue)),r.isBuffer(Z))return Z.length===0?-1:V(X,Z,ae,Ue,Ie);if(typeof Z=="number")return Z&=255,r.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Ie?Uint8Array.prototype.indexOf.call(X,Z,ae):Uint8Array.prototype.lastIndexOf.call(X,Z,ae):V(X,[Z],ae,Ue,Ie);throw new TypeError("val must be string, number or Buffer")}function V(X,Z,ae,Ue,Ie){var le,ge=1,ze=X.length,nt=Z.length;if(Ue!==void 0&&((Ue=String(Ue).toLowerCase())==="ucs2"||Ue==="ucs-2"||Ue==="utf16le"||Ue==="utf-16le")){if(X.length<2||Z.length<2)return-1;ge=2,ze/=2,nt/=2,ae/=2}function st(de,ie){return ge===1?de[ie]:de.readUInt16BE(ie*ge)}if(Ie){var Ge=-1;for(le=ae;le<ze;le++)if(st(X,le)===st(Z,Ge===-1?0:le-Ge)){if(Ge===-1&&(Ge=le),le-Ge+1===nt)return Ge*ge}else Ge!==-1&&(le-=le-Ge),Ge=-1}else for(ae+nt>ze&&(ae=ze-nt),le=ae;le>=0;le--){for(var N=!0,W=0;W<nt;W++)if(st(X,le+W)!==st(Z,W)){N=!1;break}if(N)return le}return-1}function d(X,Z,ae,Ue){ae=Number(ae)||0;var Ie=X.length-ae;Ue?(Ue=Number(Ue))>Ie&&(Ue=Ie):Ue=Ie;var le=Z.length;if(le%2!=0)throw new TypeError("Invalid hex string");Ue>le/2&&(Ue=le/2);for(var ge=0;ge<Ue;++ge){var ze=parseInt(Z.substr(2*ge,2),16);if(isNaN(ze))return ge;X[ae+ge]=ze}return ge}function O(X,Z,ae,Ue){return ke(me(Z,X.length-ae),X,ae,Ue)}function F(X,Z,ae,Ue){return ke(function(Ie){for(var le=[],ge=0;ge<Ie.length;++ge)le.push(255&Ie.charCodeAt(ge));return le}(Z),X,ae,Ue)}function I(X,Z,ae,Ue){return F(X,Z,ae,Ue)}function L(X,Z,ae,Ue){return ke(pe(Z),X,ae,Ue)}function G(X,Z,ae,Ue){return ke(function(Ie,le){for(var ge,ze,nt,st=[],Ge=0;Ge<Ie.length&&!((le-=2)<0);++Ge)ge=Ie.charCodeAt(Ge),ze=ge>>8,nt=ge%256,st.push(nt),st.push(ze);return st}(Z,X.length-ae),X,ae,Ue)}function z(X,Z,ae){return Z===0&&ae===X.length?f.fromByteArray(X):f.fromByteArray(X.slice(Z,ae))}function B(X,Z,ae){ae=Math.min(X.length,ae);for(var Ue=[],Ie=Z;Ie<ae;){var le,ge,ze,nt,st=X[Ie],Ge=null,N=st>239?4:st>223?3:st>191?2:1;if(Ie+N<=ae)switch(N){case 1:st<128&&(Ge=st);break;case 2:(192&(le=X[Ie+1]))==128&&(nt=(31&st)<<6|63&le)>127&&(Ge=nt);break;case 3:le=X[Ie+1],ge=X[Ie+2],(192&le)==128&&(192&ge)==128&&(nt=(15&st)<<12|(63&le)<<6|63&ge)>2047&&(nt<55296||nt>57343)&&(Ge=nt);break;case 4:le=X[Ie+1],ge=X[Ie+2],ze=X[Ie+3],(192&le)==128&&(192&ge)==128&&(192&ze)==128&&(nt=(15&st)<<18|(63&le)<<12|(63&ge)<<6|63&ze)>65535&&nt<1114112&&(Ge=nt)}Ge===null?(Ge=65533,N=1):Ge>65535&&(Ge-=65536,Ue.push(Ge>>>10&1023|55296),Ge=56320|1023&Ge),Ue.push(Ge),Ie+=N}return function(W){var de=W.length;if(de<=Y)return String.fromCharCode.apply(String,W);for(var ie="",_e=0;_e<de;)ie+=String.fromCharCode.apply(String,W.slice(_e,_e+=Y));return ie}(Ue)}p.Buffer=r,p.SlowBuffer=function(X){return+X!=X&&(X=0),r.alloc(+X)},p.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=u.TYPED_ARRAY_SUPPORT!==void 0?u.TYPED_ARRAY_SUPPORT:function(){try{var X=new Uint8Array(1);return X.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},X.foo()===42&&typeof X.subarray=="function"&&X.subarray(1,1).byteLength===0}catch{return!1}}(),p.kMaxLength=m(),r.poolSize=8192,r._augment=function(X){return X.__proto__=r.prototype,X},r.from=function(X,Z,ae){return b(null,X,Z,ae)},r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=function(X,Z,ae){return function(Ue,Ie,le,ge){return C(Ie),Ie<=0?w(Ue,Ie):le!==void 0?typeof ge=="string"?w(Ue,Ie).fill(le,ge):w(Ue,Ie).fill(le):w(Ue,Ie)}(null,X,Z,ae)},r.allocUnsafe=function(X){return A(null,X)},r.allocUnsafeSlow=function(X){return A(null,X)},r.isBuffer=function(X){return!(X==null||!X._isBuffer)},r.compare=function(X,Z){if(!r.isBuffer(X)||!r.isBuffer(Z))throw new TypeError("Arguments must be Buffers");if(X===Z)return 0;for(var ae=X.length,Ue=Z.length,Ie=0,le=Math.min(ae,Ue);Ie<le;++Ie)if(X[Ie]!==Z[Ie]){ae=X[Ie],Ue=Z[Ie];break}return ae<Ue?-1:Ue<ae?1:0},r.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(X,Z){if(!U(X))throw new TypeError('"list" argument must be an Array of Buffers');if(X.length===0)return r.alloc(0);var ae;if(Z===void 0)for(Z=0,ae=0;ae<X.length;++ae)Z+=X[ae].length;var Ue=r.allocUnsafe(Z),Ie=0;for(ae=0;ae<X.length;++ae){var le=X[ae];if(!r.isBuffer(le))throw new TypeError('"list" argument must be an Array of Buffers');le.copy(Ue,Ie),Ie+=le.length}return Ue},r.byteLength=M,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var X=this.length;if(X%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Z=0;Z<X;Z+=2)S(this,Z,Z+1);return this},r.prototype.swap32=function(){var X=this.length;if(X%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Z=0;Z<X;Z+=4)S(this,Z,Z+3),S(this,Z+1,Z+2);return this},r.prototype.swap64=function(){var X=this.length;if(X%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Z=0;Z<X;Z+=8)S(this,Z,Z+7),S(this,Z+1,Z+6),S(this,Z+2,Z+5),S(this,Z+3,Z+4);return this},r.prototype.toString=function(){var X=0|this.length;return X===0?"":arguments.length===0?B(this,0,X):function(Z,ae,Ue){var Ie=!1;if((ae===void 0||ae<0)&&(ae=0),ae>this.length||((Ue===void 0||Ue>this.length)&&(Ue=this.length),Ue<=0)||(Ue>>>=0)<=(ae>>>=0))return"";for(Z||(Z="utf8");;)switch(Z){case"hex":return ne(this,ae,Ue);case"utf8":case"utf-8":return B(this,ae,Ue);case"ascii":return q(this,ae,Ue);case"latin1":case"binary":return H(this,ae,Ue);case"base64":return z(this,ae,Ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ae(this,ae,Ue);default:if(Ie)throw new TypeError("Unknown encoding: "+Z);Z=(Z+"").toLowerCase(),Ie=!0}}.apply(this,arguments)},r.prototype.equals=function(X){if(!r.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X||r.compare(this,X)===0},r.prototype.inspect=function(){var X="",Z=p.INSPECT_MAX_BYTES;return this.length>0&&(X=this.toString("hex",0,Z).match(/.{2}/g).join(" "),this.length>Z&&(X+=" ... ")),"<Buffer "+X+">"},r.prototype.compare=function(X,Z,ae,Ue,Ie){if(!r.isBuffer(X))throw new TypeError("Argument must be a Buffer");if(Z===void 0&&(Z=0),ae===void 0&&(ae=X?X.length:0),Ue===void 0&&(Ue=0),Ie===void 0&&(Ie=this.length),Z<0||ae>X.length||Ue<0||Ie>this.length)throw new RangeError("out of range index");if(Ue>=Ie&&Z>=ae)return 0;if(Ue>=Ie)return-1;if(Z>=ae)return 1;if(Z>>>=0,ae>>>=0,Ue>>>=0,Ie>>>=0,this===X)return 0;for(var le=Ie-Ue,ge=ae-Z,ze=Math.min(le,ge),nt=this.slice(Ue,Ie),st=X.slice(Z,ae),Ge=0;Ge<ze;++Ge)if(nt[Ge]!==st[Ge]){le=nt[Ge],ge=st[Ge];break}return le<ge?-1:ge<le?1:0},r.prototype.includes=function(X,Z,ae){return this.indexOf(X,Z,ae)!==-1},r.prototype.indexOf=function(X,Z,ae){return D(this,X,Z,ae,!0)},r.prototype.lastIndexOf=function(X,Z,ae){return D(this,X,Z,ae,!1)},r.prototype.write=function(X,Z,ae,Ue){if(Z===void 0)Ue="utf8",ae=this.length,Z=0;else if(ae===void 0&&typeof Z=="string")Ue=Z,ae=this.length,Z=0;else{if(!isFinite(Z))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Z|=0,isFinite(ae)?(ae|=0,Ue===void 0&&(Ue="utf8")):(Ue=ae,ae=void 0)}var Ie=this.length-Z;if((ae===void 0||ae>Ie)&&(ae=Ie),X.length>0&&(ae<0||Z<0)||Z>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ue||(Ue="utf8");for(var le=!1;;)switch(Ue){case"hex":return d(this,X,Z,ae);case"utf8":case"utf-8":return O(this,X,Z,ae);case"ascii":return F(this,X,Z,ae);case"latin1":case"binary":return I(this,X,Z,ae);case"base64":return L(this,X,Z,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,X,Z,ae);default:if(le)throw new TypeError("Unknown encoding: "+Ue);Ue=(""+Ue).toLowerCase(),le=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Y=4096;function q(X,Z,ae){var Ue="";ae=Math.min(X.length,ae);for(var Ie=Z;Ie<ae;++Ie)Ue+=String.fromCharCode(127&X[Ie]);return Ue}function H(X,Z,ae){var Ue="";ae=Math.min(X.length,ae);for(var Ie=Z;Ie<ae;++Ie)Ue+=String.fromCharCode(X[Ie]);return Ue}function ne(X,Z,ae){var Ue=X.length;(!Z||Z<0)&&(Z=0),(!ae||ae<0||ae>Ue)&&(ae=Ue);for(var Ie="",le=Z;le<ae;++le)Ie+=Ve(X[le]);return Ie}function Ae(X,Z,ae){for(var Ue=X.slice(Z,ae),Ie="",le=0;le<Ue.length;le+=2)Ie+=String.fromCharCode(Ue[le]+256*Ue[le+1]);return Ie}function ce(X,Z,ae){if(X%1!=0||X<0)throw new RangeError("offset is not uint");if(X+Z>ae)throw new RangeError("Trying to access beyond buffer length")}function ye(X,Z,ae,Ue,Ie,le){if(!r.isBuffer(X))throw new TypeError('"buffer" argument must be a Buffer instance');if(Z>Ie||Z<le)throw new RangeError('"value" argument is out of bounds');if(ae+Ue>X.length)throw new RangeError("Index out of range")}function K(X,Z,ae,Ue){Z<0&&(Z=65535+Z+1);for(var Ie=0,le=Math.min(X.length-ae,2);Ie<le;++Ie)X[ae+Ie]=(Z&255<<8*(Ue?Ie:1-Ie))>>>8*(Ue?Ie:1-Ie)}function j(X,Z,ae,Ue){Z<0&&(Z=4294967295+Z+1);for(var Ie=0,le=Math.min(X.length-ae,4);Ie<le;++Ie)X[ae+Ie]=Z>>>8*(Ue?Ie:3-Ie)&255}function ve(X,Z,ae,Ue,Ie,le){if(ae+Ue>X.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("Index out of range")}function Pe(X,Z,ae,Ue,Ie){return Ie||ve(X,0,ae,4),P.write(X,Z,ae,Ue,23,4),ae+4}function Oe(X,Z,ae,Ue,Ie){return Ie||ve(X,0,ae,8),P.write(X,Z,ae,Ue,52,8),ae+8}r.prototype.slice=function(X,Z){var ae,Ue=this.length;if(X=~~X,Z=Z===void 0?Ue:~~Z,X<0?(X+=Ue)<0&&(X=0):X>Ue&&(X=Ue),Z<0?(Z+=Ue)<0&&(Z=0):Z>Ue&&(Z=Ue),Z<X&&(Z=X),r.TYPED_ARRAY_SUPPORT)(ae=this.subarray(X,Z)).__proto__=r.prototype;else{var Ie=Z-X;ae=new r(Ie,void 0);for(var le=0;le<Ie;++le)ae[le]=this[le+X]}return ae},r.prototype.readUIntLE=function(X,Z,ae){X|=0,Z|=0,ae||ce(X,Z,this.length);for(var Ue=this[X],Ie=1,le=0;++le<Z&&(Ie*=256);)Ue+=this[X+le]*Ie;return Ue},r.prototype.readUIntBE=function(X,Z,ae){X|=0,Z|=0,ae||ce(X,Z,this.length);for(var Ue=this[X+--Z],Ie=1;Z>0&&(Ie*=256);)Ue+=this[X+--Z]*Ie;return Ue},r.prototype.readUInt8=function(X,Z){return Z||ce(X,1,this.length),this[X]},r.prototype.readUInt16LE=function(X,Z){return Z||ce(X,2,this.length),this[X]|this[X+1]<<8},r.prototype.readUInt16BE=function(X,Z){return Z||ce(X,2,this.length),this[X]<<8|this[X+1]},r.prototype.readUInt32LE=function(X,Z){return Z||ce(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+16777216*this[X+3]},r.prototype.readUInt32BE=function(X,Z){return Z||ce(X,4,this.length),16777216*this[X]+(this[X+1]<<16|this[X+2]<<8|this[X+3])},r.prototype.readIntLE=function(X,Z,ae){X|=0,Z|=0,ae||ce(X,Z,this.length);for(var Ue=this[X],Ie=1,le=0;++le<Z&&(Ie*=256);)Ue+=this[X+le]*Ie;return Ue>=(Ie*=128)&&(Ue-=Math.pow(2,8*Z)),Ue},r.prototype.readIntBE=function(X,Z,ae){X|=0,Z|=0,ae||ce(X,Z,this.length);for(var Ue=Z,Ie=1,le=this[X+--Ue];Ue>0&&(Ie*=256);)le+=this[X+--Ue]*Ie;return le>=(Ie*=128)&&(le-=Math.pow(2,8*Z)),le},r.prototype.readInt8=function(X,Z){return Z||ce(X,1,this.length),128&this[X]?-1*(255-this[X]+1):this[X]},r.prototype.readInt16LE=function(X,Z){Z||ce(X,2,this.length);var ae=this[X]|this[X+1]<<8;return 32768&ae?4294901760|ae:ae},r.prototype.readInt16BE=function(X,Z){Z||ce(X,2,this.length);var ae=this[X+1]|this[X]<<8;return 32768&ae?4294901760|ae:ae},r.prototype.readInt32LE=function(X,Z){return Z||ce(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},r.prototype.readInt32BE=function(X,Z){return Z||ce(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},r.prototype.readFloatLE=function(X,Z){return Z||ce(X,4,this.length),P.read(this,X,!0,23,4)},r.prototype.readFloatBE=function(X,Z){return Z||ce(X,4,this.length),P.read(this,X,!1,23,4)},r.prototype.readDoubleLE=function(X,Z){return Z||ce(X,8,this.length),P.read(this,X,!0,52,8)},r.prototype.readDoubleBE=function(X,Z){return Z||ce(X,8,this.length),P.read(this,X,!1,52,8)},r.prototype.writeUIntLE=function(X,Z,ae,Ue){X=+X,Z|=0,ae|=0,Ue||ye(this,X,Z,ae,Math.pow(2,8*ae)-1,0);var Ie=1,le=0;for(this[Z]=255&X;++le<ae&&(Ie*=256);)this[Z+le]=X/Ie&255;return Z+ae},r.prototype.writeUIntBE=function(X,Z,ae,Ue){X=+X,Z|=0,ae|=0,Ue||ye(this,X,Z,ae,Math.pow(2,8*ae)-1,0);var Ie=ae-1,le=1;for(this[Z+Ie]=255&X;--Ie>=0&&(le*=256);)this[Z+Ie]=X/le&255;return Z+ae},r.prototype.writeUInt8=function(X,Z,ae){return X=+X,Z|=0,ae||ye(this,X,Z,1,255,0),r.TYPED_ARRAY_SUPPORT||(X=Math.floor(X)),this[Z]=255&X,Z+1},r.prototype.writeUInt16LE=function(X,Z,ae){return X=+X,Z|=0,ae||ye(this,X,Z,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[Z]=255&X,this[Z+1]=X>>>8):K(this,X,Z,!0),Z+2},r.prototype.writeUInt16BE=function(X,Z,ae){return X=+X,Z|=0,ae||ye(this,X,Z,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[Z]=X>>>8,this[Z+1]=255&X):K(this,X,Z,!1),Z+2},r.prototype.writeUInt32LE=function(X,Z,ae){return X=+X,Z|=0,ae||ye(this,X,Z,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[Z+3]=X>>>24,this[Z+2]=X>>>16,this[Z+1]=X>>>8,this[Z]=255&X):j(this,X,Z,!0),Z+4},r.prototype.writeUInt32BE=function(X,Z,ae){return X=+X,Z|=0,ae||ye(this,X,Z,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[Z]=X>>>24,this[Z+1]=X>>>16,this[Z+2]=X>>>8,this[Z+3]=255&X):j(this,X,Z,!1),Z+4},r.prototype.writeIntLE=function(X,Z,ae,Ue){if(X=+X,Z|=0,!Ue){var Ie=Math.pow(2,8*ae-1);ye(this,X,Z,ae,Ie-1,-Ie)}var le=0,ge=1,ze=0;for(this[Z]=255&X;++le<ae&&(ge*=256);)X<0&&ze===0&&this[Z+le-1]!==0&&(ze=1),this[Z+le]=(X/ge>>0)-ze&255;return Z+ae},r.prototype.writeIntBE=function(X,Z,ae,Ue){if(X=+X,Z|=0,!Ue){var Ie=Math.pow(2,8*ae-1);ye(this,X,Z,ae,Ie-1,-Ie)}var le=ae-1,ge=1,ze=0;for(this[Z+le]=255&X;--le>=0&&(ge*=256);)X<0&&ze===0&&this[Z+le+1]!==0&&(ze=1),this[Z+le]=(X/ge>>0)-ze&255;return Z+ae},r.prototype.writeInt8=function(X,Z,ae){return X=+X,Z|=0,ae||ye(this,X,Z,1,127,-128),r.TYPED_ARRAY_SUPPORT||(X=Math.floor(X)),X<0&&(X=255+X+1),this[Z]=255&X,Z+1},r.prototype.writeInt16LE=function(X,Z,ae){return X=+X,Z|=0,ae||ye(this,X,Z,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[Z]=255&X,this[Z+1]=X>>>8):K(this,X,Z,!0),Z+2},r.prototype.writeInt16BE=function(X,Z,ae){return X=+X,Z|=0,ae||ye(this,X,Z,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[Z]=X>>>8,this[Z+1]=255&X):K(this,X,Z,!1),Z+2},r.prototype.writeInt32LE=function(X,Z,ae){return X=+X,Z|=0,ae||ye(this,X,Z,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[Z]=255&X,this[Z+1]=X>>>8,this[Z+2]=X>>>16,this[Z+3]=X>>>24):j(this,X,Z,!0),Z+4},r.prototype.writeInt32BE=function(X,Z,ae){return X=+X,Z|=0,ae||ye(this,X,Z,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),r.TYPED_ARRAY_SUPPORT?(this[Z]=X>>>24,this[Z+1]=X>>>16,this[Z+2]=X>>>8,this[Z+3]=255&X):j(this,X,Z,!1),Z+4},r.prototype.writeFloatLE=function(X,Z,ae){return Pe(this,X,Z,!0,ae)},r.prototype.writeFloatBE=function(X,Z,ae){return Pe(this,X,Z,!1,ae)},r.prototype.writeDoubleLE=function(X,Z,ae){return Oe(this,X,Z,!0,ae)},r.prototype.writeDoubleBE=function(X,Z,ae){return Oe(this,X,Z,!1,ae)},r.prototype.copy=function(X,Z,ae,Ue){if(ae||(ae=0),Ue||Ue===0||(Ue=this.length),Z>=X.length&&(Z=X.length),Z||(Z=0),Ue>0&&Ue<ae&&(Ue=ae),Ue===ae||X.length===0||this.length===0)return 0;if(Z<0)throw new RangeError("targetStart out of bounds");if(ae<0||ae>=this.length)throw new RangeError("sourceStart out of bounds");if(Ue<0)throw new RangeError("sourceEnd out of bounds");Ue>this.length&&(Ue=this.length),X.length-Z<Ue-ae&&(Ue=X.length-Z+ae);var Ie,le=Ue-ae;if(this===X&&ae<Z&&Z<Ue)for(Ie=le-1;Ie>=0;--Ie)X[Ie+Z]=this[Ie+ae];else if(le<1e3||!r.TYPED_ARRAY_SUPPORT)for(Ie=0;Ie<le;++Ie)X[Ie+Z]=this[Ie+ae];else Uint8Array.prototype.set.call(X,this.subarray(ae,ae+le),Z);return le},r.prototype.fill=function(X,Z,ae,Ue){if(typeof X=="string"){if(typeof Z=="string"?(Ue=Z,Z=0,ae=this.length):typeof ae=="string"&&(Ue=ae,ae=this.length),X.length===1){var Ie=X.charCodeAt(0);Ie<256&&(X=Ie)}if(Ue!==void 0&&typeof Ue!="string")throw new TypeError("encoding must be a string");if(typeof Ue=="string"&&!r.isEncoding(Ue))throw new TypeError("Unknown encoding: "+Ue)}else typeof X=="number"&&(X&=255);if(Z<0||this.length<Z||this.length<ae)throw new RangeError("Out of range index");if(ae<=Z)return this;var le;if(Z>>>=0,ae=ae===void 0?this.length:ae>>>0,X||(X=0),typeof X=="number")for(le=Z;le<ae;++le)this[le]=X;else{var ge=r.isBuffer(X)?X:me(new r(X,Ue).toString()),ze=ge.length;for(le=0;le<ae-Z;++le)this[le+Z]=ge[le%ze]}return this};var xe=/[^+\/0-9A-Za-z-_]/g;function Ve(X){return X<16?"0"+X.toString(16):X.toString(16)}function me(X,Z){var ae;Z=Z||1/0;for(var Ue=X.length,Ie=null,le=[],ge=0;ge<Ue;++ge){if((ae=X.charCodeAt(ge))>55295&&ae<57344){if(!Ie){if(ae>56319){(Z-=3)>-1&&le.push(239,191,189);continue}if(ge+1===Ue){(Z-=3)>-1&&le.push(239,191,189);continue}Ie=ae;continue}if(ae<56320){(Z-=3)>-1&&le.push(239,191,189),Ie=ae;continue}ae=65536+(Ie-55296<<10|ae-56320)}else Ie&&(Z-=3)>-1&&le.push(239,191,189);if(Ie=null,ae<128){if((Z-=1)<0)break;le.push(ae)}else if(ae<2048){if((Z-=2)<0)break;le.push(ae>>6|192,63&ae|128)}else if(ae<65536){if((Z-=3)<0)break;le.push(ae>>12|224,ae>>6&63|128,63&ae|128)}else{if(!(ae<1114112))throw new Error("Invalid code point");if((Z-=4)<0)break;le.push(ae>>18|240,ae>>12&63|128,ae>>6&63|128,63&ae|128)}}return le}function pe(X){return f.toByteArray(function(Z){if((Z=function(ae){return ae.trim?ae.trim():ae.replace(/^\s+|\s+$/g,"")}(Z).replace(xe,"")).length<2)return"";for(;Z.length%4!=0;)Z+="=";return Z}(X))}function ke(X,Z,ae,Ue){for(var Ie=0;Ie<Ue&&!(Ie+ae>=Z.length||Ie>=X.length);++Ie)Z[Ie+ae]=X[Ie];return Ie}}).call(this,a(40))},function(g,p,a){p.byteLength=function(A){var x=r(A),E=x[0],M=x[1];return 3*(E+M)/4-M},p.toByteArray=function(A){var x,E,M=r(A),S=M[0],D=M[1],V=new P(function(F,I,L){return 3*(I+L)/4-L}(0,S,D)),d=0,O=D>0?S-4:S;for(E=0;E<O;E+=4)x=f[A.charCodeAt(E)]<<18|f[A.charCodeAt(E+1)]<<12|f[A.charCodeAt(E+2)]<<6|f[A.charCodeAt(E+3)],V[d++]=x>>16&255,V[d++]=x>>8&255,V[d++]=255&x;return D===2&&(x=f[A.charCodeAt(E)]<<2|f[A.charCodeAt(E+1)]>>4,V[d++]=255&x),D===1&&(x=f[A.charCodeAt(E)]<<10|f[A.charCodeAt(E+1)]<<4|f[A.charCodeAt(E+2)]>>2,V[d++]=x>>8&255,V[d++]=255&x),V},p.fromByteArray=function(A){for(var x,E=A.length,M=E%3,S=[],D=0,V=E-M;D<V;D+=16383)S.push(C(A,D,D+16383>V?V:D+16383));return M===1?(x=A[E-1],S.push(u[x>>2]+u[x<<4&63]+"==")):M===2&&(x=(A[E-2]<<8)+A[E-1],S.push(u[x>>10]+u[x>>4&63]+u[x<<2&63]+"=")),S.join("")};for(var u=[],f=[],P=typeof Uint8Array!="undefined"?Uint8Array:Array,U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,w=U.length;m<w;++m)u[m]=U[m],f[U.charCodeAt(m)]=m;function r(A){var x=A.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=A.indexOf("=");return E===-1&&(E=x),[E,E===x?0:4-E%4]}function b(A){return u[A>>18&63]+u[A>>12&63]+u[A>>6&63]+u[63&A]}function C(A,x,E){for(var M,S=[],D=x;D<E;D+=3)M=(A[D]<<16&16711680)+(A[D+1]<<8&65280)+(255&A[D+2]),S.push(b(M));return S.join("")}f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63},function(g,p){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */p.read=function(a,u,f,P,U){var m,w,r=8*U-P-1,b=(1<<r)-1,C=b>>1,A=-7,x=f?U-1:0,E=f?-1:1,M=a[u+x];for(x+=E,m=M&(1<<-A)-1,M>>=-A,A+=r;A>0;m=256*m+a[u+x],x+=E,A-=8);for(w=m&(1<<-A)-1,m>>=-A,A+=P;A>0;w=256*w+a[u+x],x+=E,A-=8);if(m===0)m=1-C;else{if(m===b)return w?NaN:1/0*(M?-1:1);w+=Math.pow(2,P),m-=C}return(M?-1:1)*w*Math.pow(2,m-P)},p.write=function(a,u,f,P,U,m){var w,r,b,C=8*m-U-1,A=(1<<C)-1,x=A>>1,E=U===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=P?0:m-1,S=P?1:-1,D=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(r=isNaN(u)?1:0,w=A):(w=Math.floor(Math.log(u)/Math.LN2),u*(b=Math.pow(2,-w))<1&&(w--,b*=2),(u+=w+x>=1?E/b:E*Math.pow(2,1-x))*b>=2&&(w++,b/=2),w+x>=A?(r=0,w=A):w+x>=1?(r=(u*b-1)*Math.pow(2,U),w+=x):(r=u*Math.pow(2,x-1)*Math.pow(2,U),w=0));U>=8;a[f+M]=255&r,M+=S,r/=256,U-=8);for(w=w<<U|r,C+=U;C>0;a[f+M]=255&w,M+=S,w/=256,C-=8);a[f+M-S]|=128*D}},function(g,p){var a={}.toString;g.exports=Array.isArray||function(u){return a.call(u)=="[object Array]"}},function(g,p,a){(function(u,f){(function(P,U){if(!P.setImmediate){var m,w=1,r={},b=!1,C=P.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(P);A=A&&A.setTimeout?A:P,{}.toString.call(P.process)==="[object process]"?m=function(M){f.nextTick(function(){E(M)})}:function(){if(P.postMessage&&!P.importScripts){var M=!0,S=P.onmessage;return P.onmessage=function(){M=!1},P.postMessage("","*"),P.onmessage=S,M}}()?function(){var M="setImmediate$"+Math.random()+"$",S=function(D){D.source===P&&typeof D.data=="string"&&D.data.indexOf(M)===0&&E(+D.data.slice(M.length))};P.addEventListener?P.addEventListener("message",S,!1):P.attachEvent("onmessage",S),m=function(D){P.postMessage(M+D,"*")}}():P.MessageChannel?function(){var M=new MessageChannel;M.port1.onmessage=function(S){E(S.data)},m=function(S){M.port2.postMessage(S)}}():C&&"onreadystatechange"in C.createElement("script")?function(){var M=C.documentElement;m=function(S){var D=C.createElement("script");D.onreadystatechange=function(){E(S),D.onreadystatechange=null,M.removeChild(D),D=null},M.appendChild(D)}}():m=function(M){setTimeout(E,0,M)},A.setImmediate=function(M){typeof M!="function"&&(M=new Function(""+M));for(var S=new Array(arguments.length-1),D=0;D<S.length;D++)S[D]=arguments[D+1];var V={callback:M,args:S};return r[w]=V,m(w),w++},A.clearImmediate=x}function x(M){delete r[M]}function E(M){if(b)setTimeout(E,0,M);else{var S=r[M];if(S){b=!0;try{(function(D){var V=D.callback,d=D.args;switch(d.length){case 0:V();break;case 1:V(d[0]);break;case 2:V(d[0],d[1]);break;case 3:V(d[0],d[1],d[2]);break;default:V.apply(U,d)}})(S)}finally{x(M),b=!1}}}}})(typeof self=="undefined"?u===void 0?this:u:self)}).call(this,a(40),a(80))},function(g,p,a){var u=a(248);(p=g.exports=a(90)(!1)).push([g.i,`._3KWxeQd05m08ZKaqW2hdSX {
  border: 16px solid #f3f3f3; /* Light grey */
  border-top: 16px solid #3498db; /* Blue */
  border-radius: 50%;
  width: 120px;
  height: 120px;
  position: absolute;
  left: calc(50% - 60px);
  top: calc(50% - 60px);
  -webkit-animation: _269stqVzP2JpNvK5aUgRSu 2s linear infinite;
          animation: _269stqVzP2JpNvK5aUgRSu 2s linear infinite;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}

@-webkit-keyframes _269stqVzP2JpNvK5aUgRSu {
  0% { -webkit-transform: rotate(0deg); transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); }
}

@keyframes _269stqVzP2JpNvK5aUgRSu {
  0% { -webkit-transform: rotate(0deg); transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); }
}

._2C5g10skcxKYtrmOmkyjP- {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: stretch;
      -ms-flex-align: stretch;
          align-items: stretch;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-direction: column;
          flex-direction: column;
  -webkit-box-pack: justify;
      -ms-flex-pack: justify;
          justify-content: space-between;
  position: absolute;
  top: 5px;
  left: 5px;
  padding: 2px;
  border: 0px;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  z-index: 1000;
}

._2hkHrWBWU7_Z_pl7t8vcQx {
  background: rgba(128, 128, 128, 0.5);
  border-radius: 4px;
  margin: 2px;
}

._2NSOWVxxkq5fyVuf8D_7zx {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: horizontal;
  -webkit-box-direction: normal;
      -ms-flex-direction: row;
          flex-direction: row;
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  -webkit-box-pack: justify;
      -ms-flex-pack: justify;
          justify-content: space-between;
  padding: 5px;
}

._1k0l_YyznhXEBlmznFeJYy {
  -ms-flex-pack: distribute;
      justify-content: space-around;
  max-width: 420px;
}

._2ggs8DQiLgYyjH89w-d--r {
  color: white;
  font-size: 200%;
  height: 100vh;
  width: 100vw;
  text-align: center;
  vertical-align: middle;
  line-height: 100vh;
}

._1nuoY5VXyF258fj99pgAhZ {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 3px;
  z-index: 1000;
}

._3rIFr4WD7DAL7e_knnc7WG {
  position: absolute;
  top: 5px;
  right: 5px;
  height: 2.0em;
  width: 2.0em;
  cursor: pointer;
  z-index: 100;
}

._1_sn836ed-B9o4TDryRi9v {
  position: absolute;
  top: 5px;
  right: 5px;
  border-radius: 5px;
  background: rgba(255, 255, 255, 0.6);
  cursor: pointer;
  z-index: 101;
}

[itk-vtk-tooltip] {
    position: relative;
}
[itk-vtk-tooltip]::before {
    content: attr(itk-vtk-tooltip-content);
    visibility: hidden;
    position: absolute;
    top: 50%;
    right: calc(100% + 16px);
    width: 400%;
    padding: 4px 6px;
    text-align: center;
    text-transform: none;
    font-size: 0.9em;
    font-family: monospace;
    border-radius: 3px;
    background: rgba(0.9, 0.9, 0.9, 0.95);
    color: white;
    opacity: 0;
    -webkit-transform: translate(15px, -50%);
            transform: translate(15px, -50%);
    -webkit-transition-property: all;
    transition-property: all;
    -webkit-transition-duration: 0.3s;
            transition-duration: 0.3s;
    -webkit-transition-timing-function: ease-in-out;
            transition-timing-function: ease-in-out;
    -webkit-transition-delay: 0.8s;
            transition-delay: 0.8s;
    z-index: 1;
}

[itk-vtk-tooltip]:hover::before {
    opacity: 1;
    visibility: visible;
    -webkit-transform: translate(0, -50%);
            transform: translate(0, -50%);
}

[itk-vtk-tooltip-bottom]::before {
    top: calc(100% + 16px);
    left: 50%;
    right: initial;
    -webkit-transform: translate(-50%, -15px);
            transform: translate(-50%, -15px);
}
[itk-vtk-tooltip-bottom]:hover::before {
    -webkit-transform: translate(-50%, 0);
            transform: translate(-50%, 0)
}
[itk-vtk-tooltip-right]::before {
    top: 50%;
    left: calc(100% + 16px);
    right: initial;
    -webkit-transform: translate(-15px, -50%);
            transform: translate(-15px, -50%);
}
[itk-vtk-tooltip-right]:hover::before {
    -webkit-transform: translate(0, -50%);
            transform: translate(0, -50%);
}

[itk-vtk-tooltip-top-screenshot]::before {
    top: initial;
    left: 260%;
    right: initial;
    bottom: calc(100% + 8px);
    -webkit-transform: translate(-50%, 15px);
            transform: translate(-50%, 15px);
}
[itk-vtk-tooltip-top-screenshot]:hover::before {
    -webkit-transform: translate(-50%, 0);
            transform: translate(-50%, 0);
}
[itk-vtk-tooltip-top-annotation]::before {
    top: initial;
    left: 160%;
    right: initial;
    bottom: calc(100% + 10px);
    -webkit-transform: translate(-50%, 15px);
            transform: translate(-50%, 15px);
}
[itk-vtk-tooltip-top-annotation]:hover::before {
    -webkit-transform: translate(-50%, 0);
            transform: translate(-50%, 0);
}
[itk-vtk-tooltip-top-axes]::before {
    top: initial;
    left: 160%;
    right: initial;
    bottom: calc(100% + 10px);
    -webkit-transform: translate(-50%, 15px);
            transform: translate(-50%, 15px);
}
[itk-vtk-tooltip-top-axes]:hover::before {
    -webkit-transform: translate(-50%, 0);
            transform: translate(-50%, 0);
}
[itk-vtk-tooltip-top-fullscreen]::before {
    top: initial;
    left: 120%;
    right: initial;
    bottom: calc(100% + 10px);
    -webkit-transform: translate(-50%, 15px);
            transform: translate(-50%, 15px);
    width: 400%;
}
[itk-vtk-tooltip-top-fullscreen]:hover::before {
    -webkit-transform: translate(-50%, 0);
            transform: translate(-50%, 0);
}
[itk-vtk-tooltip-top]::before {
    top: initial;
    left: 60%;
    right: initial;
    bottom: calc(100% + 10px);
    -webkit-transform: translate(-50%, 15px);
            transform: translate(-50%, 15px);
}
[itk-vtk-tooltip-top]:hover::before {
    -webkit-transform: translate(-50%, 0);
            transform: translate(-50%, 0);
}
[itk-vtk-tooltip-top-fullscreen]::before {
    top: initial;
    left: 120%;
    right: initial;
    bottom: calc(100% + 10px);
    -webkit-transform: translate(-50%, 15px);
            transform: translate(-50%, 15px);
    width: 400%;
}

._26TU0iSeRJjWNGxBKGjcMf::before {
}

._3-3ov8RfSqmKYXgMADm4ng::before {
  filter: invert(100%);
  -webkit-filter: invert(100%);
}

.QbLXrakEdp84kvxsdrjUJ {
}

._2TTSCkv3H4bxQWjSEHjm4T {
  filter: invert(100%);
  -webkit-filter: invert(100%);
}

._3qmpTJzAL3UF9HvjWFTd3E {
  height: 1.5em;
  width: 1.5em;
  cursor: pointer;
  z-index: 1000;
}

._3x_DSb2oCUGPmuwZHBixLr {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  width: 8mm;
  padding-top: 2px;
  padding-bottom: 2px;
  padding-left: 6px;
  padding-right: 6px;
  cursor: pointer;
  z-index: 1000;
}

._3x_DSb2oCUGPmuwZHBixLr svg {
  height: 1.2em;
  width: 1.2em;
}

._3x1VRzjRQd57ABEuNvtxEd {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  width: 8mm;
  padding-top: 2px;
  padding-bottom: 2px;
  padding-left: 6px;
  padding-right: 6px;
  cursor: pointer;
  z-index: 1000;
}

._3x1VRzjRQd57ABEuNvtxEd svg {
  height: 1.2em;
  width: 1.2em;
}

._2e-6163WvwWccFEiGmu7iw {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  width: 8mm;
  padding-top: 2px;
  padding-bottom: 2px;
  padding-left: 6px;
  padding-right: 6px;
  cursor: pointer;
  z-index: 1000;
}

._2e-6163WvwWccFEiGmu7iw svg {
  height: 1.2em;
  width: 1.2em;
}

._1vufuJKTzkNT9WbOZ71ckB {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  width: 8m;
  padding-top: 2px;
  padding-bottom: 2px;
  padding-left: 6px;
  padding-right: 6px;
  cursor: pointer;
  z-index: 1000;
}

._1vufuJKTzkNT9WbOZ71ckB svg {
  height: 1.2em;
  width: 1.2em;
}

._2MqE3g96OeQI6UDqBK4C1m {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  width: 8mm;
  padding-top: 2px;
  padding-bottom: 2px;
  padding-left: 6px;
  padding-right: 6px;
  cursor: pointer;
  z-index: 1000;
}

._2MqE3g96OeQI6UDqBK4C1m svg {
  height: 1.2em;
  width: 1.2em;
}

._1B5noQLBKzvQazJuaKp-pV {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  height: 8mm;
  padding-top: 2px;
  padding-bottom: 2px;
  padding-left: 6px;
  padding-right: 6px;
  cursor: pointer;
  z-index: 1000;
}

._1B5noQLBKzvQazJuaKp-pV svg {
  height: 1.2em;
  width: 1.2em;
}

._3tPjiM2e93pMFcLLjiBton {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  width: 8mm;
  padding-top: 2px;
  padding-bottom: 2px;
  padding-left: 6px;
  padding-right: 6px;
  cursor: pointer;
  z-index: 1000;
}

._3tPjiM2e93pMFcLLjiBton svg {
  height: 1.2em;
  width: 1.2em;
}

.HDKLSBWdWjCjXmQRcZX1 {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: horizontal;
  -webkit-box-direction: normal;
      -ms-flex-direction: row;
          flex-direction: row;
  -webkit-box-align: self-start;
      -ms-flex-align: self-start;
          align-items: self-start;
}

.RlB-o38JkVrIcs3e3HEBP {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  height: 8mm;
  padding-top: 2px;
  padding-bottom: 2px;
  padding-left: 6px;
  padding-right: 6px;
  cursor: pointer;
  z-index: 1000;
}

.RlB-o38JkVrIcs3e3HEBP svg {
  height: 1.2em;
  width: 1.2em;
}

._3biNjlisXQQzXv22kdwAap {
  border: none;
  background: transparent;
  font-size: 1.2em;
  margin-right: 10px;
  z-index: 1000;
}

._7h1eXe22s6QIZkw6UsyXR {
  color: black;
}

._2nMz35GG8byrMMzF2Fya0u {
  color: white;
}

._2rRUg30IvSxwcv02gAUApu {
  background: transparent;
  color: white;
  font-size: 1.0em;
  width: 80px;
}

._1L9xgL9xIwFVM9EYpbinC1 {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  width: 8mm;
  padding-top: 2px;
  padding-bottom: 2px;
  padding-left: 6px;
  padding-right: 6px;
  cursor: pointer;
  z-index: 1000;
}

._1L9xgL9xIwFVM9EYpbinC1 svg {
  height: 1.2em;
  width: 1.2em;
}

.xNwONFwafYEMD6Ux8907x {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  width: 8mm;
  padding-top: 2px;
  padding-bottom: 2px;
  padding-left: 6px;
  padding-right: 6px;
  cursor: pointer;
  z-index: 1000;
}

.xNwONFwafYEMD6Ux8907x i {
  height: 1.2em;
  width: 1.2em;
  color: white;
}

._3189D8Jn11Y6iQeoubZ6sh {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  width: 8mm;
  padding-top: 2px;
  padding-bottom: 2px;
  padding-left: 6px;
  padding-right: 6px;
  cursor: pointer;
  z-index: 1000;
}

._3189D8Jn11Y6iQeoubZ6sh svg {
  height: 1.2em;
  width: 1.2em;
}

._2sId_FHPcq3CLmNTt8U8Tj {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  width: 8mm;
  padding-top: 2px;
  padding-bottom: 2px;
  padding-left: 6px;
  padding-right: 6px;
  cursor: pointer;
  z-index: 1000;
}

._2sId_FHPcq3CLmNTt8U8Tj svg {
  width: 1.3em;
  height: 1.3em;
}

._10z0MDhk6Q9sm-2Cp6SWoC {
  width: 8mm;
  padding: 4px;
  padding-left: 0px;
  cursor: pointer;
  z-index: 1000;
}

._10z0MDhk6Q9sm-2Cp6SWoC svg {
  width: 1.3em;
  height: 1.3em;
}


._3A595mJE7PPKPJchSn0vAS {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  width: 8mm;
  padding-top: 2px;
  padding-bottom: 2px;
  padding-left: 0px;
  padding-right: 6px;
  cursor: pointer;
  z-index: 1000;
}

._3A595mJE7PPKPJchSn0vAS svg {
  width: 1.3em;
  height: 1.3em;
}

._3gNMOrZotpgWDX2recQczP {
  margin: 0px;
  width: 0%;
  opacity: 0;
  -webkit-box-sizing: content-box;
          box-sizing: content-box;
}

.i_OD6qA4cO4HhIMpw34yi {
  cursor: pointer;
  border-radius: 0.2em;
  opacity: 0.45;
}

input:checked._3gNMOrZotpgWDX2recQczP + label {
  opacity: 1.0;
}

._1GFEKBrCztc5H7uyhr7EY7 {
  color: white;
  background: transparent;
  font-size: 1.0em;
  width: 80px;
}

._204HAW_NyNvlQsLxYBf4eb {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  direction: row;
  font-size: 1.2em;
  z-index: 1000;
}

._3BBJ3lKx1rWQX0X3LePKVu {
  position: absolute;
  opacity: 0;
  pointer-events: none;
}

.tEIDYexZgH909jb9tmGbx {
  pointer-events: none;
  opacity: 0.5;
}

._3BBJ3lKx1rWQX0X3LePKVu + ._2MweFO61UqzFCmPXD7IBcT {
  background: rgba(40, 40, 40, 0.5);
  padding: 5px;
  margin-right: 2px;
  border-radius: 5px 5px 0px 0px;
  color: #777;
}

._3BBJ3lKx1rWQX0X3LePKVu:hover + ._2MweFO61UqzFCmPXD7IBcT {
  background: rgba(90, 90, 90, 0.5);
}

._3BBJ3lKx1rWQX0X3LePKVu:checked + ._2MweFO61UqzFCmPXD7IBcT {
  background: rgba(127, 127, 127, 0.5);
  color: #FFF;
}

._3KXz3yNTo9dbEczc4Sm1G- {
  position: relative;
  top: -2px;
  margin-left: 10px;
}

select {
  -moz-appearance: none;
}

select option {
  color: black;
}

select:focus {
  outline: none;
  border: none;
}

._3_EDbEYi9N35kOzTr0pwAG {
  width: 8mm;
  padding: 4px;
  padding-left: 6px;
  z-index: 1000;
}

._3_EDbEYi9N35kOzTr0pwAG svg {
  width: 1.2em;
  height: 1.2em;
}

.iMPG_Eo7LhOTWCNhY4Hkr {
  width: 8mm;
  padding: 4px;
  padding-left: 8px;
  padding-right: 0px;
  z-index: 1000;
}

.iMPG_Eo7LhOTWCNhY4Hkr svg {
  width: 1.2em;
  height: 1.2em;
}

._1dVAM7aDK0iBmdDx6GUXzA {
  width: 8mm;
  padding: 4px;
  padding-left: 6px;
  padding-right: 0px;
  z-index: 1000;
}

._1dVAM7aDK0iBmdDx6GUXzA svg {
  width: 1.2em;
  height: 1.2em;
}

.yfGmdhnrn3XgqcxmYKDYO {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: horizontal;
  -webkit-box-direction: normal;
      -ms-flex-direction: row;
          flex-direction: row;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
}

.mPoVdVy7h5NyYRAvcXVTU {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  min-height: 1rem;
  width: 5px;
}

._2IAkQ5qUBW9RELv3hettzJ {
  padding-left: 6px;
  padding-right: 6px;
  font-size: 1.1em;
  font-family: monospace;
}

.OnLr0eV5YEiHEXbVdKalj {
  color: black;
}

.cCm4Y5Ap79YW-O2Yxj_85 {
  color: white;
}

.Mq144pQgsHg65uCK1__T6 {
  position: absolute;
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  background-color: white;
  background-image: url(`+u(a(249))+`);
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
  border-radius: 10px;
  width: 50px;
  padding: calc(50vh - 2em) calc(50vw - 25px - 2em);
}

.XWRHVhGonKJ_FihV0Mv-L {
  position: absolute;
  width: 100vw;
  height: 100vh;
  top: 0;
  left: 0;
  overflow: hidden;
  background: black;
  margin: 0;
  padding: 0;
}
`,""]),p.locals={loading:"_3KWxeQd05m08ZKaqW2hdSX",spin:"_269stqVzP2JpNvK5aUgRSu",uiContainer:"_2C5g10skcxKYtrmOmkyjP-",uiGroup:"_2hkHrWBWU7_Z_pl7t8vcQx",uiRow:"_2NSOWVxxkq5fyVuf8D_7zx",mainUIRow:"_1k0l_YyznhXEBlmznFeJYy _2NSOWVxxkq5fyVuf8D_7zx",progress:"_2ggs8DQiLgYyjH89w-d--r",piecewiseWidget:"_1nuoY5VXyF258fj99pgAhZ",logo:"_3rIFr4WD7DAL7e_knnc7WG",fpsMonitor:"_1_sn836ed-B9o4TDryRi9v",tooltipButtonBrightBG:"_26TU0iSeRJjWNGxBKGjcMf",tooltipButtonDarkBG:"_3-3ov8RfSqmKYXgMADm4ng",invertibleButtonBrightBG:"QbLXrakEdp84kvxsdrjUJ",invertibleButtonDarkBG:"_2TTSCkv3H4bxQWjSEHjm4T",toggleUserInterfaceButton:"_3qmpTJzAL3UF9HvjWFTd3E",screenshotButton:"_3x_DSb2oCUGPmuwZHBixLr",annotationButton:"_3x1VRzjRQd57ABEuNvtxEd",axesButton:"_2e-6163WvwWccFEiGmu7iw",fullscreenButton:"_1vufuJKTzkNT9WbOZ71ckB",interpolationButton:"_2MqE3g96OeQI6UDqBK4C1m",cropButton:"_1B5noQLBKzvQazJuaKp-pV",resetCropButton:"_3tPjiM2e93pMFcLLjiBton",distanceEntry:"HDKLSBWdWjCjXmQRcZX1",distanceButton:"RlB-o38JkVrIcs3e3HEBP",distanceLabelCommon:"_3biNjlisXQQzXv22kdwAap",distanceLabelBrightBG:"_7h1eXe22s6QIZkw6UsyXR",distanceLabelDarkBG:"_2nMz35GG8byrMMzF2Fya0u",distanceInput:"_2rRUg30IvSxwcv02gAUApu",resetCameraButton:"_1L9xgL9xIwFVM9EYpbinC1",faIconButton:"xNwONFwafYEMD6Ux8907x",bgColorButton:"_3189D8Jn11Y6iQeoubZ6sh",viewModeButton:"_2sId_FHPcq3CLmNTt8U8Tj",shadowButton:"_10z0MDhk6Q9sm-2Cp6SWoC",viewPlanesButton:"_3A595mJE7PPKPJchSn0vAS",toggleInput:"_3gNMOrZotpgWDX2recQczP",toggleButton:"i_OD6qA4cO4HhIMpw34yi",numberInput:"_1GFEKBrCztc5H7uyhr7EY7",selector:"_204HAW_NyNvlQsLxYBf4eb",componentTab:"_3BBJ3lKx1rWQX0X3LePKVu",componentDisabled:"tEIDYexZgH909jb9tmGbx",compTabLabel:"_2MweFO61UqzFCmPXD7IBcT",componentVisibility:"_3KXz3yNTo9dbEczc4Sm1G-",sampleDistanceButton:"_3_EDbEYi9N35kOzTr0pwAG",blendModeButton:"iMPG_Eo7LhOTWCNhY4Hkr",gradientOpacitySlider:"_1dVAM7aDK0iBmdDx6GUXzA",sliderEntry:"yfGmdhnrn3XgqcxmYKDYO",slider:"mPoVdVy7h5NyYRAvcXVTU",sliderLabelCommon:"_2IAkQ5qUBW9RELv3hettzJ",sliderLabelBrightBG:"OnLr0eV5YEiHEXbVdKalj",sliderLabelDarkBG:"cCm4Y5Ap79YW-O2Yxj_85",bigFileDrop:"Mq144pQgsHg65uCK1__T6",fullscreenContainer:"XWRHVhGonKJ_FihV0Mv-L"}},function(g,p){g.exports=function(a){return typeof a!="string"?a:(/^['"].*['"]$/.test(a)&&(a=a.slice(1,-1)),/["'() \t\n]/.test(a)?'"'+a.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':a)}},function(g,p){g.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASwBLAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAJYAlgDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD3+iiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigDjfFusX1nqUVvaztEixhzt7kk9fbgV0+m3D3emWtxJjfJErNjjnHNcT41/5Di/9cF/ma6/RG2+H7NvSAH9KANKiuFsvGl0s0zXiLJGVJjRBjDdhn0pl14l1+Flmlg8iJj8oaAhT+JoA72iuOPjSSWyjS3tN1+5wVAJUe4HU/SqI8V6zZ3W28jU4+9FJHsOPagDv6Kr2V1HfWcVzFnZIu4A9vauVv/F11NeG10qEN820OV3M59h6UAdlRXDT6v4osI/PuYsRA8lolwPrjpXQeH9cGs2770Ec8RG9V6EHoRQBs0Vz3iDxKNJcW1uiyXJGTu+6g9/U1jQeIfERT7V9kMtv1/1B249iP50Ad1RXD3/jOdp4GslCxBQZEdcktnkZ9OnNdhd3kNlZyXUzYiQZOOp9hQBYoriG8S6zqly6aXb7UXsE3ED3J4oi8Vapp10IdVtsj+L5Nrgeo7GgDt6KjgnjuYEmiYNG67lI7ipKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKa8iRoXkdUUdSxwBWXP4l0e3JD30bEdowX/AFAoA1qK5t/G2lKeBcN9EH9TTP8AhOtM/wCeF5/3wv8A8VQB09Fcx/wnWmf88Lz/AL4X/wCKpy+ONKbrHdL9UH+NAHS0ViQ+LNGmwPtfln0dCP1xitWC6t7pd1vPHKvqjBv5UATUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAHn3jX/kOL/1wX+ZrrdI/wCRbtf+vcfyrkvGv/IcT/rgv8zXXaQD/wAI5ajHP2cfyoA4Pw1Cs/iG0RxlQxbB9lJH6gV2fi5Fbw7OSMlWQj2O4D+tcj4T/wCRktvo/wD6Aa6/xZ/yLdz9U/8AQhQBh+BYUe6u5ioLRqqqT2znP8qd47QCeycAbirgn2BH+NP8B9b/AP7Z/wDs1J48+/YfST/2WgDZ8KHPhu1/4H/6GaylvvD3h68ma2Es054IT5gnsCcf1q5oglPgnEGfOMUuzHXOWxiuW8N3Fja6sH1BV2bCEZlyFbI5I/OgDW1DxJeanp88VvpbC3ZDvkbLYHr0AFReBif7SuR2MP8AUVpa94js5dPls7J/tE0w2fIpwB3+vHpWT4JmCazJGf8AlpCQPqCD/LNAFG4UX3i145fuyXmxgf7u7GPyr0xVCgKoAA4AHavO/EllNpevG7jBCSP50b44DZyR9c8/jW9F42sDah5IplmxzGoBBPsfSgDmPEltHa6/cxxAKhIcAdsgE/rmt/xtMVsLKEE7XYsffAH+NctqlxPeahLc3CFHlw4U9lxx+mK7XxXpsl9pEcsKlpLf5to6lSOcfofwoAxNC8Qw6Tp/kfYpJHZizOp6/wCRUWv61HrUMKpZSxyxscMecgjkfyq74W8Q2tlaGyvH8sBi0bkEjnsfSr+reL7W3hKWDCec/wAWDtX/ABoAt+FIp4tCjSdGQ72KBhg7c/45rcqho891c6VBNeoFncEkAY4zwcfSr9ABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRWDr3iSHSB5MQE12RwnZPc/4UAal7qFrp0BmupljXtnqfYDvXK3HivUNSmNvotow/2yu5vrjoPxpun+G7zWZ/t+tSyANysfRiP/AGUe38q7C2tLezhENtEkUY/hUUAchH4S1LUXE2rX5B/ug7yPb0H4VrW/g7SIQN8Ukx9ZJD/TFb9FAGcmg6SgwNPtz/vID/OpP7H0z/oG2f8A34X/AAq7RQBS/sfTP+gbZ/8Afhf8Ka2iaU3XTrX8IgKv0UAYk3hPRpgf9E8snvG5H6ZxWTceCGibzdOvnjkH3RJwf++h/hXY0UAcONY8QaA4XUoDcQdN7f0cf1rpNK16x1ZcQSbZccxPww/xrSZVdSrKGU8EEZBrl9X8IRyE3Wlt9nuAdwjBwpPsf4T+n0oA6qiuR0bxPLFcDTtZUxTKdolYY59G/wAf/wBddd1oAKKKKACiiigAooooAKKKKACiiigAooooAztR0Wx1SRHuoizpwCGIOPSr0caRRrGihUQBVUdgKfRQBm2ehafYXj3VvBtlbP8AESFz1wO1XLm2iu7d7edA8bjDKamooApadpdppcTR2sZUMcsSck0ajpVpqsSx3UZYKcqQcEVdooAhtreK0t0ggQJEgwqis688NaXezGaS32yMcsUYrn8K16KAKFho9hpvNrbqjngueW/M0210TT7O+e8ggCzNnnJwueuB2rRooA5PVvEaQau+n3llHJZqQGLjLHI+8Pzq3Ba+F4sXMZs/UFpc4/An+laOpaNZaqo+1RZccLIpww/H/GsY+BrLdxdXG30+X/CgDm7+T+3fEj/ZQSJnVE47AAZ/IZr0wcDFZmmaDYaUxeCNmlIx5khy2Pb0rUoAybvw3pV7IZJLYK56tGSufwHFFp4b0qzkEkdqGcdGkJb9DxWtRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUVS1TUI9L0+W6k52j5V/vN2FAGb4l18aVCILchryUfKOuwev19Kq+HfDZhI1HUQZLtzvVX52e5/2v5VV8M6ZLqd6+uah85LkxA929foOg+ntXZ0AFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAZGuaDBrNvzhLhR+7lA/Q+orE8PazPp93/Y2qZVlbbE7H7p7KT6Hsa7KsDxRoY1Sz8+Ff9LhGVx/GP7v+H/16AN+iuf8ACusnUrEwTtm6gGGJ6svY/wBD/wDXroKACiiigAooooAKKKKACiiigBGYKpZiAAMkntWZp+v6fqdy9vbSMZFGRuXG4eorSkRZI2RhlWBBHsa8wgZ9D8QrvJ/0ebax9V6H8xQB6jVe9vILC1e5uH2xr1Pr7CpwQQCDkH0rjvHN7/x7WKn/AKauP0H9aAOksNVtNRtGuYJP3aEh9wwVx603T9asNTkeO1m3unJUqRx689qzfC+nrD4eJmHF1lnB4+UjA/Tn8aXw9Y6Pb3M8mnXRnlxtbc33Vz24HcdaAOhopCcDJ6Vmy+IdIhk2PfRbh/dyw/MUAadFQW15bXse+2njlXuVbOPr6U27vrWwiEl1MsSk4BbuaALNFNR1kRZEYMjAEMOhFVbnVLG0nWC4uo45G6Kx/n6UAXKKKqjUbNr42QuE+0j/AJZ559aALVFNd1jQu7BVUZJJwAKzG8R6Qr7DfR59QCR+eMUAatFRQXENzEJYJUlQ9GQ5FR3l9bWEQlupliQnAJ7mgCzRVG41awtYY5prqNY5RlDnO4eoAqe1vLe9i8y2mSVOmVPT6+lAE9FFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVxHiCV9c8R2+kQMfLiOHI7Hqx/Af1rsLy5Wzsp7l+kSF8euB0rlvBVq0z3mqTcvIxQE9z1Y/yoA6yCGO3gjhiULHGoVQOwFSUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAHDavGfDvieHUYVIt5yS6j/x4f1//VXbo6yIroQysMgjuKyPFFj9u0KcAZkhHmr+HX9M1F4RvTd6FGjHL27GI/TqP0OPwoA3qKKKACiiigAooooAKKKKACuE8bWPlX0N4o+WZdrH/aH/ANb+Vd3WT4jsft+iToBmSMeYn1H/ANbI/GgBPDV79t0OBicvGPKf6jp+mK4u+Ztd8TskZyJZRGpHZRxn8gTTtE1k6bY6jCWwZI8xez9P5HP4VoeCLHzLya9YfLEuxP8AePX9P50AdZqCLDol0kY2qls4UDsApxXG+CP+Q3L/ANe7f+hLXaar/wAge9/695P/AEE1xXgj/kNyf9e7f+hLQBc8Z6rKsqadEzKu3fKQcbs9B9P8as6b4Os2sI3vDI00ihjtbAXPYVh+LkdPEUzN0dUZfpgD+YNbFv4Ta4t4pk1ebbIgYfL2Iz/eoAxblJ/C+v4gkLKuGGf40PY/qPwrofGFuLzRYL2PJETBv+At/wDXxVO68LWVoySahrDBWOBuXBP0JJrqp7OK4017PGI2j8sewxgUAZXhC7+06GkbHLQMYzn06j+ePwriNUnfUNTvLpQWTcTn0XO0f0q5pOovpEep28h2u8RVR6SA4/qfyrS8OaT9r8P6kxXLTjZH9VGR+uPyoA6HQ79Z/DsNzI3+qjKyH02//WGa5Xw1G+peJmu36IWmb6noPzP6VUsdV+y+HtQst2GlZdg+vDfoP1rp/Bdl5GlPcsPmuH4/3RwP1zQBjeKtSmvtV/s6EsIoyE2g/fc+v8q2YfBeni1CSvK0xHMitjn2HpXKavGU8SXSSuUzcE7u6gnIP5Gul/4Q6T/oLz/98/8A2VAGHYXE/h3xE1szkxiQRyDsynoceuDmtbx4TtsB2zJ/7LQPDOn2mowC91UvK7ArGwAL+nc8dqPHnSw+sn/stAGfofh59btjcXFy6RR/u4wBk8c/gOa6jQ9ATRGnYXDTGXA5XaAB+J9ab4TAHhu2I7lz/wCPGtugAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAOf8ZXBg0B0B5mkVP6/wBKt+G7YWvh+zTHLJ5h/wCBc/1rF8euRa2UeeGdjj6Af411VsgitYYx0VFX8hQBLRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAIyh1KsMgjBFcZ4PJtNZ1LTyeFz19Vbb/Wu0ri7P8AcfES4ReA+7P4ruoA7SiiigAooooAKKKKACiiigAo60UUAeean4V1CLUJFtLcy27tmMqRwD2OTxiuy0TTf7K0uO2JBk5aQjux/wA4/CtGigCC8ha4sbiBSA0kTIM+4xXLeE9FvrDUZp7qExKIygyRySQePbiuwooAxtf0FNZgUowjuY/uMehHoa561h8U6Sn2aCEvED8o+VwPoe1d1RQBxVv4b1TVL4XOsyFUB5UsCxHoMcAV2gAUAAYA6UtFAHDeIvDl7Lqz3FlAZY5zuO0gbW75z+f411ek2P8AZ2l29qcbkX5iP7x5P61eooA8/wBS8K37avILaANbyuWV9wAUH1+ld1a26WlpFbx/djQKPwqaigDnfEXhv+1WFzbMqXKjBDdHH9DWVbnxbZQi1jhZlUbUJCttHsf8a7eigDj9K8M3suorqGryZdW37C25mI6ZI4x7Vb8X6Xd6jBbPaxGQxM25QecHHP6V0tFAGboNnLYaLbW04xKoJYA5xkk4/WtKiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAOL8f8A/MP/AO2n/stdpXF+P/8AmH/9tP8A2Wu0oAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAri/+amf5/5412lcX/zU3/P/ADxoA7SiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAOY8Iatfap9s+2T+b5ezZ8irjO7PQD0FdPXF+AP+Yh/2z/9mrtKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKo3mr6fp/F1dRxt/dzlvyHNY0/jnToyRFDcS++AoP65/SgCl4//AOYf/wBtP/Za7SvMvEOvrrht9tuYRDu6vuznHt7VvR+Pbcn97YyqPVXDf4UAdfRWHa+LdIucAztCx7Srj9RkfrWzHLHMgeJ1dD0ZTkH8aAH0UUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUnSsu78R6VZErJdozj+GP5j+lAGrXF/81N/z/wA8asTeO7NT+5tJ3/3iF/xrnv7fX/hKP7Z+zHH/ADy3/wCxt64/GgD02iuTh8d2bH99aTp/ukN/hWvaeI9KvSFju0Vz/DJ8p/WgDVopOtLQAUUUUAFFFFABRRRQAUUUUAFFFFABRRTJJY4ULyuqIOrMcAfjQA+isO68W6RbZAnaZh2iXP6nA/WsyTx7bg/urGVh6s4X/GgCLwB/zEP+2f8A7NXaV5l4e19dDNxutzMJtvR9uMZ9veumg8c6dIQJYbiL3wGA/XP6UAdPRVGz1fT9Q4tbqORv7ucN+R5q9QAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRWNr+vRaNb4AD3Lj93H/U+386ALWp6taaTB5lzJgn7qLyzfQVyralr3iWRo7BDbWucFgcfm3f6CpdJ8O3GrTf2nrLOwc7liPBYds+g9q7GONIo1jjRURRgKowBQBzFl4ItI8PezPcP3VflX/E1uQaPptsAIbGBSO5QE/meavUUANCKowqgD2FRyWtvMMS28Ug9GQGpqKAMW78K6Rdg/6MIWP8UJ24/Dp+lYcvhrVtHkNxo920gHJTox+o6NXbUUAcrpXi9JJPsuqR/Z5wdpfGFz7jsf8APFdSCCMg5B9Ky9Y0G01iL94uycD5ZlHI+vqK5vTtTvfDN8NO1MFrUn5H67R6r6j2oA7mimo6yIrowZWGQQcginUAFFFFABRRRQAUUUUAFYes+JrTScxD99c/881P3f8AePaqPiHxFKk/9maXl7pjtZ05Kn0Hv79v5S6F4Vistt1fATXZ+bB5VD/U+/8A+ugDKWz8QeJsPcy/ZrNuQCNoI9l6n6mtiz8G6XbAGZXuX9XbA/If/XroqKAK0On2VuP3NpBH/uxgVY2rjG0Y9MUtZE3iTToNRFm8jbs4aQD5FPoTQBem0+yuB++tIJP96MGsa88G6XcgmFXtn9UbI/I//Wros5GRRQBwrWfiDwzl7aX7TZryQBuAHuvUfUVvaN4mtNWxEf3Nz/zzY/e/3T3rcrmtd8KxXu66sQILsfNgcK5/off/APXQB0tFcr4e8RSvP/ZmqZS6U7Vd+Cx9D7+/f+fVUAFFFFABRRRQAUUUUAFISAMk4A9aR3WNGd2CqoySTgAVxGoane+Jr46dpgK2oPzv03D1b0HtQBf1XxekchtdLj+0Tk7Q+Mrn2Hc/55qnF4a1bWJBcaxdtGDyE6sPoOi10Oj6DaaPF+7XfOR80zDk/T0FatAGLaeFdItAP9GEzD+KY7s/h0/StSO1t4RiK3ijHoqAVNRQA0orDDKCPcVTn0fTbkETWMDE9wgB/Mc1eooA5W+8EWkmXspnt37K3zL/AIiqC6lr3hqRY79Dc2ucBic/k3b6Gu5pkkaSxtHIiujDBVhkGgCnpmrWmrQeZbSZI+8jcMv1FX64vV/DtxpM/wDaejM6hDuaIclR3x6j2rb0DXotZt8EBLlB+8j/AKj2/lQBs0UUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAU9T1CLS7CW6l5Cj5V/vN2Fcr4e0uXWr59Z1Ib0LZjU9GI/oOlJr0j674kg0mFj5MTYcjsf4j+A4rs4IY7eCOGJQscahVA7AUASUUUUAFFFFABXntz421T+05be2jtjH5xjjyhJIzgZ5ru7ucW1lPcHpFGz/kM15N4dgN34jsUPP70Of+A/Mf5UAeoatq1votgbm4JY52qi9Xb0FcFc+ONZuZT9mMcC9lRAx/EnNaPxEEvmWBwfKw4B7buP6U3wRqul2VvLBcukF08mfMfgMuBgbu3OfzoAr6Z441RblIrmJbsM23aqbX/DHH4YrtdU0uHWbDyZlKNjcjEco3+eoqcWVm94L5YIjcbcCUDnH1/rVqgDjfDOpT6dfvod/wDKQxERJ6Hrj6HqP/r12Vcp4y0wvbpqcAKzQEByvXbng/gf51t6LqI1TSobnI3kbZB6MOv+P40AaFFFFABRRRQAVgeKNbOl2Qhgb/SpwQuP4B3b/D/61bsjrFG0jkBVBYk9gK4jRom8ReJZ9SnBNvAQUU/+Oj+p/wDr0Aa3hfQRp0Au7lc3koz838APb6+tdHRRQAUUVy3iTxH9nD2Nk/73pJIP4PYe/wDKgBPEniPyA9jZP+96SSA/d9h7/wAq4qjrRQB1PhvxH9nKWV6/7npHIf4PY+38q7brXkFdV4b8R+Rssb1/3XSOQ/w+x9v5UAdrRRRQBznijQRqMBu7ZcXkQz8v8YHb6+lSeF9bOqWRhnb/AEqAANn+Mdm/x/8Ar1v1w2sxN4d8SwalACLeckuo/wDHh/Uf/WoA7mimxussayIQVYBgR3Bp1ABRRRQAUUVn61qI0vSprnI3gbYx6sen+P4UAc74m1KfUb9NDsPmJYCUg9T1x9B1P/1q6LSNKg0iyWCEZY8ySY5c+tYng3TClu+pzgtNOSELddueT+J/lXV0AFFFU9S1K30q0a4uGwBwqjqx9BQAajqVtpdqbi5fCjgKPvMfQCsT/hOtM/54Xn/fC/8AxVZdjY3nizUPt18SlkhwqjoR/dX+p/yOtGjaWAB/Z1px6wr/AIUAY3/CdaZ/zwvP++F/+Ko/4TrTP+eF5/3wv/xVbX9j6Z/0DbP/AL8L/hR/Y+mf9A2z/wC/C/4UAYv/AAnWmf8APC8/74X/AOKo/wCE60z/AJ4Xn/fC/wDxVXtSh0TSrRri4sLQAcKogXLH0HFcNcWlxqNrd6uLeK2tY8BUjQKDlgMDHXGeTQB6Rp19FqdjHdwq6xyZwHAB4JHb6VyfiHS5dFvk1nTRsQNmRR0Un+h6VueE/wDkWbP/AIH/AOhtWtPDHcQSQyqGjkUqwPcGgCvpmoRapYRXUXAYfMv91u4q5XEaDI+heJJ9JmY+TKcIT3PVT+I4rt6ACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKgvLhbSznuG6RIXx64FT1heL5vJ8OzgHBkZUH55P6CgDM8E2zSteanLzJI+wE/m39K7CsfwtB5Hh20GMFwXP4kn+WK2KAM/Vta07Q7X7RqV3Hbxk4G7ksfQAcn8K5Sb4seHYJ/LaO/wD97yAB9cEg/pSXUtjZfEqefX9iRyW8Y0uaf/VJj74yeA2efp9RXgnie112LxBtZyJBKTOzEfMSc7vcHqMV2UaEJLW7OedSSeh9PaJ4p0fxCCNOvFkkUZaJgVdR/unnHuOK2K8R8MIHsdBt7b5tdXUfNQx/ehteN4kI6KeTg+vvz03iu81uy1d0ku5lti2+DZ8qkenHXHvWNemoSsjSnNyWp13iy4+z+Gbw5wXURj33EA/pmuP8BW/m6+0pHEMLEH3OB/Ims7V/Euoa1BHBc+WsaHdtjUjcemTyf8muy8GaRNpumS3M0e24uMFUbghR0z6Zz/KsTQ6C/wBPttTtGtruMSRnn0IPqD2NcHrfgeWwt5bqyn86GMFmjcYcKOvPQ/pUF/4m16z1tpZwYGTKi3YZTb/X60aj43vr+xktRBDCJVKuy5JweoHpQAvgzWbi11WKwZy1rOSuwnO1sZBHp/8AXr0yvOPBWh3E+ox6lLGyW8OShYY3tjHHsPWvR6AI54UuLeSGQZSRSrD2IrkPB0r2epX+lSHlSWH1U4P58flXZ1xUw+xfEWNhws2Px3Lj+dAHa0UUUAFFFFAGD4vvDaaDIinDTsIvwPJ/QY/GpfC9kLLQYAR88o81vx6fpisXxuxnvNOs1PLEnH1IA/ka7FFVEVFGFUYA9BQA6iiigBkyGSCSNXKFlIDDqMjrXDHwZqW4/vbY89d55/Su8ooA8z1TQrvSYo5LhoiHbaNjE/0rMrtvG/8Ax42v/XQ/yriaAL+l6RcavJIlu0YMYBO8kf0rT/4QvUv+elt/32f8KseCP+Py7/65j+ddrQBV021ey06C2kk8x41wWq1RRQAVjeKLIXugzgD54h5q/h1/TNbNNdVdGRhlWGCPUUAYfhC8N3oMaMctAxi/Acj9Dj8K3q4zwQxgvNRs2PKkHH0JB/mK7OgAooooAK4zxjK95qVhpUZ5Yhj9WOB+XP512dcVCPtvxFkY8rDn8Nq4/nQB2MEKW9vHDGMJGoVR7AVJRRQBT1LUrfSrRri4bAHCqOrH0FchY2N54s1D7dfEpZIcKo6Ef3V/qf8AIg121udV8YyWEcvJx5YkY7V/dhjjrjpVyPwz4jijWOPVlRFGAq3MgAHsMUAdnFFHDEsUSBEUYVVHAFPri/8AhHfE/wD0Gf8Ayal/wo/4R3xP/wBBn/yal/woA7Sqepalb6VaNcXDYA4VR1Y+grl/+Ed8T/8AQZ/8mpf8Ky4tOubnxTDpWq3Uk+w/MfMZuNu7AJ/CgC7Y2N54s1D7dfEpZIcKo6Ef3V/qf8je8TxRweFLmKJAiIECqo4A3rW1FFHDEsUSBEUYVVHAFZHiz/kWbz/gH/oa0AHhP/kWbP8A4H/6G1bVYvhP/kWbP/gf/obVtUAcf42tmiaz1OLiSN9hI/Nf611NncLd2cFwvSVA+PTIrO8Uwef4duxjJQBx+BB/lmovCE3neHYATkxsyH88j9DQBu0UUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABXM+OCRoceO9wuf++Wrpq5/xnEZPDzsP+Wcit+uP60AaOigDQ7DH/Pun/oIq/WX4clE3h6yYdo9v5HH9K1KAKGrxabLpk51aKGSyjUvJ5yblUDvXmN1J8KY3LKksnOSkRnwfzIFbHjnxLq9tq40WAtp1pMqBb0wOzXDNu3RxvtKKcDvlsZwBw1eZSaFHqV88Nn4j0ya5TcPL+zhXfDHltrhSR90lVA46ZzlQx1CjNwqya9Lilh6k1eCTPcfB40KXRUvNBsVtraUkcph22kjk5JPTua2rpLaS2f7WkTQKNzCUAqAO5zxXD/DfUU0/Rx4f1AfZ9QtRJNgnKTRlsl427gZAIOCMjIwQTy3j34jJq9vJpOjlhZscTXBGDKP7oHZfX1+nXelFYmd6buu5nOXso+8rM9M0JNC1Kyi1TS7OARyM2yTyQp+VipI9ORWT8QIb210C61ew1W8tJrcKSkcnyMMgYx2POc1m/D7xLomneCrC1vNUtYJ0Mm6OSQAjMjEcfQitXxxeW1/8ONSurSdJoHjXbIhyDiQA4P1FUoOFZK2lxOSlTv5HPfC/UbvxGurprU7X6ReT5YuAHC535xn6D8q9Aj0PSon3pp1qG7HyhxXmvwV665/2w/8Aales0YtJVmkFB3grgBgYHSloornNgri9e+XxzphHU+Vn/vs12lcXqH+lfEK1jH/LLZn8AXoA7SiiigAooooA4vxLz4x0pT9391/6MNdpXF+Mf9H1nTLs9B/7KwP9a7SgAoork9f8TXVjqTWlqqKIwNzMMkkjP9aAOsorz7/hMNV/vQ/9+6X/AITDVfWH/vigDX8b/wDHja/9dD/KuJr0RJtL8TWCLKRuBDGPdhkb/Co/+ES0j/pr/wB/KAMnwR/x+Xf/AFzH867WsaKDSfDcEsocJuHO5ss2OwFc1J4x1JpXMflKhJ2qUzgUAd9RXn3/AAmGq/3of+/dXdK8WXs2pQQXKxvHK4T5VwQScA0AdpRRRQBxfhrjxjqqj7v73/0YK7SuL8Hf6RrOp3Y6H/2Zif6V2lABRRRQAVxeg/N451MnqPNx/wB9iu0ri9P/ANF+IV1Gf+Wu/H4gPQB2lFFFAHF/81N/z/zxrtK4v/mpv+f+eNdpQAUUUUAFcX/zU3/P/PGu0ri/+am/5/540AdpWL4s/wCRZvP+Af8Aoa1tVheL5UTw5cIzANIUCAnljuB4/AGgB/hP/kWbP/gf/obVtVi+E/8AkWbP/gf/AKG1bVAFDWgDod/n/n3f/wBBNZHgck6HJntcNj/vla0vEcoh8PXrHvHt/M4/rVPwZEY/DyMf+WkjN+uP6UAdBRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFU9VtftulXVsBlnjIUf7XUfrirlFAHK+BrvzNOntGPzwvuA/2T/8AXB/OuqrhpSfDfjHzT8tpdck9grHn8j+ldwDkZFAFXUbCx1KykttRtLe7tThniuIhIhxyMqQQcEZr5k12+utW1NZb+3jgtnijfTII4hGkNttDIibQOV3EHvn0GK+pCAVIPQjnNfPF3q3h6OWbQrp21LRbaTy7W+SJ1aIAAqpx8xwCAJE4YYPqTnKtUoyU4w5l1XWw+SM04t27G58LDqOvaxC9x5k1vpEkqvcyr98PEoWMt/E3zsT7KueSCV+LllaWWractrawwK0DFhFGFBO7vit74Y3qxaldaPp2p/2jo6WwnTlHNs5cjbvUDO4ZOGyRsNZHxm/5DOm/9e7f+hV05Y6bqKVJWTu7bGOLUuS09WjqvhzpGm3XgbT5rjT7SWVjLueSFWY/vGHJIq/49ghtvh7qcMESRRKi7UjUKB869AKb8Mf+RA076y/+jGqb4if8iHqv+4v/AKGtaNv6x8/1El+6+RxvwV665/2w/wDalXfF2jW3i7XVstDjX7ZHJnUL5c+XGAMBSe7dPlHp25xw3hZNfPh/xA+iThFRIjcqg/esnz/cPbHzZ7+ldN8LPGEdqy+H74qiSOWtZTx8x6ofqen5elddanJTlVi9V/kYU5JxUGeg+HvCOl+HIkNrGXuQhV7mQku+evsBx0rfoorzJScndnYkkrIQkKCScAdSa4rwznU/FF9qRBKLuKk9txwP/HQa1/Fupiw0hokb99cZRR6L/Efy4/GpPC2nHT9Fj3jEsx81/bPQflSGbdFFFABRRRQBzPja087R0uFGWgkBJ/2Twf1xWrod4L7RbWfOW2BW/wB4cH9RVq7tkvLOa2k+5KhU/j3rk/CV09hqF1o1ydrBiU/3h1A+owfwoA7OvOPFP/Ix3f8AwD/0Ba9HrzzxZbyx67NM6ERyhSjY4OFAP8qAMOiiigAooooAK0I9EvpdMbUEjBgUE9eSB1OKz60I9avotMbT0lAgYEYxyAeoz6UAR6dplzqk7RWyglRuYscACpLGCS18Q2kEy7ZEuUDD/gQqPT9TudLnaW2cAsNrAjIIqzpQudR8Q28xDSSeeskjY6AHJPtQB6VWdrl4LHRbqfOG2FV/3jwP1NaNcZ4tunv9QtdGtjuYsC/+8egP0GT+NAF3wTaeTo73DDDTyEg/7I4H65rpqgtLZLOzhto/uRIFH4d6noAKKKKACuJ8TZ0zxRY6kAQjbSxHfacH/wAdIrtqxPFOnHUNFk2DMsJ81PfHUflQBtAhgCDkHoRS1geEtTF/pCxO3763wjD1X+E/lx+Fb9AHF/8ANTf8/wDPGu0ri/8Ampv+f+eNdpQAUUUUAFcX/wA1N/z/AM8a7SuC1C+i07x9LdzAlIxnA6kmHAH5kUAdjqWpW+lWjXFw2AOFUdWPoK5CxsbzxZqH26+JSyQ4VR0I/ur/AFP+QWNjeeLNQ+3XxKWSHCqOhH91f6n/ACO4iijhiWKJAiKMKqjgCgAiijhiWKJAiKMKqjgCn0UhOBk0Act45u/L06C0U/PM+4j/AGR/9cj8q3tKtfsWlWtsRhkjAYf7XU/rmuSiJ8SeMfNHzWlryD2KqePzP6V3NABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAGP4i0gavprIgH2iP5oie57j8f8Kz/CetG4h/s26JW5gGE3dWUdvqP8966iuV8SeH5JJRqmmgrdIdzqnVsfxD3/AJ/zAOnfb5bbjhcHJzjivlm606+t79baDTr6WNMQPKtu2xjGojWRT3VkRTjAIOfw+iNA8Sxamot7krFeDjB4En09/augq6cuSamt0TOPNFxPO/hPeRxaNLpUllJa3UcjTFmiKiYHvnHJHA+mPwr/ABY8N6hqa2mp2MLTrboySxoMsBnIYDuOuf8AOPTKK0Vflq+0iiHTvDkZ5F8O/G40/Sv7Em069uZYnYwC1i3kgnJBGRjBJ5/liui8datK3gea0vLN4tQvQBHbQ5lKKHByxAwOBz79M13eMdqKJVoupzqIKm1HlueQ/CGb7BqGo2d3DPDJdrGYi8ZCnZuyM+vzfpWf8RfBMukakNU0uBzZXDZZIlJ8mTrwB0B6j06ele3UVf1pqr7RLfoT7FcnKzzzwd8Q7efT4LHXZJYNRV1hR2ic+fngHIBwexz9fp31xcRWlvJPO4SJBlmNJdXUFnA09xIsca9WauKubm98YagLa2VorCNssx7e59T6D/8AXWFSUZO8VY1imlZsdYRS+KvEDX1whFlAQAp6YHRf6n/9Vd1VaxsoNOtEtrddsafmT3J96s1BQUUUUAFFFFABXJeLdLlSSPWbPKzQkeYV68dG/DpXW01lDKVYAgjBB70AZ2iavFrFgsy4WVeJUH8J/wADWnXDalp134Y1H+0tNBa0Y/OnUKD/AAn29D/k9RpOsWur2/mQNiQD54ifmU/4e9AGjRRRQAUUUUAFFFFABRRWdq2sWukW/mTtmQj5IgfmY/4e9ADdb1eLR7Bpmw0rcRIf4j/gKxfCWlyvJJrN5lppifLLdeerfj0qnpunXfifUf7S1IFbRT8idAwH8I9vU/5HbqoVQqgAAYAHagB1FFFABRRRQAUUUUAcLfxS+FfEC31uhNlOSCo6YPVf6j/9ddrb3EV3bxzwOHicZVhUd9ZQajaPbXC7o3/MHsR71xltc3vg/UDbXKtLYSHKsO/uPQ+o/wD10AXtW8Nand67NqFndQw7tuxvMZXGFCnoPrUP/CO+J/8AoM/+TUv+FddbXUF5brPbyLJG3RlqagDi/wDhHfE//QZ/8mpf8KP+Ed8T/wDQZ/8AJqX/AArtKKAOL/4R3xP/ANBn/wAmpf8ACmQeDL+bUEm1K6jmjJzIRIzOwA4GSPoPpXb0UAMiijhiWKJAiKMKqjgCn0UUAFcv4s1o28P9m2pLXM/D7eqqe31P+e1T6/4mi0xTb2xWW8PGByI/r7+1VvDfh+SOU6pqQLXTnciv1XP8R9/5fyANLw7pA0jTVRwPtEnzSkdj2H4f41sUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAHO654Wh1JmubUiC7zkn+Fz7+h96yrbxHqehyi01i3eRB0k/ix7Ho1dvUU9vDdRGKeJJIz1VxkUAU7HW9O1ED7PdIXP8AyzY7W/I1o1zF74IsJyWtpJLZvT7y/kef1qiPDviKy4s9S3IOiiVh+h4oA7WivPtQ1LxPpHli7udgkztOI2zjGe3uKu/YfGFx8sl15Q9fMVf/AEEUAdhLNFBGZJpEjQdWdgAPxrndS8ZWNqClmDdS+o4Qfj3/AAqlH4Kubh/M1HUi7d9uWJ/Fv8K39P8AD+m6aQ0FuDKP+WknzN/9b8KAOag0fV/Ek63OqSNBbA5VMYOP9le31P612NnZW9hbrb20QjjXsO59Se5qxRQAUUUUAFFFFABRRRQAUUUUANZVdSrqGVhggjIIrkdT8Kz2tx9u0SRo5F58oNg/8BPp7H/61dhRQByFh4yaJ/s2r27xSrwZFX+a9vwrprW/tL5N9rcRyjvtbkfUdqbfabZ6jHsu7dJAOhPBH0I5Fc5deBot/mWN5JCRyFcZx+IxigDrqK4r+yPFdpxDf+aB0HnZ/wDQhS7PGv3d/HrmKgDtKrXV/aWKb7q4jiHbc3J+g71yf9keK7via/8AKB6jzsf+gip7XwNFv8y+vJJieSqDGfxOc0AJf+Mmlf7NpFu8srcCRl/kvf8AGk0zwrPdXH27W5Gkkbnyi2T/AMCPp7D/AOtXS2Om2enR7LS3SMHqRyT9SeTVugBqqqKFRQqqMAAYAFOoooAKKKKACiiigAooooAKr3llb39u1vcxCSNux7H1B7GrFFAHDT6Pq/hudrnS5GnticsmMnH+0vf6j9K09N8ZWN0Al4Day+p5Q/j2/GumrL1Dw/pupEtPbgSn/lpH8rf/AF/xoA0Ipop4xJDIkiHoyMCD+NSVxkngq5t3MmnakUbtuypH4r/hSfYfGFv8sd15o9fMVv8A0IUAdpRXn2n6l4n1fzBaXO8R43HEa4znHb2NXD4d8RXvF5qW1D1Uysf0HFAHS32t6dpwP2i6QOP+Wanc35CuYufEep65KbTR7d40PWT+LHuei1oWXgiwgIa5kkuW9Pur+Q5/Wuigt4bWIRQRJHGOioMCgDC0PwtDprLc3RE93nIP8KH29T710VFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQBxfj//AJh//bT/ANlrtK4vx/8A8w//ALaf+y12lABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAHF+AP+Yh/2z/8AZq7SuL8Af8xD/tn/AOzV2lABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAHF+P/APmH/wDbT/2Wu0rjvHy5hsW9Gcfnj/CuuibfEj/3lBoAfRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFMlbZE7/wB1SaAOO8Af8xD/ALZ/+zV2lcd4BXEN83qyD8s/412NABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAHNeN4DJoiSgcxTAk+gII/nitXQ5xc6HZSg5PlKpPuOD+op+rWn27Sbq2AyzxnaP9ocj9QKwvA955mnTWbH54H3AH+63/wBfNAHVUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUU1mVFLOwVVGSScACuR1PxVPdXH2HRI2kkbjzQuT/wABHp7n/wCvQB0t9qVnp0e+7uEjB6A8k/QDk1zl145i3+XY2ckxPAZzjP4DOaSw8GmV/tOr3Dyyty0at/Nu/wCFdNa2FpYpstbeOIf7K8n6nvQByf8Aa/iu75hsPKB6Hycf+hGl3+NfvbOPTEVdpRQBxX9r+K7Tmaw80DqfJz/6CantfHMW/wAu+s5ISOCyHOPwOMV11VrqwtL5Nl1bxyjtuXkfQ9qAG2OpWeox77S4SQDqBwR9QeRVuuQv/BrRP9p0i4eKVeRGzfybt+NJpniqe1uPsOtxtHIvHmlcH/gQ9Pcf/XoA7CimqyuoZGDKwyCDkEU6gAooooAKKKKACiiigAooooAKKKKACs/XJxbaHeyk4PlMoPueB+prQrlfHF55enQ2an5533ED+6v/ANfFAEvgiAx6I8pHMsxIPqAAP55rpapaTafYdJtbYjDJGNw/2jyf1Jq7QAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVw1wT4b8YifpaXXJ9AGPP5Hn6V3NY/iPSRq2mMqD/SIvniPv3H4/4UAa4ORkUtcx4S1n7Va/2fcEi5gGF3dWUf1HSunoAKKKKACiiigAooooAKKKKACmswVSzEAAZJPanVyXi3VJXkj0azy00xHmBevPRfx60AU9S1G78T6j/ZumkraKfnfoGA/iPt6D/I6jSdHtdItxHAuZCPnlI+Zj/h7U3RNIi0ewWFcGVuZXH8R/wFcD45+IWveF9XFtbWtg8B3ANNG5OQQezj+Fk/HNVCDm7ImUlFXZ6jRXKeAPFU/i3w+97dJDHcxTtFIsIIXoCCAST0Pr2rq6UouLsxxaaugooopDCiiigArO1bR7XV7fy51xIB8koHzKf8PatGigDhtN1G78Maj/ZupEtaMfkfqFB/iHt6j/J7dWDKGUggjII71na3pEWsWDQthZV5ic/wn/A1i+EtUlSSTRrzKzQk+WG68dV/DrQB1tFFFABRRRQAUUUUAFFFFABRRRQAhOBk1w8BPiTxiZ+tpa4I9CFPH5nn6VpeLdZ+y2v9n25JuZxhtvVVP9T0q/4c0kaTpiq4/wBIl+eU+/Yfh/jQBsUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAHIeJdGntroa1puVlQ7pVUdP9rH8//wBdbOha5DrNrkYS4QfvI89Pce1avWuP1jw5cWV1/aei7kdTuaJOo/3R3Ht/+qgDsaK5zRfFdvqAWC8K291054Vz7HsfaujoAKKKKACiiigAooooAgu7lLOzmuZPuRIWP4dq5Pwlavf6hda1cjcxYhP949SPoMD8au+NrvydHS3U4aeQAj/ZHJ/XFauh2YsdFtYMYbYGb/ePJ/U0AaNeSfGbTt1vDeqvKlWz6D7rfqY/yr1uuR+Iunf2j4VnULuZQQB6kj5R/wB9hK0pS5ZpkVFzRaOC+CWpeXqupaYzcTRLMgPqpwf/AEIflXQfFPxI2naW9rbylZpcwIVOCCQDI34KQv8AwM+leXeAdSOleNtMnDAK8nktnp842jPtkg/hSeMtYbXPEknkuZoYT5EJH/LTk7nH+8xJ/EeldsqPNW5uhyxqWpW6mn4IsNc1D7fqlkLm6lsotsEfmcGZ+FPJx8oy31A9a5rUrbVNJu/s180sU20Pt83dweQcgmvoXw1oo8IeBRAQBcpC085HeUjJH4cKPoK8K8ayGfxlfxJ83kOtqoH/AEzUJj81NOlV56jVtBVIcsF3J7Xwf4uvLKC8gsrhredVaOQzqoYN06t3z+tZ+tXsqXwsoLiQw2S/Z1YOfnIJ3N+LFiPbA7V9Cals0Pw1YwcbLONSfTEMZf8Amgr5l3sZN+SXznPvTo1HUbbWwqsORKx6R498QT6dYWfhuCZllt7aOKYq3KgKMgn+8xGT7Af3jW98I/C06xHxHqDSEuClojseB0L/AI8gfj6ivMfD9vHr/i+xg1SeRlvLkCaQnLOSemfUnjPvX1FFFHBCkMSKkcahVVRgKB0ArGu/ZxUF1NaS55czJK4zxdavYaha6zbDDBgHx/eHQn6jj8K7Os7XLMX2i3UGMtsLL/vDkfqK4jqLVpcpeWcNzH9yVAw/HtU9cz4Ju/O0d7djloJCAP8AZPI/XNdNQAUUUUAFFFFABRRRQAVk67rkOjWuTh7hx+7jz19z7VS1rxXb6eGgsytxddOOVQ+57n2qjo3hye9uf7T1rc7sdyxP1P8AvDsPagB3hrRp7q6OtallpXO6JW7/AO1/h/8Aqrr6TpS0AFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAYeseGLPVd0qjyLk/wDLRRw31HesFbnxD4Zws6farNeASSygezdR+Nd1R1oA52x8ZaZdACYvbP6OMj8x/XFbkF1b3S7reeKVfVHB/lWfe+HNKviWktVRz/HF8p/Tg1jT+BId2ba+kj9A6Bv1BFAHX0Vxf/CK65FxDq+AOn711o/4R3xP/wBBn/yak/woA7SiuL/4R3xP/wBBn/yal/wo/wCEd8T/APQZ/wDJqX/CgA8Y/wCkazploeh/9mYD+ldpXm9xZX9h4j01NSuftEhkjYN5jPhd/TLf55r0igAqnqtu11pdzCn3zGSn+8OR+oFXKKAPkvVbYWWr3UCAhElPl/7ucqfywa7D4U+HP7Z8UrezJm10/EpyODJ/AP0J/wCA16nqHwy8M6leyXdxazGV8A7ZmA4AA4+grT0zStD8FaU0Vvi2tnl3M0jFizEev0Fds8UnCy3OWNBqd3sXNbkVNPCMcLJLGrH/AGdwLf8AjoNfOOgRtrvj2xLjJub9ZZB7b9zfpmvowS6X4itnjSUXESZDbCRjcpXrx2JrnIvDHgnwjqcN+kQt7yLJjzNI5GQRnbk9ie1Y0aqgnfdmlSm5tEfxNvfsvh29weRaFMe8jon/AKDvryL4fwh/FsFw8QkitIpJ5FPdQpH8yK9m1G68I+KVa1v5iyyFMh2eMHbu288f3jV3R/Avh7RJZp9NszG9xC0LMZWfKNjI5J9BVU60YU3HqxTpOU0+h87XkMugeJJokOJbG6IRvdG4P6A19T2d1He2UF1EcxzRrIh9iMj+dfOPxBs2tvEizMMG5gR2/wB9cxv/AOPIT+Ney/DHUv7R8B2G5syW263b22n5f/HStaYj3qcZkUfdm4nYUUUVxHUcX4O/0fWdTtB0H/srEf1rtK83t7K/v/EepJptz9nkEkjFvMZMrv6ZX/PFan/CO+J/+gz/AOTUv+FAHaUVxf8Awjvif/oM/wDk1L/hR/wjvif/AKDP/k1J/hQB2lQz3VvaruuJ4ol9XcD+dcj/AMIrrkvE2r5B6/vXapYPAkO7NzfSSeoRAv6kmgC7feMtMtQRCXuX9EGB+Z/pmsdrnxD4mysCfZrNuCclVI926n8K6Sy8OaVYkNHaq7j+OX5j+vArW6UAYej+GLPStsrDz7kf8tGHC/Qdq3KKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA4zxupgvNOvFHKkjP0II/ma7FGV0V1OVYZB9RWH4vszd6DI6jLQMJfwHB/Q5/CpfC96L3QYCT88Q8pvw6fpigDZooooAK4v4h3G2ysrfP35GfH0GP/Zq7SvN/H9x5mtwwg8RQj8yT/TFAGt4UJ03wbeX4XL5klXPfauB+oNcpo1ifEOu+VdXLAybnd/4mx2HvXo2hWSL4XtLWVMpJB86nuH5I/WuM1PwXqVhM01gTcRKdylDiRfw7/hQBr3Pw9tGeM2t3Mi7v3gkwxI9sAc11lpaxWNpFbQAiKNdq5OT+dcBoPjG8truO11JzNAzbC7/AH4+2Se49c16KzBVLEgAckmgBGRW+8oP1FAVVGFAH0FeNa18abxNTePRrG1azRiokuAxaQDuACMA/j/SvQPBXjCDxhpL3CReRcwsEnhznaSOCD6Hn8jWsqM4xu1oZxqxk7I6emuyojOxwqjJPoKdWN4ovRZaDOQfnlHlL+PX9M1kaGL4IUz3mo3jDliBn6kk/wAhXZ1g+ELM2mgxuww07GX8DwP0GfxreoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAbIiyxtG4BVgVIPcGuI0aVvDviWfTZyRbzkBGP/jp/of8A61dzWB4o0Q6pZCaBf9KgBK4/jHdf8P8A69AG/UN080dpM9vGJJlQlEP8RxwKwvC+vDUYBaXLYvIhj5v4wO/19a6OgDzq28e6hFeyNewI8WCPJQbNp+pyax2Nz4o8RbgmHuHGQOQijj9BXpN74e0nUJjLc2UbSHqykqT9cEZqxYaVY6YpWztkhz1I5J+pPNAGN4o16bQbWGG0tzvdcJKw+RAO3ufas6D4hw/Zx9osZPPA6RsNpP49P1rspoYriJopo0kjbqrjIP4VkP4R0J33mwXPoHYD8gaAPO7a3uPEWvsY4sGeUyPt6IpOSa9auIVuLaWBiQsiFCR6EYqO0sLSwi8u0t44UPUIuM/X1qzQB8va14N1zRNSks5tPuJQGIjliiLLIOxBGevp1r134TeFr7QNKvLvUYmgmvmTbC/3lRc4JHYnceO2K9Dpa6KmIlOPKzCFFRlzBXDazK3iLxLBpsBJt4CQ7D/x4/0H/wBetbxRrw06A2ls2byUY+X+AHv9fSpPC+iHS7IzTr/pU4BbP8A7L/j/APWrnNzdjRYo1jQAKoCgDsBTqKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigDlfEPh2V5/7T0vKXSncyJwWPqPf27/zl0LxVFe7bW+Ihux8uTwrn+h9v/1V0tYes+GbTVsyj9zc/wDPRR97/eHegDcorhVvPEHhnCXMX2mzXgEncAPZuo+hrYs/GWl3IAmZ7Z/R1yPzH/1qAOioqtDqFlcD9zdwSf7sgNWNy4zuGPXNAC0VWm1Cytx++u4I/wDekArGvPGWl2wIhZ7l/RFwPzP/ANegDoq5rXfFUVlutbEie7Py5HKof6n2/wD1VlNeeIPE2Utovs1m3BIO0Ee7dT9BW9o3hm00nEp/fXP/AD0Yfd/3R2oAo+HvDsqT/wBp6pl7pjuVH5Kn1Pv/AC/l1VFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFACday7vw5pV6S0loiuf4o/lP6Vq0UAcnN4Es2P7m7nT/AHgG/wAKg/4QFc/8hI49PJ/+yrs6KAOTh8CWan99dzv/ALoC/wCNa9p4c0qyIaO0RnH8UnzH9a1aKAE6UtFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAH//2Q=="},function(g,p){g.exports=function(a){var u=typeof window!="undefined"&&window.location;if(!u)throw new Error("fixUrls requires window.location");if(!a||typeof a!="string")return a;var f=u.protocol+"//"+u.host,P=f+u.pathname.replace(/\/[^\/]*$/,"/");return a.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(U,m){var w,r=m.trim().replace(/^"(.*)"$/,function(b,C){return C}).replace(/^'(.*)'$/,function(b,C){return C});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?U:(w=r.indexOf("//")===0?r:r.indexOf("/")===0?f+r:P+r.replace(/^\.\//,""),"url("+JSON.stringify(w)+")")})}},function(g,p,a){(p=g.exports=a(90)(!1)).push([g.i,`._2jQWKe6e4pC0PrOwFQ5Q1E {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-direction: column;
          flex-direction: column;
  -webkit-box-pack: start;
      -ms-flex-pack: start;
          justify-content: flex-start;
  -webkit-box-align: stretch;
      -ms-flex-align: stretch;
          align-items: stretch;
}

._3U1TgJlW0FH-s9DiCtMNv5 {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: horizontal;
  -webkit-box-direction: normal;
      -ms-flex-direction: row;
          flex-direction: row;
  -webkit-box-pack: start;
      -ms-flex-pack: start;
          justify-content: flex-start;
}

._2sKdOgPjX0L1Q_4g_uoRmm {
  -webkit-box-flex: 0;
      -ms-flex: none;
          flex: none;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-direction: column;
          flex-direction: column;
  -webkit-box-pack: start;
      -ms-flex-pack: start;
          justify-content: flex-start;
  -webkit-box-align: stretch;
      -ms-flex-align: stretch;
          align-items: stretch;
}

.n_JyLfU9dRPUX8VSWruD4 {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  display: grid;
  grid-template-columns: auto auto;
  grid-auto-rows: 1.5em;
  grid-column-gap: 5px;
  grid-row-gap: 2px;
  padding: 10px;
}

.jvoJMMKPvqLc9-z7XdoSB {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  font-weight: bold;
  padding: 5px 10px 0 10px;
}

._2XggBnhzzjnYLLxDr41LgE {
  -webkit-box-flex: 0;
      -ms-flex: none;
          flex: none;
  border: solid 1px black;
  margin: 10px ;
  border-radius: 2px;
  overflow: hidden;
}

._21Vz1SrgVOfREP2dxS0IxW {
  font-weight: bold;
  text-transform: capitalize;
  text-align: right;
  -ms-flex-item-align: center;
      align-self: center;
}

._209YV4O-ZVtNTBNI-sv4ZE {
  font-style: italic;
  text-align: center;
  -ms-flex-item-align: center;
      align-self: center;
}
`,""]),p.locals={verticalContainer:"_2jQWKe6e4pC0PrOwFQ5Q1E",horizontalContainer:"_3U1TgJlW0FH-s9DiCtMNv5",leftPane:"_2sKdOgPjX0L1Q_4g_uoRmm",rightPane:"n_JyLfU9dRPUX8VSWruD4",title:"jvoJMMKPvqLc9-z7XdoSB",graph:"_2XggBnhzzjnYLLxDr41LgE",label:"_21Vz1SrgVOfREP2dxS0IxW",value:"_209YV4O-ZVtNTBNI-sv4ZE"}},function(g,p,a){var u=a(253);typeof u=="string"&&(u=[[g.i,u,""]]);var f={hmr:!0,transform:void 0,insertInto:void 0};a(91)(u,f),u.locals&&(g.exports=u.locals)},function(g,p,a){(g.exports=a(90)(!1)).push([g.i,`/*
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
*/
/* 
    Created on : Nov 28, 2013, 7:09:35 AM
    Author     : bugraozden
*/

.icon-select{
    width:0px;
    z-index: 2000;
 }

 .icon-select .selected-box {

     position: relative;
     margin: 0px;
     padding: 0px;
     width: 70px; /* sil */
     height: 60px; /* sil */
     border: 1px solid #999999;
     border-radius: 3px;
	 background-color: white;
	 
	 z-index: 1000;

 }

 .icon-select .selected-box:hover {

     position: relative;
     margin: 0px;
     padding: 0px;
     width: 70px; /* sil */
     height: 60px; /* sil */
     border: 1px solid #000000;
     background-color: #FFFFFF;
     border-radius: 3px;

 }

 .icon-select .selected-icon {

     position: absolute;
     margin: 0px;
     padding: 0px;
     top:5px;
     left:5px;
     width: 48px; /* sil */
     height: 48px; /* sil */
     border-radius: 3px;

 }

 .icon-select .component-icon{
     position: absolute;
     bottom:2px;
     right:4px;
 }

 .icon-select .box {

     position: absolute;
     top:0px;
     left:71px;
     margin: 0px;
     padding: 0px;
     width: 170px; /* sil */
     height: 170px; /* sil */
     border: 1px solid #EEEEEE;
     background-color: #EEEEEE;
     border-radius: 3px;
     
     
     overflow:auto;
     /*
     -webkit-overflow-scrolling: touch;
     */

 }

 .icon-select .icon {
     position: relative;
     margin: 5px 0px 0px 5px;
     padding: 0px;
     width: 48px; /* sil */
     height: 48px; /* sil */
     border: 1px solid #CCCCCC;
     background-color: #FFFFFF;
     border-radius: 3px;

     overflow:hidden;
     float: left;
 }

 .icon-select .icon:hover {
     border: 1px solid #000000;
 }

 .icon-select .icon.selected {
     position: relative;
     margin: 5px 0px 0px 5px;
     padding: 0px;
     width: 48px; /* sil */
     height: 48px; /* sil */
     border: 1px solid #EEEEEE;
     background-color: #EEEEEE;
     border-radius: 3px;

     overflow:hidden;
     float: left;
 }
`,""])},function(g,p,a){var u=function(){function P(U,m){for(var w=0;w<m.length;w++){var r=m[w];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(U,r.key,r)}}return function(U,m,w){return m&&P(U.prototype,m),w&&P(U,w),U}}(),f=function(){function P(){(function(U,m){if(!(U instanceof m))throw new TypeError("Cannot call a class as a function")})(this,P),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return u(P,[{key:"emit",value:function(U){if(!this.__listeners[U])return this;for(var m=arguments.length,w=Array(m>1?m-1:0),r=1;r<m;r++)w[r-1]=arguments[r];var b=!0,C=!1,A=void 0;try{for(var x,E=this.__listeners[U][Symbol.iterator]();!(b=(x=E.next()).done);b=!0)x.value.apply(void 0,w)}catch(M){C=!0,A=M}finally{try{!b&&E.return&&E.return()}finally{if(C)throw A}}return this}},{key:"once",value:function(U,m){var w=this,r=function b(){w.off(U,b),m.apply(void 0,arguments)};return this.on(U,r)}},{key:"on",value:function(U,m){return this.__listeners[U]||(this.__listeners[U]=[]),this.__listeners[U].push(m),this}},{key:"off",value:function(U,m){return this.__listeners[U]=m?this.__listeners[U].filter(function(w){return w!==m}):[],this}}]),P}();g.exports=f},function(g,p,a){var u=window.URL||window.webkitURL;g.exports=function(f,P){try{try{var U;try{(U=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(f),U=U.getBlob()}catch{U=new Blob([f])}return new Worker(u.createObjectURL(U))}catch{return new Worker("data:application/javascript,"+encodeURIComponent(f))}}catch{if(!P)throw Error("Inline worker is not supported");return new Worker(P)}}},function(g,p,a){(function(u,f,P,U){(function(m,w){w(p)})(0,function(m){function w(Je,lt){lt|=0;for(var wt=Math.max(Je.length-lt,0),Pt=Array(wt),jt=0;jt<wt;jt++)Pt[jt]=Je[lt+jt];return Pt}var r=function(Je){var lt=w(arguments,1);return function(){var wt=w(arguments);return Je.apply(null,lt.concat(wt))}},b=function(Je){return function(){var lt=w(arguments),wt=lt.pop();Je.call(this,lt,wt)}};function C(Je){var lt=typeof Je;return Je!=null&&(lt=="object"||lt=="function")}var A=typeof u=="function"&&u,x=typeof f=="object"&&typeof f.nextTick=="function";function E(Je){setTimeout(Je,0)}function M(Je){return function(lt){var wt=w(arguments,1);Je(function(){lt.apply(null,wt)})}}var S=M(A?u:x?f.nextTick:E);function D(Je){return b(function(lt,wt){var Pt;try{Pt=Je.apply(this,lt)}catch(jt){return wt(jt)}C(Pt)&&typeof Pt.then=="function"?Pt.then(function(jt){V(wt,null,jt)},function(jt){V(wt,jt.message?jt:new Error(jt))}):wt(null,Pt)})}function V(Je,lt,wt){try{Je(lt,wt)}catch(Pt){S(d,Pt)}}function d(Je){throw Je}var O=typeof Symbol=="function";function F(Je){return O&&Je[Symbol.toStringTag]==="AsyncFunction"}function I(Je){return F(Je)?D(Je):Je}function L(Je){return function(lt){var wt=w(arguments,1),Pt=b(function(jt,Ft){var en=this;return Je(lt,function(sn,fn){I(sn).apply(en,jt.concat(fn))},Ft)});return wt.length?Pt.apply(this,wt):Pt}}var G=typeof P=="object"&&P&&P.Object===Object&&P,z=typeof self=="object"&&self&&self.Object===Object&&self,B=G||z||Function("return this")(),Y=B.Symbol,q=Object.prototype,H=q.hasOwnProperty,ne=q.toString,Ae=Y?Y.toStringTag:void 0,ce=Object.prototype.toString,ye="[object Null]",K="[object Undefined]",j=Y?Y.toStringTag:void 0;function ve(Je){return Je==null?Je===void 0?K:ye:j&&j in Object(Je)?function(lt){var wt=H.call(lt,Ae),Pt=lt[Ae];try{lt[Ae]=void 0;var jt=!0}catch{}var Ft=ne.call(lt);return jt&&(wt?lt[Ae]=Pt:delete lt[Ae]),Ft}(Je):function(lt){return ce.call(lt)}(Je)}var Pe="[object AsyncFunction]",Oe="[object Function]",xe="[object GeneratorFunction]",Ve="[object Proxy]",me=9007199254740991;function pe(Je){return typeof Je=="number"&&Je>-1&&Je%1==0&&Je<=me}function ke(Je){return Je!=null&&pe(Je.length)&&!function(lt){if(!C(lt))return!1;var wt=ve(lt);return wt==Oe||wt==xe||wt==Pe||wt==Ve}(Je)}var X={};function Z(){}function ae(Je){return function(){if(Je!==null){var lt=Je;Je=null,lt.apply(this,arguments)}}}var Ue=typeof Symbol=="function"&&Symbol.iterator,Ie=function(Je){return Ue&&Je[Ue]&&Je[Ue]()};function le(Je){return Je!=null&&typeof Je=="object"}var ge="[object Arguments]";function ze(Je){return le(Je)&&ve(Je)==ge}var nt=Object.prototype,st=nt.hasOwnProperty,Ge=nt.propertyIsEnumerable,N=ze(function(){return arguments}())?ze:function(Je){return le(Je)&&st.call(Je,"callee")&&!Ge.call(Je,"callee")},W=Array.isArray,de=typeof m=="object"&&m&&!m.nodeType&&m,ie=de&&typeof U=="object"&&U&&!U.nodeType&&U,_e=ie&&ie.exports===de?B.Buffer:void 0,Ze=(_e?_e.isBuffer:void 0)||function(){return!1},ft=9007199254740991,at=/^(?:0|[1-9]\d*)$/;function ht(Je,lt){var wt=typeof Je;return!!(lt=lt==null?ft:lt)&&(wt=="number"||wt!="symbol"&&at.test(Je))&&Je>-1&&Je%1==0&&Je<lt}var Ct={};Ct["[object Float32Array]"]=Ct["[object Float64Array]"]=Ct["[object Int8Array]"]=Ct["[object Int16Array]"]=Ct["[object Int32Array]"]=Ct["[object Uint8Array]"]=Ct["[object Uint8ClampedArray]"]=Ct["[object Uint16Array]"]=Ct["[object Uint32Array]"]=!0,Ct["[object Arguments]"]=Ct["[object Array]"]=Ct["[object ArrayBuffer]"]=Ct["[object Boolean]"]=Ct["[object DataView]"]=Ct["[object Date]"]=Ct["[object Error]"]=Ct["[object Function]"]=Ct["[object Map]"]=Ct["[object Number]"]=Ct["[object Object]"]=Ct["[object RegExp]"]=Ct["[object Set]"]=Ct["[object String]"]=Ct["[object WeakMap]"]=!1;var Kt=typeof m=="object"&&m&&!m.nodeType&&m,nn=Kt&&typeof U=="object"&&U&&!U.nodeType&&U,oe=nn&&nn.exports===Kt&&G.process,St=function(){try{var Je=nn&&nn.require&&nn.require("util").types;return Je||oe&&oe.binding&&oe.binding("util")}catch{}}(),Ce=St&&St.isTypedArray,He=Ce?function(Je){return function(lt){return Je(lt)}}(Ce):function(Je){return le(Je)&&pe(Je.length)&&!!Ct[ve(Je)]},Nt=Object.prototype.hasOwnProperty;function Dt(Je,lt){var wt=W(Je),Pt=!wt&&N(Je),jt=!wt&&!Pt&&Ze(Je),Ft=!wt&&!Pt&&!jt&&He(Je),en=wt||Pt||jt||Ft,sn=en?function(Dn,s){for(var k=-1,fe=Array(Dn);++k<Dn;)fe[k]=s(k);return fe}(Je.length,String):[],fn=sn.length;for(var Bn in Je)!lt&&!Nt.call(Je,Bn)||en&&(Bn=="length"||jt&&(Bn=="offset"||Bn=="parent")||Ft&&(Bn=="buffer"||Bn=="byteLength"||Bn=="byteOffset")||ht(Bn,fn))||sn.push(Bn);return sn}var On=Object.prototype,Lt=function(Je,lt){return function(wt){return Je(lt(wt))}}(Object.keys,Object),An=Object.prototype.hasOwnProperty;function dt(Je){if(!function(Pt){var jt=Pt&&Pt.constructor;return Pt===(typeof jt=="function"&&jt.prototype||On)}(Je))return Lt(Je);var lt=[];for(var wt in Object(Je))An.call(Je,wt)&&wt!="constructor"&&lt.push(wt);return lt}function zt(Je){return ke(Je)?Dt(Je):dt(Je)}function ur(Je){if(ke(Je))return function(wt){var Pt=-1,jt=wt.length;return function(){return++Pt<jt?{value:wt[Pt],key:Pt}:null}}(Je);var lt=Ie(Je);return lt?function(wt){var Pt=-1;return function(){var jt=wt.next();return jt.done?null:(Pt++,{value:jt.value,key:Pt})}}(lt):function(wt){var Pt=zt(wt),jt=-1,Ft=Pt.length;return function(){var en=Pt[++jt];return jt<Ft?{value:wt[en],key:en}:null}}(Je)}function Be(Je){return function(){if(Je===null)throw new Error("Callback was already called.");var lt=Je;Je=null,lt.apply(this,arguments)}}function wn(Je){return function(lt,wt,Pt){if(Pt=ae(Pt||Z),Je<=0||!lt)return Pt(null);var jt=ur(lt),Ft=!1,en=0,sn=!1;function fn(Dn,s){if(en-=1,Dn)Ft=!0,Pt(Dn);else{if(s===X||Ft&&en<=0)return Ft=!0,Pt(null);sn||Bn()}}function Bn(){for(sn=!0;en<Je&&!Ft;){var Dn=jt();if(Dn===null)return Ft=!0,void(en<=0&&Pt(null));en+=1,wt(Dn.value,Dn.key,Be(fn))}sn=!1}Bn()}}function gr(Je,lt,wt,Pt){wn(lt)(Je,I(wt),Pt)}function Br(Je,lt){return function(wt,Pt,jt){return Je(wt,lt,Pt,jt)}}function nr(Je,lt,wt){wt=ae(wt||Z);var Pt=0,jt=0,Ft=Je.length;function en(sn,fn){sn?wt(sn):++jt!==Ft&&fn!==X||wt(null)}for(Ft===0&&wt(null);Pt<Ft;Pt++)lt(Je[Pt],Pt,Be(en))}var J=Br(gr,1/0),Te=function(Je,lt,wt){(ke(Je)?nr:J)(Je,I(lt),wt)};function Me(Je){return function(lt,wt,Pt){return Je(Te,lt,I(wt),Pt)}}function Ke(Je,lt,wt,Pt){Pt=Pt||Z,lt=lt||[];var jt=[],Ft=0,en=I(wt);Je(lt,function(sn,fn,Bn){var Dn=Ft++;en(sn,function(s,k){jt[Dn]=k,Bn(s)})},function(sn){Pt(sn,jt)})}var rt=Me(Ke),yt=L(rt);function Ot(Je){return function(lt,wt,Pt,jt){return Je(wn(wt),lt,I(Pt),jt)}}var cn=Ot(Ke),gn=Br(cn,1),Pn=L(gn);function kn(Je,lt){for(var wt=-1,Pt=Je==null?0:Je.length;++wt<Pt&&lt(Je[wt],wt,Je)!==!1;);return Je}var It=function(Je){return function(lt,wt,Pt){for(var jt=-1,Ft=Object(lt),en=Pt(lt),sn=en.length;sn--;){var fn=en[Je?sn:++jt];if(wt(Ft[fn],fn,Ft)===!1)break}return lt}}();function rn(Je,lt){return Je&&It(Je,lt,zt)}function bt(Je){return Je!=Je}function Et(Je,lt,wt){return lt==lt?function(Pt,jt,Ft){for(var en=Ft-1,sn=Pt.length;++en<sn;)if(Pt[en]===jt)return en;return-1}(Je,lt,wt):function(Pt,jt,Ft,en){for(var sn=Pt.length,fn=Ft+(en?1:-1);en?fn--:++fn<sn;)if(jt(Pt[fn],fn,Pt))return fn;return-1}(Je,bt,wt)}var Ht=function(Je,lt,wt){typeof lt=="function"&&(wt=lt,lt=null),wt=ae(wt||Z);var Pt=zt(Je).length;if(!Pt)return wt(null);lt||(lt=Pt);var jt={},Ft=0,en=!1,sn=Object.create(null),fn=[],Bn=[],Dn={};function s(Re,Ne){fn.push(function(){(function(Qe,ot){if(!en){var ut=Be(function(Tt,Bt){if(Ft--,arguments.length>2&&(Bt=w(arguments,1)),Tt){var Xt={};rn(jt,function(Yt,$t){Xt[$t]=Yt}),Xt[Qe]=Bt,en=!0,sn=Object.create(null),wt(Tt,Xt)}else jt[Qe]=Bt,function(Yt){kn(sn[Yt]||[],function($t){$t()}),k()}(Qe)});Ft++;var xt=I(ot[ot.length-1]);ot.length>1?xt(jt,ut):xt(ut)}})(Re,Ne)})}function k(){if(fn.length===0&&Ft===0)return wt(null,jt);for(;fn.length&&Ft<lt;)fn.shift()()}function fe(Re){var Ne=[];return rn(Je,function(Qe,ot){W(Qe)&&Et(Qe,Re,0)>=0&&Ne.push(ot)}),Ne}rn(Je,function(Re,Ne){if(!W(Re))return s(Ne,[Re]),void Bn.push(Ne);var Qe=Re.slice(0,Re.length-1),ot=Qe.length;if(ot===0)return s(Ne,Re),void Bn.push(Ne);Dn[Ne]=ot,kn(Qe,function(ut){if(!Je[ut])throw new Error("async.auto task `"+Ne+"` has a non-existent dependency `"+ut+"` in "+Qe.join(", "));(function(xt,Tt){var Bt=sn[xt];Bt||(Bt=sn[xt]=[]),Bt.push(Tt)})(ut,function(){--ot===0&&s(Ne,Re)})})}),function(){for(var Re,Ne=0;Bn.length;)Re=Bn.pop(),Ne++,kn(fe(Re),function(Qe){--Dn[Qe]==0&&Bn.push(Qe)});if(Ne!==Pt)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),k()};function Mt(Je,lt){for(var wt=-1,Pt=Je==null?0:Je.length,jt=Array(Pt);++wt<Pt;)jt[wt]=lt(Je[wt],wt,Je);return jt}var pn="[object Symbol]",Sn=1/0,Gt=Y?Y.prototype:void 0,ln=Gt?Gt.toString:void 0;function tn(Je){if(typeof Je=="string")return Je;if(W(Je))return Mt(Je,tn)+"";if(function(wt){return typeof wt=="symbol"||le(wt)&&ve(wt)==pn}(Je))return ln?ln.call(Je):"";var lt=Je+"";return lt=="0"&&1/Je==-Sn?"-0":lt}function Rn(Je,lt,wt){var Pt=Je.length;return wt=wt===void 0?Pt:wt,!lt&&wt>=Pt?Je:function(jt,Ft,en){var sn=-1,fn=jt.length;Ft<0&&(Ft=-Ft>fn?0:fn+Ft),(en=en>fn?fn:en)<0&&(en+=fn),fn=Ft>en?0:en-Ft>>>0,Ft>>>=0;for(var Bn=Array(fn);++sn<fn;)Bn[sn]=jt[sn+Ft];return Bn}(Je,lt,wt)}var Gn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),fr="[\\ud800-\\udfff]",qn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",dr="\\ud83c[\\udffb-\\udfff]",Jn="[^\\ud800-\\udfff]",mr="(?:\\ud83c[\\udde6-\\uddff]){2}",ar="[\\ud800-\\udbff][\\udc00-\\udfff]",hr="(?:"+qn+"|"+dr+")?",Vr="[\\ufe0e\\ufe0f]?"+hr+("(?:\\u200d(?:"+[Jn,mr,ar].join("|")+")[\\ufe0e\\ufe0f]?"+hr+")*"),Zr="(?:"+[Jn+qn+"?",qn,mr,ar,fr].join("|")+")",Jr=RegExp(dr+"(?="+dr+")|"+Zr+Vr,"g");function br(Je){return function(lt){return Gn.test(lt)}(Je)?function(lt){return lt.match(Jr)||[]}(Je):function(lt){return lt.split("")}(Je)}var Qr=/^\s+|\s+$/g;function Nr(Je,lt,wt){if((Je=function(Ft){return Ft==null?"":tn(Ft)}(Je))&&(wt||lt===void 0))return Je.replace(Qr,"");if(!Je||!(lt=tn(lt)))return Je;var Pt=br(Je),jt=br(lt);return Rn(Pt,function(Ft,en){for(var sn=-1,fn=Ft.length;++sn<fn&&Et(en,Ft[sn],0)>-1;);return sn}(Pt,jt),function(Ft,en){for(var sn=Ft.length;sn--&&Et(en,Ft[sn],0)>-1;);return sn}(Pt,jt)+1).join("")}var $r=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,Yr=/,/,ra=/(=.+)?(\s*)$/,Ln=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function Wr(Je,lt){var wt={};rn(Je,function(Pt,jt){var Ft,en=F(Pt),sn=!en&&Pt.length===1||en&&Pt.length===0;if(W(Pt))Ft=Pt.slice(0,-1),Pt=Pt[Pt.length-1],wt[jt]=Ft.concat(Ft.length>0?fn:Pt);else if(sn)wt[jt]=Pt;else{if(Ft=function(Bn){return Bn=(Bn=(Bn=(Bn=Bn.toString().replace(Ln,"")).match($r)[2].replace(" ",""))?Bn.split(Yr):[]).map(function(Dn){return Nr(Dn.replace(ra,""))})}(Pt),Pt.length===0&&!en&&Ft.length===0)throw new Error("autoInject task functions require explicit parameters.");en||Ft.pop(),wt[jt]=Ft.concat(fn)}function fn(Bn,Dn){var s=Mt(Ft,function(k){return Bn[k]});s.push(Dn),I(Pt).apply(null,s)}}),Ht(wt,lt)}function Pr(){this.head=this.tail=null,this.length=0}function pr(Je,lt){Je.length=1,Je.head=Je.tail=lt}function kr(Je,lt,wt){if(lt==null)lt=1;else if(lt===0)throw new Error("Concurrency must not be zero");var Pt=I(Je),jt=0,Ft=[],en=!1;function sn(s,k,fe){if(fe!=null&&typeof fe!="function")throw new Error("task callback must be a function");if(Dn.started=!0,W(s)||(s=[s]),s.length===0&&Dn.idle())return S(function(){Dn.drain()});for(var Re=0,Ne=s.length;Re<Ne;Re++){var Qe={data:s[Re],callback:fe||Z};k?Dn._tasks.unshift(Qe):Dn._tasks.push(Qe)}en||(en=!0,S(function(){en=!1,Dn.process()}))}function fn(s){return function(k){jt-=1;for(var fe=0,Re=s.length;fe<Re;fe++){var Ne=s[fe],Qe=Et(Ft,Ne,0);Qe===0?Ft.shift():Qe>0&&Ft.splice(Qe,1),Ne.callback.apply(Ne,arguments),k!=null&&Dn.error(k,Ne.data)}jt<=Dn.concurrency-Dn.buffer&&Dn.unsaturated(),Dn.idle()&&Dn.drain(),Dn.process()}}var Bn=!1,Dn={_tasks:new Pr,concurrency:lt,payload:wt,saturated:Z,unsaturated:Z,buffer:lt/4,empty:Z,drain:Z,error:Z,started:!1,paused:!1,push:function(s,k){sn(s,!1,k)},kill:function(){Dn.drain=Z,Dn._tasks.empty()},unshift:function(s,k){sn(s,!0,k)},remove:function(s){Dn._tasks.remove(s)},process:function(){if(!Bn){for(Bn=!0;!Dn.paused&&jt<Dn.concurrency&&Dn._tasks.length;){var s=[],k=[],fe=Dn._tasks.length;Dn.payload&&(fe=Math.min(fe,Dn.payload));for(var Re=0;Re<fe;Re++){var Ne=Dn._tasks.shift();s.push(Ne),Ft.push(Ne),k.push(Ne.data)}jt+=1,Dn._tasks.length===0&&Dn.empty(),jt===Dn.concurrency&&Dn.saturated();var Qe=Be(fn(s));Pt(k,Qe)}Bn=!1}},length:function(){return Dn._tasks.length},running:function(){return jt},workersList:function(){return Ft},idle:function(){return Dn._tasks.length+jt===0},pause:function(){Dn.paused=!0},resume:function(){Dn.paused!==!1&&(Dn.paused=!1,S(Dn.process))}};return Dn}function Kr(Je,lt){return kr(Je,1,lt)}Pr.prototype.removeLink=function(Je){return Je.prev?Je.prev.next=Je.next:this.head=Je.next,Je.next?Je.next.prev=Je.prev:this.tail=Je.prev,Je.prev=Je.next=null,this.length-=1,Je},Pr.prototype.empty=function(){for(;this.head;)this.shift();return this},Pr.prototype.insertAfter=function(Je,lt){lt.prev=Je,lt.next=Je.next,Je.next?Je.next.prev=lt:this.tail=lt,Je.next=lt,this.length+=1},Pr.prototype.insertBefore=function(Je,lt){lt.prev=Je.prev,lt.next=Je,Je.prev?Je.prev.next=lt:this.head=lt,Je.prev=lt,this.length+=1},Pr.prototype.unshift=function(Je){this.head?this.insertBefore(this.head,Je):pr(this,Je)},Pr.prototype.push=function(Je){this.tail?this.insertAfter(this.tail,Je):pr(this,Je)},Pr.prototype.shift=function(){return this.head&&this.removeLink(this.head)},Pr.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},Pr.prototype.toArray=function(){for(var Je=Array(this.length),lt=this.head,wt=0;wt<this.length;wt++)Je[wt]=lt.data,lt=lt.next;return Je},Pr.prototype.remove=function(Je){for(var lt=this.head;lt;){var wt=lt.next;Je(lt)&&this.removeLink(lt),lt=wt}return this};var Lr=Br(gr,1);function vr(Je,lt,wt,Pt){Pt=ae(Pt||Z);var jt=I(wt);Lr(Je,function(Ft,en,sn){jt(lt,Ft,function(fn,Bn){lt=Bn,sn(fn)})},function(Ft){Pt(Ft,lt)})}function Dr(){var Je=Mt(arguments,I);return function(){var lt=w(arguments),wt=this,Pt=lt[lt.length-1];typeof Pt=="function"?lt.pop():Pt=Z,vr(Je,lt,function(jt,Ft,en){Ft.apply(wt,jt.concat(function(sn){var fn=w(arguments,1);en(sn,fn)}))},function(jt,Ft){Pt.apply(wt,[jt].concat(Ft))})}}var Ca=function(){return Dr.apply(null,w(arguments).reverse())},Ua=Array.prototype.concat,Fr=function(Je,lt,wt,Pt){Pt=Pt||Z;var jt=I(wt);cn(Je,lt,function(Ft,en){jt(Ft,function(sn){return sn?en(sn):en(null,w(arguments,1))})},function(Ft,en){for(var sn=[],fn=0;fn<en.length;fn++)en[fn]&&(sn=Ua.apply(sn,en[fn]));return Pt(Ft,sn)})},aa=Br(Fr,1/0),Fn=Br(Fr,1),Ra=function(){var Je=w(arguments),lt=[null].concat(Je);return function(){return arguments[arguments.length-1].apply(this,lt)}};function ea(Je){return Je}function ya(Je,lt){return function(wt,Pt,jt,Ft){Ft=Ft||Z;var en,sn=!1;wt(Pt,function(fn,Bn,Dn){jt(fn,function(s,k){s?Dn(s):Je(k)&&!en?(sn=!0,en=lt(!0,fn),Dn(null,X)):Dn()})},function(fn){fn?Ft(fn):Ft(null,sn?en:lt(!1))})}}function Va(Je,lt){return lt}var ta=Me(ya(ea,Va)),xa=Ot(ya(ea,Va)),ba=Br(xa,1);function pa(Je){return function(lt){var wt=w(arguments,1);wt.push(function(Pt){var jt=w(arguments,1);typeof console=="object"&&(Pt?console.error&&console.error(Pt):console[Je]&&kn(jt,function(Ft){console[Je](Ft)}))}),I(lt).apply(null,wt)}}var $a=pa("dir");function Na(Je,lt,wt){wt=Be(wt||Z);var Pt=I(Je),jt=I(lt);function Ft(sn){if(sn)return wt(sn);var fn=w(arguments,1);fn.push(en),jt.apply(this,fn)}function en(sn,fn){return sn?wt(sn):fn?void Pt(Ft):wt(null)}en(null,!0)}function eo(Je,lt,wt){wt=Be(wt||Z);var Pt=I(Je),jt=function(Ft){if(Ft)return wt(Ft);var en=w(arguments,1);if(lt.apply(this,en))return Pt(jt);wt.apply(null,[null].concat(en))};Pt(jt)}function Sa(Je,lt,wt){eo(Je,function(){return!lt.apply(this,arguments)},wt)}function ga(Je,lt,wt){wt=Be(wt||Z);var Pt=I(lt),jt=I(Je);function Ft(sn){if(sn)return wt(sn);jt(en)}function en(sn,fn){return sn?wt(sn):fn?void Pt(Ft):wt(null)}jt(en)}function po(Je){return function(lt,wt,Pt){return Je(lt,Pt)}}function Qa(Je,lt,wt){Te(Je,po(I(lt)),wt)}function ja(Je,lt,wt,Pt){wn(lt)(Je,po(I(wt)),Pt)}var Ya=Br(ja,1);function yo(Je){return F(Je)?Je:b(function(lt,wt){var Pt=!0;lt.push(function(){var jt=arguments;Pt?S(function(){wt.apply(null,jt)}):wt.apply(null,jt)}),Je.apply(this,lt),Pt=!1})}function Ga(Je){return!Je}var ao=Me(ya(Ga,Ga)),se=Ot(ya(Ga,Ga)),ue=Br(se,1);function De(Je){return function(lt){return lt==null?void 0:lt[Je]}}function $e(Je,lt,wt,Pt){var jt=new Array(lt.length);Je(lt,function(Ft,en,sn){wt(Ft,function(fn,Bn){jt[en]=!!Bn,sn(fn)})},function(Ft){if(Ft)return Pt(Ft);for(var en=[],sn=0;sn<lt.length;sn++)jt[sn]&&en.push(lt[sn]);Pt(null,en)})}function et(Je,lt,wt,Pt){var jt=[];Je(lt,function(Ft,en,sn){wt(Ft,function(fn,Bn){fn?sn(fn):(Bn&&jt.push({index:en,value:Ft}),sn())})},function(Ft){Ft?Pt(Ft):Pt(null,Mt(jt.sort(function(en,sn){return en.index-sn.index}),De("value")))})}function mt(Je,lt,wt,Pt){(ke(lt)?$e:et)(Je,lt,I(wt),Pt||Z)}var _t=Me(mt),yn=Ot(mt),_n=Br(yn,1);function ir(Je,lt){var wt=Be(lt||Z),Pt=I(yo(Je));(function jt(Ft){if(Ft)return wt(Ft);Pt(jt)})()}var wr=function(Je,lt,wt,Pt){Pt=Pt||Z;var jt=I(wt);cn(Je,lt,function(Ft,en){jt(Ft,function(sn,fn){return sn?en(sn):en(null,{key:fn,val:Ft})})},function(Ft,en){for(var sn={},fn=Object.prototype.hasOwnProperty,Bn=0;Bn<en.length;Bn++)if(en[Bn]){var Dn=en[Bn].key,s=en[Bn].val;fn.call(sn,Dn)?sn[Dn].push(s):sn[Dn]=[s]}return Pt(Ft,sn)})},xr=Br(wr,1/0),sr=Br(wr,1),Or=pa("log");function Ur(Je,lt,wt,Pt){Pt=ae(Pt||Z);var jt={},Ft=I(wt);gr(Je,lt,function(en,sn,fn){Ft(en,sn,function(Bn,Dn){if(Bn)return fn(Bn);jt[sn]=Dn,fn()})},function(en){Pt(en,jt)})}var Ta=Br(Ur,1/0),Xr=Br(Ur,1);function za(Je,lt){return lt in Je}function Eo(Je,lt){var wt=Object.create(null),Pt=Object.create(null);lt=lt||ea;var jt=I(Je),Ft=b(function(en,sn){var fn=lt.apply(null,en);za(wt,fn)?S(function(){sn.apply(null,wt[fn])}):za(Pt,fn)?Pt[fn].push(sn):(Pt[fn]=[sn],jt.apply(null,en.concat(function(){var Bn=w(arguments);wt[fn]=Bn;var Dn=Pt[fn];delete Pt[fn];for(var s=0,k=Dn.length;s<k;s++)Dn[s].apply(null,Bn)})))});return Ft.memo=wt,Ft.unmemoized=Je,Ft}var oo=M(x?f.nextTick:A?u:E);function io(Je,lt,wt){wt=wt||Z;var Pt=ke(lt)?[]:{};Je(lt,function(jt,Ft,en){I(jt)(function(sn,fn){arguments.length>2&&(fn=w(arguments,1)),Pt[Ft]=fn,en(sn)})},function(jt){wt(jt,Pt)})}function Aa(Je,lt){io(Te,Je,lt)}function to(Je,lt,wt){io(wn(lt),Je,wt)}var ma=function(Je,lt){var wt=I(Je);return kr(function(Pt,jt){wt(Pt[0],jt)},lt,1)},Xa=function(Je,lt){var wt=ma(Je,lt);return wt.push=function(Pt,jt,Ft){if(Ft==null&&(Ft=Z),typeof Ft!="function")throw new Error("task callback must be a function");if(wt.started=!0,W(Pt)||(Pt=[Pt]),Pt.length===0)return S(function(){wt.drain()});jt=jt||0;for(var en=wt._tasks.head;en&&jt>=en.priority;)en=en.next;for(var sn=0,fn=Pt.length;sn<fn;sn++){var Bn={data:Pt[sn],priority:jt,callback:Ft};en?wt._tasks.insertBefore(en,Bn):wt._tasks.push(Bn)}S(wt.process)},delete wt.unshift,wt};function so(Je,lt){if(lt=ae(lt||Z),!W(Je))return lt(new TypeError("First argument to race must be an array of functions"));if(!Je.length)return lt();for(var wt=0,Pt=Je.length;wt<Pt;wt++)I(Je[wt])(lt)}function Ea(Je,lt,wt,Pt){vr(w(Je).reverse(),lt,wt,Pt)}function bo(Je){var lt=I(Je);return b(function(wt,Pt){return wt.push(function(jt,Ft){var en;jt?Pt(null,{error:jt}):(en=arguments.length<=2?Ft:w(arguments,1),Pt(null,{value:en}))}),lt.apply(this,wt)})}function zo(Je){var lt;return W(Je)?lt=Mt(Je,bo):(lt={},rn(Je,function(wt,Pt){lt[Pt]=bo.call(this,wt)})),lt}function ii(Je,lt,wt,Pt){mt(Je,lt,function(jt,Ft){wt(jt,function(en,sn){Ft(en,!sn)})},Pt)}var Wo=Me(ii),Ao=Ot(ii),Ro=Br(Ao,1);function go(Je){return function(){return Je}}function ha(Je,lt,wt){var Pt=5,jt=0,Ft={times:Pt,intervalFunc:go(jt)};if(arguments.length<3&&typeof Je=="function"?(wt=lt||Z,lt=Je):(function(fn,Bn){if(typeof Bn=="object")fn.times=+Bn.times||Pt,fn.intervalFunc=typeof Bn.interval=="function"?Bn.interval:go(+Bn.interval||jt),fn.errorFilter=Bn.errorFilter;else{if(typeof Bn!="number"&&typeof Bn!="string")throw new Error("Invalid arguments for async.retry");fn.times=+Bn||Pt}}(Ft,Je),wt=wt||Z),typeof lt!="function")throw new Error("Invalid arguments for async.retry");var en=I(lt),sn=1;(function fn(){en(function(Bn){Bn&&sn++<Ft.times&&(typeof Ft.errorFilter!="function"||Ft.errorFilter(Bn))?setTimeout(fn,Ft.intervalFunc(sn)):wt.apply(null,arguments)})})()}var Mo=function(Je,lt){lt||(lt=Je,Je=null);var wt=I(lt);return b(function(Pt,jt){function Ft(en){wt.apply(null,Pt.concat(en))}Je?ha(Je,Ft,jt):ha(Ft,jt)})};function Wa(Je,lt){io(Lr,Je,lt)}var wo=Me(ya(Boolean,ea)),mo=Ot(ya(Boolean,ea)),no=Br(mo,1);function Ko(Je,lt,wt){var Pt=I(lt);function jt(Ft,en){var sn=Ft.criteria,fn=en.criteria;return sn<fn?-1:sn>fn?1:0}rt(Je,function(Ft,en){Pt(Ft,function(sn,fn){if(sn)return en(sn);en(null,{value:Ft,criteria:fn})})},function(Ft,en){if(Ft)return wt(Ft);wt(null,Mt(en.sort(jt),De("value")))})}function xo(Je,lt,wt){var Pt=I(Je);return b(function(jt,Ft){var en,sn=!1;jt.push(function(){sn||(Ft.apply(null,arguments),clearTimeout(en))}),en=setTimeout(function(){var fn=Je.name||"anonymous",Bn=new Error('Callback function "'+fn+'" timed out.');Bn.code="ETIMEDOUT",wt&&(Bn.info=wt),sn=!0,Ft(Bn)},lt),Pt.apply(null,jt)})}var ko=Math.ceil,Ho=Math.max;function Do(Je,lt,wt,Pt){var jt=I(wt);cn(function(Ft,en,sn,fn){for(var Bn=-1,Dn=Ho(ko((en-Ft)/(sn||1)),0),s=Array(Dn);Dn--;)s[fn?Dn:++Bn]=Ft,Ft+=sn;return s}(0,Je,1),lt,jt,Pt)}var So=Br(Do,1/0),Uo=Br(Do,1);function si(Je,lt,wt,Pt){arguments.length<=3&&(Pt=wt,wt=lt,lt=W(Je)?[]:{}),Pt=ae(Pt||Z);var jt=I(wt);Te(Je,function(Ft,en,sn){jt(lt,Ft,en,sn)},function(Ft){Pt(Ft,lt)})}function Qo(Je,lt){var wt,Pt=null;lt=lt||Z,Ya(Je,function(jt,Ft){I(jt)(function(en,sn){wt=arguments.length>2?w(arguments,1):sn,Pt=en,Ft(!en)})},function(){lt(Pt,wt)})}function Yo(Je){return function(){return(Je.unmemoized||Je).apply(null,arguments)}}function Xo(Je,lt,wt){wt=Be(wt||Z);var Pt=I(lt);if(!Je())return wt(null);var jt=function(Ft){if(Ft)return wt(Ft);if(Je())return Pt(jt);var en=w(arguments,1);wt.apply(null,[null].concat(en))};Pt(jt)}function Ka(Je,lt,wt){Xo(function(){return!Je.apply(this,arguments)},lt,wt)}var ho=function(Je,lt){if(lt=ae(lt||Z),!W(Je))return lt(new Error("First argument to waterfall must be an array of functions"));if(!Je.length)return lt();var wt=0;function Pt(Ft){var en=I(Je[wt++]);Ft.push(Be(jt)),en.apply(null,Ft)}function jt(Ft){if(Ft||wt===Je.length)return lt.apply(null,arguments);Pt(w(arguments,1))}Pt([])},Bo={apply:r,applyEach:yt,applyEachSeries:Pn,asyncify:D,auto:Ht,autoInject:Wr,cargo:Kr,compose:Ca,concat:aa,concatLimit:Fr,concatSeries:Fn,constant:Ra,detect:ta,detectLimit:xa,detectSeries:ba,dir:$a,doDuring:Na,doUntil:Sa,doWhilst:eo,during:ga,each:Qa,eachLimit:ja,eachOf:Te,eachOfLimit:gr,eachOfSeries:Lr,eachSeries:Ya,ensureAsync:yo,every:ao,everyLimit:se,everySeries:ue,filter:_t,filterLimit:yn,filterSeries:_n,forever:ir,groupBy:xr,groupByLimit:wr,groupBySeries:sr,log:Or,map:rt,mapLimit:cn,mapSeries:gn,mapValues:Ta,mapValuesLimit:Ur,mapValuesSeries:Xr,memoize:Eo,nextTick:oo,parallel:Aa,parallelLimit:to,priorityQueue:Xa,queue:ma,race:so,reduce:vr,reduceRight:Ea,reflect:bo,reflectAll:zo,reject:Wo,rejectLimit:Ao,rejectSeries:Ro,retry:ha,retryable:Mo,seq:Dr,series:Wa,setImmediate:S,some:wo,someLimit:mo,someSeries:no,sortBy:Ko,timeout:xo,times:So,timesLimit:Do,timesSeries:Uo,transform:si,tryEach:Qo,unmemoize:Yo,until:Ka,waterfall:ho,whilst:Xo,all:ao,allLimit:se,allSeries:ue,any:wo,anyLimit:mo,anySeries:no,find:ta,findLimit:xa,findSeries:ba,forEach:Qa,forEachSeries:Ya,forEachLimit:ja,forEachOf:Te,forEachOfSeries:Lr,forEachOfLimit:gr,inject:vr,foldl:vr,foldr:Ea,select:_t,selectLimit:yn,selectSeries:_n,wrapSync:D};m.default=Bo,m.apply=r,m.applyEach=yt,m.applyEachSeries=Pn,m.asyncify=D,m.auto=Ht,m.autoInject=Wr,m.cargo=Kr,m.compose=Ca,m.concat=aa,m.concatLimit=Fr,m.concatSeries=Fn,m.constant=Ra,m.detect=ta,m.detectLimit=xa,m.detectSeries=ba,m.dir=$a,m.doDuring=Na,m.doUntil=Sa,m.doWhilst=eo,m.during=ga,m.each=Qa,m.eachLimit=ja,m.eachOf=Te,m.eachOfLimit=gr,m.eachOfSeries=Lr,m.eachSeries=Ya,m.ensureAsync=yo,m.every=ao,m.everyLimit=se,m.everySeries=ue,m.filter=_t,m.filterLimit=yn,m.filterSeries=_n,m.forever=ir,m.groupBy=xr,m.groupByLimit=wr,m.groupBySeries=sr,m.log=Or,m.map=rt,m.mapLimit=cn,m.mapSeries=gn,m.mapValues=Ta,m.mapValuesLimit=Ur,m.mapValuesSeries=Xr,m.memoize=Eo,m.nextTick=oo,m.parallel=Aa,m.parallelLimit=to,m.priorityQueue=Xa,m.queue=ma,m.race=so,m.reduce=vr,m.reduceRight=Ea,m.reflect=bo,m.reflectAll=zo,m.reject=Wo,m.rejectLimit=Ao,m.rejectSeries=Ro,m.retry=ha,m.retryable=Mo,m.seq=Dr,m.series=Wa,m.setImmediate=S,m.some=wo,m.someLimit=mo,m.someSeries=no,m.sortBy=Ko,m.timeout=xo,m.times=So,m.timesLimit=Do,m.timesSeries=Uo,m.transform=si,m.tryEach=Qo,m.unmemoize=Yo,m.until=Ka,m.waterfall=ho,m.whilst=Xo,m.all=ao,m.allLimit=se,m.allSeries=ue,m.any=wo,m.anyLimit=mo,m.anySeries=no,m.find=ta,m.findLimit=xa,m.findSeries=ba,m.forEach=Qa,m.forEachSeries=Ya,m.forEachLimit=ja,m.forEachOf=Te,m.forEachOfSeries=Lr,m.forEachOfLimit=gr,m.inject=vr,m.foldl=vr,m.foldr=Ea,m.select=_t,m.selectLimit=yn,m.selectSeries=_n,m.wrapSync=D,Object.defineProperty(m,"__esModule",{value:!0})})}).call(this,a(132).setImmediate,a(80),a(40),a(61)(g))},function(g,p,a){(p=g.exports=a(90)(!1)).push([g.i,`.UkWA0wHpY_OmIEVnB-LLr {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: stretch;
      -ms-flex-align: stretch;
          align-items: stretch;
  -webkit-box-pack: justify;
      -ms-flex-pack: justify;
          justify-content: space-between;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-direction: column;
          flex-direction: column;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  z-index: 100;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

._3NtOT4YiHWZypbcg8Yl2hU {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-pack: justify;
      -ms-flex-pack: justify;
          justify-content: space-between;
  -webkit-box-orient: horizontal;
  -webkit-box-direction: normal;
      -ms-flex-direction: row;
          flex-direction: row;
}

._16Ir3EmOY4KO9P7fEVKT6T {
  -webkit-box-align: start;
      -ms-flex-align: start;
          align-items: flex-start;
}

._1YRNqJPIcWDu13L13--CZQ {
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
}

.Xy9W_Klk3IZQLPBRHONOg {
  -webkit-box-align: end;
      -ms-flex-align: end;
          align-items: flex-end;
}

._2XsxAlf8LLtOMbuq9ELVfY {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  padding: 5px;
}

.y4T9ratqjcm5Y0uanc-UJ {
  text-align: right;
}

.JPW8ZxMYZ_PTp04APL3DJ {
  text-align: left;
}

._1PbIrMps22RPVn220RcYQD {
  text-align: center;
}

._1kjYKsMBqZLH3G9F32AhIY {
  text-align: center;
}

.BRz4lr3WT3hjYg-rttgQS {
}

._2EWBIu8ylmsmt_w7OqGsZa {
}

._1JAGj5C-iexomFeFuqYDjR {
}

._2SMT5SAD2jncn4fYmR9vC4 {
}

`,""]),p.locals={container:"UkWA0wHpY_OmIEVnB-LLr",row:"_3NtOT4YiHWZypbcg8Yl2hU",topRow:"_16Ir3EmOY4KO9P7fEVKT6T _3NtOT4YiHWZypbcg8Yl2hU",middleRow:"_1YRNqJPIcWDu13L13--CZQ _3NtOT4YiHWZypbcg8Yl2hU",bottomRow:"Xy9W_Klk3IZQLPBRHONOg _3NtOT4YiHWZypbcg8Yl2hU",item:"_2XsxAlf8LLtOMbuq9ELVfY",east:"y4T9ratqjcm5Y0uanc-UJ _2XsxAlf8LLtOMbuq9ELVfY",west:"JPW8ZxMYZ_PTp04APL3DJ _2XsxAlf8LLtOMbuq9ELVfY",north:"_1PbIrMps22RPVn220RcYQD _2XsxAlf8LLtOMbuq9ELVfY",south:"_1kjYKsMBqZLH3G9F32AhIY _2XsxAlf8LLtOMbuq9ELVfY",northEast:"BRz4lr3WT3hjYg-rttgQS y4T9ratqjcm5Y0uanc-UJ _2XsxAlf8LLtOMbuq9ELVfY",northWest:"_2EWBIu8ylmsmt_w7OqGsZa JPW8ZxMYZ_PTp04APL3DJ _2XsxAlf8LLtOMbuq9ELVfY",southEast:"_1JAGj5C-iexomFeFuqYDjR y4T9ratqjcm5Y0uanc-UJ _2XsxAlf8LLtOMbuq9ELVfY",southWest:"_2SMT5SAD2jncn4fYmR9vC4 JPW8ZxMYZ_PTp04APL3DJ _2XsxAlf8LLtOMbuq9ELVfY"}},function(g,p){g.exports=function(a,u){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p){function a(u,f){return g.exports=a=Object.setPrototypeOf||function(P,U){return P.__proto__=U,P},g.exports.default=g.exports,g.exports.__esModule=!0,a(u,f)}g.exports=a,g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p){g.exports=function(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,p,a){var u=a(31),f=a(133),P=a(262),U=a(139);function m(r){var b=new P(r),C=f(P.prototype.request,b);return u.extend(C,P.prototype,b),u.extend(C,b),C}var w=m(a(136));w.Axios=P,w.create=function(r){return m(U(w.defaults,r))},w.Cancel=a(140),w.CancelToken=a(275),w.isCancel=a(135),w.all=function(r){return Promise.all(r)},w.spread=a(276),g.exports=w,g.exports.default=w},function(g,p,a){var u=a(31),f=a(134),P=a(263),U=a(264),m=a(139);function w(r){this.defaults=r,this.interceptors={request:new P,response:new P}}w.prototype.request=function(r){typeof r=="string"?(r=arguments[1]||{}).url=arguments[0]:r=r||{},(r=m(this.defaults,r)).method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var b=[U,void 0],C=Promise.resolve(r);for(this.interceptors.request.forEach(function(A){b.unshift(A.fulfilled,A.rejected)}),this.interceptors.response.forEach(function(A){b.push(A.fulfilled,A.rejected)});b.length;)C=C.then(b.shift(),b.shift());return C},w.prototype.getUri=function(r){return r=m(this.defaults,r),f(r.url,r.params,r.paramsSerializer).replace(/^\?/,"")},u.forEach(["delete","get","head","options"],function(r){w.prototype[r]=function(b,C){return this.request(u.merge(C||{},{method:r,url:b}))}}),u.forEach(["post","put","patch"],function(r){w.prototype[r]=function(b,C,A){return this.request(u.merge(A||{},{method:r,url:b,data:C}))}}),g.exports=w},function(g,p,a){var u=a(31);function f(){this.handlers=[]}f.prototype.use=function(P,U){return this.handlers.push({fulfilled:P,rejected:U}),this.handlers.length-1},f.prototype.eject=function(P){this.handlers[P]&&(this.handlers[P]=null)},f.prototype.forEach=function(P){u.forEach(this.handlers,function(U){U!==null&&P(U)})},g.exports=f},function(g,p,a){var u=a(31),f=a(265),P=a(135),U=a(136);function m(w){w.cancelToken&&w.cancelToken.throwIfRequested()}g.exports=function(w){return m(w),w.headers=w.headers||{},w.data=f(w.data,w.headers,w.transformRequest),w.headers=u.merge(w.headers.common||{},w.headers[w.method]||{},w.headers),u.forEach(["delete","get","head","post","put","patch","common"],function(r){delete w.headers[r]}),(w.adapter||U.adapter)(w).then(function(r){return m(w),r.data=f(r.data,r.headers,w.transformResponse),r},function(r){return P(r)||(m(w),r&&r.response&&(r.response.data=f(r.response.data,r.response.headers,w.transformResponse))),Promise.reject(r)})}},function(g,p,a){var u=a(31);g.exports=function(f,P,U){return u.forEach(U,function(m){f=m(f,P)}),f}},function(g,p,a){var u=a(31);g.exports=function(f,P){u.forEach(f,function(U,m){m!==P&&m.toUpperCase()===P.toUpperCase()&&(f[P]=U,delete f[m])})}},function(g,p,a){var u=a(138);g.exports=function(f,P,U){var m=U.config.validateStatus;!m||m(U.status)?f(U):P(u("Request failed with status code "+U.status,U.config,null,U.request,U))}},function(g,p,a){g.exports=function(u,f,P,U,m){return u.config=f,P&&(u.code=P),u.request=U,u.response=m,u.isAxiosError=!0,u.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},u}},function(g,p,a){var u=a(270),f=a(271);g.exports=function(P,U){return P&&!u(U)?f(P,U):U}},function(g,p,a){g.exports=function(u){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(u)}},function(g,p,a){g.exports=function(u,f){return f?u.replace(/\/+$/,"")+"/"+f.replace(/^\/+/,""):u}},function(g,p,a){var u=a(31),f=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];g.exports=function(P){var U,m,w,r={};return P&&u.forEach(P.split(`
`),function(b){if(w=b.indexOf(":"),U=u.trim(b.substr(0,w)).toLowerCase(),m=u.trim(b.substr(w+1)),U){if(r[U]&&f.indexOf(U)>=0)return;r[U]=U==="set-cookie"?(r[U]?r[U]:[]).concat([m]):r[U]?r[U]+", "+m:m}}),r}},function(g,p,a){var u=a(31);g.exports=u.isStandardBrowserEnv()?function(){var f,P=/(msie|trident)/i.test(navigator.userAgent),U=document.createElement("a");function m(w){var r=w;return P&&(U.setAttribute("href",r),r=U.href),U.setAttribute("href",r),{href:U.href,protocol:U.protocol?U.protocol.replace(/:$/,""):"",host:U.host,search:U.search?U.search.replace(/^\?/,""):"",hash:U.hash?U.hash.replace(/^#/,""):"",hostname:U.hostname,port:U.port,pathname:U.pathname.charAt(0)==="/"?U.pathname:"/"+U.pathname}}return f=m(window.location.href),function(w){var r=u.isString(w)?m(w):w;return r.protocol===f.protocol&&r.host===f.host}}():function(){return!0}},function(g,p,a){var u=a(31);g.exports=u.isStandardBrowserEnv()?{write:function(f,P,U,m,w,r){var b=[];b.push(f+"="+encodeURIComponent(P)),u.isNumber(U)&&b.push("expires="+new Date(U).toGMTString()),u.isString(m)&&b.push("path="+m),u.isString(w)&&b.push("domain="+w),r===!0&&b.push("secure"),document.cookie=b.join("; ")},read:function(f){var P=document.cookie.match(new RegExp("(^|;\\s*)("+f+")=([^;]*)"));return P?decodeURIComponent(P[3]):null},remove:function(f){this.write(f,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(g,p,a){var u=a(140);function f(P){if(typeof P!="function")throw new TypeError("executor must be a function.");var U;this.promise=new Promise(function(w){U=w});var m=this;P(function(w){m.reason||(m.reason=new u(w),U(m.reason))})}f.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},f.source=function(){var P;return{token:new f(function(U){P=U}),cancel:P}},g.exports=f},function(g,p,a){g.exports=function(u){return function(f){return u.apply(null,f)}}},function(g,p,a){a.r(p);var u={};a.r(u),a.d(u,"readFiles",function(){return O.b}),a.d(u,"vtkITKHelper",function(){return Nt.a}),a.d(u,"vtkCoordinate",function(){return gr.a}),a.d(u,"vtk",function(){return Br.a}),a.d(u,"ndarrayToItkImage",function(){return J});var f=a(18),P=a.n(f),U=a(11),m=a.n(U),w=a(6),r=a.n(w);function b(It,rn){return function(bt){if(Array.isArray(bt))return bt}(It)||function(bt,Et){var Ht=bt==null?null:typeof Symbol!="undefined"&&bt[Symbol.iterator]||bt["@@iterator"];if(Ht!=null){var Mt,pn,Sn=[],Gt=!0,ln=!1;try{for(Ht=Ht.call(bt);!(Gt=(Mt=Ht.next()).done)&&(Sn.push(Mt.value),!Et||Sn.length!==Et);Gt=!0);}catch(tn){ln=!0,pn=tn}finally{try{Gt||Ht.return==null||Ht.return()}finally{if(ln)throw pn}}return Sn}}(It,rn)||function(bt,Et){if(!!bt){if(typeof bt=="string")return C(bt,Et);var Ht=Object.prototype.toString.call(bt).slice(8,-1);if(Ht==="Object"&&bt.constructor&&(Ht=bt.constructor.name),Ht==="Map"||Ht==="Set")return Array.from(bt);if(Ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ht))return C(bt,Et)}}(It,rn)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function C(It,rn){(rn==null||rn>It.length)&&(rn=It.length);for(var bt=0,Et=new Array(rn);bt<rn;bt++)Et[bt]=It[bt];return Et}function A(It){return It}function x(It){return It===null||It==="null"?null:It==="true"||It!=="false"&&(It!==void 0&&It!=="undefined"?It[0]==="["&&It[It.length-1]==="]"?It.substring(1,It.length-1).split(",").map(function(rn){return x(rn.trim())}):It===""||Number.isNaN(Number(It))?It:Number(It):void 0)}var E={toNativeType:x,extractURLParameters:function(){var It=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window.location.search,bt={},Et=It?x:A;return(rn||"").replace(/#.*/,"").replace("?","").split("&").forEach(function(Ht){var Mt=b(Ht.split("=").map(function(Gt){return decodeURIComponent(Gt)}),2),pn=Mt[0],Sn=Mt[1];pn&&(bt[pn]=!Sn||Et(Sn))}),bt}},M=a(58),S=a.n(M),D=a(70),V=function(It,rn){return D.a.fetchBinary(It,{progressCallback:rn})},d=function(It,rn){return D.a.fetchJSON({},It,{progressCallback:rn})},O=a(63),F=a(25),I=a(71),L=a(12),G=a(4),z=a.n(G),B=a(105),Y=new(a.n(B)).a,q=function It(rn,bt){var Et=Object(I.a)(rn),Ht=document.createElement("div");Ht.innerHTML='<div class="'.concat(z.a.bigFileDrop,'"/><input type="file" class="file" style="display: none;" multiple/>'),Et.appendChild(Ht);var Mt=Ht.querySelector("input");return Y.bind("enter",function(pn){Mt.click()}),new Promise(function(pn){function Sn(Gt){Object(L.a)(Gt),Y.unbind("enter");var ln=Gt.dataTransfer,tn=Gt.target.files||ln.files;Et.removeChild(Ht);var Rn=!!E.extractURLParameters().use2D;pn(bt(Et,{files:tn,use2D:Rn}).catch(function(Gn){var fr=`An error occurred while loading the file:

`+Gn.message;alert(fr),It(rn,bt)}))}Mt.addEventListener("change",Sn),Ht.addEventListener("drop",Sn),Ht.addEventListener("click",function(Gt){return Mt.click()}),Ht.addEventListener("dragover",L.a)})},H=a(189),ne=a.n(H),Ae=a(29),ce=a.n(Ae),ye=a(34),K=a.n(ye),j=a(190),ve=a.n(j),Pe=a(191),Oe=a.n(Pe),xe=a(115),Ve=a.n(xe),me=a(88),pe=a.n(me),ke=a(43),X=a.n(ke),Z=a(38),ae=a.n(Z),Ue=a(94),Ie=a.n(Ue),le=a(92),ge=a.n(le),ze=new Map([["<b",Int8Array],["<B",Uint8Array],["<u1",Uint8Array],["|u1",Uint8Array],["<i1",Int8Array],["|i1",Int8Array],["<u2",Uint16Array],["<i2",Int16Array],["<u4",Uint32Array],["<i4",Int32Array],["<f4",Float32Array],["<f8",Float64Array]]),nt=a(106),st=a(27),Ge=a.n(st),N=a(93),W=new Map([["<b",1],["<B",1],["<u1",1],["|u1",1],["<i1",1],["|i1",1],["<u2",2],["<i2",2],["<u4",4],["<i4",4],["<f4",8],["<f8",8]]),de=navigator.hardwareConcurrency?navigator.hardwareConcurrency:4,ie=de+Math.floor(Math.sqrt(de)),_e=new N.a(ie,nt.a);function Ze(){return(Ze=m()(r.a.mark(function It(rn){var bt,Et,Ht,Mt,pn,Sn,Gt,ln,tn,Rn,Gn,fr,qn,dr;return r.a.wrap(function(Jn){for(;;)switch(Jn.prev=Jn.next){case 0:for(bt=[{path:"outputArray",type:Ge.a.Binary}],Et=[],Ht=null,Mt=0;Mt<rn.length;Mt++)pn=rn[Mt].metadata,Sn=rn[Mt].data,Ht=pn.dtype,Gt=pn.chunks.reduce(function(mr,ar){return mr*ar}),ln=Gt*W.get(Ht),tn=[{path:"inputArray",type:Ge.a.Binary,data:new Uint8Array(Sn)}],Rn=["inputArray","outputArray",pn.compressor.cname,Sn.byteLength.toString(),ln.toString()],Et.push(["BloscZarr",Rn,bt,tn]);return Jn.next=6,_e.runTasks(Et);case 6:for(Gn=Jn.sent,fr=ze.get(Ht),qn=[],dr=0;dr<Gn.length;dr++)qn.push(new fr(Gn[dr].outputs[0].data.buffer));return Jn.abrupt("return",qn);case 11:case"end":return Jn.stop()}},It)}))).apply(this,arguments)}var ft=function(It){return Ze.apply(this,arguments)};function at(It,rn){var bt=typeof Symbol!="undefined"&&It[Symbol.iterator]||It["@@iterator"];if(!bt){if(Array.isArray(It)||(bt=function(Gt,ln){if(!!Gt){if(typeof Gt=="string")return ht(Gt,ln);var tn=Object.prototype.toString.call(Gt).slice(8,-1);if(tn==="Object"&&Gt.constructor&&(tn=Gt.constructor.name),tn==="Map"||tn==="Set")return Array.from(Gt);if(tn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tn))return ht(Gt,ln)}}(It))||rn&&It&&typeof It.length=="number"){bt&&(It=bt);var Et=0,Ht=function(){};return{s:Ht,n:function(){return Et>=It.length?{done:!0}:{done:!1,value:It[Et++]}},e:function(Gt){throw Gt},f:Ht}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Mt,pn=!0,Sn=!1;return{s:function(){bt=bt.call(It)},n:function(){var Gt=bt.next();return pn=Gt.done,Gt},e:function(Gt){Sn=!0,Mt=Gt},f:function(){try{pn||bt.return==null||bt.return()}finally{if(Sn)throw Mt}}}}function ht(It,rn){(rn==null||rn>It.length)&&(rn=It.length);for(var bt=0,Et=new Array(rn);bt<rn;bt++)Et[bt]=It[bt];return Et}var Ct=function(){function It(rn,bt,Et){ce()(this,It),this.url=rn,this.zmetadata=bt,this.coordPaths=Et}return K()(It,[{key:"getCoords",value:function(){var rn=m()(r.a.mark(function bt(){var Et,Ht,Mt,pn,Sn,Gt,ln,tn,Rn,Gn,fr,qn,dr,Jn,mr,ar;return r.a.wrap(function(hr){for(;;)switch(hr.prev=hr.next){case 0:Et=[],Ht=[],Mt=at(this.coordPaths.values());try{for(Mt.s();!(pn=Mt.n()).done;)Sn=pn.value,Gt="".concat(this.url,"/").concat(Sn,"/0"),Ht.push(this.zmetadata["".concat(Sn,"/.zarray")]),Et.push(pe.a.get(Gt,{responseType:"arraybuffer"}))}catch(Vr){Mt.e(Vr)}finally{Mt.f()}return hr.next=6,Promise.all(Et);case 6:for(ln=hr.sent,tn=ln.map(function(Vr){return Vr.data}),Rn=[],Gn=0;Gn<tn.length;Gn++)Rn.push({data:tn[Gn],metadata:Ht[Gn]});return hr.next=12,ft(Rn);case 12:fr=hr.sent,qn=new Map,dr=0,Jn=at(this.coordPaths.keys());try{for(Jn.s();!(mr=Jn.n()).done;)ar=mr.value,qn.set(ar,fr[dr]),dr++}catch(Vr){Jn.e(Vr)}finally{Jn.f()}return hr.abrupt("return",qn);case 18:case"end":return hr.stop()}},bt,this)}));return function(){return rn.apply(this,arguments)}}()}]),It}(),Kt=new Map([["<b",ae.a.Int8],["<B",ae.a.UInt8],["<u1",ae.a.UInt8],["|u1",ae.a.UInt8],["<i1",ae.a.Int8],["|i1",ae.a.Int8],["<u2",ae.a.UInt16],["<i2",ae.a.Int16],["<u4",ae.a.UInt32],["<i4",ae.a.Int32],["<f4",Ie.a.Float32],["<f8",Ie.a.Float64]]);function nn(It){var rn=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var bt,Et=Ve()(It);if(rn){var Ht=Ve()(this).constructor;bt=Reflect.construct(Et,arguments,Ht)}else bt=Et.apply(this,arguments);return Oe()(this,bt)}}var oe=function(It){ve()(bt,It);var rn=nn(bt);function bt(Et,Ht){var Mt;return ce()(this,bt),(Mt=rn.call(this,Ht)).url=void 0,Mt.url=Et,Mt.CXYZT=["c","x","y","z","t"],Mt}return K()(bt,[{key:"getChunksImpl",value:function(){var Et=m()(r.a.mark(function Ht(Mt,pn){var Sn,Gt,ln,tn,Rn,Gn,fr,qn,dr,Jn,mr;return r.a.wrap(function(ar){for(;;)switch(ar.prev=ar.next){case 0:for(Sn=this.metadata[Mt],Gt=Sn.pixelArrayUrl,ln=[],tn=[],Rn=0;Rn<pn.length;Rn++){for(Gn=Gt,fr=0;fr<Sn.dims.length;fr++)qn=Sn.dims[fr],Gn="".concat(Gn).concat(pn[Rn][this.CXYZT.indexOf(qn)],".");Gn=Gn.slice(0,-1),console.log(Gn),ln.push(Gn),tn.push(pe.a.get(Gn,{responseType:"arraybuffer"}))}return ar.next=7,Promise.all(tn);case 7:for(dr=ar.sent,Jn=[],mr=0;mr<dr.length;mr++)Jn.push({data:dr[mr].data,metadata:Sn.pixelArrayMetadata});return ar.abrupt("return",ft(Jn));case 11:case"end":return ar.stop()}},Ht,this)}));return function(Ht,Mt){return Et.apply(this,arguments)}}()}],[{key:"parseMetadata",value:function(){var Et=m()(r.a.mark(function Ht(Mt){var pn,Sn,Gt,ln,tn,Rn,Gn,fr,qn,dr,Jn,mr,ar,hr,Vr,Zr,Jr,br,Qr,Nr,$r,Yr,ra,Ln,Wr,Pr,pr;return r.a.wrap(function(kr){for(;;)switch(kr.prev=kr.next){case 0:return Qr=function(){return(Qr=m()(r.a.mark(function Kr(Lr){var vr,Dr,Ca,Ua,Fr,aa,Fn;return r.a.wrap(function(Ra){for(;;)switch(Ra.prev=Ra.next){case 0:return vr={dims:[],coords:new Map,numberOfCXYZTChunks:[1,1,1,1,1],sizeCXYZTChunks:[1,1,1,1,1],sizeCXYZTElements:[1,1,1,1,1]},Dr="".concat(Lr,"/").concat(Rn,"/.zattrs"),Ca=Gt[Dr]._ARRAY_DIMENSIONS||[],vr.dims=Ca,Gt[Dr].direction&&(vr.direction=Gt[Dr].direction),Ua="".concat(Lr,"/").concat(Rn,"/.zarray"),vr.pixelArrayMetadata=Gt[Ua],vr.pixelArrayName=Rn,vr.pixelArrayUrl="".concat(Mt,"/").concat(Lr,"/").concat(Rn,"/"),Fr="".concat(Lr,"/"),["x","y","z","c","t"].forEach(function(ea){var ya="".concat(Fr).concat(ea,"/.zarray");Gt[ya]!==void 0&&vr.coords.set(ea,null)}),aa=new Map,vr.coords.forEach(function(ea,ya){aa.set(ya,"".concat(Lr,"/").concat(ya))}),vr.coords=new Ct(Mt,Gt,aa),vr.dims.length===0&&(Fn=vr.pixelArrayMetadata.shape.length,vr.dims=["z","y","x"].slice(3-Fn)),Ra.abrupt("return",vr);case 16:case"end":return Ra.stop()}},Kr)}))).apply(this,arguments)},br=function(Kr){return Qr.apply(this,arguments)},pn=Mt+"/.zmetadata",kr.next=5,pe.a.get(pn,{responseType:"json"});case 5:if(Sn=kr.sent,Gt=Sn.data.metadata,ln={dims:[],coords:new Map,numberOfCXYZTChunks:[1,1,1,1,1],sizeCXYZTChunks:[1,1,1,1,1],sizeCXYZTElements:[1,1,1,1,1]},tn=Gt[".zattrs"]._MULTISCALE_LEVELS!==void 0?Gt[".zattrs"]._MULTISCALE_LEVELS:[""],(Rn=Gt[".zattrs"]._SPATIAL_IMAGE!==void 0?Gt[".zattrs"]._SPATIAL_IMAGE:null)!==null)Gn=tn[0]===""?"".concat(Rn,"/.zattrs"):"".concat(tn[0],"/").concat(Rn,"/.zattrs"),fr=Gt[Gn]._ARRAY_DIMENSIONS||[],ln.dims=fr,Gt[Gn].direction&&(ln.direction=Gt[Gn].direction),qn=tn[0]===""?"".concat(Rn,"/.zarray"):"".concat(tn[0],"/").concat(Rn,"/.zarray}"),ln.pixelArrayMetadata=Gt[qn],ln.pixelArrayName=Rn,ln.pixelArrayUrl=tn[0]===""?"".concat(Mt,"/").concat(ln.pixelArrayName,"/"):"".concat(Mt,"/").concat(tn[0],"/").concat(ln.pixelArrayName,"/"),dr=tn[0]===""?"":"".concat(tn[0],"/"),["x","y","z","c","t"].forEach(function(Kr){var Lr="".concat(dr).concat(Kr,"/.zarray");Gt[Lr]!==void 0&&ln.coords.set(Kr,null)});else for(Jn in Gt)mr=Gt[Jn]._ARRAY_DIMENSIONS||[],ar=Jn.split("/").length,mr.length>ln.dims.length&&ar<3&&(ln.dims=mr,Gt[Jn].direction&&(ln.direction=Gt[Jn].direction),hr=Jn.replace(".zattrs",".zarray"),ln.pixelArrayMetadata=Gt[hr],ln.pixelArrayName=hr.replace("/.zarray",""),ln.pixelArrayUrl="".concat(Mt,"/").concat(ln.pixelArrayName,"/")),Jn.match(/^[xyzct]\/.zarray/)!==null&&(Vr=Jn[0],ln.coords.set(Vr,null));return Rn=ln.pixelArrayName,Zr=new Map,ln.coords.forEach(function(Kr,Lr){var vr=tn[0]===""?"":"".concat(tn[0],"/");Zr.set(Lr,"".concat(vr).concat(Lr))}),ln.coords=new Ct(Mt,Gt,Zr),kr.next=17,ln.coords.getCoords();case 17:if(ln.coords=kr.sent,ln.dims.length===0&&(Jr=ln.pixelArrayMetadata.shape.length,ln.dims=["z","y","x"].slice(3-Jr)),(Nr=new Array(tn.length))[0]=ln,!(tn.length>1)){kr.next=30;break}for($r=new Array(tn.length-1),Yr=1;Yr<tn.length;Yr++)$r[Yr-1]=br(tn[Yr]);return kr.next=26,Promise.all($r);case 26:for(ra=kr.sent,Ln=1;Ln<tn.length;Ln++)Nr[Ln]=ra[Ln-1];kr.next=41;break;case 30:Pr="level_".concat(Wr=1,".zarr/").concat(Rn,"/.zattrs");case 32:if(Gt[Pr]===void 0){kr.next=41;break}return kr.next=35,br("level_".concat(Wr,".zarr"));case 35:pr=kr.sent,Nr.push(pr),ne()("level"),Pr="level_".concat(Wr,".zarr/").concat(Rn,"/.zattrs"),kr.next=32;break;case 41:return kr.abrupt("return",Nr);case 42:case"end":return kr.stop()}},Ht)}));return function(Ht){return Et.apply(this,arguments)}}()}]),bt}(function(){function It(rn){var bt=this;ce()(this,It),this.metadata=[],this.metadata=rn;var Et=this.metadata[0],Ht=Et.pixelArrayMetadata.shape.length,Mt=X.a.Scalar,pn=Et.pixelArrayMetadata.dtype;if(pn.includes("u1")&&Et.coords.has("c"))switch(Et.coords.get("c").length){case 3:Mt=X.a.RGB;break;case 4:Mt=X.a.RGBA;break;default:Mt=X.a.VariableLengthVector}else Et.coords.has("c")&&(Mt=X.a.VariableLengthVector);var Sn=Kt.get(pn),Gt=1;Et.coords.has("c")&&(Gt=Et.coords.get("c").length),this.imageType={dimension:Ht,pixelType:Mt,componentType:Sn,components:Gt},this.spatialDims=["x","y","z"].slice(0,Ht),this.pixelArrayType=ze.get(pn),this.metadata.forEach(function(ln){ln.numberOfXYZChunks=new Array(bt.spatialDims.length),["c","x","y","z","t"].forEach(function(tn,Rn){var Gn=ln.dims.indexOf(tn);Gn!==-1&&(ln.numberOfCXYZTChunks[Rn]=Math.ceil(ln.pixelArrayMetadata.shape[Gn]/ln.pixelArrayMetadata.chunks[Gn]),ln.sizeCXYZTChunks[Rn]=ln.pixelArrayMetadata.chunks[Gn],ln.sizeCXYZTElements[Rn]=ln.pixelArrayMetadata.shape[Gn])})}),console.log(rn)}return K()(It,[{key:"topLevel",get:function(){return this.metadata.length-1}},{key:"levelOrigin",value:function(){var rn=m()(r.a.mark(function bt(Et){var Ht,Mt,pn,Sn,Gt,ln;return r.a.wrap(function(tn){for(;;)switch(tn.prev=tn.next){case 0:if(Ht=new Array(this.spatialDims.length),Mt=this.metadata[Et],!((pn=Mt.coords)instanceof Ct)){tn.next=9;break}return tn.next=6,pn.getCoords();case 6:Sn=tn.sent,Mt.coords=Sn,pn=Sn;case 9:for(Gt=0;Gt<this.spatialDims.length;Gt++)ln=this.spatialDims[Gt],Mt.coords.has(ln)?Ht[Gt]=pn.get(ln)[0]:Ht[Gt]=0;return tn.abrupt("return",Ht);case 11:case"end":return tn.stop()}},bt,this)}));return function(bt){return rn.apply(this,arguments)}}()},{key:"levelSpacing",value:function(){var rn=m()(r.a.mark(function bt(Et){var Ht,Mt,pn,Sn,Gt,ln,tn;return r.a.wrap(function(Rn){for(;;)switch(Rn.prev=Rn.next){case 0:if(Ht=new Array(this.spatialDims.length),Mt=this.metadata[Et],!((pn=Mt.coords)instanceof Ct)){Rn.next=9;break}return Rn.next=6,pn.getCoords();case 6:Sn=Rn.sent,Mt.coords=Sn,pn=Sn;case 9:for(Gt=0;Gt<this.spatialDims.length;Gt++)ln=this.spatialDims[Gt],Mt.coords.has(ln)?(tn=pn.get(ln),Ht[Gt]=tn[1]-tn[0]):Ht[Gt]=1;return Rn.abrupt("return",Ht);case 11:case"end":return Rn.stop()}},bt,this)}));return function(bt){return rn.apply(this,arguments)}}()},{key:"direction",get:function(){var rn=this.imageType.dimension,bt=new ge.a(rn,rn),Et=this.metadata[0].direction;if(Et)for(var Ht=this.metadata[0].dims,Mt=0;Mt<rn;Mt++)for(var pn=this.spatialDims[Mt],Sn=Ht.indexOf(pn),Gt=0;Gt<rn;Gt++){var ln=this.spatialDims[Gt],tn=Ht.indexOf(ln);bt.setElement(Mt,Gt,Et[Sn][tn])}else bt.setIdentity();return bt}},{key:"levelSize",value:function(){var rn=m()(r.a.mark(function bt(Et){var Ht,Mt,pn,Sn,Gt,ln,tn,Rn,Gn,fr;return r.a.wrap(function(qn){for(;;)switch(qn.prev=qn.next){case 0:if(Ht=new Array(this.spatialDims.length),Mt=this.metadata[Et],pn=this.imageType.dimension,Sn=Mt.pixelArrayMetadata,!((Gt=Mt.coords)instanceof Ct)){qn.next=11;break}return qn.next=8,Gt.getCoords();case 8:ln=qn.sent,Mt.coords=ln,Gt=ln;case 11:for(tn=0;tn<this.spatialDims.length;tn++)Rn=this.spatialDims[tn],Mt.coords.has(Rn)?(Gn=Mt.coords.get(Rn),Ht[tn]=Gn.length):(fr=pn-1-tn,Ht[tn]=Sn.shape[fr]);return qn.abrupt("return",Ht);case 13:case"end":return qn.stop()}},bt,this)}));return function(bt){return rn.apply(this,arguments)}}()},{key:"getChunks",value:function(){var rn=m()(r.a.mark(function bt(Et,Ht){return r.a.wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:return Mt.abrupt("return",this.getChunksImpl(Et,Ht));case 1:case"end":return Mt.stop()}},bt,this)}));return function(bt,Et){return rn.apply(this,arguments)}}()},{key:"getChunksImpl",value:function(){var rn=m()(r.a.mark(function bt(Et,Ht){return r.a.wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:console.error("Override me in a derived class");case 1:case"end":return Mt.stop()}},bt)}));return function(bt,Et){return rn.apply(this,arguments)}}()},{key:"levelLargestImage",value:function(){var rn=m()(r.a.mark(function bt(Et){var Ht,Mt,pn,Sn,Gt,ln,tn,Rn,Gn,fr,qn,dr,Jn,mr,ar,hr,Vr,Zr,Jr,br,Qr,Nr,$r,Yr,ra,Ln,Wr,Pr,pr,kr,Kr,Lr,vr,Dr,Ca,Ua,Fr,aa,Fn,Ra,ea,ya,Va,ta,xa,ba;return r.a.wrap(function(pa){for(;;)switch(pa.prev=pa.next){case 0:return Ht=this.metadata[Et],Mt=Ht.sizeCXYZTChunks,pn=[Mt[0],Mt[0]*Mt[1],Mt[0]*Mt[1]*Mt[2],Mt[0]*Mt[1]*Mt[2]*Mt[3]],pa.next=5,this.levelSize(Et);case 5:for(Sn=pa.sent,Gt=new this.pixelArrayType(Sn.reduce(function($a,Na){return $a*Na})*this.imageType.components),ln=[this.imageType.components,this.imageType.components*Sn[0],this.imageType.components*Sn[0]*Sn[1],this.imageType.components*Sn[0]*Sn[1]*Sn[2]],Rn=[(tn=[0,0,0,0])[0]+Sn[0],tn[1]+Sn[1],tn[2]+Sn[2],tn[3]+1],Gn=Ht.numberOfCXYZTChunks,fr=0,qn=0,dr=Gn[3],Jn=0,mr=Gn[2],ar=0,hr=Gn[1],Vr=0,Zr=Gn[0],Jr=[],br=qn;br<dr;br++)for(Qr=Jn;Qr<mr;Qr++)for(Nr=ar;Nr<hr;Nr++)for($r=Vr;$r<Zr;$r++)Jr.push([$r,Nr,Qr,br,fr]);return pa.next=24,this.getChunks(Et,Jr);case 24:for(Yr=pa.sent,ra=0;ra<Jr.length;ra++)for(Ln=Yr[ra],Wr=P()(Jr[ra],5),Wr[0],Pr=Wr[1],pr=Wr[2],kr=Wr[3],Kr=Wr[4],Lr=[Pr*Mt[1],pr*Mt[2],kr*Mt[3],Kr*Mt[4]],vr=[(Pr+1)*Mt[1],(pr+1)*Mt[2],(kr+1)*Mt[3],(Kr+1)*Mt[4]],(Lr[0]>Rn[0]||vr[0]<tn[0]||Lr[1]>Rn[1]||vr[1]<tn[1]||Lr[2]>Rn[2]||vr[2]<tn[2]||Lr[3]>Rn[3]||vr[3]<tn[3])&&console.error("Requested a chunk outside the region of interest!"),Dr=[Math.max(Lr[0],tn[0]),Math.max(Lr[1],tn[1]),Math.max(Lr[2],tn[2]),Math.max(Lr[3],tn[3])],Ca=[Math.min(vr[0],Rn[0]),Math.min(vr[1],Rn[1]),Math.min(vr[2],Rn[2]),Math.min(vr[3],Rn[3])],(Ua=[0,0,0,0])[3]=pn[3]*Kr,Fr=[0,0,0],aa=Dr[2];aa<Ca[2];aa++)for(Ua[2]=pn[2]*(aa-kr*Mt[3]),Fr[2]=ln[2]*(aa-tn[2]),Fn=Dr[1];Fn<Ca[1];Fn++)for(Ua[1]=pn[1]*(Fn-pr*Mt[2]),Fr[1]=ln[1]*(Fn-tn[1]),Ra=Dr[0];Ra<Ca[0];Ra++)ea=pn[0]*(Dr[0]-Pr*Mt[1])+Ua[1]+Ua[2]+Ua[3],ya=ea+Mt[0]*(Ca[0]-Dr[0]),Va=ln[0]*(Dr[0]-tn[0])+Fr[1]+ln[2]*(aa-tn[2]),Fr[2],Gt.set(Ln.subarray(ea,ya),Va);return pa.next=28,this.levelOrigin(Et);case 28:return ta=pa.sent,pa.next=31,this.levelSpacing(Et);case 31:return xa=pa.sent,ba={imageType:this.imageType,name:this.metadata[Et].pixelArrayName,origin:ta,spacing:xa,direction:this.direction,size:Sn,data:Gt},pa.abrupt("return",ba);case 34:case"end":return pa.stop()}},bt,this)}));return function(bt){return rn.apply(this,arguments)}}()},{key:"topLevelLargestImage",value:function(){var rn=m()(r.a.mark(function bt(){var Et;return r.a.wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:if(!this.cachedTopLevelLargestImage){Ht.next=2;break}return Ht.abrupt("return",this.cachedTopLevelLargestImage);case 2:return Et=this.topLevel,Ht.next=5,this.levelLargestImage(Et);case 5:return this.cachedTopLevelLargestImage=Ht.sent,console.log(this.cachedTopLevelLargestImage),Ht.abrupt("return",this.cachedTopLevelLargestImage);case 8:case"end":return Ht.stop()}},bt,this)}));return function(){return rn.apply(this,arguments)}}()}]),It}()),St=a(62),Ce=a(73),He=a.n(Ce),Nt=a(35),Dt=a(65),On=a.n(Dt),Lt=a(112),An=a.n(Lt);function dt(){return(dt=m()(r.a.mark(function It(rn){var bt,Et,Ht;return r.a.wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:return Mt.next=2,On.a.get(rn,{responseType:"json"});case 2:return bt=Mt.sent,Et=bt.data,Mt.next=6,On.a.get(rn+".data",{responseType:"arraybuffer"});case 6:return Ht=Mt.sent,Et.data=An()(Et.imageType.componentType,Ht.data),Mt.abrupt("return",Et);case 9:case"end":return Mt.stop()}},It)}))).apply(this,arguments)}var zt=function(It){return dt.apply(this,arguments)};function ur(It,rn){var bt=Object.keys(It);if(Object.getOwnPropertySymbols){var Et=Object.getOwnPropertySymbols(It);rn&&(Et=Et.filter(function(Ht){return Object.getOwnPropertyDescriptor(It,Ht).enumerable})),bt.push.apply(bt,Et)}return bt}var Be=function(It,rn,bt){return new Promise(function(Et,Ht){zt(rn).then(function(Mt){var pn=Nt.a.convertItkToVtkImage(Mt);Et(Object(St.a)(It,function(Sn){for(var Gt=1;Gt<arguments.length;Gt++){var ln=arguments[Gt]!=null?arguments[Gt]:{};Gt%2?ur(Object(ln),!0).forEach(function(tn){He()(Sn,tn,ln[tn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Sn,Object.getOwnPropertyDescriptors(ln)):ur(Object(ln)).forEach(function(tn){Object.defineProperty(Sn,tn,Object.getOwnPropertyDescriptor(ln,tn))})}return Sn}({image:pn,use2D:!1},bt)))})})},wn=a(141),gr=a(50),Br=a(19),nr={int8:{componentType:"int8_t",arrayType:Int8Array},uint8:{componentType:"uint8_t",arrayType:Uint8Array},int16:{componentType:"int16_t",arrayType:Int16Array},uint16:{componentType:"uint16_t",arrayType:Uint16Array},int32:{componentType:"int32_t",arrayType:Int32Array},uint32:{componentType:"uint32_t",arrayType:Uint32Array},float32:{componentType:"float",arrayType:Float32Array},float64:{componentType:"double",arrayType:Float64Array}};function J(It){if(It._rtype!=="ndarray")throw new Error("Invalid ndarray type: "+It._rtype);var rn=nr[It._rdtype],bt=rn.componentType,Et=rn.arrayType;if(It._rshape.length===2||It._rshape.length==3&&It._rshape[2]<=4){var Ht=It._rshape.length===3?It._rshape[2]:1;return{imageType:{dimension:2,pixelType:Ht===1?X.a.Scalar:X.a.VariableLengthVector,componentType:bt,components:Ht},name:"Image",origin:[0,0],spacing:[1,1],direction:{data:[1,0,0,1]},size:[It._rshape[1],It._rshape[0]],data:new Et(It._rvalue)}}if(It._rshape.length===3)return{imageType:{dimension:3,pixelType:X.a.Scalar,componentType:bt,components:1},name:"Volume",origin:[0,0,0],spacing:[1,1,1],direction:{data:[1,0,0,0,1,0,0,0,1]},size:[It._rshape[2],It._rshape[1],It._rshape[0]],data:new Et(It._rvalue)};if(It._rshape.length===4)return{imageType:{dimension:3,pixelType:X.a.Scalar,componentType:bt,components:It._rshape[3]},name:"Volume",origin:[0,0,0],spacing:[1,1,1],direction:{data:[1,0,0,0,1,0,0,0,1]},size:[It._rshape[2],It._rshape[1],It._rshape[0]],data:new Et(It._rvalue)};throw new Error("Unsupported shape: ".concat(It._rshape))}function Te(It,rn){var bt=typeof Symbol!="undefined"&&It[Symbol.iterator]||It["@@iterator"];if(!bt){if(Array.isArray(It)||(bt=function(Gt,ln){if(!!Gt){if(typeof Gt=="string")return Me(Gt,ln);var tn=Object.prototype.toString.call(Gt).slice(8,-1);if(tn==="Object"&&Gt.constructor&&(tn=Gt.constructor.name),tn==="Map"||tn==="Set")return Array.from(Gt);if(tn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tn))return Me(Gt,ln)}}(It))||rn&&It&&typeof It.length=="number"){bt&&(It=bt);var Et=0,Ht=function(){};return{s:Ht,n:function(){return Et>=It.length?{done:!0}:{done:!1,value:It[Et++]}},e:function(Gt){throw Gt},f:Ht}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Mt,pn=!0,Sn=!1;return{s:function(){bt=bt.call(It)},n:function(){var Gt=bt.next();return pn=Gt.done,Gt},e:function(Gt){Sn=!0,Mt=Gt},f:function(){try{pn||bt.return==null||bt.return()}finally{if(Sn)throw Mt}}}}function Me(It,rn){(rn==null||rn>It.length)&&(rn=It.length);for(var bt=0,Et=new Array(rn);bt<rn;bt++)Et[bt]=It[bt];return Et}a.d(p,"createViewerFromLocalFiles",function(){return rt}),a.d(p,"createViewerFromFiles",function(){return yt}),a.d(p,"createViewerFromUrl",function(){return cn}),a.d(p,"initializeEmbeddedViewers",function(){return Pn}),a.d(p,"processURLParameters",function(){return kn}),a.d(p,"version",function(){return wn.a}),a.d(p,"createViewer",function(){return St.a}),a.d(p,"utils",function(){return u}),a.d(p,"UserInterface",function(){return F.a}),a.d(p,"processFiles",function(){return O.a}),a.d(p,"processCornerstoneImages",function(){return Be});var Ke=!1;function rt(It){return Ke=!0,q(It,O.a)}function yt(It,rn){return Ot.apply(this,arguments)}function Ot(){return(Ot=m()(r.a.mark(function It(rn,bt){var Et,Ht=arguments;return r.a.wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:return Et=Ht.length>2&&Ht[2]!==void 0&&Ht[2],Mt.abrupt("return",Object(O.a)(rn,{files:bt,use2D:Et}));case 2:case"end":return Mt.stop()}},It)}))).apply(this,arguments)}function cn(It,rn){return gn.apply(this,arguments)}function gn(){return(gn=m()(r.a.mark(function It(rn,bt){var Et,Ht,Mt,pn,Sn,Gt,ln,tn,Rn,Gn,fr,qn,dr,Jn,mr,ar,hr,Vr,Zr,Jr,br,Qr,Nr,$r,Yr,ra;return r.a.wrap(function(Ln){for(;;)switch(Ln.prev=Ln.next){case 0:if(Et=bt.files,Ht=Et===void 0?[]:Et,Mt=bt.image,bt.multiscaleImage,pn=bt.labelMap,bt.multiscaleLabelMap,Sn=bt.labelMapNames,Gt=Sn===void 0?null:Sn,ln=bt.rotate,tn=ln===void 0||ln,Rn=bt.use2D,Gn=Rn!==void 0&&Rn,F.a.emptyContainer(rn),fr=F.a.createLoadingProgress(rn),qn=null,dr=null,!Mt){Ln.next=25;break}if(S()(Mt)!=="zarr"){Ln.next=21;break}return console.time("meta"),console.time("image"),Ln.next=12,oe.parseMetadata(Mt);case 12:return Jn=Ln.sent,console.timeEnd("meta"),dr=new oe(Mt,Jn),Ln.next=17,dr.topLevelLargestImage();case 17:Ln.sent,console.timeEnd("image"),Ln.next=25;break;case 21:return Ln.next=23,V(Mt,fr);case 23:mr=Ln.sent,qn=new File([new Blob([mr])],Mt.split("/").slice(-1)[0]);case 25:if(ar=null,hr=null,!pn){Ln.next=47;break}if(S()(pn)!=="zarr"){Ln.next=43;break}return console.time("labelMapMeta"),console.time("labelMap"),Ln.next=34,oe.parseMetadata(pn);case 34:return Vr=Ln.sent,console.timeEnd("labelMapMeta"),hr=new oe(pn,Vr),Ln.next=39,hr.topLevelLargestImage();case 39:Ln.sent,console.timeEnd("labelMap"),Ln.next=47;break;case 43:return Ln.next=45,V(pn,fr);case 45:Zr=Ln.sent,ar=new File([new Blob([Zr])],pn.split("/").slice(-1)[0]);case 47:Jr=[],br=Te(Ht),Ln.prev=49,br.s();case 51:if((Qr=br.n()).done){Ln.next=74;break}if(Nr=Qr.value,S()(Nr)!=="zarr"||dr){Ln.next=68;break}return console.time("meta"),console.time("image"),Ln.next=59,oe.parseMetadata(Nr);case 59:return $r=Ln.sent,console.timeEnd("meta"),dr=new oe(Nr,$r),Ln.next=64,dr.topLevelLargestImage();case 64:Ln.sent,console.timeEnd("image"),Ln.next=72;break;case 68:return Ln.next=70,V(Nr,fr);case 70:Yr=Ln.sent,Jr.push(new File([new Blob([Yr])],Nr.split("/").slice(-1)[0]));case 72:Ln.next=51;break;case 74:Ln.next=79;break;case 76:Ln.prev=76,Ln.t0=Ln.catch(49),br.e(Ln.t0);case 79:return Ln.prev=79,br.f(),Ln.finish(79);case 82:if(ra=null,!Gt){Ln.next=87;break}return Ln.next=86,d(Gt);case 86:ra=Ln.sent;case 87:return Ln.abrupt("return",Object(O.a)(rn,{files:Jr,image:qn,multiscaleImage:dr,labelMap:ar,multiscaleLabelMap:hr,labelMapNames:ra,rotate:tn,use2D:Gn}));case 88:case"end":return Ln.stop()}},It,null,[[49,76,79,82]])}))).apply(this,arguments)}function Pn(){if(!Ke)for(var It=document.querySelectorAll(".itk-vtk-viewer"),rn=It.length,bt=function(){var Et=It[rn];if(!Et.dataset.loaded){Et.dataset.loaded=!0;var Ht=(Et.dataset.viewport||"500x500").split("x"),Mt=P()(Ht,2),pn=Mt[0],Sn=Mt[1];Et.style.position="relative",Et.style.width=Number.isFinite(Number(pn))?"".concat(pn,"px"):pn,Et.style.height=Number.isFinite(Number(Sn))?"".concat(Sn,"px"):Sn;var Gt=Et.dataset.url.split(",");cn(Et,{files:Gt,use2D:!!Et.dataset.use2D}).then(function(ln){if(Et.dataset.backgroundColor){var tn=Et.dataset.backgroundColor,Rn=[tn.slice(0,2),tn.slice(2,4),tn.slice(4,6)].map(function(Gn){return parseInt(Gn,16)/255});console.log(Rn),ln.setBackgroundColor(Rn)}ln.setUserInterfaceCollapsed(!0),ln.renderWindow&&ln.renderWindow.render&&ln.renderWindow.render(),Et.dataset.viewer=ln})}};rn--;)bt()}function kn(It){var rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},bt=Object.assign({},E.extractURLParameters(),rn),Et=F.a.getRootContainer(It);bt.fullscreen&&Et.classList.add(z.a.fullscreenContainer);var Ht=[];bt.fileToLoad&&(Ht=bt.fileToLoad.split(",")),bt.filesToLoad&&(Ht=bt.filesToLoad.split(","));var Mt=!0;return bt.rotate!==void 0&&(Mt=E.toNativeType(bt.rotate)),Ht.length||bt.image||bt.labelMap?cn(Et,{files:Ht,image:bt.image,labelMap:bt.labelMap,labelMapNames:bt.labelMapNames,rotate:Mt,use2D:!!bt.use2D}):null}}]);var Cc=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var g=0,p=arguments.length;p--;)g+=arguments[p]*arguments[p];return Math.sqrt(g)});function Og(){var g=new Cc(3);return Cc!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0),g}function V1(g,p,a){var u=new Cc(3);return u[0]=g,u[1]=p,u[2]=a,u}function Tg(g,p,a){return g[0]=p[0]-a[0],g[1]=p[1]-a[1],g[2]=p[2]-a[2],g}function Ig(g,p){return g[0]*p[0]+g[1]*p[1]+g[2]*p[2]}function Eg(g,p,a){var u=p[0],f=p[1],P=p[2],U=a[0],m=a[1],w=a[2];return g[0]=f*w-P*m,g[1]=P*U-u*w,g[2]=u*m-f*U,g}var Rg=Tg;(function(){var g=Og();return function(p,a,u,f,P,U){var m,w;for(a||(a=3),u||(u=0),f?w=Math.min(f*a+u,p.length):w=p.length,m=u;m<w;m+=a)g[0]=p[m],g[1]=p[m+1],g[2]=p[m+2],P(g,g,U),p[m]=g[0],p[m+1]=g[1],p[m+2]=g[2];return p}})();const Mg={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},J1={VOID:"",CHAR:"Int8Array",SIGNED_CHAR:"Int8Array",UNSIGNED_CHAR:"Uint8Array",SHORT:"Int16Array",UNSIGNED_SHORT:"Uint16Array",INT:"Int32Array",UNSIGNED_INT:"Uint32Array",FLOAT:"Float32Array",DOUBLE:"Float64Array"},kg=J1.FLOAT;var $1={DefaultDataType:kg,DataTypeByteSize:Mg,VtkDataTypes:J1};const e0={vtkObject:()=>null};function oi(g){if(g==null||g.isA)return g;if(!g.vtkClass)return global.console&&global.console.error&&global.console.error("Invalid VTK object"),null;const p=e0[g.vtkClass];if(!p)return global.console&&global.console.error&&global.console.error(`No vtk class found for Object of type ${g.vtkClass}`),null;const a={...g};Object.keys(a).forEach(f=>{a[f]&&typeof a[f]=="object"&&a[f].vtkClass&&(a[f]=oi(a[f]))});const u=p(a);return u&&u.modified&&u.modified(),u}function Dg(g,p){e0[g]=p}oi.register=Dg;let Pc=0;const Ug=Symbol("void");function Bg(){return Pc}const t0={};function Si(){}const Fg=["log","debug","info","warn","error","time","timeEnd","group","groupEnd"];Fg.forEach(g=>{t0[g]=Si});global.console=console.hasOwnProperty("log")?console:t0;const hi={debug:Si,error:global.console.error||Si,info:global.console.info||Si,log:global.console.log||Si,warn:global.console.warn||Si};function Lg(g,p){hi[g]&&(hi[g]=p||Si)}function _g(...g){hi.log(...g)}function Vg(...g){hi.info(...g)}function Oc(...g){hi.debug(...g)}function Ba(...g){hi.error(...g)}function n0(...g){hi.warn(...g)}const N1={};function Ng(g){N1[g]||(hi.error(g),N1[g]=!0)}const jg={Float32Array,Float64Array,Uint8Array,Int8Array,Uint16Array,Int16Array,Uint32Array,Int32Array};function Fa(g){return g.charAt(0).toUpperCase()+g.slice(1)}function Gg(g){return g.charAt(0).toLowerCase()+g.slice(1)}function zg(g,p=2,a=1e3){const u=["TB","GB","MB","KB"];let f=Number(g),P="B";for(;f>a;)f/=a,P=u.pop();return`${f.toFixed(p)} ${P}`}function Wg(g,p=" "){const a=[];let u=g;for(;u>1e3;)a.push(`000${u%1e3}`.slice(-3)),u=Math.floor(u/1e3);return u>0&&a.push(u),a.reverse(),a.join(p)}function r0(g){Object.keys(g).forEach(p=>{Array.isArray(g[p])&&(g[p]=[].concat(g[p]))})}function Kg(g,p){if(g===p)return!0;if(Array.isArray(g)&&Array.isArray(p)){if(g.length!==p.length)return!1;for(let a=0;a<g.length;a++)if(g[a]!==p[a])return!1;return!0}return!1}function Hg(g,p){return Object.keys(g).find(a=>g[a]===p)}function a0(g){return g.isA?g.getState():g}function o0(g){setTimeout(g,0)}function i0(g={},p={}){r0(p);const a=[];Number.isInteger(p.mtime)||(p.mtime=++Pc),p.classHierarchy=["vtkObject"];function u(P){a[P]=null}function f(P){function U(){u(P)}return Object.freeze({unsubscribe:U})}return g.isDeleted=()=>!!p.deleted,g.modified=P=>{if(p.deleted){Ba("instance deleted - cannot call any method");return}P&&P<g.getMTime()||(p.mtime=++Pc,a.forEach(U=>U&&U(g)))},g.onModified=P=>{if(p.deleted)return Ba("instance deleted - cannot call any method"),null;const U=a.length;return a.push(P),f(U)},g.getMTime=()=>p.mtime,g.isA=P=>{let U=p.classHierarchy.length;for(;U--;)if(p.classHierarchy[U]===P)return!0;return!1},g.getClassName=(P=0)=>p.classHierarchy[p.classHierarchy.length-1-P],g.set=(P={},U=!1,m=!1)=>{let w=!1;return Object.keys(P).forEach(r=>{const b=m?null:g[`set${Fa(r)}`];b&&Array.isArray(P[r])&&b.length>1?w=b(...P[r])||w:b?w=b(P[r])||w:(["mtime"].indexOf(r)===-1&&!U&&n0(`Warning: Set value to model directly ${r}, ${P[r]}`),p[r]=P[r],w=!0)}),w},g.get=(...P)=>{if(!P.length)return p;const U={};return P.forEach(m=>{U[m]=p[m]}),U},g.getReferenceByName=P=>p[P],g.delete=()=>{Object.keys(p).forEach(P=>delete p[P]),a.forEach((P,U)=>u(U)),p.deleted=!0},g.getState=()=>{const P={...p,vtkClass:g.getClassName()};Object.keys(P).forEach(m=>{P[m]===null||P[m]===void 0?delete P[m]:P[m].isA?P[m]=P[m].getState():Array.isArray(P[m])&&(P[m]=P[m].map(a0))});const U={};return Object.keys(P).sort().forEach(m=>{U[m]=P[m]}),U.mtime&&delete U.mtime,U},g.shallowCopy=(P,U=!1)=>{if(P.getClassName()!==g.getClassName())throw new Error(`Cannot ShallowCopy ${P.getClassName()} into ${g.getClassName()}`);const m=P.get(),w=Object.keys(p).sort();Object.keys(m).sort().forEach(b=>{const C=w.indexOf(b);C===-1?U&&Oc(`add ${b} in shallowCopy`):w.splice(C,1),p[b]=m[b]}),w.length&&U&&Oc(`Untouched keys: ${w.join(", ")}`),g.modified()},g}function Bs(g,p,a){a.forEach(u=>{typeof u=="object"?g[`get${Fa(u.name)}`]=()=>p[u.name]:g[`get${Fa(u)}`]=()=>p[u]})}const Qg={enum(g,p,a){return u=>{if(typeof u=="string"){if(a.enum[u]!==void 0)return p[a.name]!==a.enum[u]?(p[a.name]=a.enum[u],g.modified(),!0):!1;throw Ba(`Set Enum with invalid argument ${a}, ${u}`),new RangeError("Set Enum with invalid string argument")}if(typeof u=="number"){if(p[a.name]!==u){if(Object.keys(a.enum).map(f=>a.enum[f]).indexOf(u)!==-1)return p[a.name]=u,g.modified(),!0;throw Ba(`Set Enum outside numeric range ${a}, ${u}`),new RangeError("Set Enum outside numeric range")}return!1}throw Ba(`Set Enum with invalid argument (String/Number) ${a}, ${u}`),new TypeError("Set Enum with invalid argument (String/Number)")}}};function j1(g){if(typeof g=="object"){const p=Qg[g.type];if(p)return(a,u)=>p(a,u,g);throw Ba(`No setter for field ${g}`),new TypeError("No setter for field")}return function(a,u){return function(P){return u.deleted?(Ba("instance deleted - cannot call any method"),!1):u[g]!==P?(u[g]=P,a.modified(),!0):!1}}}function Rc(g,p,a){a.forEach(u=>{typeof u=="object"?g[`set${Fa(u.name)}`]=j1(u)(g,p):g[`set${Fa(u)}`]=j1(u)(g,p)})}function s0(g,p,a){Bs(g,p,a),Rc(g,p,a)}function c0(g,p,a){a.forEach(u=>{g[`get${Fa(u)}`]=()=>[].concat(p[u]),g[`get${Fa(u)}ByReference`]=()=>p[u]})}function u0(g,p,a,u,f=void 0){a.forEach(P=>{g[`set${Fa(P)}`]=(...U)=>{if(p.deleted)return Ba("instance deleted - cannot call any method"),!1;let m=U;if(m.length===1&&Array.isArray(m[0])&&(m=m[0]),m.length!==u)if(m.length<u&&f!==void 0)for(m=[].concat(m);m.length<u;)m.push(f);else throw new RangeError(`Invalid number of values for array setter (${P})`);let w=!1;return p[P].forEach((r,b)=>{if(r!==m[b]){if(w)return;w=!0}}),w||p[P].length!==m.length?(p[P]=[].concat(m),g.modified(),!0):!1},g[`set${Fa(P)}From`]=U=>{const m=p[P];U.forEach((w,r)=>{m[r]=w})}})}function Yg(g,p,a,u,f=void 0){c0(g,p,a),u0(g,p,a,u,f)}function Xg(g,p,a,u){p.inputData?p.inputData=p.inputData.map(oi):p.inputData=[],p.inputConnection?p.inputConnection=p.inputConnection.map(oi):p.inputConnection=[],p.output?p.output=p.output.map(oi):p.output=[],p.inputArrayToProcess?p.inputArrayToProcess=p.inputArrayToProcess.map(oi):p.inputArrayToProcess=[],p.numberOfInputs=a;function f(A,x=0){if(p.deleted){Ba("instance deleted - cannot call any method");return}if(x>=p.numberOfInputs){Ba(`algorithm ${g.getClassName()} only has ${p.numberOfInputs} input ports. To add more input ports, use addInputData()`);return}(p.inputData[x]!==A||p.inputConnection[x])&&(p.inputData[x]=A,p.inputConnection[x]=null,g.modified&&g.modified())}function P(A=0){return p.inputConnection[A]&&(p.inputData[A]=p.inputConnection[A]()),p.inputData[A]}function U(A,x=0){if(p.deleted){Ba("instance deleted - cannot call any method");return}if(x>=p.numberOfInputs){let E=`algorithm ${g.getClassName()} only has `;E+=`${p.numberOfInputs}`,E+=" input ports. To add more input ports, use addInputConnection()",Ba(E);return}p.inputData[x]=null,p.inputConnection[x]=A}function m(A=0){return p.inputConnection[A]}function w(A){if(p.deleted){Ba("instance deleted - cannot call any method");return}p.numberOfInputs++,U(A,p.numberOfInputs-1)}function r(A){if(p.deleted){Ba("instance deleted - cannot call any method");return}p.numberOfInputs++,f(A,p.numberOfInputs-1)}function b(A=0){return p.deleted?(Ba("instance deleted - cannot call any method"),null):(g.shouldUpdate()&&g.update(),p.output[A])}g.shouldUpdate=()=>{const A=g.getMTime();let x=u,E=1/0;for(;x--;){if(!p.output[x])return!0;const M=p.output[x].getMTime();if(M<A)return!0;M<E&&(E=M)}for(x=p.numberOfInputs;x--;)if(p.inputConnection[x]&&p.inputConnection[x].filter.shouldUpdate())return!0;for(x=p.numberOfInputs;x--;)if(g.getInputData(x)&&g.getInputData(x).getMTime()>E)return!0;return!1};function C(A=0){const x=()=>b(A);return x.filter=g,x}if(p.numberOfInputs){let A=p.numberOfInputs;for(;A--;)p.inputData.push(null),p.inputConnection.push(null);g.setInputData=f,g.setInputConnection=U,g.addInputData=r,g.addInputConnection=w,g.getInputData=P,g.getInputConnection=m}u&&(g.getOutputData=b,g.getOutputPort=C),g.update=()=>{const A=[];if(p.numberOfInputs){let x=0;for(;x<p.numberOfInputs;)A[x]=g.getInputData(x),x++}g.shouldUpdate()&&g.requestData&&g.requestData(A,p.output)},g.getNumberOfInputPorts=()=>p.numberOfInputs,g.getNumberOfOutputPorts=()=>u||p.output.length,g.getInputArrayToProcess=A=>{const x=p.inputArrayToProcess[A],E=p.inputData[A];return x&&E?E[`get${x.fieldAssociation}`]().getArray(x.arrayName):null},g.setInputArrayToProcess=(A,x,E,M="Scalars")=>{for(;p.inputArrayToProcess.length<A;)p.inputArrayToProcess.push(null);p.inputArrayToProcess[A]={arrayName:x,fieldAssociation:E,attributeType:M}}}const l0=Symbol("Event abort");function qg(g,p,a){const u=[],f=g.delete;let P=1;function U(r){for(let b=0;b<u.length;++b){const[C]=u[b];if(C===r){u.splice(b,1);return}}}function m(r){function b(){U(r)}return Object.freeze({unsubscribe:b})}function w(){if(p.deleted){Ba("instance deleted - cannot call any method");return}const r=u.slice();for(let b=0;b<r.length;++b){const[,C,A]=r[b];if(!!C){if(A<0)setTimeout(()=>C.apply(g,arguments),1-A);else if(C.apply(g,arguments)===l0)break}}}g[`invoke${Fa(a)}`]=w,g[`on${Fa(a)}`]=(r,b=0)=>{if(!r.apply)return console.error(`Invalid callback for event ${a}`),null;if(p.deleted)return Ba("instance deleted - cannot call any method"),null;const C=P++;return u.push([C,r,b]),u.sort((A,x)=>x[2]-A[2]),m(C)},g.delete=()=>{f(),u.forEach(([r])=>U(r))}}function f0(g,p){const a=(u={})=>{const f={},P={};return g(P,f,u),Object.freeze(P)};return p&&oi.register(p,a),a}function Zg(...g){return(...p)=>g.filter(a=>!!a).map(a=>a(...p))}function d0(g){return g&&g.isA&&g.isA("vtkObject")}function Tc(g,p,a=[],u=[]){if(d0(g)){if(u.indexOf(g)>=0)return a;u.push(g);const f=p(g);f!==void 0&&a.push(f);const P=g.get();Object.keys(P).forEach(U=>{const m=P[U];Array.isArray(m)?m.forEach(w=>{Tc(w,p,a,u)}):Tc(m,p,a,u)})}return a}function Jg(g,p,a){let u;return(...f)=>{const P=this,U=()=>{u=null,a||g.apply(P,f)},m=a&&!u;clearTimeout(u),u=setTimeout(U,p),m&&g.apply(P,f)}}function $g(g,p){let a=!1,u=null;function f(){a=!1,u!==null&&(P(...u),u=null)}function P(...U){if(a){u=U;return}a=!0,g(...U),setTimeout(f,p)}return P}function p0(g,p,a={}){p.keystore=Object.assign(p.keystore||{},a),g.setKey=(u,f)=>{p.keystore[u]=f},g.getKey=u=>p.keystore[u],g.getAllKeys=()=>Object.keys(p.keystore),g.deleteKey=u=>delete p.keystore[u],g.clearKeystore=()=>g.getAllKeys().forEach(u=>delete p.keystore[u])}let e3=1;const Ms="__root__";function t3(g,p){p0(g,p);const a=g.delete;p.proxyId=`${e3++}`,p.ui=JSON.parse(JSON.stringify(p.ui||[])),Bs(g,p,["proxyId","proxyGroup","proxyName"]),s0(g,p,["proxyManager"]);const u={},f={};function P(r,b){f[b]||(f[b]=[]);const C=f[b];for(let A=0;A<r.length;A++)C.push(r[A].name),u[r[A].name]=r[A],r[A].children&&r[A].children.length&&P(r[A].children,r[A].name)}P(p.ui,Ms),g.updateUI=r=>{p.ui=JSON.parse(JSON.stringify(r||[])),Object.keys(u).forEach(b=>delete u[b]),Object.keys(f).forEach(b=>delete f[b]),P(p.ui,Ms),g.modified()};function U(r=Ms){return f[r]}g.updateProxyProperty=(r,b)=>{const C=u[r];C?Object.assign(C,b):u[r]={...b}},g.activate=()=>{if(p.proxyManager){const r=`setActive${Fa(g.getProxyGroup().slice(0,-1))}`;p.proxyManager[r]&&p.proxyManager[r](g)}},p.propertyLinkSubscribers={},g.registerPropertyLinkForGC=(r,b)=>{b in p.propertyLinkSubscribers||(p.propertyLinkSubscribers[b]=[]),p.propertyLinkSubscribers[b].push(r)},g.gcPropertyLinks=r=>{const b=p.propertyLinkSubscribers[r]||[];for(;b.length;)b.pop().unbind(g)},p.propertyLinkMap={},g.getPropertyLink=(r,b=!1)=>{if(p.propertyLinkMap[r])return p.propertyLinkMap[r];let C=null;const A=[];let x=0,E=!1;function M(O,F=!1){if(E)return null;const I=[];let L=null;for(x=A.length;x--;){const z=A[x];z.instance===O?L=z:I.push(z)}if(!L)return null;const G=L.instance[`get${Fa(L.propertyName)}`]();if(!Kg(G,C)||F){for(C=G,E=!0;I.length;){const z=I.pop();z.instance.set({[z.propertyName]:C})}E=!1}return p.propertyLinkMap[r].persistent&&(p.propertyLinkMap[r].value=G),G}function S(O,F){const I=[];for(x=A.length;x--;){const L=A[x];L.instance===O&&(L.propertyName===F||F===void 0)&&(L.subscription.unsubscribe(),I.push(x))}for(;I.length;)A.splice(I.pop(),1)}function D(O,F,I=!1){const L=O.onModified(M),G=A[0];return A.push({instance:O,propertyName:F,subscription:L}),I&&(p.propertyLinkMap[r].persistent&&p.propertyLinkMap[r].value!==void 0?O.set({[F]:p.propertyLinkMap[r].value}):G&&M(G.instance,!0)),{unsubscribe:()=>S(O,F)}}function V(){for(;A.length;)A.pop().subscription.unsubscribe()}const d={bind:D,unbind:S,unsubscribe:V,persistent:b};return p.propertyLinkMap[r]=d,d};function m(r=Ms){const b=[],C=p.proxyId,A=U(r)||[];for(let x=0;x<A.length;x++){const E=A[x],M=g[`get${Fa(E)}`],S=M?M():void 0,D={id:C,name:E,value:S},V=m(E);V.length&&(D.children=V),b.push(D)}return b}g.listPropertyNames=()=>m().map(r=>r.name),g.getPropertyByName=r=>m().find(b=>b.name===r),g.getPropertyDomainByName=r=>(u[r]||{}).domain,g.getProxySection=()=>({id:p.proxyId,name:p.proxyGroup,ui:p.ui,properties:m()}),g.delete=()=>{const r=Object.keys(p.propertyLinkMap);let b=r.length;for(;b--;)p.propertyLinkMap[r[b]].unsubscribe();Object.keys(p.propertyLinkSubscribers).forEach(g.gcPropertyLinks),a()};function w(){if(p.links)for(let r=0;r<p.links.length;r++){const{link:b,property:C,persistent:A,updateOnBind:x,type:E}=p.links[r];if(E==="application"){const M=p.proxyManager.getPropertyLink(b,A);g.registerPropertyLinkForGC(M,"application"),M.bind(g,C,x)}}}o0(w)}function n3(g,p,a){const u=g.delete,f=[],P=Object.keys(a);let U=P.length;for(;U--;){const m=P[U],{modelKey:w,property:r,modified:b=!0}=a[m],C=Fa(r),A=Fa(m);g[`get${A}`]=p[w][`get${C}`],g[`set${A}`]=p[w][`set${C}`],b&&f.push(p[w].onModified(g.modified))}g.delete=()=>{for(;f.length;)f.pop().unsubscribe();u()}}function r3(g,p,a={},u={}){p.this=g;function f(m){const w=Object.keys(m);let r=w.length;for(;r--;){const b=w[r];p[b].set(m[b])}}const P=Object.keys(u);let U=P.length;for(;U--;){const m=P[U];p[m]=u[m];const w=a[m];g[`set${Fa(m)}`]=r=>{if(r!==p[m]){p[m]=r;const b=w[r];f(b),g.modified()}}}P.length&&Bs(g,p,P)}const G1=10,z1=40,W1=800;function a3(g){let p=0,a=0,u=0,f=0;return"detail"in g&&(a=g.detail),"wheelDelta"in g&&(a=-g.wheelDelta/120),"wheelDeltaY"in g&&(a=-g.wheelDeltaY/120),"wheelDeltaX"in g&&(p=-g.wheelDeltaX/120),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(p=a,a=0),u=p*G1,f=a*G1,"deltaY"in g&&(f=g.deltaY),"deltaX"in g&&(u=g.deltaX),(u||f)&&g.deltaMode&&(g.deltaMode===1?(u*=z1,f*=z1):(u*=W1,f*=W1)),u&&!p&&(p=u<1?-1:1),f&&!a&&(a=f<1?-1:1),{spinX:p,spinY:a,pixelX:u,pixelY:f}}var Da={algo:Xg,capitalize:Fa,chain:Zg,debounce:Jg,enumToString:Hg,event:qg,EVENT_ABORT:l0,formatBytesToProperUnit:zg,formatNumbersWithThousandSeparator:Wg,get:Bs,getArray:c0,getCurrentGlobalMTime:Bg,getStateArrayMapFunc:a0,isVtkObject:d0,keystore:p0,newInstance:f0,normalizeWheel:a3,obj:i0,proxy:t3,proxyPropertyMapping:n3,proxyPropertyState:r3,safeArrays:r0,set:Rc,setArray:u0,setGet:s0,setGetArray:Yg,setImmediate:o0,setLoggerFunction:Lg,throttle:$g,traverseInstanceTree:Tc,TYPED_ARRAYS:jg,uncapitalize:Gg,VOID:Ug,vtkDebugMacro:Oc,vtkErrorMacro:Ba,vtkInfoMacro:Vg,vtkLogMacro:_g,vtkOnceErrorMacro:Ng,vtkWarningMacro:n0},g0={exports:{}};(function(g){(function(p,a,u){function f(w){var r=this,b=m();r.next=function(){var C=2091639*r.s0+r.c*23283064365386963e-26;return r.s0=r.s1,r.s1=r.s2,r.s2=C-(r.c=C|0)},r.c=1,r.s0=b(" "),r.s1=b(" "),r.s2=b(" "),r.s0-=b(w),r.s0<0&&(r.s0+=1),r.s1-=b(w),r.s1<0&&(r.s1+=1),r.s2-=b(w),r.s2<0&&(r.s2+=1),b=null}function P(w,r){return r.c=w.c,r.s0=w.s0,r.s1=w.s1,r.s2=w.s2,r}function U(w,r){var b=new f(w),C=r&&r.state,A=b.next;return A.int32=function(){return b.next()*4294967296|0},A.double=function(){return A()+(A()*2097152|0)*11102230246251565e-32},A.quick=A,C&&(typeof C=="object"&&P(C,b),A.state=function(){return P(b,{})}),A}function m(){var w=4022871197,r=function(b){b=String(b);for(var C=0;C<b.length;C++){w+=b.charCodeAt(C);var A=.02519603282416938*w;w=A>>>0,A-=w,A*=w,w=A>>>0,A-=w,w+=A*4294967296}return(w>>>0)*23283064365386963e-26};return r}a&&a.exports?a.exports=U:u&&u.amd?u(function(){return U}):this.alea=U})(Ci,g,!1)})(g0);var m0={exports:{}};(function(g){(function(p,a,u){function f(m){var w=this,r="";w.x=0,w.y=0,w.z=0,w.w=0,w.next=function(){var C=w.x^w.x<<11;return w.x=w.y,w.y=w.z,w.z=w.w,w.w^=w.w>>>19^C^C>>>8},m===(m|0)?w.x=m:r+=m;for(var b=0;b<r.length+64;b++)w.x^=r.charCodeAt(b)|0,w.next()}function P(m,w){return w.x=m.x,w.y=m.y,w.z=m.z,w.w=m.w,w}function U(m,w){var r=new f(m),b=w&&w.state,C=function(){return(r.next()>>>0)/4294967296};return C.double=function(){do var A=r.next()>>>11,x=(r.next()>>>0)/4294967296,E=(A+x)/(1<<21);while(E===0);return E},C.int32=r.next,C.quick=C,b&&(typeof b=="object"&&P(b,r),C.state=function(){return P(r,{})}),C}a&&a.exports?a.exports=U:u&&u.amd?u(function(){return U}):this.xor128=U})(Ci,g,!1)})(m0);var h0={exports:{}};(function(g){(function(p,a,u){function f(m){var w=this,r="";w.next=function(){var C=w.x^w.x>>>2;return w.x=w.y,w.y=w.z,w.z=w.w,w.w=w.v,(w.d=w.d+362437|0)+(w.v=w.v^w.v<<4^(C^C<<1))|0},w.x=0,w.y=0,w.z=0,w.w=0,w.v=0,m===(m|0)?w.x=m:r+=m;for(var b=0;b<r.length+64;b++)w.x^=r.charCodeAt(b)|0,b==r.length&&(w.d=w.x<<10^w.x>>>4),w.next()}function P(m,w){return w.x=m.x,w.y=m.y,w.z=m.z,w.w=m.w,w.v=m.v,w.d=m.d,w}function U(m,w){var r=new f(m),b=w&&w.state,C=function(){return(r.next()>>>0)/4294967296};return C.double=function(){do var A=r.next()>>>11,x=(r.next()>>>0)/4294967296,E=(A+x)/(1<<21);while(E===0);return E},C.int32=r.next,C.quick=C,b&&(typeof b=="object"&&P(b,r),C.state=function(){return P(r,{})}),C}a&&a.exports?a.exports=U:u&&u.amd?u(function(){return U}):this.xorwow=U})(Ci,g,!1)})(h0);var v0={exports:{}};(function(g){(function(p,a,u){function f(m){var w=this;w.next=function(){var b=w.x,C=w.i,A,x;return A=b[C],A^=A>>>7,x=A^A<<24,A=b[C+1&7],x^=A^A>>>10,A=b[C+3&7],x^=A^A>>>3,A=b[C+4&7],x^=A^A<<7,A=b[C+7&7],A=A^A<<13,x^=A^A<<9,b[C]=x,w.i=C+1&7,x};function r(b,C){var A,x=[];if(C===(C|0))x[0]=C;else for(C=""+C,A=0;A<C.length;++A)x[A&7]=x[A&7]<<15^C.charCodeAt(A)+x[A+1&7]<<13;for(;x.length<8;)x.push(0);for(A=0;A<8&&x[A]===0;++A);for(A==8?x[7]=-1:x[A],b.x=x,b.i=0,A=256;A>0;--A)b.next()}r(w,m)}function P(m,w){return w.x=m.x.slice(),w.i=m.i,w}function U(m,w){m==null&&(m=+new Date);var r=new f(m),b=w&&w.state,C=function(){return(r.next()>>>0)/4294967296};return C.double=function(){do var A=r.next()>>>11,x=(r.next()>>>0)/4294967296,E=(A+x)/(1<<21);while(E===0);return E},C.int32=r.next,C.quick=C,b&&(b.x&&P(b,r),C.state=function(){return P(r,{})}),C}a&&a.exports?a.exports=U:u&&u.amd?u(function(){return U}):this.xorshift7=U})(Ci,g,!1)})(v0);var y0={exports:{}};(function(g){(function(p,a,u){function f(m){var w=this;w.next=function(){var b=w.w,C=w.X,A=w.i,x,E;return w.w=b=b+1640531527|0,E=C[A+34&127],x=C[A=A+1&127],E^=E<<13,x^=x<<17,E^=E>>>15,x^=x>>>12,E=C[A]=E^x,w.i=A,E+(b^b>>>16)|0};function r(b,C){var A,x,E,M,S,D=[],V=128;for(C===(C|0)?(x=C,C=null):(C=C+"\0",x=0,V=Math.max(V,C.length)),E=0,M=-32;M<V;++M)C&&(x^=C.charCodeAt((M+32)%C.length)),M===0&&(S=x),x^=x<<10,x^=x>>>15,x^=x<<4,x^=x>>>13,M>=0&&(S=S+1640531527|0,A=D[M&127]^=x+S,E=A==0?E+1:0);for(E>=128&&(D[(C&&C.length||0)&127]=-1),E=127,M=4*128;M>0;--M)x=D[E+34&127],A=D[E=E+1&127],x^=x<<13,A^=A<<17,x^=x>>>15,A^=A>>>12,D[E]=x^A;b.w=S,b.X=D,b.i=E}r(w,m)}function P(m,w){return w.i=m.i,w.w=m.w,w.X=m.X.slice(),w}function U(m,w){m==null&&(m=+new Date);var r=new f(m),b=w&&w.state,C=function(){return(r.next()>>>0)/4294967296};return C.double=function(){do var A=r.next()>>>11,x=(r.next()>>>0)/4294967296,E=(A+x)/(1<<21);while(E===0);return E},C.int32=r.next,C.quick=C,b&&(b.X&&P(b,r),C.state=function(){return P(r,{})}),C}a&&a.exports?a.exports=U:u&&u.amd?u(function(){return U}):this.xor4096=U})(Ci,g,!1)})(y0);var b0={exports:{}};(function(g){(function(p,a,u){function f(m){var w=this,r="";w.next=function(){var C=w.b,A=w.c,x=w.d,E=w.a;return C=C<<25^C>>>7^A,A=A-x|0,x=x<<24^x>>>8^E,E=E-C|0,w.b=C=C<<20^C>>>12^A,w.c=A=A-x|0,w.d=x<<16^A>>>16^E,w.a=E-C|0},w.a=0,w.b=0,w.c=-1640531527,w.d=1367130551,m===Math.floor(m)?(w.a=m/4294967296|0,w.b=m|0):r+=m;for(var b=0;b<r.length+20;b++)w.b^=r.charCodeAt(b)|0,w.next()}function P(m,w){return w.a=m.a,w.b=m.b,w.c=m.c,w.d=m.d,w}function U(m,w){var r=new f(m),b=w&&w.state,C=function(){return(r.next()>>>0)/4294967296};return C.double=function(){do var A=r.next()>>>11,x=(r.next()>>>0)/4294967296,E=(A+x)/(1<<21);while(E===0);return E},C.int32=r.next,C.quick=C,b&&(typeof b=="object"&&P(b,r),C.state=function(){return P(r,{})}),C}a&&a.exports?a.exports=U:u&&u.amd?u(function(){return U}):this.tychei=U})(Ci,g,!1)})(b0);var A0={exports:{}};(function(g){(function(p,a,u){var f=256,P=6,U=52,m="random",w=u.pow(f,P),r=u.pow(2,U),b=r*2,C=f-1,A;function x(O,F,I){var L=[];F=F==!0?{entropy:!0}:F||{};var G=D(S(F.entropy?[O,d(a)]:O==null?V():O,3),L),z=new E(L),B=function(){for(var Y=z.g(P),q=w,H=0;Y<r;)Y=(Y+H)*f,q*=f,H=z.g(1);for(;Y>=b;)Y/=2,q/=2,H>>>=1;return(Y+H)/q};return B.int32=function(){return z.g(4)|0},B.quick=function(){return z.g(4)/4294967296},B.double=B,D(d(z.S),a),(F.pass||I||function(Y,q,H,ne){return ne&&(ne.S&&M(ne,z),Y.state=function(){return M(z,{})}),H?(u[m]=Y,q):Y})(B,G,"global"in F?F.global:this==u,F.state)}function E(O){var F,I=O.length,L=this,G=0,z=L.i=L.j=0,B=L.S=[];for(I||(O=[I++]);G<f;)B[G]=G++;for(G=0;G<f;G++)B[G]=B[z=C&z+O[G%I]+(F=B[G])],B[z]=F;(L.g=function(Y){for(var q,H=0,ne=L.i,Ae=L.j,ce=L.S;Y--;)q=ce[ne=C&ne+1],H=H*f+ce[C&(ce[ne]=ce[Ae=C&Ae+q])+(ce[Ae]=q)];return L.i=ne,L.j=Ae,H})(f)}function M(O,F){return F.i=O.i,F.j=O.j,F.S=O.S.slice(),F}function S(O,F){var I=[],L=typeof O,G;if(F&&L=="object")for(G in O)try{I.push(S(O[G],F-1))}catch{}return I.length?I:L=="string"?O:O+"\0"}function D(O,F){for(var I=O+"",L,G=0;G<I.length;)F[C&G]=C&(L^=F[C&G]*19)+I.charCodeAt(G++);return d(F)}function V(){try{var O;return A&&(O=A.randomBytes)?O=O(f):(O=new Uint8Array(f),(p.crypto||p.msCrypto).getRandomValues(O)),d(O)}catch{var F=p.navigator,I=F&&F.plugins;return[+new Date,p,I,p.screen,d(a)]}}function d(O){return String.fromCharCode.apply(0,O)}if(D(u.random(),a),g.exports){g.exports=x;try{A=require("crypto")}catch{}}else u["seed"+m]=x})(typeof self!="undefined"?self:Ci,[],Math)})(A0);var o3=g0.exports,i3=m0.exports,s3=h0.exports,c3=v0.exports,u3=y0.exports,l3=b0.exports,Fi=A0.exports;Fi.alea=o3;Fi.xor128=i3;Fi.xorwow=s3;Fi.xorshift7=c3;Fi.xor4096=u3;Fi.tychei=l3;function f3(g,p,a){return a[0]=g[0]+p[0],a[1]=g[1]+p[1],a[2]=g[2]+p[2],a}function Qi(g,p,a){return a[0]=g[0]-p[0],a[1]=g[1]-p[1],a[2]=g[2]-p[2],a}function fo(g,p){return g[0]*p[0]+g[1]*p[1]+g[2]*p[2]}function d3(g,p,a){const u=g[1]*p[2]-g[2]*p[1],f=g[2]*p[0]-g[0]*p[2],P=g[0]*p[1]-g[1]*p[0];return a[0]=u,a[1]=f,a[2]=P,a}function p3(g,p=3){switch(p){case 1:return Math.abs(g);case 2:return Math.sqrt(g[0]*g[0]+g[1]*g[1]);case 3:return Math.sqrt(g[0]*g[0]+g[1]*g[1]+g[2]*g[2]);default:{let a=0;for(let u=0;u<p;u++)a+=g[u]*g[u];return Math.sqrt(a)}}}function K1(g,p,a){a[0]=Math.min(g[0],p[0]),a[1]=Math.max(g[0],p[0]),a[2]=Math.min(g[1],p[1]),a[3]=Math.max(g[1],p[1]),a[4]=Math.min(g[2],p[2]),a[5]=Math.max(g[2],p[2])}function wc(g,p,a){return g<p?p:g>a?a:g}function H1(g,p,a,u=[]){return u[0]=wc(g[0],p[0],a[0]),u[1]=wc(g[1],p[1],a[1]),u[2]=wc(g[2],p[2],a[2]),u}function Q1(g,p=[]){return p[0]=Math.round(g[0]),p[1]=Math.round(g[1]),p[2]=Math.round(g[2]),p}const{DefaultDataType:g3}=$1,m3=[];function w0(){let g=Number.MAX_VALUE,p=-Number.MAX_VALUE,a=0,u=0;return{add(f){g>f&&(g=f),p<f&&(p=f),a++,u+=f},get(){return{min:g,max:p,count:a,sum:u,mean:u/a}},getRange(){return{min:g,max:p}}}}function x0(g,p=0,a=1){const u=w0(),f=g.length;let P=0;if(p<0&&a>1){for(let m=0;m<f;m+=a){P=0;for(let w=0;w<a;w++)P+=g[m+w]*g[m+w];P**=.5,u.add(P)}return u.getRange()}const U=p<0?0:p;for(let m=U;m<f;m+=a)u.add(g[m]);return u.getRange()}function Y1(g,p=0){const a=g||[];for(;a.length<=p;)a.push(null);return a}function Mc(g){return Object.prototype.toString.call(g).slice(8,-1)}function h3(g){const p=g.getNumberOfComponents();let a=0;for(let u=0;u<g.getNumberOfTuples();++u){const f=p3(g.getTuple(u),p);f>a&&(a=f)}return a}const v3={computeRange:x0,createRangeHelper:w0,getDataType:Mc,getMaxNorm:h3};function y3(g,p){p.classHierarchy.push("vtkDataArray");function a(){p.ranges=null,g.modified()}g.getElementComponentSize=()=>p.values.BYTES_PER_ELEMENT,g.getComponent=(u,f=0)=>p.values[u*p.numberOfComponents+f],g.setComponent=(u,f,P)=>{P!==p.values[u*p.numberOfComponents+f]&&(p.values[u*p.numberOfComponents+f]=P,a())},g.getData=()=>p.values,g.getRange=(u=-1)=>{const f=u<0?p.numberOfComponents:u;let P=null;return p.ranges||(p.ranges=Y1(p.ranges,p.numberOfComponents)),P=p.ranges[f],P?(p.rangeTuple[0]=P.min,p.rangeTuple[1]=P.max,p.rangeTuple):(P=x0(p.values,u,p.numberOfComponents),p.ranges[f]=P,p.rangeTuple[0]=P.min,p.rangeTuple[1]=P.max,p.rangeTuple)},g.setRange=(u,f)=>{p.ranges||(p.ranges=Y1(p.ranges,p.numberOfComponents));const P={min:u.min,max:u.max};return p.ranges[f]=P,p.rangeTuple[0]=P.min,p.rangeTuple[1]=P.max,p.rangeTuple},g.setTuple=(u,f)=>{const P=u*p.numberOfComponents;for(let U=0;U<p.numberOfComponents;U++)p.values[P+U]=f[U]},g.getTuple=(u,f=m3)=>{const P=p.numberOfComponents||1;f.length!==P&&(f.length=P);const U=u*P;if(P===1)f[0]=p.values[U];else if(P===2)f[0]=p.values[U],f[1]=p.values[U+1];else if(P===3)f[0]=p.values[U],f[1]=p.values[U+1],f[2]=p.values[U+2];else if(P===4)f[0]=p.values[U],f[1]=p.values[U+1],f[2]=p.values[U+2],f[3]=p.values[U+3];else for(let m=0;m<P;m++)f[m]=p.values[U+m];return f},g.getTupleLocation=(u=1)=>u*p.numberOfComponents,g.getNumberOfComponents=()=>p.numberOfComponents,g.getNumberOfValues=()=>p.values.length,g.getNumberOfTuples=()=>p.values.length/p.numberOfComponents,g.getDataType=()=>p.dataType,g.newClone=()=>C0({empty:!0,name:p.name,dataType:p.dataType,numberOfComponents:p.numberOfComponents}),g.getName=()=>(p.name||(g.modified(),p.name=`vtkDataArray${g.getMTime()}`),p.name),g.setData=(u,f)=>{p.values=u,p.size=u.length,p.dataType=Mc(u),f&&(p.numberOfComponents=f),p.size%p.numberOfComponents!==0&&(p.numberOfComponents=1),a()},g.getState=()=>{const u={...p,vtkClass:g.getClassName()};u.values=Array.from(u.values),delete u.buffer,Object.keys(u).forEach(P=>{u[P]||delete u[P]});const f={};return Object.keys(u).sort().forEach(P=>{f[P]=u[P]}),f.mtime&&delete f.mtime,f}}const b3={name:"",numberOfComponents:1,size:0,dataType:g3,rangeTuple:[0,0]};function S0(g,p,a={}){if(Object.assign(p,b3,a),!p.empty&&!p.values&&!p.size)throw new TypeError("Cannot create vtkDataArray object without: size > 0, values");p.values?Array.isArray(p.values)&&(p.values=window[p.dataType].from(p.values)):p.values=new window[p.dataType](p.size),p.values&&(p.size=p.values.length,p.dataType=Mc(p.values)),i0(g,p),Rc(g,p,["name","numberOfComponents"]),y3(g,p)}const C0=f0(S0,"vtkDataArray");var kc={newInstance:C0,extend:S0,...v3,...$1};const Ic=1e-6,P0="coincide",O0="disjoint";function A3(g,p,a){return g[0]*(a[0]-p[0])+g[1]*(a[1]-p[1])+g[2]*(a[2]-p[2])}function T0(g,p,a){const u=a[0]*(g[0]-p[0])+a[1]*(g[1]-p[1])+a[2]*(g[2]-p[2]);return Math.abs(u)}function I0(g,p,a,u){const f=[];Qi(g,p,f);const P=fo(a,f);u[0]=g[0]-P*a[0],u[1]=g[1]-P*a[1],u[2]=g[2]-P*a[2]}function E0(g,p,a){const u=fo(g,p);let f=fo(p,p);f===0&&(f=1),a[0]=g[0]-u*p[0]/f,a[1]=g[1]-u*p[1]/f,a[2]=g[2]-u*p[2]/f}function R0(g,p,a,u){const f=[];Qi(g,p,f);const P=fo(a,f),U=fo(a,a);U!==0?(u[0]=g[0]-P*a[0]/U,u[1]=g[1]-P*a[1]/U,u[2]=g[2]-P*a[2]/U):(u[0]=g[0],u[1]=g[1],u[2]=g[2])}function M0(g,p,a,u){const f={intersection:!1,betweenPoints:!1,t:Number.MAX_VALUE,x:[]},P=[],U=[];Qi(p,g,P),Qi(a,g,U);const m=fo(u,U),w=fo(u,P);let r,b;return w<0?r=-w:r=w,m<0?b=-m*Ic:b=m*Ic,r<=b||(f.t=m/w,f.x[0]=g[0]+f.t*P[0],f.x[1]=g[1]+f.t*P[1],f.x[2]=g[2]+f.t*P[2],f.intersection=!0,f.betweenPoints=f.t>=0&&f.t<=1),f}function k0(g,p,a,u){const f={intersection:!1,l0:[],l1:[],error:null},P=[];d3(p,u,P);const U=P.map(C=>Math.abs(C));if(U[0]+U[1]+U[2]<Ic){const C=[];return Qi(g,a,C),fo(p,C)===0?f.error=P0:f.error=O0,f}let m;U[0]>U[1]&&U[0]>U[2]?m="x":U[1]>U[2]?m="y":m="z";const w=[],r=-fo(p,g),b=-fo(u,a);switch(m){case"x":w[0]=0,w[1]=(b*p[2]-r*u[2])/P[0],w[2]=(r*u[1]-b*p[1])/P[0];break;case"y":w[0]=(r*u[2]-b*p[2])/P[1],w[1]=0,w[2]=(b*p[0]-r*u[0])/P[1];break;case"z":w[0]=(b*p[1]-r*u[1])/P[2],w[1]=(r*u[0]-b*p[0])/P[2],w[2]=0;break}return f.l0=w,f3(w,P,f.l1),f.intersection=!0,f}const w3={evaluate:A3,distanceToPlane:T0,projectPoint:I0,projectVector:E0,generalizedProjectPoint:R0,intersectWithLine:M0,intersectWithPlane:k0,DISJOINT:O0,COINCIDE:P0};function x3(g,p){p.classHierarchy.push("vtkPlane"),g.distanceToPlane=a=>T0(a,p.origin,p.normal),g.projectPoint=(a,u)=>{I0(a,p.origin,p.normal,u)},g.projectVector=(a,u)=>{E0(a,p.normal,u)},g.push=a=>{if(a!==0)for(let u=0;u<3;u++)p.origin[u]+=a*p.normal[u]},g.generalizedProjectPoint=(a,u)=>{R0(a,p.origin,p.normal,u)},g.evaluateFunction=(a,u,f)=>Array.isArray(a)?p.normal[0]*(a[0]-p.origin[0])+p.normal[1]*(a[1]-p.origin[1])+p.normal[2]*(a[2]-p.origin[2]):p.normal[0]*(a-p.origin[0])+p.normal[1]*(u-p.origin[1])+p.normal[2]*(f-p.origin[2]),g.evaluateGradient=a=>[p.normal[0],p.normal[1],p.normal[2]],g.intersectWithLine=(a,u)=>M0(a,u,p.origin,p.normal),g.intersectWithPlane=(a,u)=>k0(a,u,p.origin,p.normal)}const S3={normal:[0,0,1],origin:[0,0,0]};function D0(g,p,a={}){Object.assign(p,S3,a),Da.obj(g,p),Da.setGetArray(g,p,["normal","origin"],3),x3(g,p)}const C3=Da.newInstance(D0,"vtkPlane");var P3={newInstance:C3,extend:D0,...w3};const Fs=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];function Dc(g){return g[0]<=g[1]&&g[2]<=g[3]&&g[4]<=g[5]}function Uc(g){return[.5*(g[0]+g[1]),.5*(g[2]+g[3]),.5*(g[4]+g[5])]}function Hi(g,p){return g[p*2+1]-g[p*2]}function Ls(g){return[Hi(g,0),Hi(g,1),Hi(g,2)]}function O3(g){return g.slice(0,2)}function T3(g){return g.slice(2,4)}function I3(g){return g.slice(4,6)}function U0(g){const p=Ls(g);return p[0]>p[1]?p[0]>p[2]?p[0]:p[2]:p[1]>p[2]?p[1]:p[2]}function B0(g){if(Dc(g)){const p=Ls(g);return Math.sqrt(p[0]*p[0]+p[1]*p[1]+p[2]*p[2])}return null}function ks(g,p){return g<=0&&p>=0||g>=0&&p<=0}function F0(g,p){let a=0;for(let u=0;u<2;u++)for(let f=2;f<4;f++)for(let P=4;P<6;P++)p[a]=[g[u],g[f],g[P]],a++}function E3(g,p,a){g[0]=a[0],g[1]=a[2],g[2]=a[4],p[0]=a[1],p[1]=a[3],p[2]=a[5]}function R3(g,p=[]){const a=Uc(g);return p[0]=g[1]-a[0],p[1]=g[3]-a[1],p[2]=g[5]-a[2],p}function M3(g,p,a,u){const f=[].concat(Fs),P=g.getData();for(let U=0;U<P.length;U+=3){const m=[P[U],P[U+1],P[U+2]],w=fo(m,p);f[0]=Math.min(w,f[0]),f[1]=Math.max(w,f[1]);const r=fo(m,a);f[2]=Math.min(r,f[2]),f[3]=Math.max(r,f[3]);const b=fo(m,u);f[4]=Math.min(b,f[4]),f[5]=Math.max(b,f[5])}return f}const k3={isValid:Dc,getCenter:Uc,getLength:Hi,getLengths:Ls,getMaxLength:U0,getDiagonalLength:B0,getXRange:O3,getYRange:T3,getZRange:I3,getCorners:F0,computeCornerPoints:E3,computeLocalBounds:M3,computeScale3:R3,INIT_BOUNDS:Fs};function D3(g,p){p.classHierarchy.push("vtkBoundingBox"),g.clone=()=>{const a=[].concat(p.bounds);return _0({bounds:a})},g.equals=a=>{const u=p.bounds,f=a.getBounds();return u[0]===f[0]&&u[1]===f[1]&&u[2]===f[2]&&u[3]===f[3]&&u[4]===f[4]&&u[5]===f[5]},g.setMinPoint=(a,u,f)=>{const[P,U,m,w,r,b]=p.bounds;return p.bounds=[a,a>U?a:U,u,u>w?u:w,f,f>b?f:b],P!==a||m!==u||r!==f},g.setMaxPoint=(a,u,f)=>{const[P,U,m,w,r,b]=p.bounds;return p.bounds=[a<P?a:P,a,u<m?u:m,u,f<r?f:r,f],U!==a||w!==u||b!==f},g.addPoint=(...a)=>{p.bounds=p.bounds.map((u,f)=>{if(f%2===0){const U=f/2;return u<a[U]?u:a[U]}const P=(f-1)/2;return u>a[P]?u:a[P]})},g.addBounds=(a,u,f,P,U,m)=>{const[w,r,b,C,A,x]=p.bounds;m===void 0?p.bounds=[Math.min(a[0],w),Math.max(a[1],r),Math.min(a[2],b),Math.max(a[3],C),Math.min(a[4],A),Math.max(a[5],x)]:p.bounds=[Math.min(a,w),Math.max(u,r),Math.min(f,b),Math.max(P,C),Math.min(U,A),Math.max(m,x)]},g.addBox=a=>{g.addBounds(a.getBounds())},g.isValid=()=>Dc(p.bounds),g.intersect=a=>{if(!(g.isValid()&&a.isValid()))return!1;const u=[0,0,0,0,0,0],f=a.getBounds();let P;for(let U=0;U<3;U++)if(P=!1,f[U*2]>=p.bounds[U*2]&&f[U*2]<=p.bounds[U*2+1]?(P=!0,u[U*2]=f[U*2]):p.bounds[U*2]>=f[U*2]&&p.bounds[U*2]<=f[U*2+1]&&(P=!0,u[U*2]=p.bounds[U*2]),f[U*2+1]>=p.bounds[U*2]&&f[U*2+1]<=p.bounds[U*2+1]?(P=!0,u[U*2+1]=a.MaxPnt[U]):p.bounds[U*2+1]>=a.MinPnt[U*2]&&p.bounds[U*2+1]<=a.MaxPnt[U*2+1]&&(P=!0,u[U*2+1]=p.bounds[U*2+1]),!P)return!1;return p.bounds=u,!0},g.intersects=a=>{if(!(g.isValid()&&a.isValid()))return!1;const u=a.getBounds();for(let f=0;f<3;f++)if(!(u[f*2]>=p.bounds[f*2]&&u[f*2]<=p.bounds[f*2+1])&&!(p.bounds[f*2]>=u[f*2]&&p.bounds[f*2]<=u[f*2+1])&&!(u[f*2+1]>=p.bounds[f*2]&&u[f*2+1]<=p.bounds[f*2+1])&&!(p.bounds[f*2+1]>=a.MinPnt[f*2]&&p.bounds[f*2+1]<=a.MaxPnt[f*2+1]))return!1;return!0},g.intersectPlane=(a,u)=>{const f=[[0,1,2,3,4,5,6,7],[0,1,4,5,2,3,6,7],[0,2,4,6,1,3,5,7]],P=[0,0,0,0,0,0,0,0];let U=0;for(let A=0;A<2;A++)for(let x=2;x<4;x++)for(let E=4;E<6;E++){const M=[p.bounds[A],p.bounds[x],p.bounds[E]];P[U++]=P3.evaluate(u,a,M)}let m=2;for(;m--&&!(ks(P[f[m][0]],P[f[m][4]])&&ks(P[f[m][1]],P[f[m][5]])&&ks(P[f[m][2]],P[f[m][6]])&&ks(P[f[m][3]],P[f[m][7]])););if(m<0)return!1;const w=Math.sign(u[m]),r=Math.abs((p.bounds[m*2+1]-p.bounds[m*2])*u[m]);let b=w>0?1:0;for(let A=0;A<4;A++){if(r===0)continue;const x=Math.abs(P[f[m][A]])/r;w>0&&x<b&&(b=x),w<0&&x>b&&(b=x)}const C=(1-b)*p.bounds[m*2]+b*p.bounds[m*2+1];return w>0?p.bounds[m*2]=C:p.bounds[m*2+1]=C,!0},g.containsPoint=(a,u,f)=>!(a<p.bounds[0]||a>p.bounds[1]||u<p.bounds[2]||u>p.bounds[3]||f<p.bounds[4]||f>p.bounds[5]),g.getMinPoint=()=>[p.bounds[0],p.bounds[2],p.bounds[4]],g.getMaxPoint=()=>[p.bounds[1],p.bounds[3],p.bounds[5]],g.getBound=a=>p.bound[a],g.contains=a=>!g.intersects(a)||!g.containsPoint(...a.getMinPoint())?!1:g.containsPoint(...a.getMaxPoint())?!0:0,g.getCenter=()=>Uc(p.bounds),g.getLength=a=>Hi(p.bounds,a),g.getLengths=()=>Ls(p.bounds),g.getMaxLength=()=>U0(p.bounds),g.getDiagonalLength=()=>B0(p.bounds),g.reset=()=>g.setBounds([].concat(Fs)),g.inflate=a=>{p.bounds=p.bounds.map((u,f)=>f%2===0?u-a:u+a)},g.getCorners=()=>(F0(p.bounds,p.corners),p.corners),g.scale=(a,u,f)=>{if(g.isValid()){const P=[].concat(p.bounds);return a>=0?(P[0]*=a,P[1]*=a):(P[0]=a*p.bounds[1],P[1]=a*p.bounds[0]),u>=0?(P[2]*=u,P[3]*=u):(P[2]=u*p.bounds[3],P[3]=u*p.bounds[2]),f>=0?(P[4]*=f,P[5]*=f):(P[4]=f*p.bounds[5],P[5]=f*p.bounds[4]),p.bounds=P,!0}return!1}}const U3={type:"vtkBoundingBox",bounds:[].concat(Fs),corners:[]};function L0(g,p,a={}){Object.assign(p,U3,a),Da.obj(g,p),Da.setGet(g,p,["bounds"]),D3(g,p)}const _0=Da.newInstance(L0,"vtkBoundingBox");var xc={newInstance:_0,extend:L0,...k3};function B3(g,p){p.classHierarchy.push("vtkFieldData");const a=g.getState;p.arrays&&(p.arrays=p.arrays.map(u=>({data:oi(u.data)}))),g.initialize=()=>{g.initializeFields(),g.copyAllOn(),g.clearFieldFlags()},g.initializeFields=()=>{p.arrays=[],p.copyFieldFlags={},g.modified()},g.copyStructure=u=>{g.initializeFields(),p.copyFieldFlags=u.getCopyFieldFlags().map(f=>f),p.arrays=u.arrays().map(f=>({array:f}))},g.getNumberOfArrays=()=>p.arrays.length,g.getNumberOfActiveArrays=()=>p.arrays.length,g.addArray=u=>(p.arrays=[].concat(p.arrays,{data:u}),p.arrays.length-1),g.removeAllArrays=()=>{p.arrays=[]},g.removeArray=u=>{p.arrays=p.arrays.filter(f=>u!==f.data.getName())},g.removeArrayByIndex=u=>{p.arrays=p.arrays.filter((f,P)=>P!==u)},g.getArrays=()=>p.arrays.map(u=>u.data),g.getArray=u=>typeof u=="number"?g.getArrayByIndex(u):g.getArrayByName(u),g.getArrayByName=u=>p.arrays.reduce((f,P,U)=>P.data.getName()===u?P.data:f,null),g.getArrayWithIndex=u=>p.arrays.reduce((f,P,U)=>P.data&&P.data.getName()===u?{array:P.data,index:U}:f,{array:null,index:-1}),g.getArrayByIndex=u=>u>=0&&u<p.arrays.length?p.arrays[u].data:null,g.hasArray=u=>g.getArrayWithIndex(u).index>=0,g.getArrayName=u=>{const f=p.arrays[u];return f?f.data.getName():""},g.getCopyFieldFlags=()=>p.copyFieldFlags,g.getFlag=u=>p.copyFieldFlags[u],g.passData=(u,f=-1,P=-1)=>{u.getArrays().forEach(U=>{const m=g.getFlag(U.getName());if(m!==!1&&!(p.doCopyAllOff&&m!==!0)&&U){let w=g.getArrayByName(U.getName());if(w){if(U.getNumberOfComponents()===w.getNumberOfComponents())if(f>-1&&f<U.getNumberOfTuples()){const r=P>-1?P:f;w.setTuple(r,U.getTuple(f))}else for(let r=0;r<U.getNumberOfTuples();++r)w.setTuple(r,U.getTuple(r))}else if(f<0||f>U.getNumberOfTuples())g.addArray(U);else{const r=U.getNumberOfComponents();let b=U.getNumberOfValues();const C=P>-1?P:f;b<C*r&&(b=(C+1)*r),w=kc.newInstance({name:U.getName(),dataType:U.getDataType(),numberOfComponents:U.getNumberOfComponents(),size:b}),w.setTuple(C,U.getTuple(f)),g.addArray(w)}}})},g.copyFieldOn=u=>{p.copyFieldFlags[u]=!0},g.copyFieldOff=u=>{p.copyFieldFlags[u]=!1},g.copyAllOn=()=>{(!p.doCopyAllOn||p.doCopyAllOff)&&(p.doCopyAllOn=!0,p.doCopyAllOff=!1,g.modified())},g.copyAllOff=()=>{(p.doCopyAllOn||!p.doCopyAllOff)&&(p.doCopyAllOn=!1,p.doCopyAllOff=!0,g.modified())},g.clearFieldFlags=()=>{p.copyFieldFlags={}},g.deepCopy=u=>{p.arrays=u.getArrays().map(f=>{const P=f.newClone();return P.deepCopy(f),{data:P}})},g.copyFlags=u=>u.getCopyFieldFlags().map(f=>f),g.reset=()=>p.arrays.forEach(u=>u.data.reset()),g.getMTime=()=>p.arrays.reduce((u,f)=>f.data.getMTime()>u?f.data.getMTime():u,p.mtime),g.getNumberOfComponents=()=>p.arrays.reduce((u,f)=>u+f.data.getNumberOfComponents(),0),g.getNumberOfTuples=()=>p.arrays.length>0?p.arrays[0].getNumberOfTuples():0,g.getState=()=>{const u=a();return u.arrays=p.arrays.map(f=>({data:f.data.getState()})),u}}const F3={arrays:[],copyFieldFlags:[],doCopyAllOn:!0,doCopyAllOff:!1};function V0(g,p,a={}){Object.assign(p,F3,a),Da.obj(g,p),B3(g,p)}const L3=Da.newInstance(V0,"vtkFieldData");var _3={newInstance:L3,extend:V0};const V3={SCALARS:0,VECTORS:1,NORMALS:2,TCOORDS:3,TENSORS:4,GLOBALIDS:5,PEDIGREEIDS:6,EDGEFLAG:7,NUM_ATTRIBUTES:8},N3={MAX:0,EXACT:1,NOLIMIT:2},j3={DUPLICATECELL:1,HIGHCONNECTIVITYCELL:2,LOWCONNECTIVITYCELL:4,REFINEDCELL:8,EXTERIORCELL:16,HIDDENCELL:32},G3={DUPLICATEPOINT:1,HIDDENPOINT:2},z3={COPYTUPLE:0,INTERPOLATE:1,PASSDATA:2,ALLCOPY:3},W3="vtkGhostType",K3={DEFAULT:0,SINGLE:1,DOUBLE:2};var N0={AttributeCopyOperations:z3,AttributeLimitTypes:N3,AttributeTypes:V3,CellGhostTypes:j3,DesiredOutputPrecision:K3,PointGhostTypes:G3,ghostArrayName:W3};const{AttributeTypes:xi,AttributeCopyOperations:Ui}=N0,{vtkWarningMacro:Ds}=Da;function H3(g,p){const a=["Scalars","Vectors","Normals","TCoords","Tensors","GlobalIds","PedigreeIds"];function u(P){let U=a.find(m=>xi[m.toUpperCase()]===P||typeof P!="number"&&m.toLowerCase()===P.toLowerCase());return typeof U=="undefined"&&(U=null),U}p.classHierarchy.push("vtkDataSetAttributes"),g.checkNumberOfComponents=P=>!0,g.setAttribute=(P,U)=>{const m=u(U);if(P&&m.toUpperCase()==="PEDIGREEIDS"&&!P.isA("vtkDataArray"))return Ds(`Cannot set attribute ${m}. The attribute must be a vtkDataArray.`),-1;if(P&&!g.checkNumberOfComponents(P,m))return Ds(`Cannot set attribute ${m}. Incorrect number of components.`),-1;let w=p[`active${m}`];if(w>=0&&w<p.arrays.length){if(p.arrays[w]===P)return w;g.removeArrayByIndex(w)}return P?(w=g.addArray(P),p[`active${m}`]=w):p[`active${m}`]=-1,g.modified(),p[`active${m}`]},g.setActiveAttributeByName=(P,U)=>g.setActiveAttributeByIndex(g.getArrayWithIndex(P).index,U),g.setActiveAttributeByIndex=(P,U)=>{const m=u(U);if(P>=0&&P<p.arrays.length){if(m.toUpperCase()!=="PEDIGREEIDS"){const w=g.getArrayByIndex(P);if(!w.isA("vtkDataArray"))return Ds(`Cannot set attribute ${m}. Only vtkDataArray subclasses can be set as active attributes.`),-1;if(!g.checkNumberOfComponents(w,m))return Ds(`Cannot set attribute ${m}. Incorrect number of components.`),-1}return p[`active${m}`]=P,g.modified(),P}return P===-1&&(p[`active${m}`]=P,g.modified()),-1},g.getActiveAttribute=P=>{const U=u(P);return g[`get${U}`]()},g.removeAllArrays=()=>{p.arrays=[],a.forEach(P=>{p[`active${P}`]=-1})},g.removeArray=P=>{p.arrays=p.arrays.filter((U,m)=>P===U.data.getName()?(a.forEach(w=>{m===p[`active${w}`]&&(p[`active${w}`]=-1)}),!1):!0)},g.removeArrayByIndex=P=>{p.arrays=p.arrays.filter((U,m)=>m!==P),a.forEach(U=>{P===p[`active${U}`]&&(p[`active${U}`]=-1)})},a.forEach(P=>{const U=`active${P}`;g[`get${P}`]=()=>g.getArrayByIndex(p[U]),g[`set${P}`]=m=>g.setAttribute(m,P),g[`setActive${P}`]=m=>g.setActiveAttributeByIndex(g.getArrayWithIndex(m).index,P),g[`copy${P}Off`]=()=>{const m=P.toUpperCase();p.copyAttributeFlags[Ui.PASSDATA][xi[m]]=!1}}),g.initializeAttributeCopyFlags=()=>{p.copyAttributeFlags=[],Object.keys(Ui).filter(P=>P!=="ALLCOPY").forEach(P=>{p.copyAttributeFlags[Ui[P]]=Object.keys(xi).filter(U=>U!=="NUM_ATTRIBUTES").reduce((U,m)=>(U[xi[m]]=!0,U),[])}),p.copyAttributeFlags[Ui.COPYTUPLE][xi.GLOBALIDS]=!1,p.copyAttributeFlags[Ui.INTERPOLATE][xi.GLOBALIDS]=!1,p.copyAttributeFlags[Ui.COPYTUPLE][xi.PEDIGREEIDS]=!1},g.initialize=Da.chain(g.initialize,g.initializeAttributeCopyFlags),p.dataArrays&&Object.keys(p.dataArrays).length&&Object.keys(p.dataArrays).forEach(P=>{!p.dataArrays[P].ref&&p.dataArrays[P].type==="vtkDataArray"&&g.addArray(kc.newInstance(p.dataArrays[P]))});const f=g.shallowCopy;g.shallowCopy=(P,U)=>{f(P,U),p.arrays=P.getArrays().map(m=>{const w=m.newClone();return w.shallowCopy(m,U),{data:w}})},g.initializeAttributeCopyFlags()}const Q3={activeScalars:-1,activeVectors:-1,activeTensors:-1,activeNormals:-1,activeTCoords:-1,activeGlobalIds:-1,activePedigreeIds:-1};function j0(g,p,a={}){Object.assign(p,Q3,a),_3.extend(g,p,a),Da.setGet(g,p,["activeScalars","activeNormals","activeTCoords","activeVectors","activeTensors","activeGlobalIds","activePedigreeIds"]),p.arrays||(p.arrays={}),H3(g,p)}const Y3=Da.newInstance(j0,"vtkDataSetAttributes");var X1={newInstance:Y3,extend:j0,...N0};const X3={UNIFORM:0,DATA_OBJECT_FIELD:0,COORDINATE:1,POINT_DATA:1,POINT:2,POINT_FIELD_DATA:2,CELL:3,CELL_FIELD_DATA:3,VERTEX:4,VERTEX_FIELD_DATA:4,EDGE:5,EDGE_FIELD_DATA:5,ROW:6,ROW_DATA:6},q3={FIELD_ASSOCIATION_POINTS:0,FIELD_ASSOCIATION_CELLS:1,FIELD_ASSOCIATION_NONE:2,FIELD_ASSOCIATION_POINTS_THEN_CELLS:3,FIELD_ASSOCIATION_VERTICES:4,FIELD_ASSOCIATION_EDGES:5,FIELD_ASSOCIATION_ROWS:6,NUMBER_OF_ASSOCIATIONS:7};var Z3={FieldDataTypes:X3,FieldAssociations:q3};const Ec=["pointData","cellData","fieldData"];function J3(g,p){p.classHierarchy.push("vtkDataSet"),Ec.forEach(u=>{p[u]?p[u]=oi(p[u]):p[u]=X1.newInstance()});const a=g.shallowCopy;g.shallowCopy=(u,f=!1)=>{a(u,f),Ec.forEach(P=>{p[P]=X1.newInstance(),p[P].shallowCopy(u.getReferenceByName(P))})}}const $3={};function G0(g,p,a={}){Object.assign(p,$3,a),Da.obj(g,p),Da.setGet(g,p,Ec),J3(g,p)}const em=Da.newInstance(G0,"vtkDataSet");var tm={newInstance:em,extend:G0,...Z3};const Io={UNCHANGED:0,SINGLE_POINT:1,X_LINE:2,Y_LINE:3,Z_LINE:4,XY_PLANE:5,YZ_PLANE:6,XZ_PLANE:7,XYZ_GRID:8,EMPTY:9};var z0={StructuredType:Io};const{StructuredType:ri}=z0;function nm(g){let p=0;for(let a=0;a<3;++a)g[a*2]<g[a*2+1]&&p++;return g[0]>g[1]||g[2]>g[3]||g[4]>g[5]?ri.EMPTY:p===3?ri.XYZ_GRID:p===2?g[0]===g[1]?ri.YZ_PLANE:g[2]===g[3]?ri.XZ_PLANE:ri.XY_PLANE:p===1?g[0]<g[1]?ri.X_LINE:g[2]<g[3]?ri.Y_LINE:ri.Z_LINE:ri.SINGLE_POINT}var rm={getDataDescriptionFromExtent:nm,...z0},Yi=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var g=0,p=arguments.length;p--;)g+=arguments[p]*arguments[p];return Math.sqrt(g)});function q1(){var g=new Yi(9);return Yi!=Float32Array&&(g[1]=0,g[2]=0,g[3]=0,g[5]=0,g[6]=0,g[7]=0),g[0]=1,g[4]=1,g[8]=1,g}function am(g,p){var a=p[0],u=p[1],f=p[2],P=p[3],U=p[4],m=p[5],w=p[6],r=p[7],b=p[8],C=p[9],A=p[10],x=p[11],E=p[12],M=p[13],S=p[14],D=p[15],V=a*m-u*U,d=a*w-f*U,O=a*r-P*U,F=u*w-f*m,I=u*r-P*m,L=f*r-P*w,G=b*M-C*E,z=b*S-A*E,B=b*D-x*E,Y=C*S-A*M,q=C*D-x*M,H=A*D-x*S,ne=V*H-d*q+O*Y+F*B-I*z+L*G;return ne?(ne=1/ne,g[0]=(m*H-w*q+r*Y)*ne,g[1]=(f*q-u*H-P*Y)*ne,g[2]=(M*L-S*I+D*F)*ne,g[3]=(A*I-C*L-x*F)*ne,g[4]=(w*B-U*H-r*z)*ne,g[5]=(a*H-f*B+P*z)*ne,g[6]=(S*O-E*L-D*d)*ne,g[7]=(b*L-A*O+x*d)*ne,g[8]=(U*q-m*B+r*G)*ne,g[9]=(u*B-a*q-P*G)*ne,g[10]=(E*I-M*O+D*V)*ne,g[11]=(C*O-b*I-x*V)*ne,g[12]=(m*z-U*Y-w*G)*ne,g[13]=(a*Y-u*z+f*G)*ne,g[14]=(M*d-E*F-S*V)*ne,g[15]=(b*F-C*d+A*V)*ne,g):null}function om(g,p,a){var u=a[0],f=a[1],P=a[2];return g[0]=p[0]*u,g[1]=p[1]*u,g[2]=p[2]*u,g[3]=p[3]*u,g[4]=p[4]*f,g[5]=p[5]*f,g[6]=p[6]*f,g[7]=p[7]*f,g[8]=p[8]*P,g[9]=p[9]*P,g[10]=p[10]*P,g[11]=p[11]*P,g[12]=p[12],g[13]=p[13],g[14]=p[14],g[15]=p[15],g}function im(g,p){return g[0]=1,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=1,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=1,g[11]=0,g[12]=p[0],g[13]=p[1],g[14]=p[2],g[15]=1,g}function Ki(){var g=new Yi(3);return Yi!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0),g}function Bi(g,p,a){var u=new Yi(3);return u[0]=g,u[1]=p,u[2]=a,u}function Sc(g,p){return g[0]=p[0],g[1]=p[1],g[2]=p[2],g}function sm(g,p,a,u){return g[0]=p,g[1]=a,g[2]=u,g}function gi(g,p,a){var u=p[0],f=p[1],P=p[2],U=a[3]*u+a[7]*f+a[11]*P+a[15];return U=U||1,g[0]=(a[0]*u+a[4]*f+a[8]*P+a[12])/U,g[1]=(a[1]*u+a[5]*f+a[9]*P+a[13])/U,g[2]=(a[2]*u+a[6]*f+a[10]*P+a[14])/U,g}(function(){var g=Ki();return function(p,a,u,f,P,U){var m,w;for(a||(a=3),u||(u=0),f?w=Math.min(f*a+u,p.length):w=p.length,m=u;m<w;m+=a)g[0]=p[m],g[1]=p[m+1],g[2]=p[m+2],P(g,g,U),p[m]=g[0],p[m+1]=g[1],p[m+2]=g[2];return p}})();const{vtkErrorMacro:mi}=Da;function cm(g,p){p.classHierarchy.push("vtkImageData"),g.setExtent=(...a)=>{if(p.deleted)return mi("instance deleted - cannot call any method"),!1;const u=a.length===1?a[0]:a;if(u.length!==6)return!1;let f=!1;return p.extent.forEach((P,U)=>{if(P!==u[U]){if(f)return;f=!0}}),f&&(p.extent=u.slice(),p.dataDescription=rm.getDataDescriptionFromExtent(p.extent),g.modified()),f},g.setDimensions=(...a)=>{let u,f,P;if(p.deleted){mi("instance deleted - cannot call any method");return}if(a.length===1){const U=a[0];u=U[0],f=U[1],P=U[2]}else if(a.length===3)u=a[0],f=a[1],P=a[2];else{mi("Bad dimension specification");return}g.setExtent(0,u-1,0,f-1,0,P-1)},g.getDimensions=()=>[p.extent[1]-p.extent[0]+1,p.extent[3]-p.extent[2]+1,p.extent[5]-p.extent[4]+1],g.getNumberOfCells=()=>{const a=g.getDimensions();let u=1;for(let f=0;f<3;f++){if(a[f]===0)return 0;a[f]>1&&(u*=a[f]-1)}return u},g.getNumberOfPoints=()=>{const a=g.getDimensions();return a[0]*a[1]*a[2]},g.getPoint=a=>{const u=g.getDimensions(),f=Bi(0,0,0),P=[0,0,0];if(u[0]===0||u[1]===0||u[2]===0)return mi("Requesting a point from an empty image."),null;switch(p.dataDescription){case Io.EMPTY:return null;case Io.SINGLE_POINT:break;case Io.X_LINE:f[0]=a;break;case Io.Y_LINE:f[1]=a;break;case Io.Z_LINE:f[2]=a;break;case Io.XY_PLANE:f[0]=a%u[0],f[1]=a/u[0];break;case Io.YZ_PLANE:f[1]=a%u[1],f[2]=a/u[1];break;case Io.XZ_PLANE:f[0]=a%u[0],f[2]=a/u[0];break;case Io.XYZ_GRID:f[0]=a%u[0],f[1]=a/u[0]%u[1],f[2]=a/(u[0]*u[1]);break;default:mi("Invalid dataDescription");break}const U=Ki();return g.indexToWorldVec3(f,U),Sc(P,U),P},g.getBounds=()=>g.extentToBounds(p.extent),g.extentToBounds=a=>{const u=[a[0],a[2],a[4],a[1],a[2],a[4],a[0],a[3],a[4],a[1],a[3],a[4],a[0],a[2],a[5],a[1],a[2],a[5],a[0],a[3],a[5],a[1],a[3],a[5]],f=Bi(u[0],u[1],u[2]),P=Ki();g.indexToWorldVec3(f,P);const U=[P[0],P[0],P[1],P[1],P[2],P[2]];for(let m=3;m<24;m+=3)sm(f,u[m],u[m+1],u[m+2]),g.indexToWorldVec3(f,P),P[0]<U[0]&&(U[0]=P[0]),P[1]<U[2]&&(U[2]=P[1]),P[2]<U[4]&&(U[4]=P[2]),P[0]>U[1]&&(U[1]=P[0]),P[1]>U[3]&&(U[3]=P[1]),P[2]>U[5]&&(U[5]=P[2]);return U},g.computeTransforms=()=>{const a=Bi(p.origin[0],p.origin[1],p.origin[2]);im(p.indexToWorld,a),p.indexToWorld[0]=p.direction[0],p.indexToWorld[1]=p.direction[1],p.indexToWorld[2]=p.direction[2],p.indexToWorld[4]=p.direction[3],p.indexToWorld[5]=p.direction[4],p.indexToWorld[6]=p.direction[5],p.indexToWorld[8]=p.direction[6],p.indexToWorld[9]=p.direction[7],p.indexToWorld[10]=p.direction[8];const u=Bi(p.spacing[0],p.spacing[1],p.spacing[2]);om(p.indexToWorld,p.indexToWorld,u),am(p.worldToIndex,p.indexToWorld)},g.setDirection=(...a)=>{if(p.deleted)return mi("instance deleted - cannot call any method"),!1;let u=a;if(u.length===1&&(Array.isArray(u[0])||u[0].constructor===Float32Array||u[0].constructor===Float64Array)&&(u=u[0]),u.length!==9)throw new RangeError("Invalid number of values for array setter");let f=!1;if(p.direction.forEach((P,U)=>{if(P!==u[U]){if(f)return;f=!0}}),f){for(let P=0;P<9;++P)p.direction[P]=u[P];g.modified()}return!0},g.indexToWorldVec3=(a,u)=>(gi(u,a,p.indexToWorld),u),g.indexToWorld=(a,u=[])=>{const f=Bi(a[0],a[1],a[2]),P=Ki();return gi(P,f,p.indexToWorld),Sc(u,P),u},g.worldToIndexVec3=(a,u)=>(gi(u,a,p.worldToIndex),u),g.worldToIndex=(a,u=[])=>{const f=Bi(a[0],a[1],a[2]),P=Ki();return gi(P,f,p.worldToIndex),Sc(u,P),u},g.indexToWorldBounds=(a,u=[])=>{const f=[0,0,0],P=[0,0,0];xc.computeCornerPoints(f,P,a);const U=[0,0,0],m=[0,0,0];return gi(U,f,p.indexToWorld),gi(m,P,p.indexToWorld),K1(U,m,u),u},g.worldToIndexBounds=(a,u=[])=>{const f=[0,0,0],P=[0,0,0];xc.computeCornerPoints(f,P,a);const U=[0,0,0],m=[0,0,0];return gi(U,f,p.worldToIndex),gi(m,P,p.worldToIndex),K1(U,m,u),u},g.onModified(g.computeTransforms),g.computeTransforms(),g.getCenter=()=>{const a=g.getBounds(),u=[];for(let f=0;f<3;f++)u[f]=(a[2*f+1]+a[2*f])/2;return u},g.computeHistogram=(a,u=null)=>{const f=[0,0,0,0,0,0];g.worldToIndexBounds(a,f);const P=[0,0,0],U=[0,0,0];xc.computeCornerPoints(P,U,f),Q1(P,P),Q1(U,U);const m=g.getDimensions();H1(P,[0,0,0],[m[0]-1,m[1]-1,m[2]-1],P),H1(U,[0,0,0],[m[0]-1,m[1]-1,m[2]-1],U);const w=m[0],r=m[0]*m[1],b=g.getPointData().getScalars().getData();let C=-1/0,A=1/0,x=0,E=0,M=0;for(let d=P[2];d<=U[2];d++)for(let O=P[1];O<=U[1];O++){let F=P[0]+O*w+d*r;for(let I=P[0];I<=U[0];I++){if(!u||u([I,O,d],f)){const L=b[F];L>C&&(C=L),L<A&&(A=L),x+=L*L,E+=L,M+=1}++F}}const S=M>0?E/M:0,D=x-S*S,V=Math.sqrt(D);return{minimum:A,maximum:C,average:S,variance:D,sigma:V}},g.computeIncrements=(a,u=1)=>{const f=[];let P=u;for(let U=0;U<3;++U)f[U]=P,P*=a[U*2+1]-a[U*2]+1;return f},g.computeOffsetIndex=([a,u,f])=>{const P=g.getExtent(),U=g.getPointData().getScalars().getNumberOfComponents(),m=g.computeIncrements(P,U);return Math.floor((Math.round(a)-P[0])*m[0]+(Math.round(u)-P[2])*m[1]+(Math.round(f)-P[4])*m[2])},g.getOffsetIndexFromWorld=a=>{const u=g.getExtent(),f=g.worldToIndex(a);for(let P=0;P<3;++P)if(f[P]<u[P*2]||f[P]>u[P*2+1])return mi(`GetScalarPointer: Pixel ${f} is not in memory. Current extent = ${u}`),NaN;return g.computeOffsetIndex(f)},g.getScalarValueFromWorld=(a,u=0)=>{const f=g.getPointData().getScalars().getNumberOfComponents();if(u<0||u>=f)return mi(`GetScalarPointer: Scalar Component ${u} is not within bounds. Current Scalar numberOfComponents: ${f}`),NaN;const P=g.getOffsetIndexFromWorld(a);return Number.isNaN(P)?P:g.getPointData().getScalars().getComponent(P,u)}}const um={direction:null,indexToWorld:null,worldToIndex:null,spacing:[1,1,1],origin:[0,0,0],extent:[0,-1,0,-1,0,-1],dataDescription:Io.EMPTY};function W0(g,p,a={}){if(Object.assign(p,um,a),tm.extend(g,p,a),!p.direction)p.direction=q1();else if(Array.isArray(p.direction)){const u=p.direction.slice(0);p.direction=q1();for(let f=0;f<9;++f)p.direction[f]=u[f]}p.indexToWorld=new Float64Array(16),p.worldToIndex=new Float64Array(16),Da.get(g,p,["direction","indexToWorld","worldToIndex"]),Da.setGetArray(g,p,["origin","spacing"],3),Da.getArray(g,p,["extent"],6),cm(g,p)}const lm=Da.newInstance(W0,"vtkImageData");var fm={newInstance:lm,extend:W0};function dm(g){const p=g[0],{pixelRepresentation:a,bitsAllocated:u,bitsStored:f,highBit:P,photometricInterpretation:U,samplesPerPixel:m}=ai.metaData.get("imagePixelModule",p);let{windowWidth:w,windowCenter:r}=ai.metaData.get("voiLutModule",p);Array.isArray(w)&&(w=w[0]),Array.isArray(r)&&(r=r[0]);const{modality:b}=ai.metaData.get("generalSeriesModule",p),C=new Map;return g.forEach(A=>{const x=ai.metaData.get("imagePlaneModule",A);C.set(A,x)}),{metaData0:C.values().next().value,metaDataMap:C,imageIds:g,imageMetaData0:{bitsAllocated:u,bitsStored:f,samplesPerPixel:m,highBit:P,photometricInterpretation:U,pixelRepresentation:a,windowWidth:w,windowCenter:r,modality:b}}}function pm(g,p){const a=Array.from(p.values()),u=a[0],f=a.map(w=>{const r=Rg([],u.imagePositionPatient,w.imagePositionPatient);return{distance:Ig(r,g),dataset:w}});f.sort((w,r)=>r.distance-w.distance);const P=f.map(w=>w.dataset),U=f.map(w=>w.distance);return{spacing:Math.abs(U[1]-U[0]),origin:f[0].dataset.imagePositionPatient,sortedDatasets:P}}function gm(g,p,a){const{metaData0:u,metaDataMap:f,imageMetaData0:P}=dm(g),{rowCosines:U,columnCosines:m}=u,w=V1(...U),r=V1(...m),b=Eg([],w,r),{spacing:C,origin:A,sortedDatasets:x}=pm(b,f),E=u.columnPixelSpacing,M=u.rowPixelSpacing;let S=C;const D=u.columns,V=u.rows,d=f.size,O=P.pixelRepresentation===1,F=u.numberOfComponents>1;if(a&&(S=a.mostUnique),F)throw new Error("Multi component image not supported by this plugin.");let I;switch(P.bitsAllocated){case 8:throw O?new Error("8 Bit signed images are not yet supported by this plugin."):new Error("8 Bit unsigned images are not yet supported by this plugin.");case 16:I=new Float32Array(D*V*d);break}let L=kc.newInstance({name:"Pixels",numberOfComponents:1,values:I});const G=fm.newInstance(),z=[...w,...r,...b];return G.setDimensions(D,V,d),G.setSpacing(E,M,S),G.setDirection(z),G.setOrigin(...A),G.getPointData().setScalars(L),{imageIds:g,metaData0:u,imageMetaData0:P,dimensions:[D,V,d],spacing:[E,M,S],origin:A,direction:z,vtkImageData:G,metaDataMap:f,sortedDatasets:x,loaded:!1,deleteImageData:()=>{G.getPointData().delete(),L.setData([]),L.delete(),G.delete(),I=null,L=null}}}function mm(g){const p=ai.metaData.get("generalSeriesModule",g),a=ai.metaData.get("patientStudyModule",g);if(!a)throw new Error("patientStudyModule metadata is required");const{patientWeight:u}=a;if(!u)throw new Error("patientWeight must be present in patientStudyModule for modality PT");const f=ai.metaData.get("petIsotopeModule",g);if(!f)throw new Error("petSequenceModule metadata is required");const{radiopharmaceuticalInfo:P}=f,U=P.radiopharmaceuticalStartTime,m=P.radionuclideTotalDose,w=P.radionuclideHalfLife,r=p.seriesTime;if(!U||!m||!w||!r)throw new Error("The required radiopharmaceutical information was not present.");const b=Z1(r.fractionalSeconds||0)+r.seconds+r.minutes*60+r.hours*60*60,C=Z1(U.fractionalSeconds)+U.seconds+U.minutes*60+U.hours*60*60,A=b-C,x=m*Math.exp(-A*Math.log(2)/w);return{patientWeight:u,correctedDose:x}}function Z1(g){return parseFloat(`.${g}`)}function hm(g,p,a,u,f){const U=g.getPointData().getScalars().getData(),m=vm(u,a,f),w=a.getPixelData(),r=w.length;let C=m(w[0]),A=C;for(let x=0;x<w.length;x++){const E=x+p*r,M=w[x],S=m(M);S>C?C=S:S<A&&(A=S),U[E]=S}return{min:A,max:C}}function vm(g,p,a){const{slope:u,intercept:f}=p;if(g==="PT"){const{patientWeight:P,correctedDose:U}=a;return m=>{const w=m*u+f;return 1e3*w*P/U}}return P=>P*u+f}function ym(g,p,a){if(g.loaded||g.isLoading){a&&a();return}const{imageIds:u,vtkImageData:f,metaDataMap:P,sortedDatasets:U}=g,m=u[0],w=ai.metaData.get("generalSeriesModule",m),r=w&&w.modality;let b;r==="PT"&&(b=mm(m)),g.isLoading=!0;const A=f.getPointData().getScalars().getData();A[0]=1;const x={max:Number.NEGATIVE_INFINITY,min:Number.POSITIVE_INFINITY},E=u.length;let M=0;const S=E/5;let D=S;const V=L=>{const{imagePositionPatient:G}=P.get(L.imageId),z=U.findIndex(H=>H.imagePositionPatient===G),{max:B,min:Y}=hm(f,z,L,r,b);return B>x.max&&(x.max=B),Y<x.min&&(x.min=Y),f.getPointData().getScalars().setRange(x,1),M++,M>D&&(D+=S,f.modified()),M};let d=0;const O=()=>{if(d<u.length){const L=ai.loadAndCacheImage(u[d]);return L.then(V),d++,L}return null},F=new Cg(O,50);let I=0;F.addEventListener("fulfilled",()=>{I++;const L=Math.floor((I-1)*100/u.length);p(L)}),F.start().then(()=>{g.isLoading=!1,g.loaded=!0,f.modified(),a&&a()})}class Us extends dg.exports.Component{constructor(){super(...arguments);To(this,"state",{changingDisplaySet:null,percentComplete:0,progressLabel:null,imageDataObject:null});To(this,"wrapperRef",Di.createRef());To(this,"createItkVtkViewer",a=>{setTimeout(()=>{const u=window.itkVtkViewer.createViewer(document.querySelector(".itk-vtk-viewer"),{image:a.vtkImageData,rotate:!1});this.setState({changingDisplaySet:!1,progressLabel:null}),this.props.setViewportSpecificData({publicAPI:u}),u.setUserInterfaceCollapsed(!0),u.getViewProxy().setOrientationAxesType("cube"),u.getViewProxy().setOrientationAxesCorner("TOP_RIGHT");const{activeTool:f,passiveTool:P}=this.props;u.setActiveTool(f),P.forEach(b=>{u.togglePassiveTool(b)});const{studies:U,displaySet:m}=this.props.viewportData,w=L1(U,m.displaySetInstanceUID),r=new gg(w.Modality);u.set3DPreset(r.getDefaultPreset())},100)});To(this,"setStateFromProps",()=>{const{studies:a,displaySet:u}=this.props.viewportData,{StudyInstanceUID:f,displaySetInstanceUID:P,sopClassUIDs:U,SOPInstanceUID:m,frameIndex:w,plugin:r}=u;if(r!==mg)return;const{showNotification:b}=this.props;U.length>1&&window.vDebug.warn("More than one SOPClassUid in the same series is not yet supported.");const C=U[0];let A=_1(a,f,P,C,m,w);A.isDerived&&(A=_1(a,f,A.originalDisplaySetInstanceUID,C,m,w));const x=hg.exports.cloneDeep(A.imageIds),E=L1(a,P),M=gm(x,P,E.calculatedSpacings),S=V=>{this.setState({percentComplete:V})};Pg(E.calculatedSpacings)||b("viewer.message.SliceSpacingWarning","info",{}),this.setState({changingDisplaySet:!0,percentComplete:0,progressLabel:"viewer.message.volumeBuilding"},()=>{ym(M,S,()=>{this.setState({percentComplete:99,imageDataObject:M},()=>{this.createItkVtkViewer(M)})})})});To(this,"componentDidUpdate",a=>{const{displaySet:u}=this.props.viewportData,f=a.viewportData.displaySet;(u.displaySetInstanceUID!==f.displaySetInstanceUID||u.SOPInstanceUID!==f.SOPInstanceUID||u.frameIndex!==f.frameIndex)&&(window.vDebug.log("change display set"),this.setStateFromProps())});To(this,"onClick",a=>{const{showSeriesContextMenu:u}=this.props;if(a.which===3){const f=P=>{P.type==="mouseup"&&u(a),this.wrapperRef.current.removeEventListener("mouseup",f),this.wrapperRef.current.removeEventListener("mousemove",f)};this.wrapperRef.current.addEventListener("mouseup",f),this.wrapperRef.current.addEventListener("mousemove",f)}});To(this,"loading",()=>{const{error:a,percentComplete:u,progressLabel:f}=this.state,P=f&&this.props.translate(f);return Di.createElement("div",{className:"position-relative w-100 h-100",style:{zIndex:10}},Di.createElement(vg,{error:a,percentComplete:u,progressLabel:P}))})}static init(){window.vDebug.log("ITKViewport init()")}static destroy(){window.vDebug.log("ITKViewport destroy()")}componentDidMount(){this.setStateFromProps(),this.wrapperRef.current.addEventListener("mousedown",this.onClick,!0)}componentWillUnmount(){const{publicAPI:a,setViewportSpecificData:u}=this.props,{imageDataObject:f}=this.state;f&&f.deleteImageData(),a&&a.releaseMemory(),u(null),this.wrapperRef.current.removeEventListener("mousedown",this.onClick)}render(){const{changingDisplaySet:a}=this.state;return Di.createElement(Di.Fragment,null,a&&this.loading(),Di.createElement("div",{id:"ITKViewport",className:"itk-vtk-viewer w-100 h-100",ref:this.wrapperRef},"ITKViewport"))}}To(Us,"contextType",pg),To(Us,"propTypes",{viewportData:pi.exports.object,setViewportSpecificData:pi.exports.func,showSeriesContextMenu:pi.exports.func,activeTool:pi.exports.string,passiveTool:pi.exports.array,translate:pi.exports.func,showNotification:pi.exports.func,publicAPI:pi.exports.object}),To(Us,"id","ITKViewport");const{setViewportSpecificData:bm}=yg.exports.redux.actions,Am=(g,p)=>{const{viewports:a,toolbar:u}=g.viewer,{viewportIndex:f}=p,P=a.viewportSpecificData[f]||{};return{currentViewport:a.layout.viewports[0],activeTool:P.plugin?u[P.plugin].activeTool:"",passiveTool:P.plugin?u[P.plugin].passiveTool:[],publicAPI:P.publicAPI}},wm=(g,p)=>{const{viewportIndex:a}=p;return{setViewportSpecificData:u=>{g(bm(a,u))},showSeriesContextMenu:u=>{g(xg(u))},showNotification:u=>{g(Sg(u))}}},xm=bg(Ag(Am,wm),wg);var Om=xm(Us);export{Om as default};
